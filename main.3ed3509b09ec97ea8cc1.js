(self.webpackChunkchatting_app=self.webpackChunkchatting_app||[]).push([[179],{255:ci=>{function bt(Et){return Promise.resolve().then(()=>{var te=new Error("Cannot find module '"+Et+"'");throw te.code="MODULE_NOT_FOUND",te})}bt.keys=()=>[],bt.resolve=bt,bt.id=255,ci.exports=bt},51:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{factory:()=>rn,getGlobalVars:()=>Ir,registerAnalytics:()=>un,resetGlobalVars:()=>Xn,settings:()=>an});var re=function(){return(re=Object.assign||function(Be){for(var Qe,mt=1,Fe=arguments.length;mt<Fe;mt++)for(var rt in Qe=arguments[mt])Object.prototype.hasOwnProperty.call(Qe,rt)&&(Be[rt]=Qe[rt]);return Be}).apply(this,arguments)};function In(ve,Be,Qe,mt){return new(Qe||(Qe=Promise))(function(rt,Ot){function Qt(Jt){try{Mt(mt.next(Jt))}catch(xr){Ot(xr)}}function yn(Jt){try{Mt(mt.throw(Jt))}catch(xr){Ot(xr)}}function Mt(Jt){Jt.done?rt(Jt.value):function(rt){return rt instanceof Qe?rt:new Qe(function(Ot){Ot(rt)})}(Jt.value).then(Qt,yn)}Mt((mt=mt.apply(ve,Be||[])).next())})}function be(ve,Be){var mt,Fe,rt,Ot,Qe={label:0,sent:function(){if(1&rt[0])throw rt[1];return rt[1]},trys:[],ops:[]};return Ot={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(Ot[Symbol.iterator]=function(){return this}),Ot;function Qt(Mt){return function(Jt){return function(Mt){if(mt)throw new TypeError("Generator is already executing.");for(;Qe;)try{if(mt=1,Fe&&(rt=2&Mt[0]?Fe.return:Mt[0]?Fe.throw||((rt=Fe.return)&&rt.call(Fe),0):Fe.next)&&!(rt=rt.call(Fe,Mt[1])).done)return rt;switch(Fe=0,rt&&(Mt=[2&Mt[0],rt.value]),Mt[0]){case 0:case 1:rt=Mt;break;case 4:return Qe.label++,{value:Mt[1],done:!1};case 5:Qe.label++,Fe=Mt[1],Mt=[0];continue;case 7:Mt=Qe.ops.pop(),Qe.trys.pop();continue;default:if(!(rt=(rt=Qe.trys).length>0&&rt[rt.length-1])&&(6===Mt[0]||2===Mt[0])){Qe=0;continue}if(3===Mt[0]&&(!rt||Mt[1]>rt[0]&&Mt[1]<rt[3])){Qe.label=Mt[1];break}if(6===Mt[0]&&Qe.label<rt[1]){Qe.label=rt[1],rt=Mt;break}if(rt&&Qe.label<rt[2]){Qe.label=rt[2],Qe.ops.push(Mt);break}rt[2]&&Qe.ops.pop(),Qe.trys.pop();continue}Mt=Be.call(ve,Qe)}catch(Jt){Mt=[6,Jt],Fe=0}finally{mt=rt=0}if(5&Mt[0])throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}([Mt,Jt])}}}var M=Et(279),I=(Et(918),Et(300)),F=Et(704),H=Et(100),se="https://www.googletagmanager.com/gtag/js",Ve=(()=>{return(ve=Ve||(Ve={})).EVENT="event",ve.SET="set",ve.CONFIG="config",Ve;var ve})(),It=(()=>{return(ve=It||(It={})).ADD_SHIPPING_INFO="add_shipping_info",ve.ADD_PAYMENT_INFO="add_payment_info",ve.ADD_TO_CART="add_to_cart",ve.ADD_TO_WISHLIST="add_to_wishlist",ve.BEGIN_CHECKOUT="begin_checkout",ve.CHECKOUT_PROGRESS="checkout_progress",ve.EXCEPTION="exception",ve.GENERATE_LEAD="generate_lead",ve.LOGIN="login",ve.PAGE_VIEW="page_view",ve.PURCHASE="purchase",ve.REFUND="refund",ve.REMOVE_FROM_CART="remove_from_cart",ve.SCREEN_VIEW="screen_view",ve.SEARCH="search",ve.SELECT_CONTENT="select_content",ve.SELECT_ITEM="select_item",ve.SELECT_PROMOTION="select_promotion",ve.SET_CHECKOUT_OPTION="set_checkout_option",ve.SHARE="share",ve.SIGN_UP="sign_up",ve.TIMING_COMPLETE="timing_complete",ve.VIEW_CART="view_cart",ve.VIEW_ITEM="view_item",ve.VIEW_ITEM_LIST="view_item_list",ve.VIEW_PROMOTION="view_promotion",ve.VIEW_SEARCH_RESULTS="view_search_results",It;var ve})(),Rt=new I.Logger("@firebase/analytics");function ct(ve,Be,Qe,mt,Fe,rt){return In(this,void 0,void 0,function(){var Ot,Qt,yn,Mt;return be(this,function(Jt){switch(Jt.label){case 0:Ot=mt[Fe],Jt.label=1;case 1:return Jt.trys.push([1,7,,8]),Ot?[4,Be[Ot]]:[3,3];case 2:return Jt.sent(),[3,6];case 3:return[4,Promise.all(Qe)];case 4:return Qt=Jt.sent(),(yn=Qt.find(function(xr){return xr.measurementId===Fe}))?[4,Be[yn.appId]]:[3,6];case 5:Jt.sent(),Jt.label=6;case 6:return[3,8];case 7:return Mt=Jt.sent(),Rt.error(Mt),[3,8];case 8:return ve(Ve.CONFIG,Fe,rt),[2]}})})}function jn(ve,Be,Qe,mt,Fe){return In(this,void 0,void 0,function(){var rt,Ot,Qt,yn,Mt,Jt,br;return be(this,function(Kr){switch(Kr.label){case 0:return Kr.trys.push([0,4,,5]),rt=[],Fe&&Fe.send_to?(Ot=Fe.send_to,Array.isArray(Ot)||(Ot=[Ot]),[4,Promise.all(Qe)]):[3,2];case 1:for(Qt=Kr.sent(),yn=function(ye){var de=Qt.find(function(Pe){return Pe.measurementId===ye}),Se=de&&Be[de.appId];if(!Se)return rt=[],"break";rt.push(Se)},Mt=0,Jt=Ot;Mt<Jt.length&&"break"!==yn(Jt[Mt]);Mt++);Kr.label=2;case 2:return 0===rt.length&&(rt=Object.values(Be)),[4,Promise.all(rt)];case 3:return Kr.sent(),ve(Ve.EVENT,mt,Fe||{}),[3,5];case 4:return br=Kr.sent(),Rt.error(br),[3,5];case 5:return[2]}})})}var En,on=((En={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",En["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",En["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",En["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",En["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",En["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",En["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",En["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',En["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',En),Kt=new F.ErrorFactory("analytics","Analytics",on),sr=new(function(){function ve(Be,Qe){void 0===Be&&(Be={}),void 0===Qe&&(Qe=1e3),this.throttleMetadata=Be,this.intervalMillis=Qe}return ve.prototype.getThrottleMetadata=function(Be){return this.throttleMetadata[Be]},ve.prototype.setThrottleMetadata=function(Be,Qe){this.throttleMetadata[Be]=Qe},ve.prototype.deleteThrottleMetadata=function(Be){delete this.throttleMetadata[Be]},ve}());function Hn(ve){return new Headers({Accept:"application/json","x-goog-api-key":ve})}function si(ve){var Be;return In(this,void 0,void 0,function(){var Qe,Fe,rt,Ot,Qt,yn;return be(this,function(Jt){switch(Jt.label){case 0:return Qe=ve.appId,Fe={method:"GET",headers:Hn(ve.apiKey)},rt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",Qe),[4,fetch(rt,Fe)];case 1:if(200===(Ot=Jt.sent()).status||304===Ot.status)return[3,6];Qt="",Jt.label=2;case 2:return Jt.trys.push([2,4,,5]),[4,Ot.json()];case 3:return yn=Jt.sent(),(null===(Be=yn.error)||void 0===Be?void 0:Be.message)&&(Qt=yn.error.message),[3,5];case 4:return Jt.sent(),[3,5];case 5:throw Kt.create("config-fetch-failed",{httpStatus:Ot.status,responseMessage:Qt});case 6:return[2,Ot.json()]}})})}function Qn(ve,Be,Qe,mt){var Fe=Be.throttleEndTimeMillis,rt=Be.backoffCount;return void 0===mt&&(mt=sr),In(this,void 0,void 0,function(){var Ot,Qt,yn,Mt,Jt,xr,ar;return be(this,function(br){switch(br.label){case 0:Ot=ve.appId,Qt=ve.measurementId,br.label=1;case 1:return br.trys.push([1,3,,4]),[4,xn(Qe,Fe)];case 2:return br.sent(),[3,4];case 3:if(yn=br.sent(),Qt)return Rt.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Qt+' provided in the "measurementId" field in the local Firebase config. ['+yn.message+"]"),[2,{appId:Ot,measurementId:Qt}];throw yn;case 4:return br.trys.push([4,6,,7]),[4,si(ve)];case 5:return Mt=br.sent(),mt.deleteThrottleMetadata(Ot),[2,Mt];case 6:if(!function(ve){if(!(ve instanceof F.FirebaseError))return!1;var Be=Number(ve.httpStatus);return 429===Be||500===Be||503===Be||504===Be}(Jt=br.sent())){if(mt.deleteThrottleMetadata(Ot),Qt)return Rt.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Qt+' provided in the "measurementId" field in the local Firebase config. ['+Jt.message+"]"),[2,{appId:Ot,measurementId:Qt}];throw Jt}return xr=503===Number(Jt.httpStatus)?(0,F.calculateBackoffMillis)(rt,mt.intervalMillis,30):(0,F.calculateBackoffMillis)(rt,mt.intervalMillis),ar={throttleEndTimeMillis:Date.now()+xr,backoffCount:rt+1},mt.setThrottleMetadata(Ot,ar),Rt.debug("Calling attemptFetch again in "+xr+" millis"),[2,Qn(ve,ar,Qe,mt)];case 7:return[2]}})})}function xn(ve,Be){return new Promise(function(Qe,mt){var Fe=Math.max(Be-Date.now(),0),rt=setTimeout(Qe,Fe);ve.addEventListener(function(){clearTimeout(rt),mt(Kt.create("fetch-throttle",{throttleEndTimeMillis:Be}))})})}var je=function(){function ve(){this.listeners=[]}return ve.prototype.addEventListener=function(Be){this.listeners.push(Be)},ve.prototype.abort=function(){this.listeners.forEach(function(Be){return Be()})},ve}();var sn,Mn,Xe={},Ue=[],Wt={},zt="dataLayer",gn="gtag",Er=!1;function Xn(ve,Be,Qe){void 0===ve&&(ve=!1),void 0===Be&&(Be={}),void 0===Qe&&(Qe=[]),Er=ve,Xe=Be,Ue=Qe,zt="dataLayer",gn="gtag"}function Ir(){return{initializationPromisesMap:Xe,dynamicConfigPromisesList:Ue}}function an(ve){if(Er)throw Kt.create("already-initialized");ve.dataLayerName&&(zt=ve.dataLayerName),ve.gtagName&&(gn=ve.gtagName)}function rn(ve,Be){!function(){var ve=[];if((0,F.isBrowserExtension)()&&ve.push("This is a browser extension environment."),(0,F.areCookiesEnabled)()||ve.push("Cookies are not available."),ve.length>0){var Be=ve.map(function(mt,Fe){return"("+(Fe+1)+") "+mt}).join(" "),Qe=Kt.create("invalid-analytics-context",{errorInfo:Be});Rt.warn(Qe.message)}}();var Qe=ve.options.appId;if(!Qe)throw Kt.create("no-app-id");if(!ve.options.apiKey){if(!ve.options.measurementId)throw Kt.create("no-api-key");Rt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+ve.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xe[Qe])throw Kt.create("already-exists",{id:Qe});if(!Er){(function(){for(var ve=window.document.getElementsByTagName("script"),Be=0,Qe=Object.values(ve);Be<Qe.length;Be++){var mt=Qe[Be];if(mt.src&&mt.src.includes(se))return mt}return null})()||function(ve){var Be=document.createElement("script");Be.src=se+"?l="+ve,Be.async=!0,document.head.appendChild(Be)}(zt),function(ve){var Be=[];Array.isArray(window[ve])?Be=window[ve]:window[ve]=Be}(zt);var mt=function(ve,Be,Qe,mt,Fe){var rt=function(){for(var Ot=[],Qt=0;Qt<arguments.length;Qt++)Ot[Qt]=arguments[Qt];window[mt].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(rt=window[Fe]),window[Fe]=function(ve,Be,Qe,mt){return function(rt,Ot,Qt){return In(this,void 0,void 0,function(){var yn;return be(this,function(Mt){switch(Mt.label){case 0:return Mt.trys.push([0,6,,7]),rt!==Ve.EVENT?[3,2]:[4,jn(ve,Be,Qe,Ot,Qt)];case 1:return Mt.sent(),[3,5];case 2:return rt!==Ve.CONFIG?[3,4]:[4,ct(ve,Be,Qe,mt,Ot,Qt)];case 3:return Mt.sent(),[3,5];case 4:ve(Ve.SET,Ot),Mt.label=5;case 5:return[3,7];case 6:return yn=Mt.sent(),Rt.error(yn),[3,7];case 7:return[2]}})})}}(rt,ve,Be,Qe),{gtagCore:rt,wrappedGtag:window[Fe]}}(Xe,Ue,Wt,zt,gn);Mn=mt.wrappedGtag,sn=mt.gtagCore,Er=!0}return Xe[Qe]=function(ve,Be,Qe,mt,Fe){return In(this,void 0,void 0,function(){var rt,Ot,Qt,yn,Mt,Jt,xr;return be(this,function(ar){switch(ar.label){case 0:return(rt=function(ve,Be,Qe){return void 0===Be&&(Be=sr),In(this,void 0,void 0,function(){var mt,Fe,rt,Ot,Qt,yn,Mt=this;return be(this,function(Jt){if(rt=(mt=ve.options).apiKey,Ot=mt.measurementId,!(Fe=mt.appId))throw Kt.create("no-app-id");if(!rt){if(Ot)return[2,{measurementId:Ot,appId:Fe}];throw Kt.create("no-api-key")}return Qt=Be.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yn=new je,setTimeout(function(){return In(Mt,void 0,void 0,function(){return be(this,function(xr){return yn.abort(),[2]})})},6e4),[2,Qn({appId:Fe,apiKey:rt,measurementId:Ot},Qt,yn,Be)]})})}(ve)).then(function(br){Qe[br.measurementId]=br.appId,ve.options.measurementId&&br.measurementId!==ve.options.measurementId&&Rt.warn("The measurement ID in the local Firebase config ("+ve.options.measurementId+") does not match the measurement ID fetched from the server ("+br.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(br){return Rt.error(br)}),Be.push(rt),Ot=function(){return In(this,void 0,void 0,function(){var ve;return be(this,function(Be){switch(Be.label){case 0:return(0,F.isIndexedDBAvailable)()?[3,1]:(Rt.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return Be.trys.push([1,3,,4]),[4,(0,F.validateIndexedDBOpenable)()];case 2:return Be.sent(),[3,4];case 3:return ve=Be.sent(),Rt.warn(Kt.create("indexeddb-unavailable",{errorInfo:ve}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(br){if(br)return mt.getId()}),[4,Promise.all([rt,Ot])];case 1:return Qt=ar.sent(),yn=Qt[0],Mt=Qt[1],Fe("js",new Date),(xr={}).origin="firebase",xr.update=!0,Jt=xr,null!=Mt&&(Jt.firebase_id=Mt),Fe(Ve.CONFIG,yn.measurementId,Jt),[2,yn.measurementId]}})})}(ve,Ue,Wt,Be,sn),{app:ve,logEvent:function(Qt,yn,Mt){(function(ve,Be,Qe,mt,Fe){return In(this,void 0,void 0,function(){var rt,Ot;return be(this,function(Qt){switch(Qt.label){case 0:return Fe&&Fe.global?(ve(Ve.EVENT,Qe,mt),[2]):[3,1];case 1:return[4,Be];case 2:rt=Qt.sent(),Ot=re(re({},mt),{send_to:rt}),ve(Ve.EVENT,Qe,Ot),Qt.label=3;case 3:return[2]}})})})(Mn,Xe[Qe],Qt,yn,Mt).catch(function(Jt){return Rt.error(Jt)})},setCurrentScreen:function(Qt,yn){(function(ve,Be,Qe,mt){return In(this,void 0,void 0,function(){var Fe;return be(this,function(rt){switch(rt.label){case 0:return mt&&mt.global?(ve(Ve.SET,{screen_name:Qe}),[2,Promise.resolve()]):[3,1];case 1:return[4,Be];case 2:Fe=rt.sent(),ve(Ve.CONFIG,Fe,{update:!0,screen_name:Qe}),rt.label=3;case 3:return[2]}})})})(Mn,Xe[Qe],Qt,yn).catch(function(Mt){return Rt.error(Mt)})},setUserId:function(Qt,yn){(function(ve,Be,Qe,mt){return In(this,void 0,void 0,function(){var Fe;return be(this,function(rt){switch(rt.label){case 0:return mt&&mt.global?(ve(Ve.SET,{user_id:Qe}),[2,Promise.resolve()]):[3,1];case 1:return[4,Be];case 2:Fe=rt.sent(),ve(Ve.CONFIG,Fe,{update:!0,user_id:Qe}),rt.label=3;case 3:return[2]}})})})(Mn,Xe[Qe],Qt,yn).catch(function(Mt){return Rt.error(Mt)})},setUserProperties:function(Qt,yn){(function(ve,Be,Qe,mt){return In(this,void 0,void 0,function(){var Fe,rt,Ot,Qt,yn;return be(this,function(Mt){switch(Mt.label){case 0:if(!mt||!mt.global)return[3,1];for(Fe={},rt=0,Ot=Object.keys(Qe);rt<Ot.length;rt++)Fe["user_properties."+(Qt=Ot[rt])]=Qe[Qt];return ve(Ve.SET,Fe),[2,Promise.resolve()];case 1:return[4,Be];case 2:yn=Mt.sent(),ve(Ve.CONFIG,yn,{update:!0,user_properties:Qe}),Mt.label=3;case 3:return[2]}})})})(Mn,Xe[Qe],Qt,yn).catch(function(Mt){return Rt.error(Mt)})},setAnalyticsCollectionEnabled:function(Qt){(function(ve,Be){return In(this,void 0,void 0,function(){var Qe;return be(this,function(mt){switch(mt.label){case 0:return[4,ve];case 1:return Qe=mt.sent(),window["ga-disable-"+Qe]=!Be,[2]}})})})(Xe[Qe],Qt).catch(function(yn){return Rt.error(yn)})},INTERNAL:{delete:function(){return delete Xe[Qe],Promise.resolve()}}}}var Ln="analytics";function un(ve){ve.INTERNAL.registerComponent(new H.Component(Ln,function(Qe){return rn(Qe.getProvider("app").getImmediate(),Qe.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:an,EventName:It,isSupported:Gi})),ve.INTERNAL.registerComponent(new H.Component("analytics-internal",function(Qe){try{return{logEvent:Qe.getProvider(Ln).getImmediate().logEvent}}catch(Fe){throw Kt.create("interop-component-reg-failed",{reason:Fe})}},"PRIVATE")),ve.registerVersion("@firebase/analytics","0.6.0")}function Gi(){return In(this,void 0,void 0,function(){return be(this,function(Qe){switch(Qe.label){case 0:if((0,F.isBrowserExtension)())return[2,!1];if(!(0,F.areCookiesEnabled)())return[2,!1];if(!(0,F.isIndexedDBAvailable)())return[2,!1];Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,(0,F.validateIndexedDBOpenable)()];case 2:return[2,Qe.sent()];case 3:return Qe.sent(),[2,!1];case 4:return[2]}})})}un(M.default)},279:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var ot,Ft,te=Et(796),Z=Et(704),re=Et(100),Nt=Et(300),Dn=((ot={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ot["bad-app-name"]="Illegal App name: '{$appName}",ot["duplicate-app"]="Firebase App named '{$appName}' already exists",ot["app-deleted"]="Firebase App named '{$appName}' already deleted",ot["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ot["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ot),Lt=new Z.ErrorFactory("app","Firebase",Dn),In="@firebase/app",at="[DEFAULT]",Je=((Ft={})[In]="fire-core",Ft["@firebase/analytics"]="fire-analytics",Ft["@firebase/auth"]="fire-auth",Ft["@firebase/database"]="fire-rtdb",Ft["@firebase/functions"]="fire-fn",Ft["@firebase/installations"]="fire-iid",Ft["@firebase/messaging"]="fire-fcm",Ft["@firebase/performance"]="fire-perf",Ft["@firebase/remote-config"]="fire-rc",Ft["@firebase/storage"]="fire-gcs",Ft["@firebase/firestore"]="fire-fst",Ft["fire-js"]="fire-js",Ft["firebase-wrapper"]="fire-js-all",Ft),pt=new Nt.Logger("@firebase/app"),M=function(){function It(xe,ke,Ge){var wt,tn,Rt=this;this.firebase_=Ge,this.isDeleted_=!1,this.name_=ke.name,this.automaticDataCollectionEnabled_=ke.automaticDataCollectionEnabled||!1,this.options_=Z.deepCopy(xe),this.container=new re.ComponentContainer(ke.name),this._addComponent(new re.Component("app",function(){return Rt},"PUBLIC"));try{for(var nn=te.__values(this.firebase_.INTERNAL.components.values()),dn=nn.next();!dn.done;dn=nn.next())this._addComponent(dn.value)}catch(jn){wt={error:jn}}finally{try{dn&&!dn.done&&(tn=nn.return)&&tn.call(nn)}finally{if(wt)throw wt.error}}}return Object.defineProperty(It.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xe},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),It.prototype.delete=function(){var xe=this;return new Promise(function(ke){xe.checkDestroyed_(),ke()}).then(function(){return xe.firebase_.INTERNAL.removeApp(xe.name_),Promise.all(xe.container.getProviders().map(function(ke){return ke.delete()}))}).then(function(){xe.isDeleted_=!0})},It.prototype._getService=function(xe,ke){return void 0===ke&&(ke=at),this.checkDestroyed_(),this.container.getProvider(xe).getImmediate({identifier:ke})},It.prototype._removeServiceInstance=function(xe,ke){void 0===ke&&(ke=at),this.container.getProvider(xe).clearInstance(ke)},It.prototype._addComponent=function(xe){try{this.container.addComponent(xe)}catch(ke){pt.debug("Component "+xe.name+" failed to register with FirebaseApp "+this.name,ke)}},It.prototype._addOrOverwriteComponent=function(xe){this.container.addOrOverwriteComponent(xe)},It.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Lt.create("app-deleted",{appName:this.name_})},It}();M.prototype.name&&M.prototype.options||M.prototype.delete||console.log("dc");var H=function F(){var It=function(It){var xe={},ke=new Map,Ge={__esModule:!0,initializeApp:function(pn,Ht){void 0===Ht&&(Ht={}),("object"!=typeof Ht||null===Ht)&&(Ht={name:Ht});var on=Ht;void 0===on.name&&(on.name=at);var Kt=on.name;if("string"!=typeof Kt||!Kt)throw Lt.create("bad-app-name",{appName:String(Kt)});if(Z.contains(xe,Kt))throw Lt.create("duplicate-app",{appName:Kt});var kn=new It(pn,on,Ge);return xe[Kt]=kn,kn},app:tn,registerVersion:function(pn,Ht,En){var on,Kt=null!==(on=Je[pn])&&void 0!==on?on:pn;En&&(Kt+="-"+En);var kn=Kt.match(/\s|\//),nr=Ht.match(/\s|\//);if(kn||nr){var Nr=['Unable to register library "'+Kt+'" with version "'+Ht+'":'];return kn&&Nr.push('library name "'+Kt+'" contains illegal characters (whitespace or "/")'),kn&&nr&&Nr.push("and"),nr&&Nr.push('version name "'+Ht+'" contains illegal characters (whitespace or "/")'),void pt.warn(Nr.join(" "))}dn(new re.Component(Kt+"-version",function(){return{library:Kt,version:Ht}},"VERSION"))},setLogLevel:Nt.setLogLevel,onLog:function(pn,Ht){if(null!==pn&&"function"!=typeof pn)throw Lt.create("invalid-log-argument",{appName:name});Nt.setUserLogHandler(pn,Ht)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:dn,removeApp:function(pn){delete xe[pn]},components:ke,useAsService:function(pn,Ht){return"serverAuth"===Ht?null:Ht}}};function tn(pn){if(!Z.contains(xe,pn=pn||at))throw Lt.create("no-app",{appName:pn});return xe[pn]}function dn(pn){var Ht,En,on=pn.name;if(ke.has(on))return pt.debug("There were multiple attempts to register component "+on+"."),"PUBLIC"===pn.type?Ge[on]:null;if(ke.set(on,pn),"PUBLIC"===pn.type){var Kt=function(sr){if(void 0===sr&&(sr=tn()),"function"!=typeof sr[on])throw Lt.create("invalid-app-argument",{appName:on});return sr[on]()};void 0!==pn.serviceProps&&Z.deepExtend(Kt,pn.serviceProps),Ge[on]=Kt,It.prototype[on]=function(){for(var sr=[],Hn=0;Hn<arguments.length;Hn++)sr[Hn]=arguments[Hn];return this._getService.bind(this,on).apply(this,pn.multipleInstances?sr:[])}}try{for(var kn=te.__values(Object.keys(xe)),nr=kn.next();!nr.done;nr=kn.next())xe[nr.value]._addComponent(pn)}catch(sr){Ht={error:sr}}finally{try{nr&&!nr.done&&(En=kn.return)&&En.call(kn)}finally{if(Ht)throw Ht.error}}return"PUBLIC"===pn.type?Ge[on]:null}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function(){return Object.keys(xe).map(function(pn){return xe[pn]})}}),tn.App=It,Ge}(M);return It.INTERNAL=te.__assign(te.__assign({},It.INTERNAL),{createFirebaseNamespace:F,extendNamespace:function(ke){Z.deepExtend(It,ke)},createSubscribe:Z.createSubscribe,ErrorFactory:Z.ErrorFactory,deepExtend:Z.deepExtend}),It}(),R=function(){function It(xe){this.container=xe}return It.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ke){if(function(It){var xe=It.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(ke)){var Ge=ke.getImmediate();return Ge.library+"/"+Ge.version}return null}).filter(function(ke){return ke}).join(" ")},It}();if(Z.isBrowser()&&void 0!==self.firebase){pt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&pt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var se=H.initializeApp;H.initializeApp=function(){for(var It=[],xe=0;xe<arguments.length;xe++)It[xe]=arguments[xe];return Z.isNode()&&pt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),se.apply(void 0,It)};var It,Ve=H;(It=Ve).INTERNAL.registerComponent(new re.Component("platform-logger",function(ke){return new R(ke)},"PRIVATE")),It.registerVersion(In,"0.6.11",undefined),It.registerVersion("fire-js",""),bt.default=Ve,bt.firebase=Ve},3:(ci,bt,Et)=>{(function(){var Z,te=Et(279).default,re="function"==typeof Object.defineProperties?Object.defineProperty:function(o,h,_){o!=Array.prototype&&o!=Object.prototype&&(o[h]=_.value)},ot=function(o){o=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,o];for(var h=0;h<o.length;++h){var _=o[h];if(_&&_.Math==Math)return _}return globalThis}(this);function Lt(o){var h=0;return function(){return h<o.length?{done:!1,value:o[h++]}:{done:!0}}}function In(o){var h="undefined"!=typeof Symbol&&Symbol.iterator&&o[Symbol.iterator];return h?h.call(o):{next:Lt(o)}}!function(o,h){if(h){var _=ot;o=o.split(".");for(var S=0;S<o.length-1;S++){var N=o[S];N in _||(_[N]={}),_=_[N]}(h=h(S=_[o=o[o.length-1]]))!=S&&null!=h&&re(_,o,{configurable:!0,writable:!0,value:h})}}("Promise",function(o){function h(ee){this.b=0,this.c=void 0,this.a=[];var Ie=this.f();try{ee(Ie.resolve,Ie.reject)}catch(St){Ie.reject(St)}}function _(){this.a=null}function S(ee){return ee instanceof h?ee:new h(function(Ie){Ie(ee)})}if(o)return o;_.prototype.b=function(ee){if(null==this.a){this.a=[];var Ie=this;this.c(function(){Ie.g()})}this.a.push(ee)};var N=ot.setTimeout;_.prototype.c=function(ee){N(ee,0)},_.prototype.g=function(){for(;this.a&&this.a.length;){var ee=this.a;this.a=[];for(var Ie=0;Ie<ee.length;++Ie){var St=ee[Ie];ee[Ie]=null;try{St()}catch(Ut){this.f(Ut)}}}this.a=null},_.prototype.f=function(ee){this.c(function(){throw ee})},h.prototype.f=function(){function ee(Ut){return function(Cr){St||(St=!0,Ut.call(Ie,Cr))}}var Ie=this,St=!1;return{resolve:ee(this.v),reject:ee(this.g)}},h.prototype.v=function(ee){if(ee===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ee instanceof h)this.o(ee);else{e:switch(typeof ee){case"object":var Ie=null!=ee;break e;case"function":Ie=!0;break e;default:Ie=!1}Ie?this.m(ee):this.h(ee)}},h.prototype.m=function(ee){var Ie=void 0;try{Ie=ee.then}catch(St){return void this.g(St)}"function"==typeof Ie?this.u(Ie,ee):this.h(ee)},h.prototype.g=function(ee){this.i(2,ee)},h.prototype.h=function(ee){this.i(1,ee)},h.prototype.i=function(ee,Ie){if(0!=this.b)throw Error("Cannot settle("+ee+", "+Ie+"): Promise already settled in state"+this.b);this.b=ee,this.c=Ie,this.l()},h.prototype.l=function(){if(null!=this.a){for(var ee=0;ee<this.a.length;++ee)W.b(this.a[ee]);this.a=null}};var W=new _;return h.prototype.o=function(ee){var Ie=this.f();ee.Pa(Ie.resolve,Ie.reject)},h.prototype.u=function(ee,Ie){var St=this.f();try{ee.call(Ie,St.resolve,St.reject)}catch(Ut){St.reject(Ut)}},h.prototype.then=function(ee,Ie){function St(pi,Xo){return"function"==typeof pi?function(Mr){try{Ut(pi(Mr))}catch(Hd){Cr(Hd)}}:Xo}var Ut,Cr,Ai=new h(function(pi,Xo){Ut=pi,Cr=Xo});return this.Pa(St(ee,Ut),St(Ie,Cr)),Ai},h.prototype.catch=function(ee){return this.then(void 0,ee)},h.prototype.Pa=function(ee,Ie){function St(){switch(Ut.b){case 1:ee(Ut.c);break;case 2:Ie(Ut.c);break;default:throw Error("Unexpected state: "+Ut.b)}}var Ut=this;null==this.a?W.b(St):this.a.push(St)},h.resolve=S,h.reject=function(ee){return new h(function(Ie,St){St(ee)})},h.race=function(ee){return new h(function(Ie,St){for(var Ut=In(ee),Cr=Ut.next();!Cr.done;Cr=Ut.next())S(Cr.value).Pa(Ie,St)})},h.all=function(ee){var Ie=In(ee),St=Ie.next();return St.done?S([]):new h(function(Ut,Cr){function Ai(Mr){return function(Hd){pi[Mr]=Hd,0==--Xo&&Ut(pi)}}var pi=[],Xo=0;do{pi.push(void 0),Xo++,S(St.value).Pa(Ai(pi.length-1),Cr),St=Ie.next()}while(!St.done)})},h});var be=be||{},Y=this||self,nt=/^[\w+/_-]+[=]{0,2}$/,st=null;function Ne(){}function ft(o){var h=typeof o;if("object"==h){if(!o)return"null";if(o instanceof Array)return"array";if(o instanceof Object)return h;var _=Object.prototype.toString.call(o);if("[object Window]"==_)return"object";if("[object Array]"==_||"number"==typeof o.length&&void 0!==o.splice&&void 0!==o.propertyIsEnumerable&&!o.propertyIsEnumerable("splice"))return"array";if("[object Function]"==_||void 0!==o.call&&void 0!==o.propertyIsEnumerable&&!o.propertyIsEnumerable("call"))return"function"}else if("function"==h&&void 0===o.call)return"object";return h}function wn(o){var h=ft(o);return"array"==h||"object"==h&&"number"==typeof o.length}function kt(o){return"function"==ft(o)}function Le(o){var h=typeof o;return"object"==h&&null!=o||"function"==h}function dt(o){return Object.prototype.hasOwnProperty.call(o,et)&&o[et]||(o[et]=++Bt)}var et="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function Ft(o,h,_){return o.call.apply(o.bind,arguments)}function at(o,h,_){if(!o)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),o.apply(h,N)}}return function(){return o.apply(h,arguments)}}function Je(o,h,_){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ft:at).apply(null,arguments)}function pt(o,h){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),o.apply(this,S)}}var M=Date.now||function(){return+new Date};function O(o,h){function _(){}_.prototype=h.prototype,o.$a=h.prototype,o.prototype=new _,o.prototype.constructor=o}function I(o,h,_){this.code=H+o,this.message=h||R[o]||"",this.a=_||null}function F(o){var h=o&&o.code;return h?new I(h.substring(H.length),o.message,o.serverResponse):null}O(I,Error),I.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},I.prototype.toJSON=function(){return this.w()};var Tt,H="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},K={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function le(o){for(var h in K)if(K[h].id===o)return{firebaseEndpoint:(o=K[h]).Sa,secureTokenEndpoint:o.Ya,identityPlatformEndpoint:o.Va};return null}function se(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch(h){return!1}}function Ve(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ve);else{var h=Error().stack;h&&(this.stack=h)}o&&(this.message=String(o))}function It(o,h){for(var _="",S=(o=o.split("%s")).length-1,N=0;N<S;N++)_+=o[N]+(N<h.length?h[N]:"%s");Ve.call(this,_+o[S])}function xe(o,h){throw new It("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function ke(o,h){this.c=o,this.f=h,this.b=0,this.a=null}function Ge(o,h){o.f(h),100>o.b&&(o.b++,h.next=o.a,o.a=h)}function wt(){this.b=this.a=null}Tt=le("__EID__")?"__EID__":void 0,O(Ve,Error),Ve.prototype.name="CustomError",O(It,Ve),It.prototype.name="AssertionError",ke.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};var tn=new ke(function(){return new nn},function(o){o.reset()});function Rt(){var o=ir,h=null;return o.a&&(h=o.a,o.a=o.a.next,o.a||(o.b=null),h.next=null),h}function nn(){this.next=this.b=this.a=null}wt.prototype.add=function(o,h){var _=tn.get();_.set(o,h),this.b?this.b.next=_:this.a=_,this.b=_},nn.prototype.set=function(o,h){this.a=o,this.b=h,this.next=null},nn.prototype.reset=function(){this.next=this.b=this.a=null};var dn=Array.prototype.indexOf?function(o,h){return Array.prototype.indexOf.call(o,h,void 0)}:function(o,h){if("string"==typeof o)return"string"!=typeof h||1!=h.length?-1:o.indexOf(h,0);for(var _=0;_<o.length;_++)if(_ in o&&o[_]===h)return _;return-1},ct=Array.prototype.forEach?function(o,h,_){Array.prototype.forEach.call(o,h,_)}:function(o,h,_){for(var S=o.length,N="string"==typeof o?o.split(""):o,W=0;W<S;W++)W in N&&h.call(_,N[W],W,o)},jr=Array.prototype.filter?function(o,h){return Array.prototype.filter.call(o,h,void 0)}:function(o,h){for(var _=o.length,S=[],N=0,W="string"==typeof o?o.split(""):o,ee=0;ee<_;ee++)if(ee in W){var Ie=W[ee];h.call(void 0,Ie,ee,o)&&(S[N++]=Ie)}return S},pn=Array.prototype.map?function(o,h){return Array.prototype.map.call(o,h,void 0)}:function(o,h){for(var _=o.length,S=Array(_),N="string"==typeof o?o.split(""):o,W=0;W<_;W++)W in N&&(S[W]=h.call(void 0,N[W],W,o));return S},Ht=Array.prototype.some?function(o,h){return Array.prototype.some.call(o,h,void 0)}:function(o,h){for(var _=o.length,S="string"==typeof o?o.split(""):o,N=0;N<_;N++)if(N in S&&h.call(void 0,S[N],N,o))return!0;return!1};function on(o,h){return 0<=dn(o,h)}function Kt(o,h){var _;return(_=0<=(h=dn(o,h)))&&Array.prototype.splice.call(o,h,1),_}function kn(o,h){!function(o,h){for(var _="string"==typeof o?o.split(""):o,S=o.length-1;0<=S;--S)S in _&&h.call(void 0,_[S],S,o)}(o,function(S,N){h.call(void 0,S,N,o)&&Array.prototype.splice.call(o,N,1)})}function nr(o){return Array.prototype.concat.apply([],arguments)}function Nr(o){var h=o.length;if(0<h){for(var _=Array(h),S=0;S<h;S++)_[S]=o[S];return _}return[]}var Xe,sr=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Hn=/&/g,si=/</g,Or=/>/g,Qn=/"/g,xn=/'/g,hi=/\x00/g,je=/[\x00&<>"']/;function me(o,h){return-1!=o.indexOf(h)}function qe(o,h){return o<h?-1:o>h?1:0}e:{var Ue=Y.navigator;if(Ue){var Wt=Ue.userAgent;if(Wt){Xe=Wt;break e}}Xe=""}function zt(o){return me(Xe,o)}function gn(o,h){for(var _ in o)h.call(void 0,o[_],_,o)}function sn(o){for(var h in o)return!1;return!0}function Mn(o){var _,h={};for(_ in o)h[_]=o[_];return h}var Er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(o,h){for(var _,S,N=1;N<arguments.length;N++){for(_ in S=arguments[N])o[_]=S[_];for(var W=0;W<Er.length;W++)_=Er[W],Object.prototype.hasOwnProperty.call(S,_)&&(o[_]=S[_])}}function Ir(o,h){e:{try{var _=o&&o.ownerDocument,S=_&&(_.defaultView||_.parentWindow);if((S=S||Y).Element&&S.Location){var N=S;break e}}catch(ee){}N=null}if(N&&void 0!==N[h]&&(!o||!(o instanceof N[h])&&(o instanceof N.Location||o instanceof N.Element))){if(Le(o))try{var W=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch(ee){W="<object could not be stringified>"}else W=void 0===o?"undefined":null===o?"null":typeof o;xe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",h,W)}}function an(o,h){this.a=o===Tr&&h||"",this.b=rn}function fi(o){return o instanceof an&&o.constructor===an&&o.b===rn?o.a:(xe("expected object of type Const, got '"+o+"'"),"type_error:Const")}an.prototype.sa=!0,an.prototype.ra=function(){return this.a},an.prototype.toString=function(){return"Const{"+this.a+"}"};var rn={},Tr={},co=new an(Tr,"");function Ln(o,h){this.a=o===mt&&h||"",this.b=Qe}function un(o){return o instanceof Ln&&o.constructor===Ln&&o.b===Qe?o.a:(xe("expected object of type TrustedResourceUrl, got '"+o+"' of type "+ft(o)),"type_error:TrustedResourceUrl")}function Gi(o,h){var _=fi(o);if(!Be.test(_))throw Error("Invalid TrustedResourceUrl format: "+_);return o=_.replace(ve,function(S,N){if(!Object.prototype.hasOwnProperty.call(h,N))throw Error('Found marker, "'+N+'", in format string, "'+_+'", but no valid label mapping found in args: '+JSON.stringify(h));return(S=h[N])instanceof an?fi(S):encodeURIComponent(String(S))}),new Ln(mt,o)}Ln.prototype.sa=!0,Ln.prototype.ra=function(){return this.a.toString()},Ln.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ve=/%{(\w+)}/g,Be=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Qe={},mt={};function Fe(o,h){this.a=o===Mt&&h||"",this.b=yn}function rt(o){return o instanceof Fe&&o.constructor===Fe&&o.b===yn?o.a:(xe("expected object of type SafeUrl, got '"+o+"' of type "+ft(o)),"type_error:SafeUrl")}Fe.prototype.sa=!0,Fe.prototype.ra=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qt(o){return o instanceof Fe?o:(o="object"==typeof o&&o.sa?o.ra():String(o),Ot.test(o)||(o="about:invalid#zClosurez"),new Fe(Mt,o))}var yn={},Mt={};function Jt(){this.a="",this.b=ar}function xr(o){return o instanceof Jt&&o.constructor===Jt&&o.b===ar?o.a:(xe("expected object of type SafeHtml, got '"+o+"' of type "+ft(o)),"type_error:SafeHtml")}Jt.prototype.sa=!0,Jt.prototype.ra=function(){return this.a.toString()},Jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ar={};function br(o){var h=new Jt;return h.a=o,h}br("<!DOCTYPE html>");var Kr=br("");function Se(o,h){for(var _=o.split("%s"),S="",N=Array.prototype.slice.call(arguments,1);N.length&&1<_.length;)S+=_.shift()+N.shift();return S+_.join("%s")}function Pe(o){return je.test(o)&&(-1!=o.indexOf("&")&&(o=o.replace(Hn,"&amp;")),-1!=o.indexOf("<")&&(o=o.replace(si,"&lt;")),-1!=o.indexOf(">")&&(o=o.replace(Or,"&gt;")),-1!=o.indexOf('"')&&(o=o.replace(Qn,"&quot;")),-1!=o.indexOf("'")&&(o=o.replace(xn,"&#39;")),-1!=o.indexOf("\0")&&(o=o.replace(hi,"&#0;"))),o}function ie(o){return ie[" "](o),o}br("<br>"),ie[" "]=Ne;var lt,o,$=zt("Opera"),ue=zt("Trident")||zt("MSIE"),Ce=zt("Edge"),we=Ce||ue,ze=zt("Gecko")&&!(me(Xe.toLowerCase(),"webkit")&&!zt("Edge"))&&!(zt("Trident")||zt("MSIE"))&&!zt("Edge"),At=me(Xe.toLowerCase(),"webkit")&&!zt("Edge");function qt(){var o=Y.document;return o?o.documentMode:void 0}e:{var mn="",vt=(o=Xe,ze?/rv:([^\);]+)(\)|;)/.exec(o):Ce?/Edge\/([\d\.]+)/.exec(o):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):At?/WebKit\/(\S+)/.exec(o):$?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(vt&&(mn=vt?vt[1]:""),ue){var ur=qt();if(null!=ur&&ur>parseFloat(mn)){lt=String(ur);break e}}lt=mn}var Bn,rr={};function Zi(o){return function(o,h){var _=rr;return Object.prototype.hasOwnProperty.call(_,o)?_[o]:_[o]=h()}(o,function(){for(var h=0,_=sr(String(lt)).split("."),S=sr(String(o)).split("."),N=Math.max(_.length,S.length),W=0;0==h&&W<N;W++){var ee=_[W]||"",Ie=S[W]||"";do{if(ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],Ie=/(\d*)(\D*)(.*)/.exec(Ie)||["","","",""],0==ee[0].length&&0==Ie[0].length)break;h=qe(0==ee[1].length?0:parseInt(ee[1],10),0==Ie[1].length?0:parseInt(Ie[1],10))||qe(0==ee[2].length,0==Ie[2].length)||qe(ee[2],Ie[2]),ee=ee[3],Ie=Ie[3]}while(0==h)}return 0<=h})}Bn=Y.document&&ue?qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(o){}var js=!ue||9<=Number(Bn);function eo(o){var h=document;return"string"==typeof o?h.getElementById(o):o}function jo(o,h){gn(h,function(_,S){_&&"object"==typeof _&&_.sa&&(_=_.ra()),"style"==S?o.style.cssText=_:"class"==S?o.className=_:"for"==S?o.htmlFor=_:ko.hasOwnProperty(S)?o.setAttribute(ko[S],_):0==S.lastIndexOf("aria-",0)||0==S.lastIndexOf("data-",0)?o.setAttribute(S,_):o[S]=_})}var ns,Pi,ko={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Rn(o,h,_){function S(ee){ee&&h.appendChild("string"==typeof ee?o.createTextNode(ee):ee)}for(var N=2;N<_.length;N++){var W=_[N];!wn(W)||Le(W)&&0<W.nodeType?S(W):ct(ts(W)?Nr(W):W,S)}}function Cs(o,h){return h=String(h),"application/xhtml+xml"===o.contentType&&(h=h.toLowerCase()),o.createElement(h)}function ts(o){if(o&&"number"==typeof o.length){if(Le(o))return"function"==typeof o.item||"string"==typeof o.item;if(kt(o))return"function"==typeof o.item}return!1}function to(o){Y.setTimeout(function(){throw o},0)}function ho(o,h){Pi||function(){if(Y.Promise&&Y.Promise.resolve){var o=Y.Promise.resolve(void 0);Pi=function(){o.then(no)}}else Pi=function(){var h=no;!kt(Y.setImmediate)||Y.Window&&Y.Window.prototype&&!zt("Edge")&&Y.Window.prototype.setImmediate==Y.setImmediate?(ns||(ns=function(){var o=Y.MessageChannel;if(void 0===o&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!zt("Presto")&&(o=function(){var N=Cs(document,"IFRAME");N.style.display="none",function(o){var h=new Ln(mt,fi(co));Ir(o,"HTMLIFrameElement"),o.src=un(h).toString()}(N),document.documentElement.appendChild(N);var W=N.contentWindow;(N=W.document).open(),N.write(xr(Kr)),N.close();var ee="callImmediate"+Math.random(),Ie="file:"==W.location.protocol?"*":W.location.protocol+"//"+W.location.host;N=Je(function(St){("*"==Ie||St.origin==Ie)&&St.data==ee&&this.port1.onmessage()},this),W.addEventListener("message",N,!1),this.port1={},this.port2={postMessage:function(){W.postMessage(ee,Ie)}}}),void 0!==o&&!zt("Trident")&&!zt("MSIE")){var h=new o,_={},S=_;return h.port1.onmessage=function(){if(void 0!==_.next){var N=(_=_.next).Fb;_.Fb=null,N()}},function(N){S.next={Fb:N},S=S.next,h.port2.postMessage(0)}}return function(N){Y.setTimeout(N,0)}}()),ns(h)):Y.setImmediate(h)}}(),La||(Pi(),La=!0),ir.add(o,h)}var La=!1,ir=new wt;function no(){for(var o;o=Rt();){try{o.a.call(o.b)}catch(h){to(h)}Ge(tn,o)}La=!1}function zn(o,h){if(this.a=Wi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=Ne)try{var _=this;o.call(h,function(S){No(_,Hs,S)},function(S){if(!(S instanceof Dt))try{throw S instanceof Error?S:Error("Promise rejected.")}catch(N){}No(_,Tn,S)})}catch(S){No(this,Tn,S)}}var Wi=0,Hs=2,Tn=3;function zo(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}zo.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var pa=new ke(function(){return new zo},function(o){o.reset()});function Hi(o,h,_){var S=pa.get();return S.g=o,S.b=h,S.f=_,S}function $t(o){if(o instanceof zn)return o;var h=new zn(Ne);return No(h,Hs,o),h}function Gn(o){return new zn(function(h,_){_(o)})}function zs(o,h,_){mr(o,h,_,null)||ho(pt(h,o))}function Go(o){return new zn(function(h){var _=o.length,S=[];if(_)for(var N=function(Ie,St,Ut){_--,S[Ie]=St?{Ob:!0,value:Ut}:{Ob:!1,reason:Ut},0==_&&h(S)},W=0;W<o.length;W++)zs(o[W],pt(N,W,!0),pt(N,W,!1));else h(S)})}function Co(o,h){if(o.a==Wi)if(o.c){var _=o.c;if(_.b){for(var S=0,N=null,W=null,ee=_.b;ee&&(ee.c||(S++,ee.a==o&&(N=ee),!(N&&1<S)));ee=ee.next)N||(W=ee);N&&(_.a==Wi&&1==S?Co(_,h):(W?((S=W).next==_.f&&(_.f=S),S.next=S.next.next):Es(_),Gs(_,N,Tn,h)))}o.c=null}else No(o,Tn,h)}function ki(o,h){o.b||o.a!=Hs&&o.a!=Tn||qs(o),o.f?o.f.next=h:o.b=h,o.f=h}function Jn(o,h,_,S){var N=Hi(null,null,null);return N.a=new zn(function(W,ee){N.g=h?function(Ie){try{var St=h.call(S,Ie);W(St)}catch(Ut){ee(Ut)}}:W,N.b=_?function(Ie){try{var St=_.call(S,Ie);void 0===St&&Ie instanceof Dt?ee(Ie):W(St)}catch(Ut){ee(Ut)}}:ee}),N.a.c=o,ki(o,N),N.a}function No(o,h,_){o.a==Wi&&(o===_&&(h=Tn,_=new TypeError("Promise cannot resolve to itself")),o.a=1,mr(_,o.Zc,o.$c,o)||(o.i=_,o.a=h,o.c=null,qs(o),h!=Tn||_ instanceof Dt||function(o,h){o.g=!0,ho(function(){o.g&&ga.call(null,h)})}(o,_)))}function mr(o,h,_,S){if(o instanceof zn)return ki(o,Hi(h||Ne,_||null,S)),!0;if(se(o))return o.then(h,_,S),!0;if(Le(o))try{var N=o.then;if(kt(N))return function(o,h,_,S,N){function W(St){Ie||(Ie=!0,S.call(N,St))}var Ie=!1;try{h.call(o,function(St){Ie||(Ie=!0,_.call(N,St))},W)}catch(St){W(St)}}(o,N,h,_,S),!0}catch(W){return _.call(S,W),!0}return!1}function qs(o){o.h||(o.h=!0,ho(o.fc,o))}function Es(o){var h=null;return o.b&&(o.b=(h=o.b).next,h.next=null),o.b||(o.f=null),h}function Gs(o,h,_,S){if(_==Tn&&h.b&&!h.c)for(;o&&o.g;o=o.c)o.g=!1;if(h.a)h.a.c=null,Vn(h,_,S);else try{h.c?h.g.call(h.f):Vn(h,_,S)}catch(N){ga.call(null,N)}Ge(pa,h)}function Vn(o,h,_){h==Hs?o.g.call(o.f,_):o.b&&o.b.call(o.f,_)}zn.prototype.then=function(o,h,_){return Jn(this,kt(o)?o:null,kt(h)?h:null,_)},zn.prototype.$goog_Thenable=!0,(Z=zn.prototype).na=function(o,h){return(o=Hi(o,o,h)).c=!0,ki(this,o),this},Z.s=function(o,h){return Jn(this,null,o,h)},Z.cancel=function(o){if(this.a==Wi){var h=new Dt(o);ho(function(){Co(this,h)},this)}},Z.Zc=function(o){this.a=Wi,No(this,Hs,o)},Z.$c=function(o){this.a=Wi,No(this,Tn,o)},Z.fc=function(){for(var o;o=Es(this);)Gs(this,o,this.a,this.i);this.h=!1};var ga=to;function Dt(o){Ve.call(this,o)}function Ni(){0!=Xr&&(B[dt(this)]=this),this.xa=this.xa,this.oa=this.oa}O(Dt,Ve),Dt.prototype.name="cancel";var Xr=0,B={};function V(o){if(!o.xa&&(o.xa=!0,o.Da(),0!=Xr)){var h=dt(o);if(0!=Xr&&o.oa&&0<o.oa.length)throw Error(o+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete B[h]}}Ni.prototype.xa=!1,Ni.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var X=Object.freeze||function(o){return o},pe=!ue||9<=Number(Bn),Ee=ue&&!Zi("9"),_e=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{Y.addEventListener("test",Ne,h),Y.removeEventListener("test",Ne,h)}catch(_){}return o}();function $e(o,h){this.type=o,this.b=this.target=h,this.defaultPrevented=!1}function gt(o,h){if($e.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var _=this.type=o.type,S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=h,h=o.relatedTarget){if(ze){e:{try{ie(h.nodeName);var N=!0;break e}catch(W){}N=!1}N||(h=null)}}else"mouseover"==_?h=o.fromElement:"mouseout"==_&&(h=o.toElement);this.relatedTarget=h,S?(this.clientX=void 0!==S.clientX?S.clientX:S.pageX,this.clientY=void 0!==S.clientY?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:yt[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},O(gt,$e);var yt=X({2:"touch",3:"pen",4:"mouse"});gt.prototype.preventDefault=function(){gt.$a.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Ee)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch(h){}},gt.prototype.g=function(){return this.a};var Pt="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Yn(o,h,_,S,N){this.listener=o,this.proxy=null,this.src=h,this.type=_,this.capture=!!S,this.Ua=N,this.key=++Vt,this.va=this.Oa=!1}function cn(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Ua=null}function Yr(o){this.src=o,this.a={},this.b=0}function lr(o,h){var _=h.type;_ in o.a&&Kt(o.a[_],h)&&(cn(h),0==o.a[_].length&&(delete o.a[_],o.b--))}function bn(o,h,_,S){for(var N=0;N<o.length;++N){var W=o[N];if(!W.va&&W.listener==h&&W.capture==!!_&&W.Ua==S)return N}return-1}Yr.prototype.add=function(o,h,_,S,N){var W=o.toString();(o=this.a[W])||(o=this.a[W]=[],this.b++);var ee=bn(o,h,S,N);return-1<ee?(h=o[ee],_||(h.Oa=!1)):((h=new Yn(h,this.src,W,!!S,N)).Oa=_,o.push(h)),h};var Lr="closure_lm_"+(1e6*Math.random()|0),wi={};function fr(o,h,_,S,N){if(S&&S.once)po(o,h,_,S,N);else if(Array.isArray(h))for(var W=0;W<h.length;W++)fr(o,h[W],_,S,N);else _=li(_),o&&o[Pt]?Ss(o,h,_,Le(S)?!!S.capture:!!S,N):Jr(o,h,_,!1,S,N)}function Jr(o,h,_,S,N,W){if(!h)throw Error("Invalid event type");var ee=Le(N)?!!N.capture:!!N,Ie=ai(o);if(Ie||(o[Lr]=Ie=new Yr(o)),!(_=Ie.add(h,_,S,ee,W)).proxy)if(S=function(){var o=Gu,h=pe?function(_){return o.call(h.src,h.listener,_)}:function(_){if(!(_=o.call(h.src,h.listener,_)))return _};return h}(),_.proxy=S,S.src=o,S.listener=_,o.addEventListener)_e||(N=ee),void 0===N&&(N=!1),o.addEventListener(h.toString(),S,N);else if(o.attachEvent)o.attachEvent(ma(h.toString()),S);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(S)}}function po(o,h,_,S,N){if(Array.isArray(h))for(var W=0;W<h.length;W++)po(o,h[W],_,S,N);else _=li(_),o&&o[Pt]?Wo(o,h,_,Le(S)?!!S.capture:!!S,N):Jr(o,h,_,!0,S,N)}function Hr(o,h,_,S,N){if(Array.isArray(h))for(var W=0;W<h.length;W++)Hr(o,h[W],_,S,N);else S=Le(S)?!!S.capture:!!S,_=li(_),o&&o[Pt]?(o=o.v,(h=String(h).toString())in o.a&&-1<(_=bn(W=o.a[h],_,S,N))&&(cn(W[_]),Array.prototype.splice.call(W,_,1),0==W.length&&(delete o.a[h],o.b--))):o&&(o=ai(o))&&(h=o.a[h.toString()],o=-1,h&&(o=bn(h,_,S,N)),(_=-1<o?h[o]:null)&&dr(_))}function dr(o){if("number"!=typeof o&&o&&!o.va){var h=o.src;if(h&&h[Pt])lr(h.v,o);else{var _=o.type,S=o.proxy;h.removeEventListener?h.removeEventListener(_,S,o.capture):h.detachEvent?h.detachEvent(ma(_),S):h.addListener&&h.removeListener&&h.removeListener(S),(_=ai(h))?(lr(_,o),0==_.b&&(_.src=null,h[Lr]=null)):cn(o)}}}function ma(o){return o in wi?wi[o]:wi[o]="on"+o}function Ws(o,h,_,S){var N=!0;if((o=ai(o))&&(h=o.a[h.toString()]))for(h=h.concat(),o=0;o<h.length;o++){var W=h[o];W&&W.capture==_&&!W.va&&(W=rs(W,S),N=N&&!1!==W)}return N}function rs(o,h){var _=o.listener,S=o.Ua||o.src;return o.Oa&&dr(o),_.call(S,h)}function Gu(o,h){if(o.va)return!0;if(!pe){if(!h)e:{h=["window","event"];for(var _=Y,S=0;S<h.length;S++)if(null==(_=_[h[S]])){h=null;break e}h=_}if(h=new gt(S=h,this),_=!0,!(0>S.keyCode||null!=S.returnValue)){e:{var N=!1;if(0==S.keyCode)try{S.keyCode=-1;break e}catch(ee){N=!0}(N||null==S.returnValue)&&(S.returnValue=!0)}for(S=[],N=h.b;N;N=N.parentNode)S.push(N);for(o=o.type,N=S.length-1;0<=N;N--){h.b=S[N];var W=Ws(S[N],o,!0,h);_=_&&W}for(N=0;N<S.length;N++)h.b=S[N],W=Ws(S[N],o,!1,h),_=_&&W}return _}return rs(o,new gt(h,this))}function ai(o){return(o=o[Lr])instanceof Yr?o:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function li(o){return kt(o)?o:(o[Rr]||(o[Rr]=function(h){return o.handleEvent(h)}),o[Rr])}function zr(){Ni.call(this),this.v=new Yr(this),this.$b=this,this.fb=null}function Ss(o,h,_,S,N){o.v.add(String(h),_,!1,S,N)}function Wo(o,h,_,S,N){o.v.add(String(h),_,!0,S,N)}function Li(o,h,_,S){if(!(h=o.v.a[String(h)]))return!0;h=h.concat();for(var N=!0,W=0;W<h.length;++W){var ee=h[W];if(ee&&!ee.va&&ee.capture==_){var Ie=ee.listener,St=ee.Ua||ee.src;ee.Oa&&lr(o.v,ee),N=!1!==Ie.call(St,S)&&N}}return N&&!S.defaultPrevented}function $s(o,h,_){if(kt(o))_&&(o=Je(o,_));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Je(o.handleEvent,o)}return 2147483647<Number(h)?-1:Y.setTimeout(o,h||0)}function Eo(o){var h=null;return new zn(function(_,S){-1==(h=$s(function(){_(void 0)},o))&&S(Error("Failed to schedule timer."))}).s(function(_){throw Y.clearTimeout(h),_})}function Is(o){if(o.V&&"function"==typeof o.V)return o.V();if("string"==typeof o)return o.split("");if(wn(o)){for(var h=[],_=o.length,S=0;S<_;S++)h.push(o[S]);return h}for(S in h=[],_=0,o)h[_++]=o[S];return h}function So(o){if(o.Y&&"function"==typeof o.Y)return o.Y();if(!o.V||"function"!=typeof o.V){if(wn(o)||"string"==typeof o){var h=[];o=o.length;for(var _=0;_<o;_++)h.push(_);return h}for(var S in h=[],_=0,o)h[_++]=S;return h}}function Fo(o,h){this.b={},this.a=[],this.c=0;var _=arguments.length;if(1<_){if(_%2)throw Error("Uneven number of arguments");for(var S=0;S<_;S+=2)this.set(arguments[S],arguments[S+1])}else if(o)if(o instanceof Fo)for(_=o.Y(),S=0;S<_.length;S++)this.set(_[S],o.get(_[S]));else for(S in o)this.set(S,o[S])}function zi(o){if(o.c!=o.a.length){for(var h=0,_=0;h<o.a.length;){var S=o.a[h];is(o.b,S)&&(o.a[_++]=S),h++}o.a.length=_}if(o.c!=o.a.length){var N={};for(_=h=0;h<o.a.length;)is(N,S=o.a[h])||(o.a[_++]=S,N[S]=1),h++;o.a.length=_}}function is(o,h){return Object.prototype.hasOwnProperty.call(o,h)}O(zr,Ni),zr.prototype[Pt]=!0,zr.prototype.addEventListener=function(o,h,_,S){fr(this,o,h,_,S)},zr.prototype.removeEventListener=function(o,h,_,S){Hr(this,o,h,_,S)},zr.prototype.dispatchEvent=function(o){var h,_=this.fb;if(_)for(h=[];_;_=_.fb)h.push(_);_=this.$b;var S=o.type||o;if("string"==typeof o)o=new $e(o,_);else if(o instanceof $e)o.target=o.target||_;else{var N=o;Xn(o=new $e(S,_),N)}if(N=!0,h)for(var W=h.length-1;0<=W;W--){var ee=o.b=h[W];N=Li(ee,S,!0,o)&&N}if(N=Li(ee=o.b=_,S,!0,o)&&N,N=Li(ee,S,!1,o)&&N,h)for(W=0;W<h.length;W++)N=Li(ee=o.b=h[W],S,!1,o)&&N;return N},zr.prototype.Da=function(){if(zr.$a.Da.call(this),this.v){var _,o=this.v;for(_ in o.a){for(var S=o.a[_],N=0;N<S.length;N++)cn(S[N]);delete o.a[_],o.b--}}this.fb=null},(Z=Fo.prototype).V=function(){zi(this);for(var o=[],h=0;h<this.a.length;h++)o.push(this.b[this.a[h]]);return o},Z.Y=function(){return zi(this),this.a.concat()},Z.clear=function(){this.b={},this.c=this.a.length=0},Z.get=function(o,h){return is(this.b,o)?this.b[o]:h},Z.set=function(o,h){is(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=h},Z.forEach=function(o,h){for(var _=this.Y(),S=0;S<_.length;S++){var N=_[S],W=this.get(N);o.call(h,W,N,this)}};var El=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Io(o,h){var _;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,o instanceof Io?(this.i=void 0!==h?h:o.i,iu(this,o.f),this.l=o.l,this.a=o.a,Ds(this,o.g),this.c=o.c,Ms(this,Iu(o.b)),this.h=o.h):o&&(_=String(o).match(El))?(this.i=!!h,iu(this,_[1]||"",!0),this.l=ou(_[2]||""),this.a=ou(_[3]||"",!0),Ds(this,_[4]),this.c=ou(_[5]||"",!0),Ms(this,_[6]||"",!0),this.h=ou(_[7]||"")):(this.i=!!h,this.b=new Qs(null,this.i))}function iu(o,h,_){o.f=_?ou(h,!0):h,o.f&&(o.f=o.f.replace(/:$/,""))}function Ds(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.g=h}else o.g=null}function Ms(o,h,_){h instanceof Qs?(o.b=h,function(o,h){h&&!o.f&&(mo(o),o.c=null,o.a.forEach(function(_,S){var N=S.toLowerCase();S!=N&&(qr(this,S),Qr(this,N,_))},o)),o.f=h}(o.b,o.i)):(_||(h=_a(h,Ks)),o.b=new Qs(h,o.i))}function Vi(o,h,_){o.b.set(h,_)}function mi(o,h){return o.b.get(h)}function go(o){return o instanceof Io?new Io(o):new Io(o,void 0)}function Eu(o,h,_,S){var N=new Io(null,void 0);return o&&iu(N,o),h&&(N.a=h),_&&Ds(N,_),S&&(N.c=S),N}function ou(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function _a(o,h,_){return"string"==typeof o?(o=encodeURI(o).replace(h,Il),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Il(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Io.prototype.toString=function(){var o=[],h=this.f;h&&o.push(_a(h,lc,!0),":");var _=this.a;return(_||"file"==h)&&(o.push("//"),(h=this.l)&&o.push(_a(h,lc,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(_=this.g)&&o.push(":",String(_))),(_=this.c)&&(this.a&&"/"!=_.charAt(0)&&o.push("/"),o.push(_a(_,"/"==_.charAt(0)?Su:su,!0))),(_=this.b.toString())&&o.push("?",_),(_=this.h)&&o.push("#",_a(_,Ys)),o.join("")},Io.prototype.resolve=function(o){var h=new Io(this),_=!!o.f;_?iu(h,o.f):_=!!o.l,_?h.l=o.l:_=!!o.a,_?h.a=o.a:_=null!=o.g;var S=o.c;if(_)Ds(h,o.g);else if(_=!!o.c){if("/"!=S.charAt(0))if(this.a&&!this.c)S="/"+S;else{var N=h.c.lastIndexOf("/");-1!=N&&(S=h.c.substr(0,N+1)+S)}if(".."==(N=S)||"."==N)S="";else if(me(N,"./")||me(N,"/.")){S=0==N.lastIndexOf("/",0),N=N.split("/");for(var W=[],ee=0;ee<N.length;){var Ie=N[ee++];"."==Ie?S&&ee==N.length&&W.push(""):".."==Ie?((1<W.length||1==W.length&&""!=W[0])&&W.pop(),S&&ee==N.length&&W.push("")):(W.push(Ie),S=!0)}S=W.join("/")}else S=N}return _?h.c=S:_=""!==o.b.toString(),_?Ms(h,Iu(o.b)):_=!!o.h,_&&(h.h=o.h),h};var lc=/[#\/\?@]/g,su=/[#\?:]/g,Su=/[#\?]/g,Ks=/[#\?@]/g,Ys=/#/g;function Qs(o,h){this.b=this.a=null,this.c=o||null,this.f=!!h}function mo(o){o.a||(o.a=new Fo,o.b=0,o.c&&function(o,h){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var S=o[_].indexOf("="),N=null;if(0<=S){var W=o[_].substring(0,S);N=o[_].substring(S+1)}else W=o[_];h(W,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(o.c,function(h,_){o.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}function Xs(o){var h=So(o);if(void 0===h)throw Error("Keys are undefined");var _=new Qs(null,void 0);o=Is(o);for(var S=0;S<h.length;S++){var N=h[S],W=o[S];Array.isArray(W)?Qr(_,N,W):_.add(N,W)}return _}function qr(o,h){mo(o),h=jt(o,h),is(o.a.b,h)&&(o.c=null,o.b-=o.a.get(h).length,is((o=o.a).b,h)&&(delete o.b[h],o.c--,o.a.length>2*o.c&&zi(o)))}function Va(o,h){return mo(o),h=jt(o,h),is(o.a.b,h)}function Qr(o,h,_){qr(o,h),0<_.length&&(o.c=null,o.a.set(jt(o,h),Nr(_)),o.b+=_.length)}function Iu(o){var h=new Qs;return h.c=o.c,o.a&&(h.a=new Fo(o.a),h.b=o.b),h}function jt(o,h){return h=String(h),o.f&&(h=h.toLowerCase()),h}function Wu(o){var h=[];return As(new va,o,h),h.join("")}function va(){}function As(o,h,_){if(null==h)_.push("null");else{if("object"==typeof h){if(Array.isArray(h)){var S=h;h=S.length,_.push("[");for(var N="",W=0;W<h;W++)_.push(N),As(o,S[W],_),N=",";return void _.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(S in _.push("{"),N="",h)Object.prototype.hasOwnProperty.call(h,S)&&"function"!=typeof(W=h[S])&&(_.push(N),Js(S,_),_.push(":"),As(o,W,_),N=",");return void _.push("}")}h=h.valueOf()}switch(typeof h){case"string":Js(h,_);break;case"number":_.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":_.push(String(h));break;case"function":_.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}(Z=Qs.prototype).add=function(o,h){mo(this),this.c=null,o=jt(this,o);var _=this.a.get(o);return _||this.a.set(o,_=[]),_.push(h),this.b+=1,this},Z.clear=function(){this.a=this.c=null,this.b=0},Z.forEach=function(o,h){mo(this),this.a.forEach(function(_,S){ct(_,function(N){o.call(h,N,S,this)},this)},this)},Z.Y=function(){mo(this);for(var o=this.a.V(),h=this.a.Y(),_=[],S=0;S<h.length;S++)for(var N=o[S],W=0;W<N.length;W++)_.push(h[S]);return _},Z.V=function(o){mo(this);var h=[];if("string"==typeof o)Va(this,o)&&(h=nr(h,this.a.get(jt(this,o))));else{o=this.a.V();for(var _=0;_<o.length;_++)h=nr(h,o[_])}return h},Z.set=function(o,h){return mo(this),this.c=null,Va(this,o=jt(this,o))&&(this.b-=this.a.get(o).length),this.a.set(o,[h]),this.b+=1,this},Z.get=function(o,h){return o&&0<(o=this.V(o)).length?String(o[0]):h},Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],h=this.a.Y(),_=0;_<h.length;_++){var S=h[_],N=encodeURIComponent(String(S));S=this.V(S);for(var W=0;W<S.length;W++){var ee=N;""!==S[W]&&(ee+="="+encodeURIComponent(String(S[W]))),o.push(ee)}}return this.c=o.join("&")};var yi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$u=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Js(o,h){h.push('"',o.replace($u,function(_){var S=yi[_];return S||(S="\\u"+(65536|_.charCodeAt(0)).toString(16).substr(1),yi[_]=S),S}),'"')}function di(){var o=_o();return ue&&!!Bn&&11==Bn||/Edge\/\d+/.test(o)}function w(){return Y.window&&Y.window.location.href||self&&self.location&&self.location.href||""}function k(o,h){h=h||Y.window;var _="about:blank";o&&(_=rt(Qt(o))),h.location.href=_}function q(o,h){var S,_=[];for(S in o)S in h?typeof o[S]!=typeof h[S]?_.push(S):"object"==typeof o[S]&&null!=o[S]&&null!=h[S]?0<q(o[S],h[S]).length&&_.push(S):o[S]!==h[S]&&_.push(S):_.push(S);for(S in h)S in o||_.push(S);return _}function Re(o){return!!((o=(o||_o()).toLowerCase()).match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ze(o){o=o||Y.window;try{o.close()}catch(h){}}function hn(o,h,_){var S=Math.floor(1e9*Math.random()).toString();h=h||500,_=_||600;var N=(window.screen.availHeight-_)/2,W=(window.screen.availWidth-h)/2;for(ee in h={width:h,height:_,top:0<N?N:0,left:0<W?W:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},_=_o().toLowerCase(),S&&(h.target=S,me(_,"crios/")&&(h.target="_blank")),Ba(_o())==Tl&&(o=o||"http://localhost",h.scrollbars=!0),_=o||"",(o=h)||(o={}),S=window,h=_ instanceof Fe?_:Qt(void 0!==_.href?_.href:String(_)),_=o.target||_.target,N=[],o)switch(ee){case"width":case"height":case"top":case"left":N.push(ee+"="+o[ee]);break;case"target":case"noopener":case"noreferrer":break;default:N.push(ee+"="+(o[ee]?1:0))}var ee=N.join(",");if((zt("iPhone")&&!zt("iPod")&&!zt("iPad")||zt("iPad")||zt("iPod"))&&S.navigator&&S.navigator.standalone&&_&&"_self"!=_?(Ir(ee=Cs(document,"A"),"HTMLAnchorElement"),h instanceof Fe||h instanceof Fe||(h="object"==typeof h&&h.sa?h.ra():String(h),Ot.test(h)||(h="about:invalid#zClosurez"),h=new Fe(Mt,h)),ee.href=rt(h),ee.setAttribute("target",_),o.noreferrer&&ee.setAttribute("rel","noreferrer"),(o=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,S,1),ee.dispatchEvent(o),ee={}):o.noreferrer?(ee=S.open("",_,ee),o=rt(h),ee&&(we&&me(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),ee.opener=null,o=br('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pe(o)+'">'),S=ee.document)&&(S.write(xr(o)),S.close())):(ee=S.open(rt(h),_,ee))&&o.noopener&&(ee.opener=null),ee)try{ee.focus()}catch(Ie){}return ee}var Dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oo=/^[^@]+@[^@]+$/;function so(){var o=null;return new zn(function(h){"complete"==Y.document.readyState?h():(o=function(){h()},po(window,"load",o))}).s(function(h){throw Hr(window,"load",o),h})}function Ua(o){return o=o||_o(),!("file:"!==f()&&"ionic:"!==f()||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Os(){var o=Y.window;try{return!(!o||o==o.top)}catch(h){return!1}}function Zr(){return void 0!==Y.WorkerGlobalScope&&"function"==typeof Y.importScripts}function Vr(){return te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.INTERNAL.hasOwnProperty("node")?"Node":Zr()?"Worker":"Browser"}function Tu(){var o=Vr();return"ReactNative"===o||"Node"===o}var Tl="Firefox";function Ba(o){var h=o.toLowerCase();return me(h,"opera/")||me(h,"opr/")||me(h,"opios/")?"Opera":me(h,"iemobile")?"IEMobile":me(h,"msie")||me(h,"trident/")?"IE":me(h,"edge/")?"Edge":me(h,"firefox/")?Tl:me(h,"silk/")?"Silk":me(h,"blackberry")?"Blackberry":me(h,"webos")?"Webos":!me(h,"safari/")||me(h,"chrome/")||me(h,"crios/")||me(h,"android")?!me(h,"chrome/")&&!me(h,"crios/")||me(h,"edge/")?me(h,"android")?"Android":(o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==o.length?o[1]:"Other":"Chrome":"Safari"}var Dl={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Wn(o,h){h=h||[];var N,_=[],S={};for(N in Dl)S[Dl[N]]=!0;for(N=0;N<h.length;N++)void 0!==S[h[N]]&&(delete S[h[N]],_.push(h[N]));return _.sort(),(h=_).length||(h=["FirebaseCore-web"]),"Browser"===(_=Vr())?_=Ba(S=_o()):"Worker"===_&&(_=Ba(S=_o())+"-"+_),_+"/JsCore/"+o+"/"+h.join(",")}function _o(){return Y.navigator&&Y.navigator.userAgent||""}function bi(o,h){o=o.split("."),h=h||Y;for(var _=0;_<o.length&&"object"==typeof h&&null!=h;_++)h=h[o[_]];return _!=o.length&&(h=void 0),h}function Ku(){try{var o=Y.localStorage,h=z();if(o)return o.setItem(h,"1"),o.removeItem(h),!di()||!!Y.indexedDB}catch(_){return Zr()&&!!Y.indexedDB}return!1}function ba(){return(y()||"chrome-extension:"===f()||Ua())&&!Tu()&&Ku()&&!Zr()}function y(){return"http:"===f()||"https:"===f()}function f(){return Y.location&&Y.location.protocol||null}function g(o){return!(Re(o=o||_o())||Ba(o)==Tl)}function b(o){return void 0===o?null:Wu(o)}function D(o){var _,h={};for(_ in o)o.hasOwnProperty(_)&&null!=o[_]&&(h[_]=o[_]);return h}function x(o){if(null!==o)return JSON.parse(o)}function z(o){return o||Math.floor(1e9*Math.random()).toString()}function Q(o){return!("Safari"==Ba(o=o||_o())||o.toLowerCase().match(/iphone|ipad|ipod/))}function ce(){var o=Y.___jsl;if(o&&o.H)for(var h in o.H)if(o.H[h].r=o.H[h].r||[],o.H[h].L=o.H[h].L||[],o.H[h].r=o.H[h].L.concat(),o.CP)for(var _=0;_<o.CP.length;_++)o.CP[_]=null}function ae(o,h){if(o>h)throw Error("Short delay should be less than long delay!");this.a=o,this.c=h,o=_o(),h=Vr(),this.b=Re(o)||"ReactNative"===h}function He(){var o=Y.document;return!o||void 0===o.visibilityState||"visible"==o.visibilityState}function _t(o){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(o)}function xt(o){try{var h=new Date(parseInt(o,10));if(!isNaN(h.getTime())&&!/[^0-9]/.test(o))return h.toUTCString()}catch(_){}return null}function Zt(){return!(!bi("fireauth.oauthhelper",Y)&&!bi("fireauth.iframe",Y))}ae.prototype.get=function(){var o=Y.navigator;return!o||"boolean"!=typeof o.onLine||!y()&&"chrome-extension:"!==f()&&void 0===o.connection||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $i,Zn={};function vo(o){Zn[o]||(Zn[o]=!0,_t(o))}try{var yo={};Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:2}),$i=2==yo.abcd}catch(o){$i=!1}function _n(o,h,_){$i?Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:_}):o[h]=_}function Ki(o,h){if(h)for(var _ in h)h.hasOwnProperty(_)&&_n(o,_,h[_])}function fs(o){var h={};return Ki(h,o),h}function ah(o){var h=o;if("object"==typeof o&&null!=o)for(var _ in h="length"in o?[]:{},o)_n(h,_,ah(o[_]));return h}function uh(o){var h=o&&(o[nf]?"phone":null);if(!(h&&o&&o[Ml]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");_n(this,"uid",o[Ml]),_n(this,"displayName",o[Du]||null);var _=null;o[Mu]&&(_=new Date(o[Mu]).toUTCString()),_n(this,"enrollmentTime",_),_n(this,"factorId",h)}function hc(o){try{var h=new fc(o)}catch(_){h=null}return h}uh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Du="displayName",Mu="enrolledAt",Ml="mfaEnrollmentId",nf="phoneInfo";function fc(o){uh.call(this,o),_n(this,"phoneNumber",o[nf])}function rd(o){var h={},_=o[wm],S=o[Qu],N=o[ro];if(o=hc(o[$o]),!N||N!=au&&N!=Yu&&!_||N==Yu&&!S||N==ja&&!o)throw Error("Invalid checkActionCode response!");N==Yu?(h[Au]=_||null,h[Yo]=_||null,h[Ko]=S):(h[Au]=S||null,h[Yo]=S||null,h[Ko]=_||null),h[Di]=o||null,_n(this,Em,N),_n(this,Cm,ah(h))}O(fc,uh),fc.prototype.w=function(){var o=fc.$a.w.call(this);return o.phoneNumber=this.phoneNumber,o};var ja="REVERT_SECOND_FACTOR_ADDITION",au="EMAIL_SIGNIN",Yu="VERIFY_AND_CHANGE_EMAIL",wm="email",$o="mfaInfo",Qu="newEmail",ro="requestType",Ko="email",Au="fromEmail",Di="multiFactorInfo",Yo="previousEmail",Cm="data",Em="operation";function Ei(o){var h=mi(o=go(o),xs)||null,_=mi(o,Lo)||null,S=mi(o,Xu)||null;if(S=S&&Zs[S]||null,!h||!_||!S)throw new I("argument-error",xs+", "+Lo+"and "+Xu+" are required in a valid action code URL.");Ki(this,{apiKey:h,operation:S,code:_,continueUrl:mi(o,To)||null,languageCode:mi(o,Rs)||null,tenantId:mi(o,Ou)||null})}var xs="apiKey",Lo="oobCode",To="continueUrl",Rs="languageCode",Xu="mode",Ou="tenantId",Zs={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ja,signIn:au,verifyAndChangeEmail:Yu,verifyEmail:"VERIFY_EMAIL"};function Ep(o){try{return new Ei(o)}catch(h){return null}}function rf(o){var h=o[Sm];if(void 0===h)throw new I("missing-continue-uri");if("string"!=typeof h||"string"==typeof h&&!h.length)throw new I("invalid-continue-uri");this.h=h,this.b=this.a=null,this.g=!1;var _=o[Al];if(_&&"object"==typeof _){h=_[lh];var S=_[Ju];if(_=_[Rl],"string"==typeof h&&h.length){if(this.a=h,void 0!==S&&"boolean"!=typeof S)throw new I("argument-error",Ju+" property must be a boolean when specified.");if(this.g=!!S,void 0!==_&&("string"!=typeof _||"string"==typeof _&&!_.length))throw new I("argument-error",Rl+" property must be a non empty string when specified.");this.b=_||null}else{if(void 0!==h)throw new I("argument-error",lh+" property must be a non empty string when specified.");if(void 0!==S||void 0!==_)throw new I("missing-android-pkg-name")}}else if(void 0!==_)throw new I("argument-error",Al+" property must be a non null object when specified.");if(this.f=null,(h=o[xl])&&"object"==typeof h){if("string"==typeof(h=h[ds])&&h.length)this.f=h;else if(void 0!==h)throw new I("argument-error",ds+" property must be a non empty string when specified.")}else if(void 0!==h)throw new I("argument-error",xl+" property must be a non null object when specified.");if(void 0!==(h=o[id])&&"boolean"!=typeof h)throw new I("argument-error",id+" property must be a boolean when specified.");if(this.c=!!h,void 0!==(o=o[Ol])&&("string"!=typeof o||"string"==typeof o&&!o.length))throw new I("argument-error",Ol+" property must be a non empty string when specified.");this.i=o||null}var Al="android",Ol="dynamicLinkDomain",id="handleCodeInApp",xl="iOS",Sm="url",Ju="installApp",Rl="minimumVersion",lh="packageName",ds="bundleId";function Ha(o){var h={};for(var _ in h.continueUrl=o.h,h.canHandleCodeInApp=o.c,(h.androidPackageName=o.a)&&(h.androidMinimumVersion=o.b,h.androidInstallApp=o.g),h.iOSBundleId=o.f,h.dynamicLinkDomain=o.i,h)null===h[_]&&delete h[_];return h}var dc=null;function gc(o){var h=Im(o);if(!(h&&h.sub&&h.iss&&h.aud&&h.exp))throw Error("Invalid JWT");this.g=o,this.c=h.exp,this.h=h.sub,M(),this.a=h.provider_id||h.firebase&&h.firebase.sign_in_provider||null,this.f=h.firebase&&h.firebase.tenant||null,this.b=!!h.is_anonymous||"anonymous"==this.a}function Zu(o){try{return new gc(o)}catch(h){return null}}function Im(o){if(!o||3!=(o=o.split(".")).length)return null;for(var h=(4-(o=o[1]).length%4)%4,_=0;_<h;_++)o+=".";try{return JSON.parse(function(o){var h="";return function(o,h){function _(St){for(;S<o.length;){var Ut=o.charAt(S++),Cr=dc[Ut];if(null!=Cr)return Cr;if(!/^[\s\xa0]*$/.test(Ut))throw Error("Unknown base64 encoding at char: "+Ut)}return St}!function(){if(!dc){dc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=["+/=","+/","-_=","-_.","-_"],_=0;5>_;_++)for(var S=o.concat(h[_].split("")),N=0;N<S.length;N++){var W=S[N];void 0===dc[W]&&(dc[W]=N)}}}();for(var S=0;;){var N=_(-1),W=_(0),ee=_(64),Ie=_(64);if(64===Ie&&-1===N)break;h(N<<2|W>>4),64!=ee&&(h(W<<4&240|ee>>2),64!=Ie&&h(ee<<6&192|Ie))}}(o,function(_){h+=String.fromCharCode(_)}),h}(o))}catch(S){}return null}gc.prototype.S=function(){return this.f},gc.prototype.i=function(){return this.b},gc.prototype.toString=function(){return this.g};var sd="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),el=["client_id","response_type","scope","redirect_uri","state"],tl={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:el},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:el},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:el},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:sd},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function mc(o){for(var h in tl)if(tl[h].fa==o)return tl[h];return null}function Pl(o){var h={};h["facebook.com"]=Do,h["google.com"]=sf,h["github.com"]=ad,h["twitter.com"]=ud;var _=o&&o[of];try{if(_)return h[_]?new h[_](o):new ps(o);if(void 0!==o[hh])return new wa(o)}catch(S){}return null}var hh="idToken",of="providerId";function wa(o){var h=o[of];if(!h&&o[hh]){var _=Zu(o[hh]);_&&_.a&&(h=_.a)}if(!h)throw Error("Invalid additional user info!");("anonymous"==h||"custom"==h)&&(h=null),_=!1,void 0!==o.isNewUser?_=!!o.isNewUser:"identitytoolkit#SignupNewUserResponse"===o.kind&&(_=!0),_n(this,"providerId",h),_n(this,"isNewUser",_)}function ps(o){wa.call(this,o),_n(this,"profile",ah((o=x(o.rawUserInfo||"{}"))||{}))}function Do(o){if(ps.call(this,o),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ad(o){if(ps.call(this,o),"github.com"!=this.providerId)throw Error("Invalid provider ID!");_n(this,"username",this.profile&&this.profile.login||null)}function sf(o){if(ps.call(this,o),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ud(o){if(ps.call(this,o),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");_n(this,"username",o.screenName||null)}function ld(o){var h=go(o),_=mi(h,"link"),S=mi(go(_),"link");return h=mi(h,"deep_link_id"),mi(go(h),"link")||h||S||_||o}function af(o,h){if(!o&&!h)throw new I("internal-error","Internal assert: no raw session string available");if(o&&h)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=h||null,this.type=this.a?_c:kl}O(ps,wa),O(Do,ps),O(ad,ps),O(sf,ps),O(ud,ps);var _c="enroll",kl="signin";function uu(){}function vc(o,h){return o.then(function(_){if(_[ra]){var S=Zu(_[ra]);if(!S||h!=S.h)throw new I("user-mismatch");return _}throw new I("user-mismatch")}).s(function(_){throw _&&_.code&&_.code==H+"user-not-found"?new I("user-mismatch"):_})}function nl(o,h){if(!h)throw new I("internal-error","failed to construct a credential");this.a=h,_n(this,"providerId",o),_n(this,"signInMethod",o)}function uf(o){return{pendingToken:o.a,requestUri:"http://localhost"}}function lu(o){if(o&&o.providerId&&o.signInMethod&&0==o.providerId.indexOf("saml.")&&o.pendingToken)try{return new nl(o.providerId,o.pendingToken)}catch(h){}return null}function ei(o,h,_){if(this.a=null,h.idToken||h.accessToken)h.idToken&&_n(this,"idToken",h.idToken),h.accessToken&&_n(this,"accessToken",h.accessToken),h.nonce&&!h.pendingToken&&_n(this,"nonce",h.nonce),h.pendingToken&&(this.a=h.pendingToken);else{if(!h.oauthToken||!h.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");_n(this,"accessToken",h.oauthToken),_n(this,"secret",h.oauthTokenSecret)}_n(this,"providerId",o),_n(this,"signInMethod",_)}function yc(o){var h={};return o.idToken&&(h.id_token=o.idToken),o.accessToken&&(h.access_token=o.accessToken),o.secret&&(h.oauth_token_secret=o.secret),h.providerId=o.providerId,o.nonce&&!o.a&&(h.nonce=o.nonce),h={postBody:Xs(h).toString(),requestUri:"http://localhost"},o.a&&(delete h.postBody,h.pendingToken=o.a),h}function Ca(o){if(o&&o.providerId&&o.signInMethod){var h={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new ei(o.providerId,h,o.signInMethod)}catch(_){}}return null}function os(o,h){this.Pc=h||[],Ki(this,{providerId:o,isOAuthProvider:!0}),this.Hb={},this.ob=(mc(o)||{}).Ja||null,this.nb=null}function Ru(o){if("string"!=typeof o||0!=o.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');os.call(this,o,[])}function Mo(o){os.call(this,o,el),this.a=[]}function ea(){Mo.call(this,"facebook.com")}function bc(o){if(!o)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=o;return Le(o)&&(h=o.accessToken),(new ea).credential({accessToken:h})}function bo(){Mo.call(this,"github.com")}function Sp(o){if(!o)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=o;return Le(o)&&(h=o.accessToken),(new bo).credential({accessToken:h})}function wc(){Mo.call(this,"google.com"),this.Ca("profile")}function Ip(o,h){var _=o;return Le(o)&&(_=o.idToken,h=o.accessToken),(new wc).credential({idToken:_,accessToken:h})}function fh(){os.call(this,"twitter.com",sd)}function dh(o,h){var _=o;if(Le(_)||(_={oauthToken:o,oauthTokenSecret:h}),!_.oauthToken||!_.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ei("twitter.com",_,"twitter.com")}function Xt(o,h,_){this.a=o,this.f=h,_n(this,"providerId","password"),_n(this,"signInMethod",_===Ps.EMAIL_LINK_SIGN_IN_METHOD?Ps.EMAIL_LINK_SIGN_IN_METHOD:Ps.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Cc(o){return o&&o.email&&o.password?new Xt(o.email,o.password,o.signInMethod):null}function Ps(){Ki(this,{providerId:"password",isOAuthProvider:!1})}function Tp(o,h){if(!(h=Dp(h)))throw new I("argument-error","Invalid email link!");return new Xt(o,h.code,Ps.EMAIL_LINK_SIGN_IN_METHOD)}function Dp(o){return(o=Ep(o=ld(o)))&&o.operation===au?o:null}function Nl(o){if(!(o.cb&&o.bb||o.La&&o.ea))throw new I("internal-error");this.a=o,_n(this,"providerId","phone"),this.fa="phone",_n(this,"signInMethod","phone")}function $v(o){if(o&&"phone"===o.providerId&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var h={};return ct(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(_){o[_]&&(h[_]=o[_])}),new Nl(h)}return null}function lf(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.cb,code:o.a.bb}}function cu(o){try{this.a=o||te.auth()}catch(h){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ki(this,{providerId:"phone",isOAuthProvider:!1})}function Ec(o,h){if(!o)throw new I("missing-verification-id");if(!h)throw new I("missing-verification-code");return new Nl({cb:o,bb:h})}function Pu(o){if(o.temporaryProof&&o.phoneNumber)return new Nl({La:o.temporaryProof,ea:o.phoneNumber});var h=o&&o.providerId;if(!h||"password"===h)return null;var _=o&&o.oauthAccessToken,S=o&&o.oauthTokenSecret,N=o&&o.nonce,W=o&&o.oauthIdToken,ee=o&&o.pendingToken;try{switch(h){case"google.com":return Ip(W,_);case"facebook.com":return bc(_);case"github.com":return Sp(_);case"twitter.com":return dh(_,S);default:return _||S||W||ee?ee?0==h.indexOf("saml.")?new nl(h,ee):new ei(h,{pendingToken:ee,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},h):new Mo(h).credential({idToken:W,accessToken:_,rawNonce:N}):null}}catch(Ie){return null}}function cd(o){if(!o.isOAuthProvider)throw new I("invalid-oauth-provider")}function ss(o,h,_,S,N,W,ee){if(this.c=o,this.b=h||null,this.g=_||null,this.f=S||null,this.i=W||null,this.h=ee||null,this.a=N||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Mp(o){return(o=o||{}).type?new ss(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&F(o.error),o.postBody,o.tenantId):null}function Ao(){this.b=null,this.a=[]}af.prototype.Ha=function(){return $t(this.a?this.a:this.b)},af.prototype.w=function(){return this.type==_c?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uu.prototype.ja=function(){},uu.prototype.b=function(){},uu.prototype.c=function(){},uu.prototype.w=function(){},nl.prototype.ja=function(o){return vf(o,uf(this))},nl.prototype.b=function(o,h){var _=uf(this);return _.idToken=h,Nc(o,_)},nl.prototype.c=function(o,h){return vc(yf(o,uf(this)),h)},nl.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ei.prototype.ja=function(o){return vf(o,yc(this))},ei.prototype.b=function(o,h){var _=yc(this);return _.idToken=h,Nc(o,_)},ei.prototype.c=function(o,h){return vc(yf(o,yc(this)),h)},ei.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o},os.prototype.Ka=function(o){return this.Hb=Mn(o),this},O(Ru,os),O(Mo,os),Mo.prototype.Ca=function(o){return on(this.a,o)||this.a.push(o),this},Mo.prototype.Pb=function(){return Nr(this.a)},Mo.prototype.credential=function(o,h){var _;if(!(_=Le(o)?{idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:{idToken:o||null,accessToken:h||null}).idToken&&!_.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new ei(this.providerId,_,this.providerId)},O(ea,Mo),_n(ea,"PROVIDER_ID","facebook.com"),_n(ea,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(bo,Mo),_n(bo,"PROVIDER_ID","github.com"),_n(bo,"GITHUB_SIGN_IN_METHOD","github.com"),O(wc,Mo),_n(wc,"PROVIDER_ID","google.com"),_n(wc,"GOOGLE_SIGN_IN_METHOD","google.com"),O(fh,os),_n(fh,"PROVIDER_ID","twitter.com"),_n(fh,"TWITTER_SIGN_IN_METHOD","twitter.com"),Xt.prototype.ja=function(o){return this.signInMethod==Ps.EMAIL_LINK_SIGN_IN_METHOD?wr(o,Up,{email:this.a,oobCode:this.f}):wr(o,cr,{email:this.a,password:this.f})},Xt.prototype.b=function(o,h){return this.signInMethod==Ps.EMAIL_LINK_SIGN_IN_METHOD?wr(o,Yv,{idToken:h,email:this.a,oobCode:this.f}):wr(o,Te,{idToken:h,email:this.a,password:this.f})},Xt.prototype.c=function(o,h){return vc(this.ja(o),h)},Xt.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ki(Ps,{PROVIDER_ID:"password"}),Ki(Ps,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ki(Ps,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Nl.prototype.ja=function(o){return o.eb(lf(this))},Nl.prototype.b=function(o,h){var _=lf(this);return _.idToken=h,wr(o,_i,_)},Nl.prototype.c=function(o,h){var _=lf(this);return _.operation="REAUTH",vc(o=wr(o,Bi,_),h)},Nl.prototype.w=function(){var o={providerId:"phone"};return this.a.cb&&(o.verificationId=this.a.cb),this.a.bb&&(o.verificationCode=this.a.bb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o},cu.prototype.eb=function(o,h){var _=this.a.a;return $t(h.verify()).then(function(S){if("string"!=typeof S)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(h.type){case"recaptcha":var N=Le(o)?o.session:null,W=Le(o)?o.phoneNumber:o;return(N&&N.type==_c?N.Ha().then(function(Ie){return function(o,h){return wr(o,We,h).then(function(_){return _.phoneSessionInfo.sessionInfo})}(_,{idToken:Ie,phoneEnrollmentInfo:{phoneNumber:W,recaptchaToken:S}})}):N&&N.type==kl?N.Ha().then(function(Ie){return function(o,h){return wr(o,ut,h).then(function(_){return _.phoneResponseInfo.sessionInfo})}(_,{mfaPendingCredential:Ie,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:S}})}):function(o,h){return wr(o,ne,h)}(_,{phoneNumber:W,recaptchaToken:S})).then(function(Ie){return"function"==typeof h.reset&&h.reset(),Ie},function(Ie){throw"function"==typeof h.reset&&h.reset(),Ie});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ki(cu,{PROVIDER_ID:"phone"}),Ki(cu,{PHONE_SIGN_IN_METHOD:"phone"}),ss.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},ss.prototype.S=function(){return this.h},ss.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ku,rl=null;function Ap(o){var h="unauthorized-domain",_=void 0,S=go(o);o=S.a,"chrome-extension"==(S=S.f)?_=Se("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):"http"==S||"https"==S?_=Se("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):h="operation-not-supported-in-this-environment",I.call(this,h,_)}function Fl(o,h,_){I.call(this,o,_),(o=h||{}).Ib&&_n(this,"email",o.Ib),o.ea&&_n(this,"phoneNumber",o.ea),o.credential&&_n(this,"credential",o.credential),o.Yb&&_n(this,"tenantId",o.Yb)}function gs(o){if(o.code){var h=o.code||"";0==h.indexOf(H)&&(h=h.substring(H.length));var _={credential:Pu(o),Yb:o.tenantId};if(o.email)_.Ib=o.email;else if(o.phoneNumber)_.ea=o.phoneNumber;else if(!_.credential)return new I(h,o.message||void 0);return new Fl(h,_,o.message)}return null}function ms(){}function za(){}function hd(o){if(!o.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var h=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],_=0;_<h.length;_++){var S=h[_];try{return new ActiveXObject(S),o.f=S}catch(N){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}function Ic(){}function hf(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Je(this.pc,this),this.a.onerror=Je(this.Rb,this),this.a.onprogress=Je(this.qc,this),this.a.ontimeout=Je(this.uc,this)}function Ll(o,h){o.readyState=h,o.onreadystatechange&&o.onreadystatechange()}function fd(o,h,_){this.reset(o,h,_,void 0,void 0)}function _s(o){this.f=o,this.b=this.c=this.a=null}function Nu(o,h){this.name=o,this.value=h}O(Ap,I),O(Fl,I),Fl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var h=this.credential&&this.credential.w();return h&&Xn(o,h),o},Fl.prototype.toJSON=function(){return this.w()},ms.prototype.c=null,O(za,ms),za.prototype.a=function(){var o=hd(this);return o?new ActiveXObject(o):new XMLHttpRequest},za.prototype.b=function(){var o={};return hd(this)&&(o[0]=!0,o[1]=!0),o},ku=new za,O(Ic,ms),Ic.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if("undefined"!=typeof XDomainRequest)return new hf;throw Error("Unsupported browser")},Ic.prototype.b=function(){return{}},(Z=hf.prototype).open=function(o,h,_){if(null!=_&&!_)throw Error("Only async requests are supported.");this.a.open(o,h)},Z.send=function(o){if(o){if("string"!=typeof o)throw Error("Only string data is supported");this.a.send(o)}else this.a.send()},Z.abort=function(){this.a.abort()},Z.setRequestHeader=function(){},Z.getResponseHeader=function(o){return"content-type"==o.toLowerCase()?this.a.contentType:""},Z.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ll(this,4)},Z.Rb=function(){this.status=500,this.response=this.responseText="",Ll(this,4)},Z.uc=function(){this.Rb()},Z.qc=function(){this.status=200,Ll(this,1)},Z.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},fd.prototype.a=null,fd.prototype.reset=function(o,h,_,S,N){S||M(),delete this.a},Nu.prototype.toString=function(){return this.name};var ta=new Nu("SEVERE",1e3),Op=new Nu("WARNING",900),xp=new Nu("CONFIG",700),Tm=new Nu("FINE",500);function Rp(o){return o.c?o.c:o.a?Rp(o.a):(xe("Root logger has no level set."),null)}_s.prototype.log=function(o,h,_){if(o.value>=Rp(this).value)for(kt(h)&&(h=h()),o=new fd(o,String(h),this.f),_&&(o.a=_),_=this;_;)_=_.a};var dd={},ph=null;function df(o){var h;if(ph||(ph=new _s(""),dd[""]=ph,ph.c=xp),!(h=dd[o])){h=new _s(o);var _=o.lastIndexOf("."),S=o.substr(_+1);(_=df(o.substr(0,_))).b||(_.b={}),_.b[S]=h,h.a=_,dd[o]=h}return h}function as(o,h){o&&o.log(Tm,h,void 0)}function Tc(o){this.f=o}function Dc(o){zr.call(this),this.o=o,this.readyState=pf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=df("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}O(Tc,ms),Tc.prototype.a=function(){return new Dc(this.f)},Tc.prototype.b=function(o){return function(){return o}}({}),O(Dc,zr);var pf=0;function il(o){o.c.read().then(o.oc.bind(o)).catch(o.Ta.bind(o))}function Vl(o,h){h&&o.f&&(o.status=o.f.status,o.statusText=o.f.statusText),o.readyState=4,o.f=null,o.c=null,o.l=null,hu(o)}function hu(o){o.onreadystatechange&&o.onreadystatechange.call(o)}function gh(o){zr.call(this),this.headers=new Fo,this.O=o||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Pp,this.u=this.R=!1}(Z=Dc.prototype).open=function(o,h){if(this.readyState!=pf)throw this.abort(),Error("Error reopening a connection");this.m=o,this.g=h,this.readyState=1,hu(this)},Z.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var h={headers:this.i,method:this.m,credentials:void 0,cache:void 0};o&&(h.body=o),this.o.fetch(new Request(this.g,h)).then(this.tc.bind(this),this.Ta.bind(this))},Z.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Vl(this,!1)),this.readyState=pf},Z.tc=function(o){this.a&&(this.f=o,this.b||(this.b=o.headers,this.readyState=2,hu(this)),this.a&&(this.readyState=3,hu(this),this.a&&("arraybuffer"===this.responseType?o.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==Y.ReadableStream&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.l=new TextDecoder,il(this)):o.text().then(this.sc.bind(this),this.Ta.bind(this)))))},Z.oc=function(o){if(this.a){var h=this.l.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});h&&(this.response=this.responseText+=h),o.done?Vl(this,!0):hu(this),3==this.readyState&&il(this)}},Z.sc=function(o){this.a&&(this.response=this.responseText=o,Vl(this,!0))},Z.rc=function(o){this.a&&(this.response=o,Vl(this,!0))},Z.Ta=function(o){var h=this.h;h&&h.log(Op,"Failed to fetch url "+this.g,o instanceof Error?o:Error(o)),this.a&&Vl(this,!0)},Z.setRequestHeader=function(o,h){this.i.append(o,h)},Z.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.h)&&o.log(Op,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},Z.getAllResponseHeaders=function(){if(!this.b){var o=this.h;return o&&o.log(Op,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}o=[];for(var h=this.b.entries(),_=h.next();!_.done;)o.push((_=_.value)[0]+": "+_[1]),_=h.next();return o.join("\r\n")},O(gh,zr);var Pp="";gh.prototype.b=df("goog.net.XhrIo");var Dm=/^https?$/i,pd=["POST","PUT"];function mh(o){return"content-type"==o.toLowerCase()}function Ul(o,h){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=h,kp(o),_h(o)}function kp(o){o.G||(o.G=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}function Ae(o){if(o.c&&void 0!==be)if(o.A[1]&&4==Ea(o)&&2==qa(o))as(o.b,na(o,"Local request error detected and ignored"));else if(o.i&&4==Ea(o))$s(o.Ub,0,o);else if(o.dispatchEvent("readystatechange"),4==Ea(o)){as(o.b,na(o,"Request complete")),o.c=!1;try{var S,h=qa(o);e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}if(!(S=_)){var N;if(N=0===h){var W=String(o.l).match(El)[1]||null;if(!W&&Y.self&&Y.self.location){var ee=Y.self.location.protocol;W=ee.substr(0,ee.length-1)}N=!Dm.test(W?W.toLowerCase():"")}S=N}if(S)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var Ie=2<Ea(o)?o.a.statusText:""}catch(St){as(o.b,"Can not get status: "+St.message),Ie=""}o.h=Ie+" ["+qa(o)+"]",kp(o)}}finally{_h(o)}}}function _h(o,h){if(o.a){Mc(o);var _=o.a,S=o.A[0]?Ne:null;o.a=null,o.A=null,h||o.dispatchEvent("ready");try{_.onreadystatechange=S}catch(N){(o=o.b)&&o.log(ta,"Problem encountered resetting onreadystatechange: "+N.message,void 0)}}}function Mc(o){o.a&&o.u&&(o.a.ontimeout=null),o.o&&(Y.clearTimeout(o.o),o.o=null)}function Ea(o){return o.a?o.a.readyState:0}function qa(o){try{return 2<Ea(o)?o.a.status:-1}catch(h){return-1}}function na(o,h){return h+" ["+o.P+" "+o.l+" "+qa(o)+"]"}function Ga(o){var h=xc;this.g=[],this.u=h,this.o=o||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ac(o,h,_){o.a=!0,o.c=_,o.f=!h,md(o)}function Ui(o){if(o.a){if(!o.m)throw new vh(o);o.m=!1}}function Sa(o,h,_,S){o.g.push([h,_,S]),o.a&&md(o)}function ks(o){return Ht(o.g,function(h){return kt(h[1])})}function md(o){if(o.h&&o.a&&ks(o)){var h=o.h,_=bh[h];_&&(Y.clearTimeout(_.a),delete bh[h]),o.h=0}o.b&&(o.b.l--,delete o.b),h=o.c;for(var S=_=!1;o.g.length&&!o.i;){var N=o.g.shift(),W=N[0],ee=N[1];if(N=N[2],W=o.f?ee:W)try{var Ie=W.call(N||o.o,h);void 0!==Ie&&(o.f=o.f&&(Ie==h||Ie instanceof Error),o.c=h=Ie),(se(h)||"function"==typeof Y.Promise&&h instanceof Y.Promise)&&(S=!0,o.i=!0)}catch(St){h=St,o.f=!0,ks(o)||(_=!0)}}o.c=h,S&&(Ie=Je(o.v,o,!0),S=Je(o.v,o,!1),h instanceof Ga?(Sa(h,Ie,S),h.A=!0):h.then(Ie,S)),_&&(h=new yh(h),bh[h.a]=h,o.h=h.a)}function vh(){Ve.call(this)}function Bl(){Ve.call(this)}function yh(o){this.a=Y.setTimeout(Je(this.c,this),0),this.b=o}(Z=gh.prototype).Ma=function(){void 0!==be&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",as(this.b,na(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Z.abort=function(){this.a&&this.c&&(as(this.b,na(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_h(this))},Z.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_h(this,!0)),gh.$a.Da.call(this)},Z.Ub=function(){this.xa||(this.N||this.i||this.f?Ae(this):this.Ic())},Z.Ic=function(){Ae(this)},Z.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Pp:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(ta,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(h){return as(this.b,"Can not get response: "+h.message),null}},Ga.prototype.cancel=function(o){if(this.a)this.c instanceof Ga&&this.c.cancel();else{if(this.b){var h=this.b;delete this.b,o?h.cancel(o):(h.l--,0>=h.l&&h.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(o=new Bl(this),Ui(this),Ac(this,!1,o))}},Ga.prototype.v=function(o,h){this.i=!1,Ac(this,o,h)},Ga.prototype.then=function(o,h,_){var S,N,W=new zn(function(ee,Ie){S=ee,N=Ie});return Sa(this,S,function(ee){ee instanceof Bl?W.cancel():N(ee)}),W.then(o,h,_)},Ga.prototype.$goog_Thenable=!0,O(vh,Ve),vh.prototype.message="Deferred has already fired",vh.prototype.name="AlreadyCalledError",O(Bl,Ve),Bl.prototype.message="Deferred was canceled",Bl.prototype.name="CanceledError",yh.prototype.c=function(){throw delete bh[this.a],this.b};var bh={};function Oc(o){var h={},_=h.document||document,S=un(o).toString(),N=Cs(document,"SCRIPT"),W={Vb:N,Ma:void 0},ee=new Ga(W),Ie=null,St=null!=h.timeout?h.timeout:5e3;return 0<St&&(Ie=window.setTimeout(function(){Ia(N,!0);var Ut=new wh(Om,"Timeout reached for loading script "+S);Ui(ee),Ac(ee,!1,Ut)},St),W.Ma=Ie),N.onload=N.onreadystatechange=function(){N.readyState&&"loaded"!=N.readyState&&"complete"!=N.readyState||(Ia(N,h.wd||!1,Ie),Ui(ee),Ac(ee,!0,null))},N.onerror=function(){Ia(N,!0,Ie);var Ut=new wh(Am,"Error while loading script "+S);Ui(ee),Ac(ee,!1,Ut)},Xn(W=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),jo(N,W),function(o,h){Ir(o,"HTMLScriptElement"),o.src=un(h),null===st&&(st=(h=(h=Y.document).querySelector&&h.querySelector("script[nonce]"))&&(h=h.nonce||h.getAttribute("nonce"))&&nt.test(h)?h:""),(h=st)&&o.setAttribute("nonce",h)}(N,o),function(o){var h;return(h=(o||document).getElementsByTagName("HEAD"))&&0!=h.length?h[0]:o.documentElement}(_).appendChild(N),ee}function xc(){if(this&&this.Vb){var o=this.Vb;o&&"SCRIPT"==o.tagName&&Ia(o,!0,this.Ma)}}function Ia(o,h,_){null!=_&&Y.clearTimeout(_),o.onload=Ne,o.onerror=Ne,o.onreadystatechange=Ne,h&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var Am=0,Om=1;function wh(o,h){var _="Jsloader error (code #"+o+")";h&&(_+=": "+h),Ve.call(this,_),this.code=o}function Ch(o){this.f=o}function fu(o,h,_){if(this.c=o,this.l=(o=h||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=o.secureTokenTimeout||_d,this.g=Mn(o.secureTokenHeaders||Sh),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=o.firebaseTimeout||Fu,this.a=Mn(o.firebaseHeaders||jl),_&&(this.a["X-Client-Version"]=_,this.g["X-Client-Version"]=_),_="Node"==Vr(),!(_=Y.XMLHttpRequest||_&&te.INTERNAL.node&&te.INTERNAL.node.XMLHttpRequest)&&!Zr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Zr()?new Tc(self):Tu()?new Ch(_):new Ic,this.b=null}O(wh,Ve),O(Ch,ms),Ch.prototype.a=function(){return new this.f},Ch.prototype.b=function(){return{}};var Eh,ra="idToken",_d=new ae(3e4,6e4),Sh={"Content-Type":"application/x-www-form-urlencoded"},Fu=new ae(3e4,6e4),jl={"Content-Type":"application/json"};function vd(o,h){h?o.a["X-Firebase-Locale"]=h:delete o.a["X-Firebase-Locale"]}function ol(o,h){h&&(o.l=Rc("https://securetoken.googleapis.com/v1/token",h),o.h=Rc("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",h),o.i=Rc("https://identitytoolkit.googleapis.com/v2/",h))}function Rc(o,h){return o=go(o),h=go(h.url),o.c=o.a+o.c,iu(o,h.f),o.a=h.a,Ds(o,h.g),o.toString()}function Hl(o,h){h?(o.a["X-Client-Version"]=h,o.g["X-Client-Version"]=h):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}function Pc(o,h,_,S,N,W,ee){(function(){var o=_o();return!((o="Chrome"!=Ba(o)?null:(o=o.match(/\sChrome\/(\d+)/i))&&2==o.length?parseInt(o[1],10):null)&&30>o||ue&&Bn&&!(9<Bn))})()||Zr()?o=Je(o.u,o):(Eh||(Eh=new zn(function(Ie,St){!function(o,h){((window.gapi||{}).client||{}).request?o():(Y[bd]=function(){((window.gapi||{}).client||{}).request?o():h(Error("CORS_UNSUPPORTED"))},function(o,h){Sa(o,null,h,void 0)}(Oc(Gi(yd,{onload:bd})),function(){h(Error("CORS_UNSUPPORTED"))}))}(Ie,St)})),o=Je(o.o,o)),o(h,_,S,N,W,ee)}fu.prototype.S=function(){return this.b},fu.prototype.u=function(o,h,_,S,N,W){if(Zr()&&(void 0===Y.fetch||void 0===Y.Headers||void 0===Y.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ee=new gh(this.f);if(W){ee.g=Math.max(0,W);var Ie=setTimeout(function(){ee.dispatchEvent("timeout")},W)}Ss(ee,"complete",function(){Ie&&clearTimeout(Ie);var St=null;try{St=JSON.parse(function(o){try{return o.a?o.a.responseText:""}catch(h){return as(o.b,"Can not get responseText: "+h.message),""}}(this))||null}catch(Ut){St=null}h&&h(St)}),Wo(ee,"ready",function(){Ie&&clearTimeout(Ie),V(this)}),Wo(ee,"timeout",function(){Ie&&clearTimeout(Ie),V(this),h&&h(null)}),function(o,h,_,S,N){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+h);_=_?_.toUpperCase():"GET",o.l=h,o.h="",o.P=_,o.G=!1,o.c=!0,o.a=o.O?o.O.a():ku.a(),o.A=function(o){return o.c||(o.c=o.b())}(o.O?o.O:ku),o.a.onreadystatechange=Je(o.Ub,o);try{as(o.b,na(o,"Opening Xhr")),o.N=!0,o.a.open(_,String(h),!0),o.N=!1}catch(ee){return as(o.b,na(o,"Error opening Xhr: "+ee.message)),void Ul(o,ee)}h=S||"";var W=new Fo(o.headers);N&&function(o,h){if(o.forEach&&"function"==typeof o.forEach)o.forEach(h,void 0);else if(wn(o)||"string"==typeof o)ct(o,h,void 0);else for(var _=So(o),S=Is(o),N=S.length,W=0;W<N;W++)h.call(void 0,S[W],_&&_[W],o)}(N,function(ee,Ie){W.set(Ie,ee)}),N=function(o){e:{for(var h=mh,_=o.length,S="string"==typeof o?o.split(""):o,N=0;N<_;N++)if(N in S&&h.call(void 0,S[N],N,o)){h=N;break e}h=-1}return 0>h?null:"string"==typeof o?o.charAt(h):o[h]}(W.Y()),S=Y.FormData&&h instanceof Y.FormData,!on(pd,_)||N||S||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),W.forEach(function(ee,Ie){this.a.setRequestHeader(Ie,ee)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.R&&(o.a.withCredentials=o.R);try{Mc(o),0<o.g&&(o.u=function(o){return ue&&Zi(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(o.a),as(o.b,na(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=Je(o.Ma,o)):o.o=$s(o.Ma,o.g,o)),as(o.b,na(o,"Sending request")),o.i=!0,o.a.send(h),o.i=!1}catch(ee){as(o.b,na(o,"Send error: "+ee.message)),Ul(o,ee)}}(ee,o,_,S,N)};var yd=new an(Tr,"https://apis.google.com/js/client.js?onload=%{onload}"),bd="__fcb"+Math.floor(1e6*Math.random()).toString();function sl(o){if("string"!=typeof(o=o.email)||!oo.test(o))throw new I("invalid-email")}function wd(o){"email"in o&&sl(o)}function Si(o){if(!o[ra])throw o.mfaPendingCredential?new I("multi-factor-auth-required",null,Mn(o)):new I("internal-error")}function ia(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new I("internal-error")}else{if(!o.sessionInfo)throw new I("missing-verification-id");if(!o.code)throw new I("missing-verification-code")}}fu.prototype.o=function(o,h,_,S,N){var W=this;Eh.then(function(){window.gapi.client.setApiKey(W.c);var ee=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:_,body:S,headers:N,authType:"none",callback:function(Ie){window.gapi.auth.setToken(ee),h&&h(Ie)}})}).s(function(ee){h&&h({error:{message:ee&&ee.message||"CORS_UNSUPPORTED"}})})},fu.prototype.yb=function(){return wr(this,De,{})},fu.prototype.Ab=function(o,h){return wr(this,fe,{idToken:o,email:h})},fu.prototype.Bb=function(o,h){return wr(this,Te,{idToken:o,password:h})};var Lu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function mf(o){if(!o.phoneVerificationInfo)throw new I("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new I("missing-verification-code")}function Ih(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new I("internal-error")}function _f(o,h){return h.oauthIdToken&&h.providerId&&0==h.providerId.indexOf("oidc.")&&!h.pendingToken&&(o.sessionId?h.nonce=o.sessionId:o.postBody&&Va(o=new Qs(o.postBody),"nonce")&&(h.nonce=o.get("nonce"))),h}function Ed(o){var h=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",h=gs(o)):"FEDERATED_USER_ID_ALREADY_LINKED"==o.errorMessage?(o.code="credential-already-in-use",h=gs(o)):"EMAIL_EXISTS"==o.errorMessage?(o.code="email-already-in-use",h=gs(o)):o.errorMessage&&(h=Wl(o.errorMessage)),h)throw h;Si(o)}function vf(o,h){return h.returnIdpCredential=!0,wr(o,Ct,h)}function Nc(o,h){return h.returnIdpCredential=!0,wr(o,vn,h)}function yf(o,h){return h.returnIdpCredential=!0,h.autoCreate=!1,wr(o,Gt,h)}function Fc(o){if(!o.oobCode)throw new I("invalid-action-code")}(Z=fu.prototype).Cb=function(o,h){var _={idToken:o},S=[];return gn(Lu,function(N,W){var ee=h[W];null===ee?S.push(N):W in h&&(_[W]=ee)}),S.length&&(_.deleteAttribute=S),wr(this,fe,_)},Z.ub=function(o,h){return Xn(o={requestType:"PASSWORD_RESET",email:o},h),wr(this,C,o)},Z.vb=function(o,h){return Xn(o={requestType:"EMAIL_SIGNIN",email:o},h),wr(this,u,o)},Z.tb=function(o,h){return Xn(o={requestType:"VERIFY_EMAIL",idToken:o},h),wr(this,d,o)},Z.Db=function(o,h,_){return Xn(o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:h},_),wr(this,m,o)},Z.eb=function(o){return wr(this,Gr,o)},Z.mb=function(o,h){return wr(this,j,{oobCode:o,newPassword:h})},Z.Qa=function(o){return wr(this,Sd,{oobCode:o})},Z.ib=function(o){return wr(this,Gl,{oobCode:o})};var Gl={endpoint:"setAccountInfo",B:Fc,Z:"email",C:!0},Sd={endpoint:"resetPassword",B:Fc,F:function(o){var h=o.requestType;if(!h||!o.email&&"EMAIL_SIGNIN"!=h&&"VERIFY_AND_CHANGE_EMAIL"!=h)throw new I("internal-error")},C:!0},Wa={endpoint:"signupNewUser",B:function(o){if(sl(o),!o.password)throw new I("weak-password")},F:Si,U:!0,C:!0},oa={endpoint:"createAuthUri",C:!0},Vp={endpoint:"deleteAccount",M:["idToken"]},bf={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(o){if("array"!=ft(o.deleteProvider))throw new I("internal-error")}},Up={endpoint:"emailLinkSignin",M:["email","oobCode"],B:sl,F:Si,U:!0,C:!0},Yv={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:sl,F:Si,U:!0},Pm={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:mf,F:Si,C:!0,Na:!0},c={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:mf,F:Si,C:!0,Na:!0},a={endpoint:"getAccountInfo"},u={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if("EMAIL_SIGNIN"!=o.requestType)throw new I("internal-error");sl(o)},Z:"email",C:!0},d={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(o){if("VERIFY_EMAIL"!=o.requestType)throw new I("internal-error")},Z:"email",C:!0},m={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(o){if("VERIFY_AND_CHANGE_EMAIL"!=o.requestType)throw new I("internal-error")},Z:"email",C:!0},C={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if("PASSWORD_RESET"!=o.requestType)throw new I("internal-error");sl(o)},Z:"email",C:!0},T={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},P={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(o){if(!o.recaptchaSiteKey)throw new I("internal-error")}},j={endpoint:"resetPassword",B:Fc,Z:"email",C:!0},ne={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},fe={endpoint:"setAccountInfo",M:["idToken"],B:wd,U:!0},Te={endpoint:"setAccountInfo",M:["idToken"],B:function(o){if(wd(o),!o.password)throw new I("weak-password")},F:Si,U:!0},De={endpoint:"signupNewUser",F:Si,U:!0,C:!0},We={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(o){if(!o.phoneEnrollmentInfo)throw new I("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},ut={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},Ct={endpoint:"verifyAssertion",B:Ih,Xa:_f,F:Ed,U:!0,C:!0},Gt={endpoint:"verifyAssertion",B:Ih,Xa:_f,F:function(o){if(o.errorMessage&&"USER_NOT_FOUND"==o.errorMessage)throw new I("user-not-found");if(o.errorMessage)throw Wl(o.errorMessage);Si(o)},U:!0,C:!0},vn={endpoint:"verifyAssertion",B:function(o){if(Ih(o),!o.idToken)throw new I("internal-error")},Xa:_f,F:Ed,U:!0},Kn={endpoint:"verifyCustomToken",B:function(o){if(!o.token)throw new I("invalid-custom-token")},F:Si,U:!0,C:!0},cr={endpoint:"verifyPassword",B:function(o){if(sl(o),!o.password)throw new I("wrong-password")},F:Si,U:!0,C:!0},Gr={endpoint:"verifyPhoneNumber",B:ia,F:Si,C:!0},_i={endpoint:"verifyPhoneNumber",B:function(o){if(!o.idToken)throw new I("internal-error");ia(o)},F:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",gs(o);Si(o)}},Bi={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ia,F:Si,C:!0},du={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(o){if(!!o[ra]^!!o.refreshToken)throw new I("internal-error")},C:!0,Na:!0};function wr(o,h,_){if(!function(o,h){if(!h||!h.length)return!0;if(!o)return!1;for(var _=0;_<h.length;_++){var S=o[h[_]];if(null==S||""===S)return!1}return!0}(_,h.M))return Gn(new I("internal-error"));var W,S=!!h.Na,N=h.Tb||"POST";return $t(_).then(h.B).then(function(){return h.U&&(_.returnSecureToken=!0),h.C&&o.b&&void 0===_.tenantId&&(_.tenantId=o.b),function(o,h,_,S,N,W,ee){var Ie=go(h+_);Vi(Ie,"key",o.c),ee&&Vi(Ie,"cb",M().toString());var St="GET"==S;if(St)for(var Ut in N)N.hasOwnProperty(Ut)&&Vi(Ie,Ut,N[Ut]);return new zn(function(Cr,Ai){Pc(o,Ie.toString(),function(pi){pi?pi.error?Ai(Th(pi,W||{})):Cr(pi):Ai(new I("network-request-failed"))},S,St?void 0:Wu(D(N)),o.a,o.m.get())})}(o,S?o.i:o.h,h.endpoint,N,_,h.Gb,h.kb||!1)}).then(function(ee){return W=ee,h.Xa?h.Xa(_,W):W}).then(h.F).then(function(){if(!h.Z)return W;if(!(h.Z in W))throw new I("internal-error");return W[h.Z]})}function Wl(o){return Th({error:{errors:[{message:o}],code:400,message:o}})}function Th(o,h){var _=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",S={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(_=S[_]?new I(S[_]):null)return _;for(var N in _=o.error&&o.error.message||"",Xn(S={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},h||{}),h=(h=_.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<h.length?h[1]:void 0,S)if(0===_.indexOf(N))return new I(S[N],h);return!h&&o&&(h=b(o)),new I("internal-error",h)}function wf(o){this.b=o,this.a=null,this.qb=function(o){return(Lc||(Lc=new zn(function(o,h){function _(){ce(),bi("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){ce(),h(Error("Network Error"))},timeout:Ta.get()})}if(bi("gapi.iframes.Iframe"))o();else if(bi("gapi.load"))_();else{var S="__iframefcb"+Math.floor(1e6*Math.random()).toString();Y[S]=function(){bi("gapi.load")?_():h(Error("Network Error"))},$t(Oc(S=Gi(Bp,{onload:S}))).s(function(){h(Error("Network Error"))})}}).s(function(o){throw Lc=null,o}))).then(function(){return new zn(function(h,_){bi("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(S){function N(){clearTimeout(W),h()}o.a=S,o.a.restyle({setHideOnLeave:!1});var W=setTimeout(function(){_(Error("Network Error"))},Qi.get());S.ping(N).then(N,function(){_(Error("Network Error"))})})})})}(this)}var Bp=new an(Tr,"https://apis.google.com/js/api.js?onload=%{onload}"),Ta=new ae(3e4,6e4),Qi=new ae(5e3,15e3),Lc=null;function Qv(o,h,_,S){this.l=o,this.h=h,this.i=_,this.g=S,this.f=null,o=this.g?Eu((o=go(this.g.url)).f,o.a,o.g,"/emulator/auth/iframe"):Eu("https",this.l,null,"/__/auth/iframe"),this.a=o,Vi(this.a,"apiKey",this.h),Vi(this.a,"appName",this.i),this.b=null,this.c=[]}function Nm(o,h,_,S,N,W){this.u=o,this.o=h,this.c=_,this.v=S,this.m=W,this.i=this.g=this.l=null,this.a=N,this.h=this.f=null}function jp(o){try{return te.app(o).auth().Ga()}catch(h){return[]}}function Xv(o,h,_,S,N,W){this.o=o,this.g=h,this.b=_,this.f=W,this.c=S||null,this.i=N||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function Fm(o){var h=w();return function(o){return wr(o,T,{}).then(function(h){return h.authorizedDomains||[]})}(o).then(function(_){e:{var S=go(h),N=S.f;S=S.a;for(var W=0;W<_.length;W++){var ee=_[W],Ie=S,St=N;if(0==ee.indexOf("chrome-extension://")?Ie=go(ee).a==Ie&&"chrome-extension"==St:"http"!=St&&"https"!=St?Ie=!1:Dr.test(ee)?Ie=Ie==ee:(ee=ee.split(".").join("\\."),Ie=new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(Ie)),Ie){_=!0;break e}}_=!1}if(!_)throw new Ap(w())})}function Jv(o){return o.v||(o.v=so().then(function(){if(!o.u){var h=o.c,_=o.i,S=jp(o.b),N=new Qv(o.o,o.g,o.b,o.f);N.f=h,N.b=_,N.c=Nr(S||[]),o.u=N.toString()}o.m=new wf(o.u),function(o){if(!o.m)throw Error("IfcHandler must be initialized!");!function(o,h){o.qb.then(function(){o.a.register("authEvent",h,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(o.m,function(h){var _={};if(h&&h.authEvent){var S=!1;for(h=Mp(h.authEvent),_=0;_<o.h.length;_++)S=o.h[_](h)||S;return(_={}).status=S?"ACK":"ERROR",$t(_)}return _.status="ERROR",$t(_)})}(o)})),o.v}function Lm(o){return o.l||(o.A=o.c?Wn(o.c,jp(o.b)):null,o.l=new fu(o.g,le(o.i),o.A),o.f&&ol(o.l,o.f)),o.l}function Id(o,h,_,S,N,W,ee,Ie,St,Ut,Cr,Ai){return(o=new Nm(o,h,_,S,N,Ai)).l=W,o.g=ee,o.i=Ie,o.b=Mn(St||null),o.f=Ut,o.xb(Cr).toString()}function Vm(o){if(this.a=o||te.INTERNAL.reactNative&&te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Hp(o){this.b=o,this.a={},this.f=Je(this.c,this)}Qv.prototype.toString=function(){return this.f?Vi(this.a,"v",this.f):qr(this.a.b,"v"),this.b?Vi(this.a,"eid",this.b):qr(this.a.b,"eid"),this.c.length?Vi(this.a,"fw",this.c.join(",")):qr(this.a.b,"fw"),this.a.toString()},Nm.prototype.xb=function(o){return this.h=o,this},Nm.prototype.toString=function(){if(this.m){var o=go(this.m.url);o=Eu(o.f,o.a,o.g,"/emulator/auth/handler")}else o=Eu("https",this.u,null,"/__/auth/handler");if(Vi(o,"apiKey",this.o),Vi(o,"appName",this.c),Vi(o,"authType",this.v),this.a.isOAuthProvider){var h=this.a;try{var _=te.app(this.c).auth().ka()}catch(Ie){_=null}for(var S in h.nb=_,Vi(o,"providerId",this.a.providerId),h=D((_=this.a).Hb))h[S]=h[S].toString();S=_.Pc,h=Mn(h);for(var N=0;N<S.length;N++){var W=S[N];W in h&&delete h[W]}_.ob&&_.nb&&!h[_.ob]&&(h[_.ob]=_.nb),sn(h)||Vi(o,"customParameters",b(h))}if("function"==typeof this.a.Pb&&(_=this.a.Pb()).length&&Vi(o,"scopes",_.join(",")),this.l?Vi(o,"redirectUrl",this.l):qr(o.b,"redirectUrl"),this.g?Vi(o,"eventId",this.g):qr(o.b,"eventId"),this.i?Vi(o,"v",this.i):qr(o.b,"v"),this.b)for(var ee in this.b)this.b.hasOwnProperty(ee)&&!mi(o,ee)&&Vi(o,ee,this.b[ee]);return this.h?Vi(o,"tid",this.h):qr(o.b,"tid"),this.f?Vi(o,"eid",this.f):qr(o.b,"eid"),(ee=jp(this.c)).length&&Vi(o,"fw",ee.join(",")),o.toString()},(Z=Xv.prototype).Nb=function(o,h,_){var S=new I("popup-closed-by-user"),N=new I("web-storage-unsupported"),W=this,ee=!1;return this.la().then(function(){(function(o){var h={type:"webStorageSupport"};return Jv(o).then(function(){return function(o,h){return o.qb.then(function(){return new zn(function(_){o.a.send(h.type,h,_,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(o.m,h)}).then(function(_){if(_&&_.length&&void 0!==_[0].webStorageSupport)return _[0].webStorageSupport;throw Error()})})(W).then(function(Ie){Ie||(o&&Ze(o),h(N),ee=!0)})}).s(function(){}).then(function(){if(!ee)return function(o){return new zn(function(h){return function _(){Eo(2e3).then(function(){if(o&&!o.closed)return _();h()})}()})}(o)}).then(function(){if(!ee)return Eo(_).then(function(){h(S)})})},Z.Wb=function(){var o=_o();return!g(o)&&!Q(o)},Z.Sb=function(){return!1},Z.Lb=function(o,h,_,S,N,W,ee,Ie){if(!o)return Gn(new I("popup-blocked"));if(ee&&!g())return this.la().s(function(Ut){Ze(o),N(Ut)}),S(),$t();this.a||(this.a=Fm(Lm(this)));var St=this;return this.a.then(function(){var Ut=St.la().s(function(Cr){throw Ze(o),N(Cr),Cr});return S(),Ut}).then(function(){cd(_),ee||k(Id(St.o,St.g,St.b,h,_,null,W,St.c,void 0,St.i,Ie,St.f),o)}).s(function(Ut){throw"auth/network-request-failed"==Ut.code&&(St.a=null),Ut})},Z.Mb=function(o,h,_,S){this.a||(this.a=Fm(Lm(this)));var N=this;return this.a.then(function(){cd(h),k(Id(N.o,N.g,N.b,o,h,w(),_,N.c,void 0,N.i,S,N.f))}).s(function(W){throw"auth/network-request-failed"==W.code&&(N.a=null),W})},Z.la=function(){var o=this;return Jv(this).then(function(){return o.m.qb}).s(function(){throw o.a=null,new I("network-request-failed")})},Z.Zb=function(){return!0},Z.Ea=function(o){this.h.push(o)},Z.Ra=function(o){kn(this.h,function(h){return h==o})},(Z=Vm.prototype).get=function(o){return $t(this.a.getItem(o)).then(function(h){return h&&x(h)})},Z.set=function(o,h){return $t(this.a.setItem(o,b(h)))},Z.T=function(o){return $t(this.a.removeItem(o))},Z.ca=function(){},Z.ia=function(){};var Hm,Um=[];function NC(o,h,_){sn(o.a)&&o.b.addEventListener("message",o.f),void 0===o.a[h]&&(o.a[h]=[]),o.a[h].push(_)}function Bm(o){this.a=o}function Td(o){this.c=o,this.b=!1,this.a=[]}function Zv(o,h,_,S){var N,ee,Ie,St,W=_||{},Ut=null;if(o.b)return Gn(Error("connection_unavailable"));var Cr=S?800:50,Ai="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zn(function(pi,Xo){Ai?(N=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ai.port1.start(),Ie=setTimeout(function(){Xo(Error("unsupported_event"))},Cr),o.a.push(Ut={messageChannel:Ai,onMessage:ee=function(Mr){Mr.data.eventId===N&&("ack"===Mr.data.status?(clearTimeout(Ie),St=setTimeout(function(){Xo(Error("timeout"))},3e3)):"done"===Mr.data.status?(clearTimeout(St),void 0!==Mr.data.response?pi(Mr.data.response):Xo(Error("unknown_error"))):(clearTimeout(Ie),clearTimeout(St),Xo(Error("invalid_response"))))}}),Ai.port1.addEventListener("message",ee),o.c.postMessage({eventType:h,eventId:N,data:W},[Ai.port2])):Xo(Error("connection_unavailable"))}).then(function(pi){return jm(o,Ut),pi}).s(function(pi){throw jm(o,Ut),pi})}function jm(o,h){if(h){var _=h.messageChannel;_&&(_.port1.removeEventListener("message",h.onMessage),_.port1.close()),kn(o.a,function(N){return N==h})}}function gu(){if(!zm())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=Y.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var o=this;Zr()&&self?(this.l=function(){var o=Zr()?self:null;if(ct(Um,function(_){_.b==o&&(h=_)}),!h){var h=new Hp(o);Um.push(h)}return h}(),NC(this.l,"keyChanged",function(h,_){return ny(o).then(function(S){return 0<S.length&&ct(o.a,function(N){N(S)}),{keyProcessed:on(S,_.key)}})}),NC(this.l,"ping",function(){return $t(["keyChanged"])})):function(){var o=Y.navigator;return o&&o.serviceWorker?$t().then(function(){return o.serviceWorker.ready}).then(function(h){return h.active||null}).s(function(){return null}):$t(null)}().then(function(h){(o.h=h)&&(o.g=new Td(new Bm(h)),Zv(o.g,"ping",null,!0).then(function(_){_[0].fulfilled&&on(_[0].value,"keyChanged")&&(o.o=!0)}).s(function(){}))})}function ey(o){return new zn(function(h,_){var S=o.m.open("firebaseLocalStorageDb",1);S.onerror=function(N){try{N.preventDefault()}catch(W){}_(Error(N.target.error))},S.onupgradeneeded=function(N){N=N.target.result;try{N.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(W){_(W)}},S.onsuccess=function(N){(N=N.target.result).objectStoreNames.contains("firebaseLocalStorage")?h(N):function(o){return new zn(function(h,_){var S=o.m.deleteDatabase("firebaseLocalStorageDb");S.onsuccess=function(){h()},S.onerror=function(N){_(Error(N.target.error))}})}(o).then(function(){return ey(o)}).then(function(W){h(W)}).s(function(W){_(W)})}})}function zp(o){return o.v||(o.v=ey(o)),o.v}function zm(){try{return!!Y.indexedDB}catch(o){return!1}}function Vc(o){return o.objectStore("firebaseLocalStorage")}function Ns(o,h){return o.transaction(["firebaseLocalStorage"],h?"readwrite":"readonly")}function Mh(o){return new zn(function(h,_){o.onsuccess=function(S){S&&S.target?h(S.target.result):h()},o.onerror=function(S){_(S.target.error)}})}function ty(o,h){return o.g&&o.h&&function(){var o=Y.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}()===o.h?Zv(o.g,"keyChanged",{key:h},o.o).then(function(){}).s(function(){}):$t()}function ny(o){return zp(o).then(function(h){var _=Vc(Ns(h,!1));return _.getAll?Mh(_.getAll()):new zn(function(S,N){var W=[],ee=_.openCursor();ee.onsuccess=function(Ie){(Ie=Ie.target.result)?(W.push(Ie.value),Ie.continue()):S(W)},ee.onerror=function(Ie){N(Ie.target.error)}})}).then(function(h){var _={},S=[];if(0==o.b){for(S=0;S<h.length;S++)_[h[S].fbase_key]=h[S].value;S=q(o.c,_),o.c=_}return S})}function LC(o){o.i&&o.i.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function qm(o){var h=this,_=null;this.a=[],this.type="indexedDB",this.c=o,this.b=$t().then(function(){if(zm()){var S=z(),N="__sak"+S;return Hm||(Hm=new gu),(_=Hm).set(N,S).then(function(){return _.get(N)}).then(function(W){if(W!==S)throw Error("indexedDB not supported!");return _.T(N)}).then(function(){return _}).s(function(){return h.c})}return h.c}).then(function(S){return h.type=S.type,S.ca(function(N){ct(h.a,function(W){W(N)})}),S})}function Ah(){this.a={},this.type="inMemory"}function qp(){if(!function(){var o="Node"==Vr();if(!(o=iy()||o&&te.INTERNAL.node&&te.INTERNAL.node.localStorage))return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==Vr()?new I("internal-error","The LocalStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=iy()||te.INTERNAL.node.localStorage,this.type="localStorage"}function iy(){try{var o=Y.localStorage,h=z();return o&&(o.setItem(h,"1"),o.removeItem(h)),o}catch(_){return null}}function mu(){this.type="nullStorage"}function oy(){if(!function(){var o="Node"==Vr();if(!(o=VC()||o&&te.INTERNAL.node&&te.INTERNAL.node.sessionStorage))return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==Vr()?new I("internal-error","The SessionStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=VC()||te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function VC(){try{var o=Y.sessionStorage,h=z();return o&&(o.setItem(h,"1"),o.removeItem(h)),o}catch(_){return null}}function hT(){var o={};o.Browser=Gm,o.Node=Wm,o.ReactNative=UC,o.Worker=ay,this.a=o[Vr()]}Hp.prototype.c=function(o){var h=o.data.eventType,_=o.data.eventId,S=this.a[h];if(S&&0<S.length){o.ports[0].postMessage({status:"ack",eventId:_,eventType:h,response:null});var N=[];ct(S,function(W){N.push($t().then(function(){return W(o.origin,o.data.data)}))}),Go(N).then(function(W){var ee=[];ct(W,function(Ie){ee.push({fulfilled:Ie.Ob,value:Ie.value,reason:Ie.reason?Ie.reason.message:void 0})}),ct(ee,function(Ie){for(var St in Ie)void 0===Ie[St]&&delete Ie[St]}),o.ports[0].postMessage({status:"done",eventId:_,eventType:h,response:ee})})}},Bm.prototype.postMessage=function(o,h){this.a.postMessage(o,h)},Td.prototype.close=function(){for(;0<this.a.length;)jm(this,this.a[0]);this.b=!0},(Z=gu.prototype).set=function(o,h){var S,_=!1,N=this;return zp(this).then(function(W){return Mh((W=Vc(Ns(S=W,!0))).get(o))}).then(function(W){var ee=Vc(Ns(S,!0));return W?(W.value=h,Mh(ee.put(W))):(N.b++,_=!0,(W={}).fbase_key=o,W.value=h,Mh(ee.add(W)))}).then(function(){return N.c[o]=h,ty(N,o)}).na(function(){_&&N.b--})},Z.get=function(o){return zp(this).then(function(h){return Mh(Vc(Ns(h,!1)).get(o))}).then(function(h){return h&&h.value})},Z.T=function(o){var h=!1,_=this;return zp(this).then(function(S){return h=!0,_.b++,Mh(Vc(Ns(S,!0)).delete(o))}).then(function(){return delete _.c[o],ty(_,o)}).na(function(){h&&_.b--})},Z.ca=function(o){0==this.a.length&&function(o){LC(o),function h(){o.f=setTimeout(function(){o.i=ny(o).then(function(_){0<_.length&&ct(o.a,function(S){S(_)})}).then(function(){h()}).s(function(_){"STOP_EVENT"!=_.message&&h()})},800)}()}(this),this.a.push(o)},Z.ia=function(o){kn(this.a,function(h){return h==o}),0==this.a.length&&LC(this)},(Z=qm.prototype).get=function(o){return this.b.then(function(h){return h.get(o)})},Z.set=function(o,h){return this.b.then(function(_){return _.set(o,h)})},Z.T=function(o){return this.b.then(function(h){return h.T(o)})},Z.ca=function(o){this.a.push(o)},Z.ia=function(o){kn(this.a,function(h){return h==o})},(Z=Ah.prototype).get=function(o){return $t(this.a[o])},Z.set=function(o,h){return this.a[o]=h,$t()},Z.T=function(o){return delete this.a[o],$t()},Z.ca=function(){},Z.ia=function(){},(Z=qp.prototype).get=function(o){var h=this;return $t().then(function(){return x(h.a.getItem(o))})},Z.set=function(o,h){var _=this;return $t().then(function(){var S=b(h);null===S?_.T(o):_.a.setItem(o,S)})},Z.T=function(o){var h=this;return $t().then(function(){h.a.removeItem(o)})},Z.ca=function(o){Y.window&&fr(Y.window,"storage",o)},Z.ia=function(o){Y.window&&Hr(Y.window,"storage",o)},(Z=mu.prototype).get=function(){return $t(null)},Z.set=function(){return $t()},Z.T=function(){return $t()},Z.ca=function(){},Z.ia=function(){},(Z=oy.prototype).get=function(o){var h=this;return $t().then(function(){return x(h.a.getItem(o))})},Z.set=function(o,h){var _=this;return $t().then(function(){var S=b(h);null===S?_.T(o):_.a.setItem(o,S)})},Z.T=function(o){var h=this;return $t().then(function(){h.a.removeItem(o)})},Z.ca=function(){},Z.ia=function(){};var sa,Dd,Gm={D:qp,ab:oy},Wm={D:qp,ab:oy},UC={D:Vm,ab:mu},ay={D:qp,ab:mu},al={qd:"local",NONE:"none",sd:"session"};function $m(){var o=!(Q(_o())||!Os()),h=g(),_=Ku();this.v=o,this.h=h,this.l=_,this.a={},sa||(sa=new hT),o=sa;try{this.g=!di()&&Zt()||!Y.indexedDB?new o.a.D:new qm(Zr()?new Ah:new o.a.D)}catch(S){this.g=new Ah,this.h=!0}try{this.i=new o.a.ab}catch(S){this.i=new Ah}this.m=new Ah,this.f=Je(this.Xb,this),this.b={}}function Oh(){return Dd||(Dd=new $m),Dd}function Uc(o,h){switch(h){case"session":return o.i;case"none":return o.m;default:return o.g}}function Md(o,h){return"firebase:"+o.name+(h?":"+h:"")}function Bc(o,h,_){return _=Md(h,_),"local"==h.D&&(o.b[_]=null),Uc(o,h.D).T(_)}function Km(o){o.c&&(clearInterval(o.c),o.c=null)}function Ym(o){this.a=o,this.b=Oh()}(Z=$m.prototype).get=function(o,h){return Uc(this,o.D).get(Md(o,h))},Z.set=function(o,h,_){var S=Md(o,_),N=this,W=Uc(this,o.D);return W.set(S,h).then(function(){return W.get(S)}).then(function(ee){"local"==o.D&&(N.b[S]=ee)})},Z.addListener=function(o,h,_){o=Md(o,h),this.l&&(this.b[o]=Y.localStorage.getItem(o)),sn(this.a)&&(Uc(this,"local").ca(this.f),this.h||(di()||!Zt())&&Y.indexedDB||!this.l||function(o){Km(o),o.c=setInterval(function(){for(var h in o.a){var _=Y.localStorage.getItem(h),S=o.b[h];_!=S&&(o.b[h]=_,_=new gt({type:"storage",key:h,target:window,oldValue:S,newValue:_,a:!0}),o.Xb(_))}},1e3)}(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(_)},Z.removeListener=function(o,h,_){o=Md(o,h),this.a[o]&&(kn(this.a[o],function(S){return S==_}),0==this.a[o].length&&delete this.a[o]),sn(this.a)&&(Uc(this,"local").ia(this.f),Km(this))},Z.Xb=function(o){if(o&&o.g){var h=o.a.key;if(null==h)for(var _ in this.a){var S=this.b[_];void 0===S&&(S=null);var N=Y.localStorage.getItem(_);N!==S&&(this.b[_]=N,this.lb(_))}else if(0==h.indexOf("firebase:")&&this.a[h]){if(void 0!==o.a.a?Uc(this,"local").ia(this.f):Km(this),this.v)if(_=Y.localStorage.getItem(h),(S=o.a.newValue)!==_)null!==S?Y.localStorage.setItem(h,S):Y.localStorage.removeItem(h);else if(this.b[h]===S&&void 0===o.a.a)return;var W=this;_=function(){(void 0!==o.a.a||W.b[h]!==Y.localStorage.getItem(h))&&(W.b[h]=Y.localStorage.getItem(h),W.lb(h))},ue&&Bn&&10==Bn&&Y.localStorage.getItem(h)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(_,10):_()}}else ct(o,Je(this.lb,this))},Z.lb=function(o){this.a[o]&&ct(this.a[o],function(h){h()})};var Wp,Qm={name:"authEvent",D:"local"};function jC(){this.a=Oh()}function Gp(o,h){this.b=Xm,this.f=Y.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=h,this.l=Y.Int32Array?new Int32Array(64):Array(64),void 0===Wp&&(Wp=Y.Int32Array?new Int32Array(t_):t_),this.reset()}O(Gp,function(){this.b=-1});for(var Xm=64,Jm=Xm-1,Zm=[],Ad=0;Ad<Jm;Ad++)Zm[Ad]=0;var cy=nr(128,Zm);function e_(o){for(var h=o.f,_=o.l,S=0,N=0;N<h.length;)_[S++]=h[N]<<24|h[N+1]<<16|h[N+2]<<8|h[N+3],N=4*S;for(h=16;64>h;h++){var W=(0|_[h-16])+(((N=0|_[h-15])>>>7|N<<25)^(N>>>18|N<<14)^N>>>3)|0,ee=(0|_[h-7])+(((S=0|_[h-2])>>>17|S<<15)^(S>>>19|S<<13)^S>>>10)|0;_[h]=W+ee|0}S=0|o.a[0],N=0|o.a[1];var Ie=0|o.a[2],St=0|o.a[3],Ut=0|o.a[4],Cr=0|o.a[5],Ai=0|o.a[6];for(W=0|o.a[7],h=0;64>h;h++){var pi=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&N^S&Ie^N&Ie)|0;ee=(W=W+((Ut>>>6|Ut<<26)^(Ut>>>11|Ut<<21)^(Ut>>>25|Ut<<7))|0)+((ee=(ee=Ut&Cr^~Ut&Ai)+(0|Wp[h])|0)+(0|_[h])|0)|0,W=Ai,Ai=Cr,Cr=Ut,Ut=St+ee|0,St=Ie,Ie=N,N=S,S=ee+pi|0}o.a[0]=o.a[0]+S|0,o.a[1]=o.a[1]+N|0,o.a[2]=o.a[2]+Ie|0,o.a[3]=o.a[3]+St|0,o.a[4]=o.a[4]+Ut|0,o.a[5]=o.a[5]+Cr|0,o.a[6]=o.a[6]+Ai|0,o.a[7]=o.a[7]+W|0}function $p(o,h,_){void 0===_&&(_=h.length);var S=0,N=o.c;if("string"==typeof h)for(;S<_;)o.f[N++]=h.charCodeAt(S++),N==o.b&&(e_(o),N=0);else{if(!wn(h))throw Error("message must be string or array");for(;S<_;){var W=h[S++];if(!("number"==typeof W&&0<=W&&255>=W&&W==(0|W)))throw Error("message must be a byte array");o.f[N++]=W,N==o.b&&(e_(o),N=0)}}o.c=N,o.g+=_}Gp.prototype.reset=function(){this.g=this.c=0,this.a=Y.Int32Array?new Int32Array(this.h):Nr(this.h)};var t_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function jc(){Gp.call(this,8,hy)}O(jc,Gp);var hy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function n_(o,h,_,S,N,W){this.m=o,this.i=h,this.l=_,this.v=S||null,this.u=N||null,this.o=W,this.h=h+":"+_,this.A=new jC,this.g=new Ym(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kp(o){return new I("invalid-cordova-configuration",o)}function r_(o,h){for(var _=0;_<o.b.length;_++)try{o.b[_](h)}catch(S){}}function i_(o){return o.f||(o.f=o.la().then(function(){return new zn(function(h){o.Ea(function _(S){return h(S),o.Ra(_),!1}),function(o){function h(ee){S=!0,N&&N.cancel(),Od(o).then(function(Ie){var St=_;if(Ie&&ee&&ee.url){var Ut=null;-1!=(St=ld(ee.url)).indexOf("/__/auth/callback")&&(Ut=(Ut="object"==typeof(Ut=x(mi(Ut=go(St),"firebaseError")||null))?F(Ut):null)?new ss(Ie.c,Ie.b,null,null,Ut,null,Ie.S()):new ss(Ie.c,Ie.b,St,Ie.f,null,null,Ie.S())),St=Ut||_}r_(o,St)})}var _=new ss("unknown",null,null,null,new I("no-auth-event")),S=!1,N=Eo(500).then(function(){return Od(o).then(function(){S||r_(o,_)})}),W=Y.handleOpenURL;Y.handleOpenURL=function(ee){if(0==ee.toLowerCase().indexOf(bi("BuildInfo.packageName",Y).toLowerCase()+"://")&&h({url:ee}),"function"==typeof W)try{W(ee)}catch(Ie){console.error(Ie)}},rl||(rl=new Ao),function(o){var h=rl;h.a.push(o),h.b||(h.b=function(_){for(var S=0;S<h.a.length;S++)h.a[S](_)},"function"==typeof(o=bi("universalLinks.subscribe",Y))&&o(null,h.b))}(h)}(o)})})),o.f}function Od(o){var h=null;return function(o){return o.b.get(Qm,o.a).then(function(h){return Mp(h)})}(o.g).then(function(_){return h=_,Bc((_=o.g).b,Qm,_.a)}).then(function(){return h})}function Qp(o){this.a=o,this.b=Oh()}(Z=n_.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Ua(void 0)?so().then(function(){return new zn(function(o,h){var _=Y.document,S=setTimeout(function(){h(Error("Cordova framework is not ready."))},1e3);_.addEventListener("deviceready",function(){clearTimeout(S),o()},!1)})}):Gn(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof bi("universalLinks.subscribe",Y))throw Kp("cordova-universal-links-plugin-fix is not installed");if(void 0===bi("BuildInfo.packageName",Y))throw Kp("cordova-plugin-buildinfo is not installed");if("function"!=typeof bi("cordova.plugins.browsertab.openUrl",Y))throw Kp("cordova-plugin-browsertab is not installed");if("function"!=typeof bi("cordova.InAppBrowser.open",Y))throw Kp("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})},Z.Nb=function(o,h){return h(new I("operation-not-supported-in-this-environment")),$t()},Z.Lb=function(){return Gn(new I("operation-not-supported-in-this-environment"))},Z.Zb=function(){return!1},Z.Wb=function(){return!0},Z.Sb=function(){return!0},Z.Mb=function(o,h,_,S){if(this.c)return Gn(new I("redirect-operation-pending"));var N=this,W=Y.document,ee=null,Ie=null,St=null,Ut=null;return this.c=$t().then(function(){return cd(h),i_(N)}).then(function(){return function(o,h,_,S,N){var W=function(){for(var o=20,h=[];0<o;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return h.join("")}(),ee=new ss(h,S,null,W,new I("no-auth-event"),null,N),Ie=bi("BuildInfo.packageName",Y);if("string"!=typeof Ie)throw new I("invalid-cordova-configuration");var St=bi("BuildInfo.displayName",Y),Ut={};if(_o().toLowerCase().match(/iphone|ipad|ipod/))Ut.ibi=Ie;else{if(!_o().toLowerCase().match(/android/))return Gn(new I("operation-not-supported-in-this-environment"));Ut.apn=Ie}St&&(Ut.appDisplayName=St),W=function(o){var h=new jc;$p(h,o),o=[];var _=8*h.g;$p(h,cy,56>h.c?56-h.c:h.b-(h.c-56));for(var S=63;56<=S;S--)h.f[S]=255&_,_/=256;for(e_(h),S=_=0;S<h.i;S++)for(var N=24;0<=N;N-=8)o[_++]=h.a[S]>>N&255;return function(o){return pn(o,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}(o)}(W),Ut.sessionId=W;var Cr=Id(o.m,o.i,o.l,h,_,null,S,o.v,Ut,o.u,N,o.o);return o.la().then(function(){var Ai=o.h;return o.A.a.set(Qm,ee.w(),Ai)}).then(function(){var Ai=bi("cordova.plugins.browsertab.isAvailable",Y);if("function"!=typeof Ai)throw new I("invalid-cordova-configuration");var pi=null;Ai(function(Xo){if(Xo){if("function"!=typeof(pi=bi("cordova.plugins.browsertab.openUrl",Y)))throw new I("invalid-cordova-configuration");pi(Cr)}else{if("function"!=typeof(pi=bi("cordova.InAppBrowser.open",Y)))throw new I("invalid-cordova-configuration");Xo=_o(),o.a=pi(Cr,Xo.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Xo.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(N,o,h,_,S)}).then(function(){return new zn(function(Cr,Ai){Ie=function(){var pi=bi("cordova.plugins.browsertab.close",Y);return Cr(),"function"==typeof pi&&pi(),N.a&&"function"==typeof N.a.close&&(N.a.close(),N.a=null),!1},N.Ea(Ie),Ut=function(){He()&&St()},W.addEventListener("resume",St=function(){ee||(ee=Eo(2e3).then(function(){Ai(new I("redirect-cancelled-by-user"))}))},!1),_o().toLowerCase().match(/android/)||W.addEventListener("visibilitychange",Ut,!1)}).s(function(Cr){return Od(N).then(function(){throw Cr})})}).na(function(){St&&W.removeEventListener("resume",St,!1),Ut&&W.removeEventListener("visibilitychange",Ut,!1),ee&&ee.cancel(),Ie&&N.Ra(Ie),N.c=null})},Z.Ea=function(o){this.b.push(o),i_(this).s(function(h){"auth/invalid-cordova-configuration"===h.code&&(h=new ss("unknown",null,null,null,new I("no-auth-event")),o(h))})},Z.Ra=function(o){kn(this.b,function(h){return h==o})};var Sf={name:"pendingRedirect",D:"session"};function xd(o){return Bc(o.b,Sf,o.a)}function If(o,h,_,S){this.i={},this.u=0,this.O=o,this.m=h,this.v=_,this.G=S,this.h=[],this.f=!1,this.l=Je(this.o,this),this.b=new Da,this.A=new Ty,this.g=new Qp(wy(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Tf(this.O,this.m,this.v,Tt,this.G)}function Tf(o,h,_,S,N){var W=te.SDK_VERSION||null;return Ua()?new n_(o,h,_,W,S,N):new Xv(o,h,_,W,S,N)}function my(o){o.f||(o.f=!0,o.a.Ea(o.l));var h=o.a;return o.a.la().s(function(_){throw o.a==h&&o.reset(),_})}function o_(o){o.a.Wb()&&my(o).s(function(h){var _=new ss("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));yy(h)&&o.o(_)}),o.a.Sb()||Ey(o.b)}function s_(o,h){on(o.h,h)||o.h.push(h),o.f||function(o){return o.b.get(Sf,o.a).then(function(h){return"pending"==h})}(o.g).then(function(_){_?xd(o.g).then(function(){my(o).s(function(S){var N=new ss("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));yy(S)&&o.o(N)})}):o_(o)}).s(function(){o_(o)})}function _y(o,h){kn(o.h,function(_){return _==h})}If.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Tf(this.O,this.m,this.v,null,this.G),this.i={}},If.prototype.o=function(o){if(!o)throw new I("invalid-auth-event");if(6e5<=M()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var h=!1,_=0;_<this.h.length;_++){var S=this.h[_];if(S.Eb(o.c,o.b)){(h=this.c[o.c])&&(h.h(o,S),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=M())),h=!0;break}}return Ey(this.b),h};var vy=new ae(2e3,1e4),a_=new ae(3e4,6e4);function u_(o,h,_,S,N,W,ee){return o.a.Lb(h,_,S,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},N,W,ee)}function yy(o){return!(!o||"auth/cordova-not-ready"!=o.code)}function l_(o,h,_,S,N){var W;return function(o){return o.b.set(Sf,"pending",o.a)}(o.g).then(function(){return o.a.Mb(h,_,S,N).s(function(ee){if(yy(ee))throw new I("operation-not-supported-in-this-environment");return W=ee,xd(o.g).then(function(){throw W})}).then(function(){return o.a.Zb()?new zn(function(){}):xd(o.g).then(function(){return o.qa()}).then(function(){}).s(function(){})})})}function by(o,h,_,S,N){return o.a.Nb(S,function(W){h.ma(_,null,W,N)},vy.get())}If.prototype.qa=function(){return this.b.qa()};var Xp={};function wy(o,h,_){return o=o+":"+h,_&&(o=o+":"+_.url),o}function Cy(o,h,_,S){var N=wy(h,_,S);return Xp[N]||(Xp[N]=new If(o,h,_,S)),Xp[N]}function Da(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ey(o){o.g||(o.g=!0,xh(o,!1,null,null))}function Rd(o){o.g&&!o.i&&xh(o,!1,null,null)}function Sy(o,h){if(o.b=function(){return $t(h)},o.f.length)for(var _=0;_<o.f.length;_++)o.f[_](h)}function xh(o,h,_,S){h?S?function(o,h){if(o.b=function(){return Gn(h)},o.c.length)for(var _=0;_<o.c.length;_++)o.c[_](h)}(o,S):Sy(o,_):Sy(o,{user:null}),o.f=[],o.c=[]}function Ty(){}function Dy(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(o){this.hb=o},enumerable:!1})}function _r(o,h){this.a=h,_n(this,"verificationId",o)}function en(o,h,_,S){return new cu(o).eb(h,_).then(function(N){return new _r(N,S)})}function My(o){var h=Im(o);if(!(h&&h.exp&&h.auth_time&&h.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ki(this,{token:o,expirationTime:xt(1e3*h.exp),authTime:xt(1e3*h.auth_time),issuedAtTime:xt(1e3*h.iat),signInProvider:h.firebase&&h.firebase.sign_in_provider?h.firebase.sign_in_provider:null,signInSecondFactor:h.firebase&&h.firebase.sign_in_second_factor?h.firebase.sign_in_second_factor:null,claims:h})}function Df(o,h,_){var S=h&&h[c_];if(!S)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Mn(h),this.g=_,this.c=new af(null,S),this.b=[];var N=this;ct(h[_u]||[],function(W){(W=hc(W))&&N.b.push(W)}),_n(this,"auth",this.a),_n(this,"session",this.c),_n(this,"hints",this.b)}Da.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Da.prototype.h=function(o,h){if(o){this.reset(),this.g=!0;var _=o.c,S=o.b,N=o.a&&"auth/web-storage-unsupported"==o.a.code,W=o.a&&"auth/operation-not-supported-in-this-environment"==o.a.code;this.i=!(!N&&!W),"unknown"!=_||N||W?o.a?(xh(this,!0,null,o.a),$t()):h.Fa(_,S)?function(o,h,_){_=_.Fa(h.c,h.b);var S=h.g,N=h.f,W=h.i,ee=h.S(),Ie=!!h.c.match(/Redirect$/);_(S,N,ee,W).then(function(St){xh(o,Ie,St,null)}).s(function(St){xh(o,Ie,null,St)})}(this,o,h):Gn(new I("invalid-auth-event")):(xh(this,!1,null,null),$t())}else Gn(new I("invalid-auth-event"))},Da.prototype.qa=function(){var o=this;return new zn(function(h,_){o.b?o.b().then(h,_):(o.f.push(h),o.c.push(_),function(o){var h=new I("timeout");o.a&&o.a.cancel(),o.a=Eo(a_.get()).then(function(){o.b||(o.g=!0,xh(o,!0,null,h))})}(o))})},Ty.prototype.h=function(o,h){if(o){var _=o.c,S=o.b;o.a?(h.ma(o.c,null,o.a,o.b),$t()):h.Fa(_,S)?function(o,h){var _=o.b,S=o.c;h.Fa(S,_)(o.g,o.f,o.S(),o.i).then(function(N){h.ma(S,N,null,_)}).s(function(N){h.ma(S,null,N,_)})}(o,h):Gn(new I("invalid-auth-event"))}else Gn(new I("invalid-auth-event"))},_r.prototype.confirm=function(o){return o=Ec(this.verificationId,o),this.a(o)};var _u="mfaInfo",c_="mfaPendingCredential";function h_(o,h,_,S){I.call(this,"multi-factor-auth-required",S,h),this.b=new Df(o,h,_),_n(this,"resolver",this.b)}function Jp(o,h,_){if(o&&Le(o.serverResponse)&&"auth/multi-factor-auth-required"===o.code)try{return new h_(h,o.serverResponse,_,o.message)}catch(S){}return null}function ul(){}function Pd(o){_n(this,"factorId",o.fa),this.a=o}function $C(o){if(Pd.call(this,o),this.a.fa!=cu.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Rh(o,h){for(var _ in $e.call(this,o),h)this[_]=h[_]}function Oy(o,h){this.a=o,this.b=[],this.c=Je(this.xc,this),fr(this.a,"userReloaded",this.c);var _=[];h&&h.multiFactor&&h.multiFactor.enrolledFactors&&ct(h.multiFactor.enrolledFactors,function(S){var N=null,W={};if(S){S.uid&&(W[Ml]=S.uid),S.displayName&&(W[Du]=S.displayName),S.enrollmentTime&&(W[Mu]=new Date(S.enrollmentTime).toISOString()),S.phoneNumber&&(W[nf]=S.phoneNumber);try{N=new fc(W)}catch(ee){}S=N}else S=null;S&&_.push(S)}),Ph(this,_)}function Ph(o,h){o.b=h,_n(o,"enrolledFactors",h)}function Mf(o,h,_){if(this.h=o,this.i=h,this.g=_,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function xy(o,h){o.stop(),o.b=Eo(function(o,h){return h?(o.a=o.c,o.g()):(h=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),h)}(o,h)).then(function(){return function(){var o=Y.document,h=null;return He()||!o?$t():new zn(function(_){h=function(){He()&&(o.removeEventListener("visibilitychange",h,!1),_())},o.addEventListener("visibilitychange",h,!1)}).s(function(_){throw o.removeEventListener("visibilitychange",h,!1),_})}()}).then(function(){return o.h()}).then(function(){xy(o,!0)}).s(function(_){o.i(_)&&xy(o,!1)})}function p_(o){this.c=o,this.b=this.a=null}function Zp(o){return o.b&&1e3*o.b.c||0}function KC(o,h){var _=h.refreshToken;o.b=Zu(h[ra]||""),o.a=_}function kd(o,h){this.a=o||null,this.b=h||null,Ki(this,{lastSignInTime:xt(h||null),creationTime:xt(o||null)})}function QC(o,h,_,S,N,W){Ki(this,{uid:o,displayName:S||null,photoURL:N||null,email:_||null,phoneNumber:W||null,providerId:h})}function aa(o,h,_){this.G=[],this.l=o.apiKey,this.m=o.appName,this.o=o.authDomain||null;var S=te.SDK_VERSION?Wn(te.SDK_VERSION):null;this.a=new fu(this.l,le(Tt),S),o.emulatorConfig&&ol(this.a,o.emulatorConfig),this.b=new p_(this.a),Vy(this,h[ra]),KC(this.b,h),_n(this,"refreshToken",this.b.a),tg(this,_||{}),zr.call(this),this.P=!1,this.o&&ba()&&(this.i=Cy(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(o){return new Mf(function(){return o.I(!0)},function(h){return!(!h||"auth/network-request-failed"!=h.code)},function(){var h=Zp(o.b)-M()-3e5;return 0<h?h:0})}(this),this.$=Je(this.gb,this);var N=this;this.pa=null,this.Ba=function(W){N.wa(W.h)},this.ba=null,this.za=function(W){ol(N.a,W.c)},this.W=null,this.X=[],this.Aa=function(W){eg(N,W.f)},this.aa=null,this.N=new Oy(this,_),_n(this,"multiFactor",this.N)}function Py(o,h){o.ba&&Hr(o.ba,"languageCodeChanged",o.Ba),(o.ba=h)&&fr(h,"languageCodeChanged",o.Ba)}function ky(o,h){o.W&&Hr(o.W,"emulatorConfigChanged",o.za),(o.W=h)&&fr(h,"emulatorConfigChanged",o.za)}function eg(o,h){o.X=h,Hl(o.a,te.SDK_VERSION?Wn(te.SDK_VERSION,o.X):null)}function Ny(o,h){o.aa&&Hr(o.aa,"frameworkChanged",o.Aa),(o.aa=h)&&fr(h,"frameworkChanged",o.Aa)}function Fy(o){try{return te.app(o.m).auth()}catch(h){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function XC(o){o.A||o.u.b||(o.u.start(),Hr(o,"tokenChanged",o.$),fr(o,"tokenChanged",o.$))}function Ly(o){Hr(o,"tokenChanged",o.$),o.u.stop()}function Vy(o,h){o.ya=h,_n(o,"_lat",h)}function Af(o){for(var h=[],_=0;_<o.R.length;_++)h.push(o.R[_](o));return Go(h).then(function(){return o})}function vu(o){o.i&&!o.P&&(o.P=!0,s_(o.i,o))}function tg(o,h){Ki(o,{uid:h.uid,displayName:h.displayName||null,photoURL:h.photoURL||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,isAnonymous:h.isAnonymous||!1,tenantId:h.tenantId||null,metadata:new kd(h.createdAt,h.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}function Uy(){}function ng(o){return $t().then(function(){if(o.A)throw new I("app-deleted")})}function Nd(o){return pn(o.providerData,function(h){return h.providerId})}function rg(o,h){h&&(ig(o,h.providerId),o.providerData.push(h))}function ig(o,h){kn(o.providerData,function(_){return _.providerId==h})}function Hc(o,h,_){("uid"!=h||_)&&o.hasOwnProperty(h)&&_n(o,h,_)}function Vu(o,h){o!=h&&(Ki(o,{uid:h.uid,displayName:h.displayName,photoURL:h.photoURL,email:h.email,emailVerified:h.emailVerified,phoneNumber:h.phoneNumber,isAnonymous:h.isAnonymous,tenantId:h.tenantId,providerData:[]}),_n(o,"metadata",h.metadata?function(o){return new kd(o.a,o.b)}(h.metadata):new kd),ct(h.providerData,function(_){rg(o,_)}),function(o,h){o.b=h.b,o.a=h.a}(o.b,h.b),_n(o,"refreshToken",o.b.a),Ph(o.N,h.N.b))}function og(o){return o.I().then(function(h){var _=o.isAnonymous;return function(o,h){return wr(o.a,a,{idToken:h}).then(Je(o.Jc,o))}(o,h).then(function(){return _||Hc(o,"isAnonymous",!1),h})})}function ll(o,h){h[ra]&&o.ya!=h[ra]&&(KC(o.b,h),o.dispatchEvent(new Rh("tokenChanged")),Vy(o,h[ra]),Hc(o,"refreshToken",o.b.a))}function sg(o,h){return og(o).then(function(){if(on(Nd(o),h))return Af(o).then(function(){throw new I("provider-already-linked")})})}function Of(o,h,_){return fs({user:o,credential:Pu(h),additionalUserInfo:h=Pl(h),operationType:_})}function By(o,h){return ll(o,h),o.reload().then(function(){return o})}function jy(o,h,_,S,N){if(!ba())return Gn(new I("operation-not-supported-in-this-environment"));if(o.f&&!N)return Gn(o.f);var W=mc(_.providerId),ee=z(o.uid+":::"),Ie=null;(!g()||Os())&&o.o&&_.isOAuthProvider&&(Ie=Id(o.o,o.l,o.m,h,_,null,ee,te.SDK_VERSION||null,null,null,o.tenantId));var St=hn(Ie,W&&W.ua,W&&W.ta);return S=S().then(function(){if(kh(o),!N)return o.I().then(function(){})}).then(function(){return u_(o.i,St,h,_,ee,!!Ie,o.tenantId)}).then(function(){return new zn(function(Ut,Cr){o.ma(h,null,new I("cancelled-popup-request"),o.h||null),o.g=Ut,o.O=Cr,o.h=ee,o.c=by(o.i,o,h,St,ee)})}).then(function(Ut){return St&&Ze(St),Ut?fs(Ut):null}).s(function(Ut){throw St&&Ze(St),Ut}),Oo(o,S,N)}function xf(o,h,_,S,N){if(!ba())return Gn(new I("operation-not-supported-in-this-environment"));if(o.f&&!N)return Gn(o.f);var W=null,ee=z(o.uid+":::");return S=S().then(function(){if(kh(o),!N)return o.I().then(function(){})}).then(function(){return o.ga=ee,Af(o)}).then(function(Ie){return o.ha&&(Ie=(Ie=o.ha).b.set(ag,o.w(),Ie.a)),Ie}).then(function(){return l_(o.i,h,_,ee,o.tenantId)}).s(function(Ie){if(W=Ie,o.ha)return ug(o.ha);throw W}).then(function(){if(W)throw W}),Oo(o,S,N)}function kh(o){if(!o.i||!o.P)throw new I(o.i&&!o.P?"internal-error":"auth-domain-config-required")}function Oo(o,h,_){var S=function(o,h,_){return o.f&&!_?(h.cancel(),Gn(o.f)):h.s(function(S){throw!S||"auth/user-disabled"!=S.code&&"auth/user-token-expired"!=S.code||(o.f||o.dispatchEvent(new Rh("userInvalidated")),o.f=S),S})}(o,h,_);return o.G.push(S),S.na(function(){Kt(o.G,S)}),S.s(function(N){var W=null;throw N&&"auth/multi-factor-auth-required"===N.code&&(W=Jp(N.w(),Fy(o),Je(o.ic,o))),W||N})}function Pf(o){if(!o.apiKey)return null;var h={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},_={};if(!o.stsTokenManager||!o.stsTokenManager.accessToken)return null;_[ra]=o.stsTokenManager.accessToken,_.refreshToken=o.stsTokenManager.refreshToken||null;var S=new aa(h,_,o);return o.providerData&&ct(o.providerData,function(N){N&&rg(S,fs(N))}),o.redirectEventId&&(S.ga=o.redirectEventId),S}function Hy(o){this.a=o,this.b=Oh()}Df.prototype.Qc=function(o){var h=this;return o.rb(this.a.a,this.c).then(function(_){var S=Mn(h.f);return delete S[_u],delete S[c_],Xn(S,_),h.g(S)})},O(h_,I),ul.prototype.rb=function(o,h,_){return h.type==_c?function(o,h,_,S){return _.Ha().then(function(N){return N={idToken:N},void 0!==S&&(N.displayName=S),Xn(N,{phoneVerificationInfo:lf(o.a)}),wr(h,Pm,N)})}(this,o,h,_):function(o,h,_){return _.Ha().then(function(S){return Xn(S={mfaPendingCredential:S},{phoneVerificationInfo:lf(o.a)}),wr(h,c,S)})}(this,o,h)},O(Pd,ul),O($C,Pd),O(Rh,$e),(Z=Oy.prototype).xc=function(o){Ph(this,function(o){var h=[];return ct(o.mfaInfo||[],function(_){(_=hc(_))&&h.push(_)}),h}(o.gd))},Z.Qb=function(){return this.a.I().then(function(o){return new af(o,null)})},Z.ec=function(o,h){var _=this,S=this.a.a;return this.Qb().then(function(N){return o.rb(S,N,h)}).then(function(N){return ll(_.a,N),_.a.reload()})},Z.ad=function(o){var h=this,_="string"==typeof o?o:o.uid,S=this.a.a;return this.a.I().then(function(N){return wr(S,du,{idToken:N,mfaEnrollmentId:_})}).then(function(N){var W=jr(h.b,function(ee){return ee.uid!=_});return Ph(h,W),ll(h.a,N),h.a.reload().s(function(ee){if("auth/user-token-expired"!=ee.code)throw ee})})},Z.w=function(){return{multiFactor:{enrolledFactors:pn(this.b,function(o){return o.w()})}}},Mf.prototype.start=function(){this.a=this.c,xy(this,!0)},Mf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},p_.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Zp(this)}},p_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Gn(new I("user-token-expired")):o||!this.b||M()>Zp(this)-3e4?this.a?function(o,h){return function(o,h){return new zn(function(_,S){"refresh_token"==h.grant_type&&h.refresh_token||"authorization_code"==h.grant_type&&h.code?Pc(o,o.l+"?key="+encodeURIComponent(o.c),function(N){N?N.error?S(Th(N)):N.access_token&&N.refresh_token?_(N):S(new I("internal-error")):S(new I("network-request-failed"))},"POST",Xs(h).toString(),o.g,o.v.get()):S(new I("internal-error"))})}(o.c,h).then(function(_){return o.b=Zu(_.access_token),o.a=_.refresh_token,{accessToken:o.b.toString(),refreshToken:o.a}}).s(function(_){throw"auth/user-token-expired"==_.code&&(o.a=null),_})}(this,{grant_type:"refresh_token",refresh_token:this.a}):$t(null):$t({accessToken:this.b.toString(),refreshToken:this.a})},kd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(aa,zr),aa.prototype.wa=function(o){this.pa=o,vd(this.a,o)},aa.prototype.ka=function(){return this.pa},aa.prototype.Ga=function(){return Nr(this.X)},aa.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},_n(aa.prototype,"providerId","firebase"),(Z=aa.prototype).reload=function(){var o=this;return Oo(this,ng(this).then(function(){return og(o).then(function(){return Af(o)}).then(Uy)}))},Z.nc=function(o){return this.I(o).then(function(h){return new My(h)})},Z.I=function(o){var h=this;return Oo(this,ng(this).then(function(){return h.b.getToken(o)}).then(function(_){if(!_)throw new I("internal-error");return _.accessToken!=h.ya&&(Vy(h,_.accessToken),h.dispatchEvent(new Rh("tokenChanged"))),Hc(h,"refreshToken",_.refreshToken),_.accessToken}))},Z.Jc=function(o){if(!(o=o.users)||!o.length)throw new I("internal-error");tg(this,{uid:(o=o[0]).localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var h=function(o){return(o=o.providerUserInfo)&&o.length?pn(o,function(h){return new QC(h.rawId,h.providerId,h.email,h.displayName,h.photoUrl,h.phoneNumber)}):[]}(o),_=0;_<h.length;_++)rg(this,h[_]);Hc(this,"isAnonymous",!(this.email&&o.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Rh("userReloaded",{gd:o}))},Z.Kc=function(o){return vo("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(o)},Z.sb=function(o){var h=this,_=null;return Oo(this,o.c(this.a,this.uid).then(function(S){return ll(h,S),_=Of(h,S,"reauthenticate"),h.f=null,h.reload()}).then(function(){return _}),!0)},Z.Bc=function(o){return vo("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(o)},Z.pb=function(o){var h=this,_=null;return Oo(this,sg(this,o.providerId).then(function(){return h.I()}).then(function(S){return o.b(h.a,S)}).then(function(S){return _=Of(h,S,"link"),By(h,S)}).then(function(){return _}))},Z.Cc=function(o,h){var _=this;return Oo(this,sg(this,"phone").then(function(){return en(Fy(_),o,h,Je(_.pb,_))}))},Z.Lc=function(o,h){var _=this;return Oo(this,$t().then(function(){return en(Fy(_),o,h,Je(_.sb,_))}),!0)},Z.Ab=function(o){var h=this;return Oo(this,this.I().then(function(_){return h.a.Ab(_,o)}).then(function(_){return ll(h,_),h.reload()}))},Z.dd=function(o){var h=this;return Oo(this,this.I().then(function(_){return o.b(h.a,_)}).then(function(_){return ll(h,_),h.reload()}))},Z.Bb=function(o){var h=this;return Oo(this,this.I().then(function(_){return h.a.Bb(_,o)}).then(function(_){return ll(h,_),h.reload()}))},Z.Cb=function(o){if(void 0===o.displayName&&void 0===o.photoURL)return ng(this);var h=this;return Oo(this,this.I().then(function(_){return h.a.Cb(_,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(_){return ll(h,_),Hc(h,"displayName",_.displayName||null),Hc(h,"photoURL",_.photoUrl||null),ct(h.providerData,function(S){"password"===S.providerId&&(_n(S,"displayName",h.displayName),_n(S,"photoURL",h.photoURL))}),Af(h)}).then(Uy))},Z.bd=function(o){var h=this;return Oo(this,og(this).then(function(_){return on(Nd(h),o)?function(o,h,_){return wr(o,bf,{idToken:h,deleteProvider:_})}(h.a,_,[o]).then(function(S){var N={};return ct(S.providerUserInfo||[],function(W){N[W.providerId]=!0}),ct(Nd(h),function(W){N[W]||ig(h,W)}),N[cu.PROVIDER_ID]||_n(h,"phoneNumber",null),Af(h)}):Af(h).then(function(){throw new I("no-such-provider")})}))},Z.delete=function(){var o=this;return Oo(this,this.I().then(function(h){return wr(o.a,Vp,{idToken:h})}).then(function(){o.dispatchEvent(new Rh("userDeleted"))})).then(function(){for(var h=0;h<o.G.length;h++)o.G[h].cancel("app-deleted");Py(o,null),ky(o,null),Ny(o,null),o.G=[],o.A=!0,Ly(o),_n(o,"refreshToken",null),o.i&&_y(o.i,o)})},Z.Eb=function(o,h){return!!("linkViaPopup"==o&&(this.h||null)==h&&this.g||"reauthViaPopup"==o&&(this.h||null)==h&&this.g||"linkViaRedirect"==o&&(this.ga||null)==h||"reauthViaRedirect"==o&&(this.ga||null)==h)},Z.ma=function(o,h,_,S){"linkViaPopup"!=o&&"reauthViaPopup"!=o||S!=(this.h||null)||(_&&this.O?this.O(_):h&&!_&&this.g&&this.g(h),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},Z.Fa=function(o,h){return"linkViaPopup"==o&&h==(this.h||null)?Je(this.Jb,this):"reauthViaPopup"==o&&h==(this.h||null)?Je(this.Kb,this):"linkViaRedirect"==o&&(this.ga||null)==h?Je(this.Jb,this):"reauthViaRedirect"==o&&(this.ga||null)==h?Je(this.Kb,this):null},Z.Dc=function(o){var h=this;return jy(this,"linkViaPopup",o,function(){return sg(h,o.providerId).then(function(){return Af(h)})},!1)},Z.Mc=function(o){return jy(this,"reauthViaPopup",o,function(){return $t()},!0)},Z.Ec=function(o){var h=this;return xf(this,"linkViaRedirect",o,function(){return sg(h,o.providerId)},!1)},Z.Nc=function(o){return xf(this,"reauthViaRedirect",o,function(){return $t()},!0)},Z.Jb=function(o,h,_,S){var N=this;this.c&&(this.c.cancel(),this.c=null);var W=null;return Oo(this,this.I().then(function(ee){return Nc(N.a,{requestUri:o,postBody:S,sessionId:h,idToken:ee})}).then(function(ee){return W=Of(N,ee,"link"),By(N,ee)}).then(function(){return W}))},Z.Kb=function(o,h,_,S){var N=this;this.c&&(this.c.cancel(),this.c=null);var W=null;return Oo(this,$t().then(function(){return vc(yf(N.a,{requestUri:o,sessionId:h,postBody:S,tenantId:_}),N.uid)}).then(function(Ie){return W=Of(N,Ie,"reauthenticate"),ll(N,Ie),N.f=null,N.reload()}).then(function(){return W}),!0)},Z.tb=function(o){var h=this,_=null;return Oo(this,this.I().then(function(S){return _=S,void 0===o||sn(o)?{}:Ha(new rf(o))}).then(function(S){return h.a.tb(_,S)}).then(function(S){if(h.email!=S)return h.reload()}).then(function(){}))},Z.Db=function(o,h){var _=this,S=null;return Oo(this,this.I().then(function(N){return S=N,void 0===h||sn(h)?{}:Ha(new rf(h))}).then(function(N){return _.a.Db(S,o,N)}).then(function(N){if(_.email!=N)return _.reload()}).then(function(){}))},Z.ic=function(o){var h=null,_=this;return Oo(this,o=vc($t(o),_.uid).then(function(S){return h=Of(_,S,"reauthenticate"),ll(_,S),_.f=null,_.reload()}).then(function(){return h}),!0)},Z.toJSON=function(){return this.w()},Z.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Xn(o,this.metadata.w()),ct(this.providerData,function(h){o.providerData.push(function(o){var _,h={};for(_ in o)o.hasOwnProperty(_)&&(h[_]=o[_]);return h}(h))}),Xn(o,this.N.w()),o};var ag={name:"redirectUser",D:"session"};function ug(o){return Bc(o.b,ag,o.a)}function lg(o){this.a=o,this.b=Oh(),this.c=null,this.f=function(o){var h=Kl("local"),_=Kl("session"),S=Kl("none");return function(o,h,_){var S=Md(h,_),N=Uc(o,h.D);return o.get(h,_).then(function(W){var ee=null;try{ee=x(Y.localStorage.getItem(S))}catch(Ie){}if(ee&&!W)return Y.localStorage.removeItem(S),o.set(h,ee,_);ee&&W&&"localStorage"!=N.type&&Y.localStorage.removeItem(S)})}(o.b,h,o.a).then(function(){return o.b.get(_,o.a)}).then(function(N){return N?_:o.b.get(S,o.a).then(function(W){return W?S:o.b.get(h,o.a).then(function(ee){return ee?h:o.b.get(cg,o.a).then(function(Ie){return Ie?Kl(Ie):h})})})}).then(function(N){return o.c=N,Nf(o,N.D)}).s(function(){o.c||(o.c=h)})}(this),this.b.addListener(Kl("local"),this.a,Je(this.g,this))}function Nf(o,h){var S,_=[];for(S in al)al[S]!==h&&_.push(Bc(o.b,Kl(al[S]),o.a));return _.push(Bc(o.b,cg,o.a)),function(o){return new zn(function(h,_){var S=o.length,N=[];if(S)for(var W=function(Ut,Cr){S--,N[Ut]=Cr,0==S&&h(N)},ee=function(Ut){_(Ut)},Ie=0;Ie<o.length;Ie++)zs(o[Ie],pt(W,Ie),ee);else h(N)})}(_)}lg.prototype.g=function(){var o=this,h=Kl("local");Ff(this,function(){return $t().then(function(){return o.c&&"local"!=o.c.D?o.b.get(h,o.a):null}).then(function(_){if(_)return Nf(o,"local").then(function(){o.c=h})})})};var cg={name:"persistence",D:"session"};function Kl(o){return{name:"authUser",D:o}}function __(o,h){return Ff(o,function(){return o.b.set(o.c,h.w(),o.a)})}function qy(o){return Ff(o,function(){return Bc(o.b,o.c,o.a)})}function v_(o,h,_){return Ff(o,function(){return o.b.get(o.c,o.a).then(function(S){return S&&h&&(S.authDomain=h),S&&_&&(S.emulatorConfig=_),Pf(S||{})})})}function Ff(o,h){return o.f=o.f.then(h,h),o.f}function Uu(o){if(this.m=!1,_n(this,"settings",new Dy),_n(this,"app",o),!Mi(this).options||!Mi(this).options.apiKey)throw new I("invalid-api-key");o=te.SDK_VERSION?Wn(te.SDK_VERSION):null,this.a=new fu(Mi(this).options&&Mi(this).options.apiKey,le(Tt),o),this.R=[],this.u=[],this.P=[],this.ac=te.INTERNAL.createSubscribe(Je(this.yc,this)),this.X=void 0,this.bc=te.INTERNAL.createSubscribe(Je(this.zc,this)),Nh(this,null),this.l=new lg(Mi(this).options.apiKey+":"+Mi(this).name),this.G=new Hy(Mi(this).options.apiKey+":"+Mi(this).name),this.$=ao(this,function(o){var h=Mi(o).options.authDomain,_=function(o){var h=function(o,h){return o.b.get(ag,o.a).then(function(_){return _&&h&&(_.authDomain=h),Pf(_||{})})}(o.G,Mi(o).options.authDomain).then(function(_){return(o.o=_)&&(_.ha=o.G),ug(o.G)});return ao(o,h)}(o).then(function(){return v_(o.l,h,o.f)}).then(function(S){return S?(S.ha=o.G,o.o&&(o.o.ga||null)==(S.ga||null)?S:S.reload().then(function(){return __(o.l,S).then(function(){return S})}).s(function(N){return"auth/network-request-failed"==N.code?S:qy(o.l)})):null}).then(function(S){Nh(o,S||null)});return ao(o,_)}(this)),this.i=ao(this,function(o){return o.$.then(function(){return $y(o)}).s(function(){}).then(function(){if(!o.m)return o.pa()}).s(function(){}).then(function(){if(!o.m){o.ba=!0;var h=o.l;h.b.addListener(Kl("local"),h.a,o.pa)}})}(this)),this.ba=!1,this.pa=Je(this.Yc,this),this.Ba=Je(this.da,this),this.ya=Je(this.kc,this),this.za=Je(this.vc,this),this.Aa=Je(this.wc,this),this.b=null,function(o){var h=Mi(o).options.authDomain,_=Mi(o).options.apiKey;h&&ba()&&(o.gb=o.$.then(function(){if(!o.m){if(o.b=Cy(h,_,Mi(o).name,o.f),s_(o.b,o),Fr(o)&&vu(Fr(o)),o.o){vu(o.o);var S=o.o;S.wa(o.ka()),Py(S,o),eg(S=o.o,o.N),Ny(S,o),ol((S=o.o).a,o.f),ky(S,o),o.o=null}return o.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Je(this.delete,this),this.INTERNAL.logFramework=Je(this.Fc,this),this.A=0,zr.call(this),function(o){Object.defineProperty(o,"lc",{get:function(){return this.ka()},set:function(h){this.wa(h)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.S()},set:function(h){this.xb(h)},enumerable:!1}),o.W=null}(this),this.N=[],this.f=null}function Ma(o){$e.call(this,"languageCodeChanged"),this.h=o}function Gy(o){$e.call(this,"emulatorConfigChanged"),this.c=o}function Wy(o){$e.call(this,"frameworkChanged"),this.f=o}function hg(o){return o.gb||Gn(new I("auth-domain-config-required"))}function $y(o){if(!ba())return Gn(new I("operation-not-supported-in-this-environment"));var h=hg(o).then(function(){return o.b.qa()}).then(function(_){return _?fs(_):null});return ao(o,h)}function Nh(o,h){Fr(o)&&(function(o,h){kn(o.R,function(_){return _==h})}(Fr(o),o.Ba),Hr(Fr(o),"tokenChanged",o.ya),Hr(Fr(o),"userDeleted",o.za),Hr(Fr(o),"userInvalidated",o.Aa),Ly(Fr(o))),h&&(h.R.push(o.Ba),fr(h,"tokenChanged",o.ya),fr(h,"userDeleted",o.za),fr(h,"userInvalidated",o.Aa),0<o.A&&XC(h)),_n(o,"currentUser",h),h&&(h.wa(o.ka()),Py(h,o),eg(h,o.N),Ny(h,o),ol(h.a,o.f),ky(h,o))}function zc(o,h){var _=null,S=null;return ao(o,h.then(function(N){return _=Pu(N),S=Pl(N),function(o,h){var _={};return _.apiKey=Mi(o).options.apiKey,_.authDomain=Mi(o).options.authDomain,_.appName=Mi(o).name,o.f&&(_.emulatorConfig=o.f),o.$.then(function(){return function(o,h,_,S){var N=new aa(o,h);return _&&(N.ha=_),S&&eg(N,S),N.reload().then(function(){return N})}(_,h,o.G,o.Ga())}).then(function(S){return Fr(o)&&S.uid==Fr(o).uid?(Vu(Fr(o),S),o.da(S)):(Nh(o,S),vu(S),o.da(S))}).then(function(){Fd(o)})}(o,N)},function(N){var W=null;throw N&&"auth/multi-factor-auth-required"===N.code&&(W=Jp(N.w(),o,Je(o.jc,o))),W||N}).then(function(){return fs({user:Fr(o),credential:_,additionalUserInfo:S,operationType:"signIn"})}))}function Mi(o){return o.app}function Fr(o){return o.currentUser}function fg(o){return Fr(o)&&Fr(o)._lat||null}function Fd(o){if(o.ba){for(var h=0;h<o.u.length;h++)o.u[h]&&o.u[h](fg(o));if(o.X!==o.getUid()&&o.P.length)for(o.X=o.getUid(),h=0;h<o.P.length;h++)o.P[h]&&o.P[h](fg(o))}}function ao(o,h){return o.R.push(h),h.na(function(){Kt(o.R,h)}),h}function Ld(){}function ua(){this.a={},this.b=1e12}lg.prototype.wb=function(o){var h=null,_=this;return function(o){var h=new I("invalid-persistence-type"),_=new I("unsupported-persistence-type");e:{for(S in al)if(al[S]==o){var S=!0;break e}S=!1}if(!S||"string"!=typeof o)throw h;switch(Vr()){case"ReactNative":if("session"===o)throw _;break;case"Node":if("none"!==o)throw _;break;case"Worker":if("session"===o||!zm()&&"none"!==o)throw _;break;default:if(!Ku()&&"none"!==o)throw _}}(o),Ff(this,function(){return o!=_.c.D?_.b.get(_.c,_.a).then(function(S){return h=S,Nf(_,o)}).then(function(){if(_.c=Kl(o),h)return _.b.set(_.c,h,_.a)}):$t()})},O(Uu,zr),O(Ma,$e),O(Gy,$e),O(Wy,$e),(Z=Uu.prototype).wb=function(o){return ao(this,o=this.l.wb(o))},Z.wa=function(o){this.aa===o||this.m||(this.aa=o,vd(this.a,this.aa),this.dispatchEvent(new Ma(this.ka())))},Z.ka=function(){return this.aa},Z.ed=function(){var o=Y.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},Z.fd=function(o){if(!this.f){if(!/^https?:\/\//.test(o))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");_t("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),Y.document&&so().then(function(){var o=Y.document.createElement("div");o.innerText="Running in emulator mode. Do not use with production credentials.",o.style.position="fixed",o.style.width="100%",o.style.backgroundColor="#ffffff",o.style.border=".1em solid #000000",o.style.color="#ff0000",o.style.bottom="0px",o.style.left="0px",o.style.margin="0px",o.style.zIndex=1e4,o.style.textAlign="center",o.classList.add("firebase-emulator-warning"),Y.document.body.appendChild(o)}),this.f={url:o},this.settings.hb=!0,ol(this.a,this.f),this.dispatchEvent(new Gy(this.f))}},Z.Fc=function(o){this.N.push(o),Hl(this.a,te.SDK_VERSION?Wn(te.SDK_VERSION,this.N):null),this.dispatchEvent(new Wy(this.N))},Z.Ga=function(){return Nr(this.N)},Z.xb=function(o){this.W===o||this.m||(this.W=o,this.a.b=this.W)},Z.S=function(){return this.W},Z.toJSON=function(){return{apiKey:Mi(this).options.apiKey,authDomain:Mi(this).options.authDomain,appName:Mi(this).name,currentUser:Fr(this)&&Fr(this).w()}},Z.Eb=function(o,h){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==h&&!!this.g;default:return!1}},Z.ma=function(o,h,_,S){"signInViaPopup"==o&&this.h==S&&(_&&this.O?this.O(_):h&&!_&&this.g&&this.g(h),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},Z.Fa=function(o,h){return"signInViaRedirect"==o||"signInViaPopup"==o&&this.h==h&&this.g?Je(this.hc,this):null},Z.hc=function(o,h,_,S){var N=this,W={requestUri:o,postBody:S,sessionId:h,tenantId:_};return this.c&&(this.c.cancel(),this.c=null),N.$.then(function(){return zc(N,vf(N.a,W))})},Z.Wc=function(o){if(!ba())return Gn(new I("operation-not-supported-in-this-environment"));var h=this,_=mc(o.providerId),S=z(),N=null;(!g()||Os())&&Mi(this).options.authDomain&&o.isOAuthProvider&&(N=Id(Mi(this).options.authDomain,Mi(this).options.apiKey,Mi(this).name,"signInViaPopup",o,null,S,te.SDK_VERSION||null,null,null,this.S(),this.f));var W=hn(N,_&&_.ua,_&&_.ta);return ao(this,_=hg(this).then(function(ee){return u_(ee,W,"signInViaPopup",o,S,!!N,h.S())}).then(function(){return new zn(function(ee,Ie){h.ma("signInViaPopup",null,new I("cancelled-popup-request"),h.h),h.g=ee,h.O=Ie,h.h=S,h.c=by(h.b,h,"signInViaPopup",W,S)})}).then(function(ee){return W&&Ze(W),ee?fs(ee):null}).s(function(ee){throw W&&Ze(W),ee}))},Z.Xc=function(o){if(!ba())return Gn(new I("operation-not-supported-in-this-environment"));var h=this;return ao(this,hg(this).then(function(){return function(o){return Ff(o,function(){return o.b.set(cg,o.c.D,o.a)})}(h.l)}).then(function(){return l_(h.b,"signInViaRedirect",o,void 0,h.S())}))},Z.qa=function(){var o=this;return $y(this).then(function(h){return o.b&&Rd(o.b.b),h}).s(function(h){throw o.b&&Rd(o.b.b),h})},Z.cd=function(o){if(!o)return Gn(new I("null-user"));if(this.W!=o.tenantId)return Gn(new I("tenant-id-mismatch"));var h=this,_={};_.apiKey=Mi(this).options.apiKey,_.authDomain=Mi(this).options.authDomain,_.appName=Mi(this).name;var S=function(o,h,_,S){var N=o.b,W={};return W[ra]=N.b&&N.b.toString(),W.refreshToken=N.a,h=new aa(h||{apiKey:o.l,authDomain:o.o,appName:o.m},W),_&&(h.ha=_),S&&eg(h,S),Vu(h,o),h}(o,_,h.G,h.Ga());return ao(this,this.i.then(function(){if(Mi(h).options.apiKey!=o.l)return S.reload()}).then(function(){return Fr(h)&&o.uid==Fr(h).uid?(Vu(Fr(h),o),h.da(o)):(Nh(h,S),vu(S),h.da(S))}).then(function(){Fd(h)}))},Z.zb=function(){var o=this;return ao(this,this.i.then(function(){return o.b&&Rd(o.b.b),Fr(o)?(Nh(o,null),qy(o.l).then(function(){Fd(o)})):$t()}))},Z.Yc=function(){var o=this;return v_(this.l,Mi(this).options.authDomain).then(function(h){if(!o.m){var _;if(_=Fr(o)&&h){_=Fr(o).uid;var S=h.uid;_=null!=_&&""!==_&&null!=S&&""!==S&&_==S}if(_)return Vu(Fr(o),h),Fr(o).I();(Fr(o)||h)&&(Nh(o,h),h&&(vu(h),h.ha=o.G),o.b&&s_(o.b,o),Fd(o))}})},Z.da=function(o){return __(this.l,o)},Z.kc=function(){Fd(this),this.da(Fr(this))},Z.vc=function(){this.zb()},Z.wc=function(){this.zb()},Z.jc=function(o){var h=this;return this.i.then(function(){return zc(h,$t(o))})},Z.yc=function(o){var h=this;this.addAuthTokenListener(function(){o.next(Fr(h))})},Z.zc=function(o){var h=this;!function(o,h){o.P.push(h),ao(o,o.i.then(function(){!o.m&&on(o.P,h)&&o.X!==o.getUid()&&(o.X=o.getUid(),h(fg(o)))}))}(this,function(){o.next(Fr(h))})},Z.Hc=function(o,h,_){var S=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof o?o(Fr(S)):"function"==typeof o.next&&o.next(Fr(S))}),this.ac(o,h,_)},Z.Gc=function(o,h,_){var S=this;return this.ba&&Promise.resolve().then(function(){S.X=S.getUid(),"function"==typeof o?o(Fr(S)):"function"==typeof o.next&&o.next(Fr(S))}),this.bc(o,h,_)},Z.mc=function(o){var h=this;return ao(this,this.i.then(function(){return Fr(h)?Fr(h).I(o).then(function(S){return{accessToken:S}}):null}))},Z.Sc=function(o){var h=this;return this.i.then(function(){return zc(h,wr(h.a,Kn,{token:o}))}).then(function(_){var S=_.user;return Hc(S,"isAnonymous",!1),h.da(S),_})},Z.Tc=function(o,h){var _=this;return this.i.then(function(){return zc(_,wr(_.a,cr,{email:o,password:h}))})},Z.dc=function(o,h){var _=this;return this.i.then(function(){return zc(_,wr(_.a,Wa,{email:o,password:h}))})},Z.Za=function(o){var h=this;return this.i.then(function(){return zc(h,o.ja(h.a))})},Z.Rc=function(o){return vo("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(o)},Z.yb=function(){var o=this;return this.i.then(function(){var h=Fr(o);if(h&&h.isAnonymous){var _=fs({providerId:null,isNewUser:!1});return fs({user:h,credential:null,additionalUserInfo:_,operationType:"signIn"})}return zc(o,o.a.yb()).then(function(S){var N=S.user;return Hc(N,"isAnonymous",!0),o.da(N),S})})},Z.getUid=function(){return Fr(this)&&Fr(this).uid||null},Z.cc=function(o){this.addAuthTokenListener(o),this.A++,0<this.A&&Fr(this)&&XC(Fr(this))},Z.Oc=function(o){var h=this;ct(this.u,function(_){_==o&&h.A--}),0>this.A&&(this.A=0),0==this.A&&Fr(this)&&Ly(Fr(this)),this.removeAuthTokenListener(o)},Z.addAuthTokenListener=function(o){var h=this;this.u.push(o),ao(this,this.i.then(function(){h.m||on(h.u,o)&&o(fg(h))}))},Z.removeAuthTokenListener=function(o){kn(this.u,function(h){return h==o})},Z.delete=function(){this.m=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.l&&(o=this.l).b.removeListener(Kl("local"),o.a,this.pa),this.b&&(_y(this.b,this),Rd(this.b.b)),Promise.resolve()},Z.gc=function(o){return ao(this,function(o,h){return wr(o,oa,{identifier:h,continueUri:y()?w():"http://localhost"}).then(function(_){return _.signinMethods||[]})}(this.a,o))},Z.Ac=function(o){return!!Dp(o)},Z.vb=function(o,h){var _=this;return ao(this,$t().then(function(){var S=new rf(h);if(!S.c)throw new I("argument-error",id+" must be true when sending sign in link to email");return Ha(S)}).then(function(S){return _.a.vb(o,S)}).then(function(){}))},Z.hd=function(o){return this.Qa(o).then(function(h){return h.data.email})},Z.mb=function(o,h){return ao(this,this.a.mb(o,h).then(function(){}))},Z.Qa=function(o){return ao(this,this.a.Qa(o).then(function(h){return new rd(h)}))},Z.ib=function(o){return ao(this,this.a.ib(o).then(function(){}))},Z.ub=function(o,h){var _=this;return ao(this,$t().then(function(){return void 0===h||sn(h)?{}:Ha(new rf(h))}).then(function(S){return _.a.ub(o,S)}).then(function(){}))},Z.Vc=function(o,h){return ao(this,en(this,o,h,Je(this.Za,this)))},Z.Uc=function(o,h){var _=this;return ao(this,$t().then(function(){var S=h||w(),N=Tp(o,S);if(!(S=Dp(S)))throw new I("argument-error","Invalid email link!");if(S.tenantId!==_.S())throw new I("tenant-id-mismatch");return _.Za(N)}))},Ld.prototype.render=function(){},Ld.prototype.reset=function(){},Ld.prototype.getResponse=function(){},Ld.prototype.execute=function(){};var Vd=null;function b_(o,h){return(h=Yy(h))&&o.a[h]||null}function Yy(o){return(o=void 0===o?1e12:o)?o.toString():null}function w_(o,h){this.g=!1,this.c=h,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=eo(o);var _=this;this.i=function(){_.execute()},this.h?this.execute():fr(this.f,"click",this.i)}function dg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function C_(){}function E_(){}ua.prototype.render=function(o,h){return this.a[this.b.toString()]=new w_(o,h),this.b++},ua.prototype.reset=function(o){var h=b_(this,o);o=Yy(o),h&&o&&(h.delete(),delete this.a[o])},ua.prototype.getResponse=function(o){return(o=b_(this,o))?o.getResponse():null},ua.prototype.execute=function(o){(o=b_(this,o))&&o.execute()},w_.prototype.getResponse=function(){return dg(this),this.b},w_.prototype.execute=function(){dg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=function(){for(var o=50,h=[];0<o;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return h.join("")}();var h=o.c.callback,_=o.c["expired-callback"];if(h)try{h(o.b)}catch(S){}o.a=setTimeout(function(){if(o.a=null,o.b=null,_)try{_()}catch(S){}o.h&&o.execute()},6e4)},500))},w_.prototype.delete=function(){dg(this),this.g=!0,clearTimeout(this.a),this.a=null,Hr(this.f,"click",this.i)},_n(C_,"FACTOR_ID","phone"),E_.prototype.g=function(){return Vd||(Vd=new ua),$t(Vd)},E_.prototype.c=function(){};var S_=null;function Ud(){this.b=Y.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var r0=new an(Tr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),o0=new ae(3e4,6e4);Ud.prototype.g=function(o){var h=this;return new zn(function(_,S){var N=setTimeout(function(){S(new I("network-request-failed"))},o0.get());!Y.grecaptcha||o!==h.f&&!h.b?(Y[h.a]=function(){if(Y.grecaptcha){h.f=o;var ee=Y.grecaptcha.render;Y.grecaptcha.render=function(Ie,St){return Ie=ee(Ie,St),h.b++,Ie},clearTimeout(N),_(Y.grecaptcha)}else clearTimeout(N),S(new I("internal-error"));delete Y[h.a]},$t(Oc(Gi(r0,{onload:h.a,hl:o||""}))).s(function(){clearTimeout(N),S(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(N),_(Y.grecaptcha))})},Ud.prototype.c=function(){this.b--};var Lf=null;function Bd(o,h,_,S,N,W,ee){if(_n(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=h,this.g=null,ee?(S_||(S_=new E_),ee=S_):(Lf||(Lf=new Ud),ee=Lf),this.v=ee,this.a=_||{theme:"light",type:"image"},this.h=[],this.a[gg])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xy],!Y.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!eo(h)||!this.i&&eo(h).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new fu(o,W||null,N||null),this.u=S||function(){return null};var Ie=this;this.l=[];var St=this.a[Qy];this.a[Qy]=function(Cr){if(Jy(Ie,Cr),"function"==typeof St)St(Cr);else if("string"==typeof St){var Ai=bi(St,Y);"function"==typeof Ai&&Ai(Cr)}};var Ut=this.a[pg];this.a[pg]=function(){if(Jy(Ie,null),"function"==typeof Ut)Ut();else if("string"==typeof Ut){var Cr=bi(Ut,Y);"function"==typeof Cr&&Cr()}}}var Qy="callback",pg="expired-callback",gg="sitekey",Xy="size";function Jy(o,h){for(var _=0;_<o.l.length;_++)try{o.l[_](h)}catch(S){}}function jd(o,h){return o.h.push(h),h.na(function(){Kt(o.h,h)}),h}function I_(o){if(o.A)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function T_(o,h,_){var S=!1;try{this.b=_||te.app()}catch(ee){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");_=this.b.options.apiKey;var N=this,W=null;try{W=this.b.auth().Ga()}catch(ee){}try{S=this.b.auth().settings.appVerificationDisabledForTesting}catch(ee){}W=te.SDK_VERSION?Wn(te.SDK_VERSION,W):null,Bd.call(this,_,o,h,function(){try{var ee=N.b.auth().ka()}catch(Ie){ee=null}return ee},W,le(Tt),S)}function D_(o,h,_,S){e:{_=Array.prototype.slice.call(_);for(var N=0,W=!1,ee=0;ee<h.length;ee++)if(h[ee].optional)W=!0;else{if(W)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");N++}if(W=h.length,_.length<N||W<_.length)S="Expected "+(N==W?1==N?"1 argument":N+" arguments":N+"-"+W+" arguments")+" but got "+_.length+".";else{for(N=0;N<_.length;N++)if(W=h[N].optional&&void 0===_[N],!h[N].K(_[N])&&!W){if(h=h[N],0>N||N>=M_.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");_=M_[N],S=(S?"":_+" argument ")+(h.name?'"'+h.name+'" ':"")+"must be "+h.J+".";break e}S=null}}if(S)throw new I("argument-error",o+" failed: "+S)}(Z=Bd.prototype).Ia=function(){var o=this;return this.f?this.f:this.f=jd(this,$t().then(function(){if(y()&&!Zr())return so();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.v.g(o.u())}).then(function(h){return o.g=h,wr(o.o,P,{})}).then(function(h){o.a[gg]=h.recaptchaSiteKey}).s(function(h){throw o.f=null,h}))},Z.render=function(){I_(this);var o=this;return jd(this,this.Ia().then(function(){if(null===o.c){var h=o.m;if(!o.i){var _=eo(h);h=function(o,h,_){var S=arguments,N=document,W=String(S[0]),ee=S[1];if(!js&&ee&&(ee.name||ee.type)){if(W=["<",W],ee.name&&W.push(' name="',Pe(ee.name),'"'),ee.type){W.push(' type="',Pe(ee.type),'"');var Ie={};Xn(Ie,ee),delete Ie.type,ee=Ie}W.push(">"),W=W.join("")}return W=Cs(N,W),ee&&("string"==typeof ee?W.className=ee:Array.isArray(ee)?W.className=ee.join(" "):jo(W,ee)),2<S.length&&Rn(N,W,S),W}("DIV"),_.appendChild(h)}o.c=o.g.render(h,o.a)}return o.c}))},Z.verify=function(){I_(this);var o=this;return jd(this,this.render().then(function(h){return new zn(function(_){var S=o.g.getResponse(h);if(S)_(S);else{var N=function(W){W&&(function(o,h){kn(o.l,function(_){return _==h})}(o,N),_(W))};o.l.push(N),o.i&&o.g.execute(o.c)}})}))},Z.reset=function(){I_(this),null!==this.c&&this.g.reset(this.c)},Z.clear=function(){I_(this),this.A=!0,this.v.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=eo(this.m);for(var h;h=o.firstChild;)o.removeChild(h)}},O(T_,Bd);var M_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function An(o,h){return{name:o||"",J:"a valid string",optional:!!h,K:function(_){return"string"==typeof _}}}function mg(o,h){return{name:o||"",J:"a boolean",optional:!!h,K:function(_){return"boolean"==typeof _}}}function Vo(o,h){return{name:o||"",J:"a valid object",optional:!!h,K:Le}}function Aa(o,h){return{name:o||"",J:"a function",optional:!!h,K:function(_){return"function"==typeof _}}}function $a(o,h){return{name:o||"",J:"null",optional:!!h,K:function(_){return null===_}}}function Ka(o){return{name:o?o+"Credential":"credential",J:o?"a valid "+o+" credential":"a valid credential",optional:!1,K:function(h){return!!h&&!(!h.ja||o&&h.providerId!==o)}}}function Fh(o,h){return Le(o)&&"string"==typeof o.type&&o.type===h&&"function"==typeof o.Ha}function Zy(o){return Le(o)&&"string"==typeof o.uid}function wo(o,h,_,S){return{name:_||"",J:o.J+" or "+h.J,optional:!!S,K:function(N){return o.K(N)||h.K(N)}}}function uo(o,h){for(var _ in h){var S=h[_].name;o[S]=_g(S,o[_],h[_].j)}}function O_(o,h){for(var _ in h){var S=h[_].name;S!==_&&Object.defineProperty(o,S,{get:pt(function(N){return this[N]},_),set:pt(function(N,W,ee,Ie){D_(N,[ee],[Ie],!0),this[W]=Ie},S,_,h[_].jb),enumerable:!0})}}function xo(o,h,_,S){o[h]=_g(h,_,S)}function _g(o,h,_){function S(){var ee=Array.prototype.slice.call(arguments);return D_(N,_,ee),h.apply(this,ee)}if(!_)return h;var W,N=function(o){return(o=o.split("."))[o.length-1]}(o);for(W in h)S[W]=h[W];for(W in h.prototype)S.prototype[W]=h.prototype[W];return S}uo(Uu.prototype,{ib:{name:"applyActionCode",j:[An("code")]},Qa:{name:"checkActionCode",j:[An("code")]},mb:{name:"confirmPasswordReset",j:[An("code"),An("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[An("email"),An("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[An("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[An("emailLink")]},Gc:{name:"onAuthStateChanged",j:[wo(Vo(),Aa(),"nextOrObserver"),Aa("opt_error",!0),Aa("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[wo(Vo(),Aa(),"nextOrObserver"),Aa("opt_error",!0),Aa("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[An("email"),wo(Vo("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[An("email"),Vo("actionCodeSettings")]},wb:{name:"setPersistence",j:[An("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Ka()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Ka()]},Sc:{name:"signInWithCustomToken",j:[An("token")]},Tc:{name:"signInWithEmailAndPassword",j:[An("email"),An("password")]},Uc:{name:"signInWithEmailLink",j:[An("email"),An("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[wo({name:"user",J:"an instance of Firebase User",optional:!1,K:function(h){return!!(h&&h instanceof aa)}},$a(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[An(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[An("url")]},hd:{name:"verifyPasswordResetCode",j:[An("code")]}}),O_(Uu.prototype,{lc:{name:"languageCode",jb:wo(An(),$a(),"languageCode")},ti:{name:"tenantId",jb:wo(An(),$a(),"tenantId")}}),(Uu.Persistence=al).LOCAL="local",Uu.Persistence.SESSION="session",Uu.Persistence.NONE="none",uo(aa.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[mg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[mg("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Ka()]},pb:{name:"linkWithCredential",j:[Ka()]},Cc:{name:"linkWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ka()]},sb:{name:"reauthenticateWithCredential",j:[Ka()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[wo(Vo("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[An(null,!0)]},bd:{name:"unlink",j:[An("provider")]},Ab:{name:"updateEmail",j:[An("email")]},Bb:{name:"updatePassword",j:[An("password")]},dd:{name:"updatePhoneNumber",j:[Ka("phone")]},Cb:{name:"updateProfile",j:[Vo("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[An("email"),wo(Vo("opt_actionCodeSettings",!0),$a(null,!0),"opt_actionCodeSettings",!0)]}}),uo(ua.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uo(Ld.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uo(zn.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),O_(Dy.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:mg("appVerificationDisabledForTesting")}}),uo(_r.prototype,{confirm:{name:"confirm",j:[An("verificationCode")]}}),xo(uu,"fromJSON",function(o){o="string"==typeof o?JSON.parse(o):o;for(var h,_=[Ca,Cc,$v,lu],S=0;S<_.length;S++)if(h=_[S](o))return h;return null},[wo(An(),Vo(),"json")]),xo(Ps,"credential",function(o,h){return new Xt(o,h)},[An("email"),An("password")]),uo(Xt.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(ea.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Vo("customOAuthParameters")]}}),xo(ea,"credential",bc,[wo(An(),Vo(),"token")]),xo(Ps,"credentialWithLink",Tp,[An("email"),An("emailLink")]),uo(bo.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Vo("customOAuthParameters")]}}),xo(bo,"credential",Sp,[wo(An(),Vo(),"token")]),uo(wc.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Vo("customOAuthParameters")]}}),xo(wc,"credential",Ip,[wo(An(),wo(Vo(),$a()),"idToken"),wo(An(),$a(),"accessToken",!0)]),uo(fh.prototype,{Ka:{name:"setCustomParameters",j:[Vo("customOAuthParameters")]}}),xo(fh,"credential",dh,[wo(An(),Vo(),"token"),An("secret",!0)]),uo(Mo.prototype,{Ca:{name:"addScope",j:[An("scope")]},credential:{name:"credential",j:[wo(An(),wo(Vo(),$a()),"optionsOrIdToken"),wo(An(),$a(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vo("customOAuthParameters")]}}),uo(ei.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(nl.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),xo(cu,"credential",Ec,[An("verificationId"),An("verificationCode")]),uo(cu.prototype,{eb:{name:"verifyPhoneNumber",j:[wo(An(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(_){return!!_&&(_.session&&_.phoneNumber?Fh(_.session,_c)&&"string"==typeof _.phoneNumber:_.session&&_.multiFactorHint?Fh(_.session,kl)&&Zy(_.multiFactorHint):_.session&&_.multiFactorUid?Fh(_.session,kl)&&"string"==typeof _.multiFactorUid:!!_.phoneNumber&&"string"==typeof _.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]}}),uo(Nl.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(I.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(Fl.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(Ap.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(h_.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(Df.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(o){return!!o&&!!o.rb}}]}}),uo(Oy.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(o){return!!o&&!!o.rb}},An("displayName",!0)]},ad:{name:"unenroll",j:[wo({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Zy},An(),"multiFactorInfoIdentifier")]}}),uo(T_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xo(Ei,"parseLink",Ep,[An("link")]),xo(C_,"assertion",function(o){return new $C(o)},[Ka("phone")]),function(){if(void 0===te||!te.INTERNAL||!te.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:au,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ja,VERIFY_AND_CHANGE_EMAIL:Yu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Uu,AuthCredential:uu,Error:I};xo(o,"EmailAuthProvider",Ps,[]),xo(o,"FacebookAuthProvider",ea,[]),xo(o,"GithubAuthProvider",bo,[]),xo(o,"GoogleAuthProvider",wc,[]),xo(o,"TwitterAuthProvider",fh,[]),xo(o,"OAuthProvider",Mo,[An("providerId")]),xo(o,"SAMLAuthProvider",Ru,[An("providerId")]),xo(o,"PhoneAuthProvider",cu,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(o){return!!(o&&o instanceof Uu)}}]),xo(o,"RecaptchaVerifier",T_,[wo(An(),{name:"",J:"an HTML element",optional:!1,K:function(o){return!!(o&&o instanceof Element)}},"recaptchaContainer"),Vo("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(o){return!!(o&&o instanceof te.app.App)}}]),xo(o,"ActionCodeURL",Ei,[]),xo(o,"PhoneMultiFactorGenerator",C_,[]),te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(h){return new Uu(h=h.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(h){return{getUid:Je((h=h.getProvider("auth").getImmediate()).getUid,h),getToken:Je(h.mc,h),addAuthTokenListener:Je(h.cc,h),removeAuthTokenListener:Je(h.Oc,h)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.registerVersion("@firebase/auth","0.15.0"),te.INTERNAL.extendNamespace({User:aa})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},100:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Et(385),Z=Et(704),re=function(){function be(Y,nt,st){this.name=Y,this.instanceFactory=nt,this.type=st,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return be.prototype.setInstantiationMode=function(Y){return this.instantiationMode=Y,this},be.prototype.setMultipleInstances=function(Y){return this.multipleInstances=Y,this},be.prototype.setServiceProps=function(Y){return this.serviceProps=Y,this},be}(),Nt="[DEFAULT]",ot=function(){function be(Y,nt){this.name=Y,this.container=nt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return be.prototype.get=function(Y){void 0===Y&&(Y=Nt);var nt=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(nt)){var st=new Z.Deferred;this.instancesDeferred.set(nt,st);try{var Ne=this.getOrInitializeService(nt);Ne&&st.resolve(Ne)}catch(ft){}}return this.instancesDeferred.get(nt).promise},be.prototype.getImmediate=function(Y){var nt=te.__assign({identifier:Nt,optional:!1},Y),Ne=nt.optional,ft=this.normalizeInstanceIdentifier(nt.identifier);try{var wn=this.getOrInitializeService(ft);if(!wn){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return wn}catch(kt){if(Ne)return null;throw kt}},be.prototype.getComponent=function(){return this.component},be.prototype.setComponent=function(Y){var nt,st;if(Y.name!==this.name)throw Error("Mismatching Component "+Y.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Y,function(be){return"EAGER"===be.instantiationMode}(Y))try{this.getOrInitializeService(Nt)}catch(Bt){}try{for(var Ne=te.__values(this.instancesDeferred.entries()),ft=Ne.next();!ft.done;ft=Ne.next()){var wn=te.__read(ft.value,2),Le=wn[1],dt=this.normalizeInstanceIdentifier(wn[0]);try{var et=this.getOrInitializeService(dt);Le.resolve(et)}catch(Bt){}}}catch(Bt){nt={error:Bt}}finally{try{ft&&!ft.done&&(st=Ne.return)&&st.call(Ne)}finally{if(nt)throw nt.error}}},be.prototype.clearInstance=function(Y){void 0===Y&&(Y=Nt),this.instancesDeferred.delete(Y),this.instances.delete(Y)},be.prototype.delete=function(){return te.__awaiter(this,void 0,void 0,function(){var Y;return te.__generator(this,function(nt){switch(nt.label){case 0:return Y=Array.from(this.instances.values()),[4,Promise.all(te.__spread(Y.filter(function(st){return"INTERNAL"in st}).map(function(st){return st.INTERNAL.delete()}),Y.filter(function(st){return"_delete"in st}).map(function(st){return st._delete()})))];case 1:return nt.sent(),[2]}})})},be.prototype.isComponentSet=function(){return null!=this.component},be.prototype.getOrInitializeService=function(Y){var nt=this.instances.get(Y);return!nt&&this.component&&(nt=this.component.instanceFactory(this.container,function(be){return be===Nt?void 0:be}(Y)),this.instances.set(Y,nt)),nt||null},be.prototype.normalizeInstanceIdentifier=function(Y){return this.component?this.component.multipleInstances?Y:Nt:Y},be}(),In=function(){function be(Y){this.name=Y,this.providers=new Map}return be.prototype.addComponent=function(Y){var nt=this.getProvider(Y.name);if(nt.isComponentSet())throw new Error("Component "+Y.name+" has already been registered with "+this.name);nt.setComponent(Y)},be.prototype.addOrOverwriteComponent=function(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)},be.prototype.getProvider=function(Y){if(this.providers.has(Y))return this.providers.get(Y);var nt=new ot(Y,this);return this.providers.set(Y,nt),nt},be.prototype.getProviders=function(){return Array.from(this.providers.values())},be}();bt.Component=re,bt.ComponentContainer=In,bt.Provider=ot},614:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Et(279),Z=Et(209),re=Et(704),Nt=Et(300),ot=Et(100);function Dn(y){return y&&"object"==typeof y&&"default"in y?y:{default:y}}var y,Lt=Dn(te),In=function(){function y(f){this.domStorage_=f,this.prefix_="firebase:"}return y.prototype.set=function(f,g){null==g?this.domStorage_.removeItem(this.prefixedName_(f)):this.domStorage_.setItem(this.prefixedName_(f),re.stringify(g))},y.prototype.get=function(f){var g=this.domStorage_.getItem(this.prefixedName_(f));return null==g?null:re.jsonEval(g)},y.prototype.remove=function(f){this.domStorage_.removeItem(this.prefixedName_(f))},y.prototype.prefixedName_=function(f){return this.prefix_+f},y.prototype.toString=function(){return this.domStorage_.toString()},y}(),be=function(){function y(){this.cache_={},this.isInMemoryStorage=!0}return y.prototype.set=function(f,g){null==g?delete this.cache_[f]:this.cache_[f]=g},y.prototype.get=function(f){return re.contains(this.cache_,f)?this.cache_[f]:null},y.prototype.remove=function(f){delete this.cache_[f]},y}(),Y=function(y){try{if("undefined"!=typeof window&&void 0!==window[y]){var f=window[y];return f.setItem("firebase:sentinel","cache"),f.removeItem("firebase:sentinel"),new In(f)}}catch(g){}return new be},nt=Y("localStorage"),st=Y("sessionStorage"),Ne=new Nt.Logger("@firebase/database"),ft=(y=1,function(){return y++}),wn=function(y){var f=re.stringToByteArray(y),g=new re.Sha1;g.update(f);var b=g.digest();return re.base64.encodeByteArray(b)},kt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];for(var g="",b=0;b<y.length;b++){var D=y[b];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?g+=kt.apply(null,D):g+="object"==typeof D?re.stringify(D):D,g+=" "}return g},Le=null,dt=!0,et=function(y,f){re.assert(!f||!0===y||!1===y,"Can't turn on custom loggers persistently."),!0===y?(Ne.logLevel=Nt.LogLevel.VERBOSE,Le=Ne.log.bind(Ne),f&&st.set("logging_enabled",!0)):"function"==typeof y?Le=y:(Le=null,st.remove("logging_enabled"))},Bt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];if(!0===dt&&(dt=!1,null===Le&&!0===st.get("logging_enabled")&&et(!0)),Le){var g=kt.apply(null,y);Le(g)}},Ft=function(y){return function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];Bt.apply(void 0,Z.__spread([y],f))}},at=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE INTERNAL ERROR: "+kt.apply(void 0,Z.__spread(y));Ne.error(g)},Je=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE FATAL ERROR: "+kt.apply(void 0,Z.__spread(y));throw Ne.error(g),new Error(g)},pt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE WARNING: "+kt.apply(void 0,Z.__spread(y));Ne.warn(g)},O=function(y){return"number"==typeof y&&(y!=y||y===Number.POSITIVE_INFINITY||y===Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",H="[MAX_NAME]",R=function(y,f){if(y===f)return 0;if(y===F||f===H)return-1;if(f===F||y===H)return 1;var g=tn(y),b=tn(f);return null!==g?null!==b?g-b==0?y.length-f.length:g-b:-1:null!==b?1:y<f?-1:1},K=function(y,f){return y===f?0:y<f?-1:1},le=function(y,f){if(f&&y in f)return f[y];throw new Error("Missing required key ("+y+") in object: "+re.stringify(f))},Tt=function(y){if("object"!=typeof y||null===y)return re.stringify(y);var f=[];for(var g in y)f.push(g);f.sort();for(var b="{",D=0;D<f.length;D++)0!==D&&(b+=","),b+=re.stringify(f[D]),b+=":",b+=Tt(y[f[D]]);return b+"}"},se=function(y,f){var g=y.length;if(g<=f)return[y];for(var b=[],D=0;D<g;D+=f)b.push(y.substring(D,D+f>g?g:D+f));return b};function Ve(y,f){for(var g in y)y.hasOwnProperty(g)&&f(g,y[g])}var Qe,rt,Mt,xr,ar,we,It=function(y){re.assert(!O(y),"Invalid JSON number");var D,x,z,Q,ce,b=1023;0===y?(x=0,z=0,D=1/y==-1/0?1:0):(D=y<0,(y=Math.abs(y))>=Math.pow(2,1-b)?(x=(Q=Math.min(Math.floor(Math.log(y)/Math.LN2),b))+b,z=Math.round(y*Math.pow(2,52-Q)-Math.pow(2,52))):(x=0,z=Math.round(y/Math.pow(2,-1074))));var ae=[];for(ce=52;ce;ce-=1)ae.push(z%2?1:0),z=Math.floor(z/2);for(ce=11;ce;ce-=1)ae.push(x%2?1:0),x=Math.floor(x/2);ae.push(D?1:0),ae.reverse();var He=ae.join(""),it="";for(ce=0;ce<64;ce+=8){var _t=parseInt(He.substr(ce,8),2).toString(16);1===_t.length&&(_t="0"+_t),it+=_t}return it.toLowerCase()},wt=new RegExp("^-?(0*)\\d{1,10}$"),tn=function(y){if(wt.test(y)){var f=Number(y);if(f>=-2147483648&&f<=2147483647)return f}return null},Rt=function(y){try{y()}catch(f){setTimeout(function(){throw pt("Exception was thrown by user callback.",f.stack||""),f},Math.floor(0))}},dn=function(y,f){var g=setTimeout(y,f);return"object"==typeof g&&g.unref&&g.unref(),g},ct=function(){function y(f,g){if(void 0===g){this.pieces_=f.split("/");for(var b=0,D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[b]=this.pieces_[D],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=f,this.pieceNum_=g}return Object.defineProperty(y,"Empty",{get:function(){return new y("")},enumerable:!1,configurable:!0}),y.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},y.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},y.prototype.popFront=function(){var f=this.pieceNum_;return f<this.pieces_.length&&f++,new y(this.pieces_,f)},y.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},y.prototype.toString=function(){for(var f="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(f+="/"+this.pieces_[g]);return f||"/"},y.prototype.toUrlEncodedString=function(){for(var f="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(f+="/"+encodeURIComponent(String(this.pieces_[g])));return f||"/"},y.prototype.slice=function(f){return void 0===f&&(f=0),this.pieces_.slice(this.pieceNum_+f)},y.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var f=[],g=this.pieceNum_;g<this.pieces_.length-1;g++)f.push(this.pieces_[g]);return new y(f,0)},y.prototype.child=function(f){for(var g=[],b=this.pieceNum_;b<this.pieces_.length;b++)g.push(this.pieces_[b]);if(f instanceof y)for(b=f.pieceNum_;b<f.pieces_.length;b++)g.push(f.pieces_[b]);else{var D=f.split("/");for(b=0;b<D.length;b++)D[b].length>0&&g.push(D[b])}return new y(g,0)},y.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},y.relativePath=function(f,g){var b=f.getFront(),D=g.getFront();if(null===b)return g;if(b===D)return y.relativePath(f.popFront(),g.popFront());throw new Error("INTERNAL ERROR: innerPath ("+g+") is not within outerPath ("+f+")")},y.comparePaths=function(f,g){for(var b=f.slice(),D=g.slice(),x=0;x<b.length&&x<D.length;x++){var z=R(b[x],D[x]);if(0!==z)return z}return b.length===D.length?0:b.length<D.length?-1:1},y.prototype.equals=function(f){if(this.getLength()!==f.getLength())return!1;for(var g=this.pieceNum_,b=f.pieceNum_;g<=this.pieces_.length;g++,b++)if(this.pieces_[g]!==f.pieces_[b])return!1;return!0},y.prototype.contains=function(f){var g=this.pieceNum_,b=f.pieceNum_;if(this.getLength()>f.getLength())return!1;for(;g<this.pieces_.length;){if(this.pieces_[g]!==f.pieces_[b])return!1;++g,++b}return!0},y}(),jn=function(){function y(f,g){this.errorPrefix_=g,this.parts_=f.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=re.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(y,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(y,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),y.prototype.push=function(f){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(f),this.byteLength_+=re.stringLength(f),this.checkValid_()},y.prototype.pop=function(){var f=this.parts_.pop();this.byteLength_-=re.stringLength(f),this.parts_.length>0&&(this.byteLength_-=1)},y.prototype.checkValid_=function(){if(this.byteLength_>y.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+y.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>y.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+y.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},y.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},y}(),Kt="firebaseio.com",Nr="websocket",sr="long_polling",Hn=function(){function y(f,g,b,D,x,z,Q){void 0===x&&(x=!1),void 0===z&&(z=""),void 0===Q&&(Q=!1),this.secure=g,this.namespace=b,this.webSocketOnly=D,this.nodeAdmin=x,this.persistenceKey=z,this.includeNamespaceInQueryParams=Q,this.host=f.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=nt.get("host:"+f)||this.host}return y.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},y.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},y.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},y.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},y.prototype.updateHost=function(f){f!==this.internalHost&&(this.internalHost=f,this.isCacheableHost()&&nt.set("host:"+this.host,this.internalHost))},y.prototype.connectionURL=function(f,g){var b;if(re.assert("string"==typeof f,"typeof type must == string"),re.assert("object"==typeof g,"typeof params must == object"),f===Nr)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(f!==sr)throw new Error("Unknown connection type: "+f);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(g.ns=this.namespace);var D=[];return Ve(g,function(x,z){D.push(x+"="+z)}),b+D.join("&")},y.prototype.toString=function(){var f=this.toURLString();return this.persistenceKey&&(f+="<"+this.persistenceKey+">"),f},y.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},y}(),Qn=function(y,f){var g=xn(y),b=g.namespace;return"firebase.com"===g.domain&&Je(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==g.domain&&Je("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hn(g.host,g.secure,b,f,"ws"===g.scheme||"wss"===g.scheme,"",b!==g.subdomain),path:new ct(g.pathString)}},xn=function(y){var f="",g="",b="",D="",x="",z=!0,Q="https",ce=443;if("string"==typeof y){var ae=y.indexOf("//");ae>=0&&(Q=y.substring(0,ae-1),y=y.substring(ae+2));var He=y.indexOf("/");-1===He&&(He=y.length);var it=y.indexOf("?");-1===it&&(it=y.length),f=y.substring(0,Math.min(He,it)),He<it&&(D=function(y){for(var f="",g=y.split("/"),b=0;b<g.length;b++)if(g[b].length>0){var D=g[b];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch(x){}f+="/"+D}return f}(y.substring(He,it)));var _t=function(y){var f,g,b={};"?"===y.charAt(0)&&(y=y.substring(1));try{for(var D=Z.__values(y.split("&")),x=D.next();!x.done;x=D.next()){var z=x.value;if(0!==z.length){var Q=z.split("=");2===Q.length?b[decodeURIComponent(Q[0])]=decodeURIComponent(Q[1]):pt("Invalid query segment '"+z+"' in query '"+y+"'")}}}catch(ce){f={error:ce}}finally{try{x&&!x.done&&(g=D.return)&&g.call(D)}finally{if(f)throw f.error}}return b}(y.substring(Math.min(y.length,it)));(ae=f.indexOf(":"))>=0?(z="https"===Q||"wss"===Q,ce=parseInt(f.substring(ae+1),10)):ae=f.length;var xt=f.slice(0,ae);if("localhost"===xt.toLowerCase())g="localhost";else if(xt.split(".").length<=2)g=xt;else{var Zt=f.indexOf(".");b=f.substring(0,Zt).toLowerCase(),g=f.substring(Zt+1),x=b}"ns"in _t&&(x=_t.ns)}return{host:f,port:ce,domain:g,subdomain:b,secure:z,scheme:Q,pathString:D,namespace:x}},hi=/[\[\].#$\/\u0000-\u001F\u007F]/,je=/[\[\].#$\u0000-\u001F\u007F]/,me=10485760,qe=function(y){return"string"==typeof y&&0!==y.length&&!hi.test(y)},Xe=function(y){return"string"==typeof y&&0!==y.length&&!je.test(y)},Wt=function(y){return null===y||"string"==typeof y||"number"==typeof y&&!O(y)||y&&"object"==typeof y&&re.contains(y,".sv")},zt=function(y,f,g,b,D){D&&void 0===g||gn(re.errorPrefix(y,f,D),g,b)},gn=function(y,f,g){var b=g instanceof ct?new jn(g,y):g;if(void 0===f)throw new Error(y+"contains undefined "+b.toErrorString());if("function"==typeof f)throw new Error(y+"contains a function "+b.toErrorString()+" with contents = "+f.toString());if(O(f))throw new Error(y+"contains "+f.toString()+" "+b.toErrorString());if("string"==typeof f&&f.length>me/3&&re.stringLength(f)>me)throw new Error(y+"contains a string greater than "+me+" utf8 bytes "+b.toErrorString()+" ('"+f.substring(0,50)+"...')");if(f&&"object"==typeof f){var D=!1,x=!1;if(Ve(f,function(z,Q){if(".value"===z)D=!0;else if(".priority"!==z&&".sv"!==z&&(x=!0,!qe(z)))throw new Error(y+" contains an invalid key ("+z+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(z),gn(y,Q,b),b.pop()}),D&&x)throw new Error(y+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},Mn=function(y,f,g,b,D){if(!D||void 0!==g){var x=re.errorPrefix(y,f,D);if(!g||"object"!=typeof g||Array.isArray(g))throw new Error(x+" must be an object containing the children to replace.");var z=[];Ve(g,function(Q,ce){var ae=new ct(Q);if(gn(x,ce,b.child(ae)),".priority"===ae.getBack()&&!Wt(ce))throw new Error(x+"contains an invalid value for '"+ae.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");z.push(ae)}),function(y,f){var g,b;for(g=0;g<f.length;g++)for(var D=(b=f[g]).slice(),x=0;x<D.length;x++)if((".priority"!==D[x]||x!==D.length-1)&&!qe(D[x]))throw new Error(y+"contains an invalid key ("+D[x]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');f.sort(ct.comparePaths);var z=null;for(g=0;g<f.length;g++){if(b=f[g],null!==z&&z.contains(b))throw new Error(y+"contains a path "+z.toString()+" that is ancestor of another path "+b.toString());z=b}}(x,z)}},Er=function(y,f,g,b){if(!b||void 0!==g){if(O(g))throw new Error(re.errorPrefix(y,f,b)+"is "+g.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wt(g))throw new Error(re.errorPrefix(y,f,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xn=function(y,f,g,b){if(!b||void 0!==g)switch(g){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(re.errorPrefix(y,f,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ir=function(y,f,g,b){if(!(b&&void 0===g||qe(g)))throw new Error(re.errorPrefix(y,f,b)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},an=function(y,f,g,b){if(!(b&&void 0===g||Xe(g)))throw new Error(re.errorPrefix(y,f,b)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fi=function(y,f,g,b){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),an(y,f,g,b)},rn=function(y,f){if(".info"===f.getFront())throw new Error(y+" failed = Can't modify data under /.info/")},Tr=function(y,f,g){var b=g.path.toString();if("string"!=typeof g.repoInfo.host||0===g.repoInfo.host.length||!qe(g.repoInfo.namespace)&&"localhost"!==g.repoInfo.host.split(":")[0]||0!==b.length&&!function(y){return y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),Xe(y)}(b))throw new Error(re.errorPrefix(y,f,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},co=function(y,f,g,b){if((!b||void 0!==g)&&"boolean"!=typeof g)throw new Error(re.errorPrefix(y,f,b)+"must be a boolean.")},Ln=function(){function y(f,g){this.repo_=f,this.path_=g}return y.prototype.cancel=function(f){re.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),re.validateCallback("OnDisconnect.cancel",1,f,!0);var g=new re.Deferred;return this.repo_.onDisconnectCancel(this.path_,g.wrapCallback(f)),g.promise},y.prototype.remove=function(f){re.validateArgCount("OnDisconnect.remove",0,1,arguments.length),rn("OnDisconnect.remove",this.path_),re.validateCallback("OnDisconnect.remove",1,f,!0);var g=new re.Deferred;return this.repo_.onDisconnectSet(this.path_,null,g.wrapCallback(f)),g.promise},y.prototype.set=function(f,g){re.validateArgCount("OnDisconnect.set",1,2,arguments.length),rn("OnDisconnect.set",this.path_),zt("OnDisconnect.set",1,f,this.path_,!1),re.validateCallback("OnDisconnect.set",2,g,!0);var b=new re.Deferred;return this.repo_.onDisconnectSet(this.path_,f,b.wrapCallback(g)),b.promise},y.prototype.setWithPriority=function(f,g,b){re.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),rn("OnDisconnect.setWithPriority",this.path_),zt("OnDisconnect.setWithPriority",1,f,this.path_,!1),Er("OnDisconnect.setWithPriority",2,g,!1),re.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var D=new re.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,f,g,D.wrapCallback(b)),D.promise},y.prototype.update=function(f,g){if(re.validateArgCount("OnDisconnect.update",1,2,arguments.length),rn("OnDisconnect.update",this.path_),Array.isArray(f)){for(var b={},D=0;D<f.length;++D)b[""+D]=f[D];f=b,pt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mn("OnDisconnect.update",1,f,this.path_,!1),re.validateCallback("OnDisconnect.update",2,g,!0);var x=new re.Deferred;return this.repo_.onDisconnectUpdate(this.path_,f,x.wrapCallback(g)),x.promise},y}(),un=function(){function y(f,g){this.committed=f,this.snapshot=g}return y.prototype.toJSON=function(){return re.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},y}(),Gi=function(){var y="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",f=0,g=[];return function(b){var D=b===f;f=b;var x,z=new Array(8);for(x=7;x>=0;x--)z[x]=y.charAt(b%64),b=Math.floor(b/64);re.assert(0===b,"Cannot push at time == 0");var Q=z.join("");if(D){for(x=11;x>=0&&63===g[x];x--)g[x]=0;g[x]++}else for(x=0;x<12;x++)g[x]=Math.floor(64*Math.random());for(x=0;x<12;x++)Q+=y.charAt(g[x]);return re.assert(20===Q.length,"nextPushId: Length should be 20."),Q}}(),ve=function(){function y(f,g){this.name=f,this.node=g}return y.Wrap=function(f,g){return new y(f,g)},y}(),Be=function(){function y(){}return y.prototype.getCompare=function(){return this.compare.bind(this)},y.prototype.indexedValueChanged=function(f,g){var b=new ve(F,f),D=new ve(F,g);return 0!==this.compare(b,D)},y.prototype.minPost=function(){return ve.MIN},y}(),mt=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),Object.defineProperty(f,"__EMPTY_NODE",{get:function(){return Qe},set:function(g){Qe=g},enumerable:!1,configurable:!0}),f.prototype.compare=function(g,b){return R(g.name,b.name)},f.prototype.isDefinedOn=function(g){throw re.assertionError("KeyIndex.isDefinedOn not expected to be called.")},f.prototype.indexedValueChanged=function(g,b){return!1},f.prototype.minPost=function(){return ve.MIN},f.prototype.maxPost=function(){return new ve(H,Qe)},f.prototype.makePost=function(g,b){return re.assert("string"==typeof g,"KeyIndex indexValue must always be a string."),new ve(g,Qe)},f.prototype.toString=function(){return".key"},f}(Be),Fe=new mt,Qt=function(y){return"number"==typeof y?"number:"+It(y):"string:"+y},yn=function(y){if(y.isLeafNode()){var f=y.val();re.assert("string"==typeof f||"number"==typeof f||"object"==typeof f&&re.contains(f,".sv"),"Priority must be a string or number.")}else re.assert(y===rt||y.isEmpty(),"priority of unexpected type.");re.assert(y===rt||y.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Jt=function(){function y(f,g){void 0===g&&(g=y.__childrenNodeConstructor.EMPTY_NODE),this.value_=f,this.priorityNode_=g,this.lazyHash_=null,re.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),yn(this.priorityNode_)}return Object.defineProperty(y,"__childrenNodeConstructor",{get:function(){return Mt},set:function(f){Mt=f},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!0},y.prototype.getPriority=function(){return this.priorityNode_},y.prototype.updatePriority=function(f){return new y(this.value_,f)},y.prototype.getImmediateChild=function(f){return".priority"===f?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.getChild=function(f){return f.isEmpty()?this:".priority"===f.getFront()?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.hasChild=function(){return!1},y.prototype.getPredecessorChildName=function(f,g){return null},y.prototype.updateImmediateChild=function(f,g){return".priority"===f?this.updatePriority(g):g.isEmpty()&&".priority"!==f?this:y.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(f,g).updatePriority(this.priorityNode_)},y.prototype.updateChild=function(f,g){var b=f.getFront();return null===b?g:g.isEmpty()&&".priority"!==b?this:(re.assert(".priority"!==b||1===f.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,y.__childrenNodeConstructor.EMPTY_NODE.updateChild(f.popFront(),g)))},y.prototype.isEmpty=function(){return!1},y.prototype.numChildren=function(){return 0},y.prototype.forEachChild=function(f,g){return!1},y.prototype.val=function(f){return f&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},y.prototype.hash=function(){if(null===this.lazyHash_){var f="";this.priorityNode_.isEmpty()||(f+="priority:"+Qt(this.priorityNode_.val())+":");var g=typeof this.value_;f+=g+":",f+="number"===g?It(this.value_):this.value_,this.lazyHash_=wn(f)}return this.lazyHash_},y.prototype.getValue=function(){return this.value_},y.prototype.compareTo=function(f){return f===y.__childrenNodeConstructor.EMPTY_NODE?1:f instanceof y.__childrenNodeConstructor?-1:(re.assert(f.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(f))},y.prototype.compareToLeafNode_=function(f){var g=typeof f.value_,b=typeof this.value_,D=y.VALUE_TYPE_ORDER.indexOf(g),x=y.VALUE_TYPE_ORDER.indexOf(b);return re.assert(D>=0,"Unknown leaf type: "+g),re.assert(x>=0,"Unknown leaf type: "+b),D===x?"object"===b?0:this.value_<f.value_?-1:this.value_===f.value_?0:1:x-D},y.prototype.withIndex=function(){return this},y.prototype.isIndexed=function(){return!0},y.prototype.equals=function(f){return f===this||!!f.isLeafNode()&&(this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_))},y.VALUE_TYPE_ORDER=["object","boolean","number","string"],y}(),de=new(function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),f.prototype.compare=function(g,b){var D=g.node.getPriority(),x=b.node.getPriority(),z=D.compareTo(x);return 0===z?R(g.name,b.name):z},f.prototype.isDefinedOn=function(g){return!g.getPriority().isEmpty()},f.prototype.indexedValueChanged=function(g,b){return!g.getPriority().equals(b.getPriority())},f.prototype.minPost=function(){return ve.MIN},f.prototype.maxPost=function(){return new ve(H,new Jt("[PRIORITY-POST]",ar))},f.prototype.makePost=function(g,b){var D=xr(g);return new ve(b,new Jt("[PRIORITY-POST]",D))},f.prototype.toString=function(){return".priority"},f}(Be)),Se=function(){function y(f,g,b,D,x){void 0===x&&(x=null),this.isReverse_=D,this.resultGenerator_=x,this.nodeStack_=[];for(var z=1;!f.isEmpty();)if(f=f,z=g?b(f.key,g):1,D&&(z*=-1),z<0)f=this.isReverse_?f.left:f.right;else{if(0===z){this.nodeStack_.push(f);break}this.nodeStack_.push(f),f=this.isReverse_?f.right:f.left}}return y.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var g,f=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(f.key,f.value):{key:f.key,value:f.value},this.isReverse_)for(f=f.left;!f.isEmpty();)this.nodeStack_.push(f),f=f.right;else for(f=f.right;!f.isEmpty();)this.nodeStack_.push(f),f=f.left;return g},y.prototype.hasNext=function(){return this.nodeStack_.length>0},y.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var f=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(f.key,f.value):{key:f.key,value:f.value}},y}(),Pe=function(){function y(f,g,b,D,x){this.key=f,this.value=g,this.color=null!=b?b:y.RED,this.left=null!=D?D:L.EMPTY_NODE,this.right=null!=x?x:L.EMPTY_NODE}return y.prototype.copy=function(f,g,b,D,x){return new y(null!=f?f:this.key,null!=g?g:this.value,null!=b?b:this.color,null!=D?D:this.left,null!=x?x:this.right)},y.prototype.count=function(){return this.left.count()+1+this.right.count()},y.prototype.isEmpty=function(){return!1},y.prototype.inorderTraversal=function(f){return this.left.inorderTraversal(f)||!!f(this.key,this.value)||this.right.inorderTraversal(f)},y.prototype.reverseTraversal=function(f){return this.right.reverseTraversal(f)||f(this.key,this.value)||this.left.reverseTraversal(f)},y.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},y.prototype.minKey=function(){return this.min_().key},y.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},y.prototype.insert=function(f,g,b){var D=this,x=b(f,D.key);return(D=x<0?D.copy(null,null,null,D.left.insert(f,g,b),null):0===x?D.copy(null,g,null,null,null):D.copy(null,null,null,null,D.right.insert(f,g,b))).fixUp_()},y.prototype.removeMin_=function(){if(this.left.isEmpty())return L.EMPTY_NODE;var f=this;return!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),(f=f.copy(null,null,null,f.left.removeMin_(),null)).fixUp_()},y.prototype.remove=function(f,g){var b,D;if(g(f,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(f,g),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===g(f,b.key)){if(b.right.isEmpty())return L.EMPTY_NODE;D=b.right.min_(),b=b.copy(D.key,D.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(f,g))}return b.fixUp_()},y.prototype.isRed_=function(){return this.color},y.prototype.fixUp_=function(){var f=this;return f.right.isRed_()&&!f.left.isRed_()&&(f=f.rotateLeft_()),f.left.isRed_()&&f.left.left.isRed_()&&(f=f.rotateRight_()),f.left.isRed_()&&f.right.isRed_()&&(f=f.colorFlip_()),f},y.prototype.moveRedLeft_=function(){var f=this.colorFlip_();return f.right.left.isRed_()&&(f=(f=(f=f.copy(null,null,null,null,f.right.rotateRight_())).rotateLeft_()).colorFlip_()),f},y.prototype.moveRedRight_=function(){var f=this.colorFlip_();return f.left.left.isRed_()&&(f=(f=f.rotateRight_()).colorFlip_()),f},y.prototype.rotateLeft_=function(){var f=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,f,null)},y.prototype.rotateRight_=function(){var f=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,f)},y.prototype.colorFlip_=function(){var f=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,f,g)},y.prototype.checkMaxDepth_=function(){var f=this.check_();return Math.pow(2,f)<=this.count()+1},y.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var f=this.left.check_();if(f!==this.right.check_())throw new Error("Black depths differ");return f+(this.isRed_()?0:1)},y.RED=!0,y.BLACK=!1,y}(),ie=function(){function y(){}return y.prototype.copy=function(f,g,b,D,x){return this},y.prototype.insert=function(f,g,b){return new Pe(f,g,null)},y.prototype.remove=function(f,g){return this},y.prototype.count=function(){return 0},y.prototype.isEmpty=function(){return!0},y.prototype.inorderTraversal=function(f){return!1},y.prototype.reverseTraversal=function(f){return!1},y.prototype.minKey=function(){return null},y.prototype.maxKey=function(){return null},y.prototype.check_=function(){return 0},y.prototype.isRed_=function(){return!1},y}(),L=function(){function y(f,g){void 0===g&&(g=y.EMPTY_NODE),this.comparator_=f,this.root_=g}return y.prototype.insert=function(f,g){return new y(this.comparator_,this.root_.insert(f,g,this.comparator_).copy(null,null,Pe.BLACK,null,null))},y.prototype.remove=function(f){return new y(this.comparator_,this.root_.remove(f,this.comparator_).copy(null,null,Pe.BLACK,null,null))},y.prototype.get=function(f){for(var g,b=this.root_;!b.isEmpty();){if(0===(g=this.comparator_(f,b.key)))return b.value;g<0?b=b.left:g>0&&(b=b.right)}return null},y.prototype.getPredecessorKey=function(f){for(var g,b=this.root_,D=null;!b.isEmpty();){if(0===(g=this.comparator_(f,b.key))){if(b.left.isEmpty())return D?D.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}g<0?b=b.left:g>0&&(D=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},y.prototype.isEmpty=function(){return this.root_.isEmpty()},y.prototype.count=function(){return this.root_.count()},y.prototype.minKey=function(){return this.root_.minKey()},y.prototype.maxKey=function(){return this.root_.maxKey()},y.prototype.inorderTraversal=function(f){return this.root_.inorderTraversal(f)},y.prototype.reverseTraversal=function(f){return this.root_.reverseTraversal(f)},y.prototype.getIterator=function(f){return new Se(this.root_,null,this.comparator_,!1,f)},y.prototype.getIteratorFrom=function(f,g){return new Se(this.root_,f,this.comparator_,!1,g)},y.prototype.getReverseIteratorFrom=function(f,g){return new Se(this.root_,f,this.comparator_,!0,g)},y.prototype.getReverseIterator=function(f){return new Se(this.root_,null,this.comparator_,!0,f)},y.EMPTY_NODE=new ie,y}(),$=Math.log(2),ue=function(){function y(f){this.count=parseInt(Math.log(f+1)/$,10),this.current_=this.count-1;var D=parseInt(Array(this.count+1).join("1"),2);this.bits_=f+1&D}return y.prototype.nextBitIsOne=function(){var f=!(this.bits_&1<<this.current_);return this.current_--,f},y}(),Ce=function(y,f,g,b){y.sort(f);var D=function(ce,ae){var it,_t,He=ae-ce;if(0===He)return null;if(1===He)return it=y[ce],_t=g?g(it):it,new Pe(_t,it.node,Pe.BLACK,null,null);var xt=parseInt(He/2,10)+ce,Zt=D(ce,xt),ln=D(xt+1,ae);return it=y[xt],_t=g?g(it):it,new Pe(_t,it.node,Pe.BLACK,Zt,ln)},Q=function(ce){for(var ae=null,He=null,it=y.length,_t=function(Zn,vo){var $i=it-Zn,yo=it;it-=Zn;var _n=D($i+1,yo),Ki=y[$i],fs=g?g(Ki):Ki;xt(new Pe(fs,Ki.node,vo,null,_n))},xt=function(Zn){ae?(ae.left=Zn,ae=Zn):(He=Zn,ae=Zn)},Zt=0;Zt<ce.count;++Zt){var ln=ce.nextBitIsOne(),$n=Math.pow(2,ce.count-(Zt+1));ln?_t($n,Pe.BLACK):(_t($n,Pe.BLACK),_t($n,Pe.RED))}return He}(new ue(y.length));return new L(b||f,Q)},ze={},At=function(){function y(f,g){this.indexes_=f,this.indexSet_=g}return Object.defineProperty(y,"Default",{get:function(){return re.assert(ze&&de,"ChildrenNode.ts has not been loaded"),we=we||new y({".priority":ze},{".priority":de})},enumerable:!1,configurable:!0}),y.prototype.get=function(f){var g=re.safeGet(this.indexes_,f);if(!g)throw new Error("No index defined for "+f);return g instanceof L?g:null},y.prototype.hasIndex=function(f){return re.contains(this.indexSet_,f.toString())},y.prototype.addIndex=function(f,g){re.assert(f!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],D=!1,x=g.getIterator(ve.Wrap),z=x.getNext();z;)D=D||f.isDefinedOn(z.node),b.push(z),z=x.getNext();var Q;Q=D?Ce(b,f.getCompare()):ze;var ce=f.toString(),ae=Z.__assign({},this.indexSet_);ae[ce]=f;var He=Z.__assign({},this.indexes_);return He[ce]=Q,new y(He,ae)},y.prototype.addToIndexes=function(f,g){var b=this;return new y(re.map(this.indexes_,function(x,z){var Q=re.safeGet(b.indexSet_,z);if(re.assert(Q,"Missing index implementation for "+z),x===ze){if(Q.isDefinedOn(f.node)){for(var ce=[],ae=g.getIterator(ve.Wrap),He=ae.getNext();He;)He.name!==f.name&&ce.push(He),He=ae.getNext();return ce.push(f),Ce(ce,Q.getCompare())}return ze}var it=g.get(f.name),_t=x;return it&&(_t=_t.remove(new ve(f.name,it))),_t.insert(f,f.node)}),this.indexSet_)},y.prototype.removeFromIndexes=function(f,g){return new y(re.map(this.indexes_,function(D){if(D===ze)return D;var x=g.get(f.name);return x?D.remove(new ve(f.name,x)):D}),this.indexSet_)},y}();function qt(y,f){return R(y.name,f.name)}function lt(y,f){return R(y,f)}var mn,vt=function(){function y(f,g,b){this.children_=f,this.priorityNode_=g,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&yn(this.priorityNode_),this.children_.isEmpty()&&re.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(y,"EMPTY_NODE",{get:function(){return mn||(mn=new y(new L(lt),null,At.Default))},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!1},y.prototype.getPriority=function(){return this.priorityNode_||mn},y.prototype.updatePriority=function(f){return this.children_.isEmpty()?this:new y(this.children_,f,this.indexMap_)},y.prototype.getImmediateChild=function(f){if(".priority"===f)return this.getPriority();var g=this.children_.get(f);return null===g?mn:g},y.prototype.getChild=function(f){var g=f.getFront();return null===g?this:this.getImmediateChild(g).getChild(f.popFront())},y.prototype.hasChild=function(f){return null!==this.children_.get(f)},y.prototype.updateImmediateChild=function(f,g){if(re.assert(g,"We should always be passing snapshot nodes"),".priority"===f)return this.updatePriority(g);var b=new ve(f,g),D=void 0,x=void 0;g.isEmpty()?(D=this.children_.remove(f),x=this.indexMap_.removeFromIndexes(b,this.children_)):(D=this.children_.insert(f,g),x=this.indexMap_.addToIndexes(b,this.children_));var z=D.isEmpty()?mn:this.priorityNode_;return new y(D,z,x)},y.prototype.updateChild=function(f,g){var b=f.getFront();if(null===b)return g;re.assert(".priority"!==f.getFront()||1===f.getLength(),".priority must be the last token in a path");var D=this.getImmediateChild(b).updateChild(f.popFront(),g);return this.updateImmediateChild(b,D)},y.prototype.isEmpty=function(){return this.children_.isEmpty()},y.prototype.numChildren=function(){return this.children_.count()},y.prototype.val=function(f){if(this.isEmpty())return null;var g={},b=0,D=0,x=!0;if(this.forEachChild(de,function(ce,ae){g[ce]=ae.val(f),b++,x&&y.INTEGER_REGEXP_.test(ce)?D=Math.max(D,Number(ce)):x=!1}),!f&&x&&D<2*b){var z=[];for(var Q in g)z[Q]=g[Q];return z}return f&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g},y.prototype.hash=function(){if(null===this.lazyHash_){var f="";this.getPriority().isEmpty()||(f+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(de,function(g,b){var D=b.hash();""!==D&&(f+=":"+g+":"+D)}),this.lazyHash_=""===f?"":wn(f)}return this.lazyHash_},y.prototype.getPredecessorChildName=function(f,g,b){var D=this.resolveIndex_(b);if(D){var x=D.getPredecessorKey(new ve(f,g));return x?x.name:null}return this.children_.getPredecessorKey(f)},y.prototype.getFirstChildName=function(f){var g=this.resolveIndex_(f);if(g){var b=g.minKey();return b&&b.name}return this.children_.minKey()},y.prototype.getFirstChild=function(f){var g=this.getFirstChildName(f);return g?new ve(g,this.children_.get(g)):null},y.prototype.getLastChildName=function(f){var g=this.resolveIndex_(f);if(g){var b=g.maxKey();return b&&b.name}return this.children_.maxKey()},y.prototype.getLastChild=function(f){var g=this.getLastChildName(f);return g?new ve(g,this.children_.get(g)):null},y.prototype.forEachChild=function(f,g){var b=this.resolveIndex_(f);return b?b.inorderTraversal(function(D){return g(D.name,D.node)}):this.children_.inorderTraversal(g)},y.prototype.getIterator=function(f){return this.getIteratorFrom(f.minPost(),f)},y.prototype.getIteratorFrom=function(f,g){var b=this.resolveIndex_(g);if(b)return b.getIteratorFrom(f,function(z){return z});for(var D=this.children_.getIteratorFrom(f.name,ve.Wrap),x=D.peek();null!=x&&g.compare(x,f)<0;)D.getNext(),x=D.peek();return D},y.prototype.getReverseIterator=function(f){return this.getReverseIteratorFrom(f.maxPost(),f)},y.prototype.getReverseIteratorFrom=function(f,g){var b=this.resolveIndex_(g);if(b)return b.getReverseIteratorFrom(f,function(z){return z});for(var D=this.children_.getReverseIteratorFrom(f.name,ve.Wrap),x=D.peek();null!=x&&g.compare(x,f)>0;)D.getNext(),x=D.peek();return D},y.prototype.compareTo=function(f){return this.isEmpty()?f.isEmpty()?0:-1:f.isLeafNode()||f.isEmpty()?1:f===rr?-1:0},y.prototype.withIndex=function(f){if(f===Fe||this.indexMap_.hasIndex(f))return this;var g=this.indexMap_.addIndex(f,this.children_);return new y(this.children_,this.priorityNode_,g)},y.prototype.isIndexed=function(f){return f===Fe||this.indexMap_.hasIndex(f)},y.prototype.equals=function(f){if(f===this)return!0;if(f.isLeafNode())return!1;var g=f;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){for(var b=this.getIterator(de),D=g.getIterator(de),x=b.getNext(),z=D.getNext();x&&z;){if(x.name!==z.name||!x.node.equals(z.node))return!1;x=b.getNext(),z=D.getNext()}return null===x&&null===z}return!1}return!1},y.prototype.resolveIndex_=function(f){return f===Fe?null:this.indexMap_.get(f.toString())},y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,y}(),rr=new(function(y){function f(){return y.call(this,new L(lt),vt.EMPTY_NODE,At.Default)||this}return Z.__extends(f,y),f.prototype.compareTo=function(g){return g===this?0:1},f.prototype.equals=function(g){return g===this},f.prototype.getPriority=function(){return this},f.prototype.getImmediateChild=function(g){return vt.EMPTY_NODE},f.prototype.isEmpty=function(){return!1},f}(vt));function Bn(y,f){if(void 0===f&&(f=null),null===y)return vt.EMPTY_NODE;if("object"==typeof y&&".priority"in y&&(f=y[".priority"]),re.assert(null===f||"string"==typeof f||"number"==typeof f||"object"==typeof f&&".sv"in f,"Invalid priority type found: "+typeof f),"object"==typeof y&&".value"in y&&null!==y[".value"]&&(y=y[".value"]),"object"!=typeof y||".sv"in y)return new Jt(y,Bn(f));if(y instanceof Array){var ce=vt.EMPTY_NODE;return Ve(y,function(ae,He){if(re.contains(y,ae)&&"."!==ae.substring(0,1)){var it=Bn(He);(it.isLeafNode()||!it.isEmpty())&&(ce=ce.updateImmediateChild(ae,it))}}),ce.updatePriority(Bn(f))}var b=[],D=!1;if(Ve(y,function(ae,He){if("."!==ae.substring(0,1)){var it=Bn(He);it.isEmpty()||(D=D||!it.getPriority().isEmpty(),b.push(new ve(ae,it)))}}),0===b.length)return vt.EMPTY_NODE;var z=Ce(b,qt,function(ae){return ae.name},lt);if(D){var Q=Ce(b,de.getCompare());return new vt(z,Bn(f),new At({".priority":Q},{".priority":de}))}return new vt(z,Bn(f),At.Default)}Object.defineProperties(ve,{MIN:{value:new ve(F,vt.EMPTY_NODE)},MAX:{value:new ve(H,rr)}}),mt.__EMPTY_NODE=vt.EMPTY_NODE,Jt.__childrenNodeConstructor=vt,function(y){rt=y}(rr),function(y){ar=y}(rr),function(y){xr=y}(Bn);var to,eo=new(function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),f.prototype.compare=function(g,b){var D=g.node.compareTo(b.node);return 0===D?R(g.name,b.name):D},f.prototype.isDefinedOn=function(g){return!0},f.prototype.indexedValueChanged=function(g,b){return!g.equals(b)},f.prototype.minPost=function(){return ve.MIN},f.prototype.maxPost=function(){return ve.MAX},f.prototype.makePost=function(g,b){var D=Bn(g);return new ve(b,D)},f.prototype.toString=function(){return".value"},f}(Be)),jo=function(y){function f(g){var b=y.call(this)||this;return b.indexPath_=g,re.assert(!g.isEmpty()&&".priority"!==g.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return Z.__extends(f,y),f.prototype.extractChild=function(g){return g.getChild(this.indexPath_)},f.prototype.isDefinedOn=function(g){return!g.getChild(this.indexPath_).isEmpty()},f.prototype.compare=function(g,b){var D=this.extractChild(g.node),x=this.extractChild(b.node),z=D.compareTo(x);return 0===z?R(g.name,b.name):z},f.prototype.makePost=function(g,b){var D=Bn(g),x=vt.EMPTY_NODE.updateChild(this.indexPath_,D);return new ve(b,x)},f.prototype.maxPost=function(){var g=vt.EMPTY_NODE.updateChild(this.indexPath_,rr);return new ve(H,g)},f.prototype.toString=function(){return this.indexPath_.slice().join("/")},f}(Be),ko=function(){function y(f,g,b){this.node_=f,this.ref_=g,this.index_=b}return y.prototype.val=function(){return re.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},y.prototype.exportVal=function(){return re.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},y.prototype.toJSON=function(){return re.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},y.prototype.exists=function(){return re.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},y.prototype.child=function(f){re.validateArgCount("DataSnapshot.child",0,1,arguments.length),f=String(f),an("DataSnapshot.child",1,f,!1);var g=new ct(f),b=this.ref_.child(g);return new y(this.node_.getChild(g),b,de)},y.prototype.hasChild=function(f){re.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),an("DataSnapshot.hasChild",1,f,!1);var g=new ct(f);return!this.node_.getChild(g).isEmpty()},y.prototype.getPriority=function(){return re.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},y.prototype.forEach=function(f){var g=this;if(re.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),re.validateCallback("DataSnapshot.forEach",1,f,!1),this.node_.isLeafNode())return!1;var b=this.node_;return!!b.forEachChild(this.index_,function(D,x){return f(new y(x,g.ref_.child(D),de))})},y.prototype.hasChildren=function(){return re.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(y.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),y.prototype.numChildren=function(){return re.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},y.prototype.getRef=function(){return re.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(y.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),y}(),Cu=function(){function y(f,g,b,D){this.eventType=f,this.eventRegistration=g,this.snapshot=b,this.prevName=D}return y.prototype.getPath=function(){var f=this.snapshot.getRef();return"value"===this.eventType?f.path:f.getParent().path},y.prototype.getEventType=function(){return this.eventType},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+re.stringify(this.snapshot.exportVal())},y}(),Rn=function(){function y(f,g,b){this.eventRegistration=f,this.error=g,this.path=b}return y.prototype.getPath=function(){return this.path},y.prototype.getEventType=function(){return"cancel"},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.path.toString()+":cancel"},y}(),Cs=function(){function y(f,g,b){this.callback_=f,this.cancelCallback_=g,this.context_=b}return y.prototype.respondsTo=function(f){return"value"===f},y.prototype.createEvent=function(f,g){var b=g.getQueryParams().getIndex();return new Cu("value",this,new ko(f.snapshotNode,g.getRef(),b))},y.prototype.getEventRunner=function(f){var g=this.context_;if("cancel"===f.getEventType()){re.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(g,f.error)}}var D=this.callback_;return function(){D.call(g,f.snapshot)}},y.prototype.createCancelEvent=function(f,g){return this.cancelCallback_?new Rn(this,f,g):null},y.prototype.matches=function(f){return f instanceof y&&(!f.callback_||!this.callback_||f.callback_===this.callback_&&f.context_===this.context_)},y.prototype.hasAnyCallback=function(){return null!==this.callback_},y}(),ts=function(){function y(f,g,b){this.callbacks_=f,this.cancelCallback_=g,this.context_=b}return y.prototype.respondsTo=function(f){var g="children_added"===f?"child_added":f;return re.contains(this.callbacks_,g="children_removed"===g?"child_removed":g)},y.prototype.createCancelEvent=function(f,g){return this.cancelCallback_?new Rn(this,f,g):null},y.prototype.createEvent=function(f,g){re.assert(null!=f.childName,"Child events should have a childName.");var b=g.getRef().child(f.childName),D=g.getQueryParams().getIndex();return new Cu(f.type,this,new ko(f.snapshotNode,b,D),f.prevName)},y.prototype.getEventRunner=function(f){var g=this.context_;if("cancel"===f.getEventType()){re.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(g,f.error)}}var D=this.callbacks_[f.eventType];return function(){D.call(g,f.snapshot,f.prevName)}},y.prototype.matches=function(f){var g=this;if(f instanceof y){if(!this.callbacks_||!f.callbacks_)return!0;if(this.context_===f.context_){var b=Object.keys(f.callbacks_),D=Object.keys(this.callbacks_),x=b.length;if(x===D.length){if(1===x){var Q=b[0],ce=D[0];return!(ce!==Q||f.callbacks_[Q]&&this.callbacks_[ce]&&f.callbacks_[Q]!==this.callbacks_[ce])}return D.every(function(ae){return f.callbacks_[ae]===g.callbacks_[ae]})}}}return!1},y.prototype.hasAnyCallback=function(){return null!==this.callbacks_},y}(),ns=function(){function y(f,g,b,D){this.repo=f,this.path=g,this.queryParams_=b,this.orderByCalled_=D}return Object.defineProperty(y,"__referenceConstructor",{get:function(){return re.assert(to,"Reference.ts has not been loaded"),to},set:function(f){to=f},enumerable:!1,configurable:!0}),y.validateQueryEndpoints_=function(f){var g=null,b=null;if(f.hasStart()&&(g=f.getIndexStartValue()),f.hasEnd()&&(b=f.getIndexEndValue()),f.getIndex()===Fe){var D="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",x="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==F)throw new Error(D);if("string"!=typeof g)throw new Error(x)}if(f.hasEnd()){if(f.getIndexEndName()!==H)throw new Error(D);if("string"!=typeof b)throw new Error(x)}}else if(f.getIndex()===de){if(null!=g&&!Wt(g)||null!=b&&!Wt(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(re.assert(f.getIndex()instanceof jo||f.getIndex()===eo,"unknown index type."),null!=g&&"object"==typeof g||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},y.validateLimit_=function(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},y.prototype.validateNoPreviousOrderByCall_=function(f){if(!0===this.orderByCalled_)throw new Error(f+": You can't combine multiple orderBy calls.")},y.prototype.getQueryParams=function(){return this.queryParams_},y.prototype.getRef=function(){return re.validateArgCount("Query.ref",0,0,arguments.length),new y.__referenceConstructor(this.repo,this.path)},y.prototype.on=function(f,g,b,D){re.validateArgCount("Query.on",2,4,arguments.length),Xn("Query.on",1,f,!1),re.validateCallback("Query.on",2,g,!1);var x=y.getCancelAndContextArgs_("Query.on",b,D);if("value"===f)this.onValueEvent(g,x.cancel,x.context);else{var z={};z[f]=g,this.onChildEvent(z,x.cancel,x.context)}return g},y.prototype.onValueEvent=function(f,g,b){var D=new Cs(f,g||null,b||null);this.repo.addEventCallbackForQuery(this,D)},y.prototype.onChildEvent=function(f,g,b){var D=new ts(f,g,b);this.repo.addEventCallbackForQuery(this,D)},y.prototype.off=function(f,g,b){re.validateArgCount("Query.off",0,3,arguments.length),Xn("Query.off",1,f,!0),re.validateCallback("Query.off",2,g,!0),re.validateContextObject("Query.off",3,b,!0);var D=null,x=null;if("value"===f){var z=g||null;D=new Cs(z,null,b||null)}else f&&(g&&((x={})[f]=g),D=new ts(x,null,b||null));this.repo.removeEventCallbackForQuery(this,D)},y.prototype.once=function(f,g,b,D){var x=this;re.validateArgCount("Query.once",1,4,arguments.length),Xn("Query.once",1,f,!1),re.validateCallback("Query.once",2,g,!0);var z=y.getCancelAndContextArgs_("Query.once",b,D),Q=!0,ce=new re.Deferred;ce.promise.catch(function(){});var ae=function(He){Q&&(Q=!1,x.off(f,ae),g&&g.bind(z.context)(He),ce.resolve(He))};return this.on(f,ae,function(He){x.off(f,ae),z.cancel&&z.cancel.bind(z.context)(He),ce.reject(He)}),ce.promise},y.prototype.limitToFirst=function(f){if(re.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new y(this.repo,this.path,this.queryParams_.limitToFirst(f),this.orderByCalled_)},y.prototype.limitToLast=function(f){if(re.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new y(this.repo,this.path,this.queryParams_.limitToLast(f),this.orderByCalled_)},y.prototype.orderByChild=function(f){if(re.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===f)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===f)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===f)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');an("Query.orderByChild",1,f,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var g=new ct(f);if(g.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new jo(g),D=this.queryParams_.orderBy(b);return y.validateQueryEndpoints_(D),new y(this.repo,this.path,D,!0)},y.prototype.orderByKey=function(){re.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var f=this.queryParams_.orderBy(Fe);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.orderByPriority=function(){re.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var f=this.queryParams_.orderBy(de);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.orderByValue=function(){re.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var f=this.queryParams_.orderBy(eo);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.startAt=function(f,g){void 0===f&&(f=null),re.validateArgCount("Query.startAt",0,2,arguments.length),zt("Query.startAt",1,f,this.path,!0),Ir("Query.startAt",2,g,!0);var b=this.queryParams_.startAt(f,g);if(y.validateLimit_(b),y.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===f&&(f=null,g=null),new y(this.repo,this.path,b,this.orderByCalled_)},y.prototype.endAt=function(f,g){void 0===f&&(f=null),re.validateArgCount("Query.endAt",0,2,arguments.length),zt("Query.endAt",1,f,this.path,!0),Ir("Query.endAt",2,g,!0);var b=this.queryParams_.endAt(f,g);if(y.validateLimit_(b),y.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new y(this.repo,this.path,b,this.orderByCalled_)},y.prototype.equalTo=function(f,g){if(re.validateArgCount("Query.equalTo",1,2,arguments.length),zt("Query.equalTo",1,f,this.path,!1),Ir("Query.equalTo",2,g,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(f,g).endAt(f,g)},y.prototype.toString=function(){return re.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},y.prototype.toJSON=function(){return re.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},y.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},y.prototype.queryIdentifier=function(){var f=this.queryObject(),g=Tt(f);return"{}"===g?"default":g},y.prototype.isEqual=function(f){if(re.validateArgCount("Query.isEqual",1,1,arguments.length),!(f instanceof y)){var g="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(g)}var b=this.repo===f.repo,D=this.path.equals(f.path),x=this.queryIdentifier()===f.queryIdentifier();return b&&D&&x},y.getCancelAndContextArgs_=function(f,g,b){var D={cancel:null,context:null};if(g&&b)D.cancel=g,re.validateCallback(f,3,D.cancel,!0),D.context=b,re.validateContextObject(f,4,D.context,!0);else if(g)if("object"==typeof g&&null!==g)D.context=g;else{if("function"!=typeof g)throw new Error(re.errorPrefix(f,3,!0)+" must either be a cancel callback or a context object.");D.cancel=g}return D},Object.defineProperty(y.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),y}(),ru=function(){function y(f){this.node_=f}return y.prototype.getImmediateChild=function(f){return new y(this.node_.getImmediateChild(f))},y.prototype.node=function(){return this.node_},y}(),ho=function(){function y(f,g){this.syncTree_=f,this.path_=g}return y.prototype.getImmediateChild=function(f){var g=this.path_.child(f);return new y(this.syncTree_,g)},y.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},y}(),Ho=function(y,f,g){return y&&"object"==typeof y?(re.assert(".sv"in y,"Unexpected leaf node or priority contents"),"string"==typeof y[".sv"]?La(y[".sv"],f,g):"object"==typeof y[".sv"]?ir(y[".sv"],f):void re.assert(!1,"Unexpected server value: "+JSON.stringify(y,null,2))):y},La=function(y,f,g){switch(y){case"timestamp":return g.timestamp;default:re.assert(!1,"Unexpected server value: "+y)}},ir=function(y,f,g){y.hasOwnProperty("increment")||re.assert(!1,"Unexpected server value: "+JSON.stringify(y,null,2));var b=y.increment;"number"!=typeof b&&re.assert(!1,"Unexpected increment value: "+b);var D=f.node();if(re.assert(null!=D,"Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return b;var z=D.getValue();return"number"!=typeof z?b:z+b},no=function(y,f,g,b){return Wi(f,new ho(g,y),b)},zn=function(y,f,g){return Wi(y,new ru(f),g)};function Wi(y,f,g){var x,b=y.getPriority().val(),D=Ho(b,f.getImmediateChild(".priority"),g);if(y.isLeafNode()){var z=y,Q=Ho(z.getValue(),f,g);return Q!==z.getValue()||D!==z.getPriority().val()?new Jt(Q,Bn(D)):y}var ce=y;return x=ce,D!==ce.getPriority().val()&&(x=x.updatePriority(new Jt(D))),ce.forEachChild(de,function(ae,He){var it=Wi(He,f.getImmediateChild(ae),g);it!==He&&(x=x.updateImmediateChild(ae,it))}),x}var Hi,Dt,Hs=function(){function y(){this.value=null,this.children=new Map}return y.prototype.find=function(f){if(null!=this.value)return this.value.getChild(f);if(!f.isEmpty()&&this.children.size>0){var g=f.getFront();return f=f.popFront(),this.children.has(g)?this.children.get(g).find(f):null}return null},y.prototype.remember=function(f,g){if(f.isEmpty())this.value=g,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(f,g);else{var b=f.getFront();this.children.has(b)||this.children.set(b,new y);var D=this.children.get(b);f=f.popFront(),D.remember(f,g)}},y.prototype.forget=function(f){if(f.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var g=this.value;this.value=null;var b=this;return g.forEachChild(de,function(z,Q){b.remember(new ct(z),Q)}),this.forget(f)}if(this.children.size>0){var D=f.getFront();return f=f.popFront(),this.children.has(D)&&this.children.get(D).forget(f)&&this.children.delete(D),0===this.children.size}return!0},y.prototype.forEachTree=function(f,g){null!==this.value?g(f,this.value):this.forEachChild(function(b,D){var x=new ct(f.toString()+"/"+b);D.forEachTree(x,g)})},y.prototype.forEachChild=function(f){this.children.forEach(function(g,b){f(b,g)})},y}(),Tn=(()=>(function(y){y[y.OVERWRITE=0]="OVERWRITE",y[y.MERGE=1]="MERGE",y[y.ACK_USER_WRITE=2]="ACK_USER_WRITE",y[y.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Tn||(Tn={})),Tn))(),zo=function(){function y(f,g,b,D){this.fromUser=f,this.fromServer=g,this.queryId=b,this.tagged=D,re.assert(!D||g,"Tagged queries must be from server.")}return y.User=new y(!0,!1,null,!1),y.Server=new y(!1,!0,null,!1),y.forServerTaggedQuery=function(f){return new y(!1,!0,f,!0)},y}(),pa=function(){function y(f,g,b){this.path=f,this.affectedTree=g,this.revert=b,this.type=Tn.ACK_USER_WRITE,this.source=zo.User}return y.prototype.operationForChild=function(f){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return re.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var g=this.affectedTree.subtree(new ct(f));return new y(ct.Empty,g,this.revert)}return re.assert(this.path.getFront()===f,"operationForChild called for unrelated child."),new y(this.path.popFront(),this.affectedTree,this.revert)},y}(),Gn=function(){function y(f,g){void 0===g&&(Hi||(Hi=new L(K)),g=Hi),this.value=f,this.children=g}return y.fromObject=function(f){var g=y.Empty;return Ve(f,function(b,D){g=g.set(new ct(b),D)}),g},y.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},y.prototype.findRootMostMatchingPathAndValue=function(f,g){if(null!=this.value&&g(this.value))return{path:ct.Empty,value:this.value};if(f.isEmpty())return null;var b=f.getFront(),D=this.children.get(b);if(null!==D){var x=D.findRootMostMatchingPathAndValue(f.popFront(),g);return null!=x?{path:new ct(b).child(x.path),value:x.value}:null}return null},y.prototype.findRootMostValueAndPath=function(f){return this.findRootMostMatchingPathAndValue(f,function(){return!0})},y.prototype.subtree=function(f){if(f.isEmpty())return this;var g=f.getFront(),b=this.children.get(g);return null!==b?b.subtree(f.popFront()):y.Empty},y.prototype.set=function(f,g){if(f.isEmpty())return new y(g,this.children);var b=f.getFront(),x=(this.children.get(b)||y.Empty).set(f.popFront(),g),z=this.children.insert(b,x);return new y(this.value,z)},y.prototype.remove=function(f){if(f.isEmpty())return this.children.isEmpty()?y.Empty:new y(null,this.children);var g=f.getFront(),b=this.children.get(g);if(b){var D=b.remove(f.popFront()),x=void 0;return x=D.isEmpty()?this.children.remove(g):this.children.insert(g,D),null===this.value&&x.isEmpty()?y.Empty:new y(this.value,x)}return this},y.prototype.get=function(f){if(f.isEmpty())return this.value;var g=f.getFront(),b=this.children.get(g);return b?b.get(f.popFront()):null},y.prototype.setTree=function(f,g){if(f.isEmpty())return g;var z,b=f.getFront(),x=(this.children.get(b)||y.Empty).setTree(f.popFront(),g);return z=x.isEmpty()?this.children.remove(b):this.children.insert(b,x),new y(this.value,z)},y.prototype.fold=function(f){return this.fold_(ct.Empty,f)},y.prototype.fold_=function(f,g){var b={};return this.children.inorderTraversal(function(D,x){b[D]=x.fold_(f.child(D),g)}),g(f,this.value,b)},y.prototype.findOnPath=function(f,g){return this.findOnPath_(f,ct.Empty,g)},y.prototype.findOnPath_=function(f,g,b){var D=!!this.value&&b(g,this.value);if(D)return D;if(f.isEmpty())return null;var x=f.getFront(),z=this.children.get(x);return z?z.findOnPath_(f.popFront(),g.child(x),b):null},y.prototype.foreachOnPath=function(f,g){return this.foreachOnPath_(f,ct.Empty,g)},y.prototype.foreachOnPath_=function(f,g,b){if(f.isEmpty())return this;this.value&&b(g,this.value);var D=f.getFront(),x=this.children.get(D);return x?x.foreachOnPath_(f.popFront(),g.child(D),b):y.Empty},y.prototype.foreach=function(f){this.foreach_(ct.Empty,f)},y.prototype.foreach_=function(f,g){this.children.inorderTraversal(function(b,D){D.foreach_(f.child(b),g)}),this.value&&g(f,this.value)},y.prototype.foreachChild=function(f){this.children.inorderTraversal(function(g,b){b.value&&f(g,b.value)})},y.Empty=new y(null),y}(),zs=function(){function y(f,g){this.source=f,this.path=g,this.type=Tn.LISTEN_COMPLETE}return y.prototype.operationForChild=function(f){return this.path.isEmpty()?new y(this.source,ct.Empty):new y(this.source,this.path.popFront())},y}(),qo=function(){function y(f,g,b){this.source=f,this.path=g,this.snap=b,this.type=Tn.OVERWRITE}return y.prototype.operationForChild=function(f){return this.path.isEmpty()?new y(this.source,ct.Empty,this.snap.getImmediateChild(f)):new y(this.source,this.path.popFront(),this.snap)},y}(),Go=function(){function y(f,g,b){this.source=f,this.path=g,this.children=b,this.type=Tn.MERGE}return y.prototype.operationForChild=function(f){if(this.path.isEmpty()){var g=this.children.subtree(new ct(f));return g.isEmpty()?null:g.value?new qo(this.source,ct.Empty,g.value):new y(this.source,ct.Empty,g)}return re.assert(this.path.getFront()===f,"Can't get a merge for a child not on the path of the operation"),new y(this.source,this.path.popFront(),this.children)},y.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},y}(),Co=function(){function y(f,g,b){this.node_=f,this.fullyInitialized_=g,this.filtered_=b}return y.prototype.isFullyInitialized=function(){return this.fullyInitialized_},y.prototype.isFiltered=function(){return this.filtered_},y.prototype.isCompleteForPath=function(f){if(f.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var g=f.getFront();return this.isCompleteForChild(g)},y.prototype.isCompleteForChild=function(f){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(f)},y.prototype.getNode=function(){return this.node_},y}(),ki=function(){function y(f,g){this.eventCache_=f,this.serverCache_=g}return y.prototype.updateEventSnap=function(f,g,b){return new y(new Co(f,g,b),this.serverCache_)},y.prototype.updateServerSnap=function(f,g,b){return new y(this.eventCache_,new Co(f,g,b))},y.prototype.getEventCache=function(){return this.eventCache_},y.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},y.prototype.getServerCache=function(){return this.serverCache_},y.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},y.Empty=new y(new Co(vt.EMPTY_NODE,!1,!1),new Co(vt.EMPTY_NODE,!1,!1)),y}(),Jn=function(){function y(f,g,b,D,x){this.type=f,this.snapshotNode=g,this.childName=b,this.oldSnap=D,this.prevName=x}return y.valueChange=function(f){return new y(y.VALUE,f)},y.childAddedChange=function(f,g){return new y(y.CHILD_ADDED,g,f)},y.childRemovedChange=function(f,g){return new y(y.CHILD_REMOVED,g,f)},y.childChangedChange=function(f,g,b){return new y(y.CHILD_CHANGED,g,f,b)},y.childMovedChange=function(f,g){return new y(y.CHILD_MOVED,g,f)},y.CHILD_ADDED="child_added",y.CHILD_REMOVED="child_removed",y.CHILD_CHANGED="child_changed",y.CHILD_MOVED="child_moved",y.VALUE="value",y}(),No=function(){function y(f){this.index_=f}return y.prototype.updateChild=function(f,g,b,D,x,z){re.assert(f.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Q=f.getImmediateChild(g);return Q.getChild(D).equals(b.getChild(D))&&Q.isEmpty()===b.isEmpty()||(null!=z&&(b.isEmpty()?f.hasChild(g)?z.trackChildChange(Jn.childRemovedChange(g,Q)):re.assert(f.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?z.trackChildChange(Jn.childAddedChange(g,b)):z.trackChildChange(Jn.childChangedChange(g,b,Q))),f.isLeafNode()&&b.isEmpty())?f:f.updateImmediateChild(g,b).withIndex(this.index_)},y.prototype.updateFullNode=function(f,g,b){return null!=b&&(f.isLeafNode()||f.forEachChild(de,function(D,x){g.hasChild(D)||b.trackChildChange(Jn.childRemovedChange(D,x))}),g.isLeafNode()||g.forEachChild(de,function(D,x){if(f.hasChild(D)){var z=f.getImmediateChild(D);z.equals(x)||b.trackChildChange(Jn.childChangedChange(D,x,z))}else b.trackChildChange(Jn.childAddedChange(D,x))})),g.withIndex(this.index_)},y.prototype.updatePriority=function(f,g){return f.isEmpty()?vt.EMPTY_NODE:f.updatePriority(g)},y.prototype.filtersNodes=function(){return!1},y.prototype.getIndexedFilter=function(){return this},y.prototype.getIndex=function(){return this.index_},y}(),mr=function(){function y(){this.changeMap=new Map}return y.prototype.trackChildChange=function(f){var g=f.type,b=f.childName;re.assert(g===Jn.CHILD_ADDED||g===Jn.CHILD_CHANGED||g===Jn.CHILD_REMOVED,"Only child changes supported for tracking"),re.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var D=this.changeMap.get(b);if(D){var x=D.type;if(g===Jn.CHILD_ADDED&&x===Jn.CHILD_REMOVED)this.changeMap.set(b,Jn.childChangedChange(b,f.snapshotNode,D.snapshotNode));else if(g===Jn.CHILD_REMOVED&&x===Jn.CHILD_ADDED)this.changeMap.delete(b);else if(g===Jn.CHILD_REMOVED&&x===Jn.CHILD_CHANGED)this.changeMap.set(b,Jn.childRemovedChange(b,D.oldSnap));else if(g===Jn.CHILD_CHANGED&&x===Jn.CHILD_ADDED)this.changeMap.set(b,Jn.childAddedChange(b,f.snapshotNode));else{if(g!==Jn.CHILD_CHANGED||x!==Jn.CHILD_CHANGED)throw re.assertionError("Illegal combination of changes: "+f+" occurred after "+D);this.changeMap.set(b,Jn.childChangedChange(b,f.snapshotNode,D.oldSnap))}}else this.changeMap.set(b,f)},y.prototype.getChanges=function(){return Array.from(this.changeMap.values())},y}(),qs=new(function(){function y(){}return y.prototype.getCompleteChild=function(f){return null},y.prototype.getChildAfterChild=function(f,g,b){return null},y}()),Es=function(){function y(f,g,b){void 0===b&&(b=null),this.writes_=f,this.viewCache_=g,this.optCompleteServerCache_=b}return y.prototype.getCompleteChild=function(f){var g=this.viewCache_.getEventCache();if(g.isCompleteForChild(f))return g.getNode().getImmediateChild(f);var b=null!=this.optCompleteServerCache_?new Co(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(f,b)},y.prototype.getChildAfterChild=function(f,g,b){var D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),x=this.writes_.calcIndexedSlice(D,g,1,b,f);return 0===x.length?null:x[0]},y}(),Gs=function(f,g){this.viewCache=f,this.changes=g},Vn=function(){function y(f){this.filter_=f}return y.prototype.assertIndexed=function(f){re.assert(f.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),re.assert(f.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},y.prototype.applyOperation=function(f,g,b,D){var z,Q,x=new mr;if(g.type===Tn.OVERWRITE){var ce=g;ce.source.fromUser?z=this.applyUserOverwrite_(f,ce.path,ce.snap,b,D,x):(re.assert(ce.source.fromServer,"Unknown source."),Q=ce.source.tagged||f.getServerCache().isFiltered()&&!ce.path.isEmpty(),z=this.applyServerOverwrite_(f,ce.path,ce.snap,b,D,Q,x))}else if(g.type===Tn.MERGE){var ae=g;ae.source.fromUser?z=this.applyUserMerge_(f,ae.path,ae.children,b,D,x):(re.assert(ae.source.fromServer,"Unknown source."),Q=ae.source.tagged||f.getServerCache().isFiltered(),z=this.applyServerMerge_(f,ae.path,ae.children,b,D,Q,x))}else if(g.type===Tn.ACK_USER_WRITE){var He=g;z=He.revert?this.revertUserWrite_(f,He.path,b,D,x):this.ackUserWrite_(f,He.path,He.affectedTree,b,D,x)}else{if(g.type!==Tn.LISTEN_COMPLETE)throw re.assertionError("Unknown operation type: "+g.type);z=this.listenComplete_(f,g.path,b,x)}var it=x.getChanges();return y.maybeAddValueEvent_(f,z,it),new Gs(z,it)},y.maybeAddValueEvent_=function(f,g,b){var D=g.getEventCache();if(D.isFullyInitialized()){var x=D.getNode().isLeafNode()||D.getNode().isEmpty(),z=f.getCompleteEventSnap();(b.length>0||!f.getEventCache().isFullyInitialized()||x&&!D.getNode().equals(z)||!D.getNode().getPriority().equals(z.getPriority()))&&b.push(Jn.valueChange(g.getCompleteEventSnap()))}},y.prototype.generateEventCacheAfterServerEvent_=function(f,g,b,D,x){var z=f.getEventCache();if(null!=b.shadowingWrite(g))return f;var Q=void 0,ce=void 0;if(g.isEmpty())if(re.assert(f.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),f.getServerCache().isFiltered()){var ae=f.getCompleteServerSnap(),it=b.calcCompleteEventChildren(ae instanceof vt?ae:vt.EMPTY_NODE);Q=this.filter_.updateFullNode(f.getEventCache().getNode(),it,x)}else{var _t=b.calcCompleteEventCache(f.getCompleteServerSnap());Q=this.filter_.updateFullNode(f.getEventCache().getNode(),_t,x)}else{var xt=g.getFront();if(".priority"===xt){re.assert(1===g.getLength(),"Can't have a priority with additional path components");var Zt=z.getNode();ce=f.getServerCache().getNode();var ln=b.calcEventCacheAfterServerOverwrite(g,Zt,ce);Q=null!=ln?this.filter_.updatePriority(Zt,ln):z.getNode()}else{var $n=g.popFront(),Zn=void 0;if(z.isCompleteForChild(xt)){ce=f.getServerCache().getNode();var vo=b.calcEventCacheAfterServerOverwrite(g,z.getNode(),ce);Zn=null!=vo?z.getNode().getImmediateChild(xt).updateChild($n,vo):z.getNode().getImmediateChild(xt)}else Zn=b.calcCompleteChild(xt,f.getServerCache());Q=null!=Zn?this.filter_.updateChild(z.getNode(),xt,Zn,$n,D,x):z.getNode()}}return f.updateEventSnap(Q,z.isFullyInitialized()||g.isEmpty(),this.filter_.filtersNodes())},y.prototype.applyServerOverwrite_=function(f,g,b,D,x,z,Q){var ae,ce=f.getServerCache(),He=z?this.filter_:this.filter_.getIndexedFilter();if(g.isEmpty())ae=He.updateFullNode(ce.getNode(),b,null);else if(He.filtersNodes()&&!ce.isFiltered()){var it=ce.getNode().updateChild(g,b);ae=He.updateFullNode(ce.getNode(),it,null)}else{var _t=g.getFront();if(!ce.isCompleteForPath(g)&&g.getLength()>1)return f;var xt=g.popFront(),ln=ce.getNode().getImmediateChild(_t).updateChild(xt,b);ae=".priority"===_t?He.updatePriority(ce.getNode(),ln):He.updateChild(ce.getNode(),_t,ln,xt,qs,null)}var $n=f.updateServerSnap(ae,ce.isFullyInitialized()||g.isEmpty(),He.filtersNodes()),Zn=new Es(D,$n,x);return this.generateEventCacheAfterServerEvent_($n,g,D,Zn,Q)},y.prototype.applyUserOverwrite_=function(f,g,b,D,x,z){var ce,ae,Q=f.getEventCache(),He=new Es(D,f,x);if(g.isEmpty())ae=this.filter_.updateFullNode(f.getEventCache().getNode(),b,z),ce=f.updateEventSnap(ae,!0,this.filter_.filtersNodes());else{var it=g.getFront();if(".priority"===it)ae=this.filter_.updatePriority(f.getEventCache().getNode(),b),ce=f.updateEventSnap(ae,Q.isFullyInitialized(),Q.isFiltered());else{var _t=g.popFront(),xt=Q.getNode().getImmediateChild(it),Zt=void 0;if(_t.isEmpty())Zt=b;else{var ln=He.getCompleteChild(it);Zt=null!=ln?".priority"===_t.getBack()&&ln.getChild(_t.parent()).isEmpty()?ln:ln.updateChild(_t,b):vt.EMPTY_NODE}if(xt.equals(Zt))ce=f;else{var $n=this.filter_.updateChild(Q.getNode(),it,Zt,_t,He,z);ce=f.updateEventSnap($n,Q.isFullyInitialized(),this.filter_.filtersNodes())}}}return ce},y.cacheHasChild_=function(f,g){return f.getEventCache().isCompleteForChild(g)},y.prototype.applyUserMerge_=function(f,g,b,D,x,z){var Q=this,ce=f;return b.foreach(function(ae,He){var it=g.child(ae);y.cacheHasChild_(f,it.getFront())&&(ce=Q.applyUserOverwrite_(ce,it,He,D,x,z))}),b.foreach(function(ae,He){var it=g.child(ae);y.cacheHasChild_(f,it.getFront())||(ce=Q.applyUserOverwrite_(ce,it,He,D,x,z))}),ce},y.prototype.applyMerge_=function(f,g){return g.foreach(function(b,D){f=f.updateChild(b,D)}),f},y.prototype.applyServerMerge_=function(f,g,b,D,x,z,Q){var ce=this;if(f.getServerCache().getNode().isEmpty()&&!f.getServerCache().isFullyInitialized())return f;var He,ae=f;He=g.isEmpty()?b:Gn.Empty.setTree(g,b);var it=f.getServerCache().getNode();return He.children.inorderTraversal(function(_t,xt){if(it.hasChild(_t)){var Zt=f.getServerCache().getNode().getImmediateChild(_t),ln=ce.applyMerge_(Zt,xt);ae=ce.applyServerOverwrite_(ae,new ct(_t),ln,D,x,z,Q)}}),He.children.inorderTraversal(function(_t,xt){var Zt=!f.getServerCache().isCompleteForChild(_t)&&null==xt.value;if(!it.hasChild(_t)&&!Zt){var ln=f.getServerCache().getNode().getImmediateChild(_t),$n=ce.applyMerge_(ln,xt);ae=ce.applyServerOverwrite_(ae,new ct(_t),$n,D,x,z,Q)}}),ae},y.prototype.ackUserWrite_=function(f,g,b,D,x,z){if(null!=D.shadowingWrite(g))return f;var Q=f.getServerCache().isFiltered(),ce=f.getServerCache();if(null!=b.value){if(g.isEmpty()&&ce.isFullyInitialized()||ce.isCompleteForPath(g))return this.applyServerOverwrite_(f,g,ce.getNode().getChild(g),D,x,Q,z);if(g.isEmpty()){var ae=Gn.Empty;return ce.getNode().forEachChild(Fe,function(it,_t){ae=ae.set(new ct(it),_t)}),this.applyServerMerge_(f,g,ae,D,x,Q,z)}return f}var He=Gn.Empty;return b.foreach(function(it,_t){var xt=g.child(it);ce.isCompleteForPath(xt)&&(He=He.set(it,ce.getNode().getChild(xt)))}),this.applyServerMerge_(f,g,He,D,x,Q,z)},y.prototype.listenComplete_=function(f,g,b,D){var x=f.getServerCache(),z=f.updateServerSnap(x.getNode(),x.isFullyInitialized()||g.isEmpty(),x.isFiltered());return this.generateEventCacheAfterServerEvent_(z,g,b,qs,D)},y.prototype.revertUserWrite_=function(f,g,b,D,x){var z;if(null!=b.shadowingWrite(g))return f;var Q=new Es(b,f,D),ce=f.getEventCache().getNode(),ae=void 0;if(g.isEmpty()||".priority"===g.getFront()){var He=void 0;if(f.getServerCache().isFullyInitialized())He=b.calcCompleteEventCache(f.getCompleteServerSnap());else{var it=f.getServerCache().getNode();re.assert(it instanceof vt,"serverChildren would be complete if leaf node"),He=b.calcCompleteEventChildren(it)}ae=this.filter_.updateFullNode(ce,He=He,x)}else{var _t=g.getFront(),xt=b.calcCompleteChild(_t,f.getServerCache());null==xt&&f.getServerCache().isCompleteForChild(_t)&&(xt=ce.getImmediateChild(_t)),(ae=null!=xt?this.filter_.updateChild(ce,_t,xt,g.popFront(),Q,x):f.getEventCache().getNode().hasChild(_t)?this.filter_.updateChild(ce,_t,vt.EMPTY_NODE,g.popFront(),Q,x):ce).isEmpty()&&f.getServerCache().isFullyInitialized()&&(z=b.calcCompleteEventCache(f.getCompleteServerSnap())).isLeafNode()&&(ae=this.filter_.updateFullNode(ae,z,x))}return z=f.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(ct.Empty),f.updateEventSnap(ae,z,this.filter_.filtersNodes())},y}(),ni=function(){function y(f){this.query_=f,this.index_=this.query_.getQueryParams().getIndex()}return y.prototype.generateEventsForChanges=function(f,g,b){var D=this,x=[],z=[];return f.forEach(function(Q){Q.type===Jn.CHILD_CHANGED&&D.index_.indexedValueChanged(Q.oldSnap,Q.snapshotNode)&&z.push(Jn.childMovedChange(Q.childName,Q.snapshotNode))}),this.generateEventsForType_(x,Jn.CHILD_REMOVED,f,b,g),this.generateEventsForType_(x,Jn.CHILD_ADDED,f,b,g),this.generateEventsForType_(x,Jn.CHILD_MOVED,z,b,g),this.generateEventsForType_(x,Jn.CHILD_CHANGED,f,b,g),this.generateEventsForType_(x,Jn.VALUE,f,b,g),x},y.prototype.generateEventsForType_=function(f,g,b,D,x){var z=this,Q=b.filter(function(ce){return ce.type===g});Q.sort(this.compareChanges_.bind(this)),Q.forEach(function(ce){var ae=z.materializeSingleChange_(ce,x);D.forEach(function(He){He.respondsTo(ce.type)&&f.push(He.createEvent(ae,z.query_))})})},y.prototype.materializeSingleChange_=function(f,g){return"value"===f.type||"child_removed"===f.type||(f.prevName=g.getPredecessorChildName(f.childName,f.snapshotNode,this.index_)),f},y.prototype.compareChanges_=function(f,g){if(null==f.childName||null==g.childName)throw re.assertionError("Should only compare child_ events.");var b=new ve(f.childName,f.snapshotNode),D=new ve(g.childName,g.snapshotNode);return this.index_.compare(b,D)},y}(),ga=function(){function y(f,g){this.query_=f,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),D=new No(b.getIndex()),x=b.getNodeFilter();this.processor_=new Vn(x);var z=g.getServerCache(),Q=g.getEventCache(),ce=D.updateFullNode(vt.EMPTY_NODE,z.getNode(),null),ae=x.updateFullNode(vt.EMPTY_NODE,Q.getNode(),null),He=new Co(ce,z.isFullyInitialized(),D.filtersNodes()),it=new Co(ae,Q.isFullyInitialized(),x.filtersNodes());this.viewCache_=new ki(it,He),this.eventGenerator_=new ni(this.query_)}return y.prototype.getQuery=function(){return this.query_},y.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},y.prototype.getCompleteServerCache=function(f){var g=this.viewCache_.getCompleteServerSnap();return g&&(this.query_.getQueryParams().loadsAllData()||!f.isEmpty()&&!g.getImmediateChild(f.getFront()).isEmpty())?g.getChild(f):null},y.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},y.prototype.addEventRegistration=function(f){this.eventRegistrations_.push(f)},y.prototype.removeEventRegistration=function(f,g){var b=[];if(g){re.assert(null==f,"A cancel should cancel all event registrations.");var D=this.query_.path;this.eventRegistrations_.forEach(function(ce){var ae=ce.createCancelEvent(g=g,D);ae&&b.push(ae)})}if(f){for(var x=[],z=0;z<this.eventRegistrations_.length;++z){var Q=this.eventRegistrations_[z];if(Q.matches(f)){if(f.hasAnyCallback()){x=x.concat(this.eventRegistrations_.slice(z+1));break}}else x.push(Q)}this.eventRegistrations_=x}else this.eventRegistrations_=[];return b},y.prototype.applyOperation=function(f,g,b){f.type===Tn.MERGE&&null!==f.source.queryId&&(re.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),re.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var D=this.viewCache_,x=this.processor_.applyOperation(D,f,g,b);return this.processor_.assertIndexed(x.viewCache),re.assert(x.viewCache.getServerCache().isFullyInitialized()||!D.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=x.viewCache,this.generateEventsForChanges_(x.changes,x.viewCache.getEventCache().getNode(),null)},y.prototype.getInitialEvents=function(f){var g=this.viewCache_.getEventCache(),b=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(de,function(x,z){b.push(Jn.childAddedChange(x,z))}),g.isFullyInitialized()&&b.push(Jn.valueChange(g.getNode())),this.generateEventsForChanges_(b,g.getNode(),f)},y.prototype.generateEventsForChanges_=function(f,g,b){return this.eventGenerator_.generateEventsForChanges(f,g,b?[b]:this.eventRegistrations_)},y}(),Ni=function(){function y(){this.views=new Map}return Object.defineProperty(y,"__referenceConstructor",{get:function(){return re.assert(Dt,"Reference.ts has not been loaded"),Dt},set:function(f){re.assert(!Dt,"__referenceConstructor has already been defined"),Dt=f},enumerable:!1,configurable:!0}),y.prototype.isEmpty=function(){return 0===this.views.size},y.prototype.applyOperation=function(f,g,b){var D,x,z=f.source.queryId;if(null!==z){var Q=this.views.get(z);return re.assert(null!=Q,"SyncTree gave us an op for an invalid query."),Q.applyOperation(f,g,b)}var ce=[];try{for(var ae=Z.__values(this.views.values()),He=ae.next();!He.done;He=ae.next())ce=ce.concat((Q=He.value).applyOperation(f,g,b))}catch(it){D={error:it}}finally{try{He&&!He.done&&(x=ae.return)&&x.call(ae)}finally{if(D)throw D.error}}return ce},y.prototype.addEventRegistration=function(f,g,b,D,x){var z=f.queryIdentifier(),Q=this.views.get(z);if(!Q){var ce=b.calcCompleteEventCache(x?D:null),ae=!1;ce?ae=!0:D instanceof vt?(ce=b.calcCompleteEventChildren(D),ae=!1):(ce=vt.EMPTY_NODE,ae=!1);var He=new ki(new Co(ce,ae,!1),new Co(D,x,!1));Q=new ga(f,He),this.views.set(z,Q)}return Q.addEventRegistration(g),Q.getInitialEvents(g)},y.prototype.removeEventRegistration=function(f,g,b){var D,x,z=f.queryIdentifier(),Q=[],ce=[],ae=this.hasCompleteView();if("default"===z)try{for(var He=Z.__values(this.views.entries()),it=He.next();!it.done;it=He.next()){var Zt,_t=Z.__read(it.value,2),xt=_t[0];ce=ce.concat((Zt=_t[1]).removeEventRegistration(g,b)),Zt.isEmpty()&&(this.views.delete(xt),Zt.getQuery().getQueryParams().loadsAllData()||Q.push(Zt.getQuery()))}}catch(ln){D={error:ln}}finally{try{it&&!it.done&&(x=He.return)&&x.call(He)}finally{if(D)throw D.error}}else(Zt=this.views.get(z))&&(ce=ce.concat(Zt.removeEventRegistration(g,b)),Zt.isEmpty()&&(this.views.delete(z),Zt.getQuery().getQueryParams().loadsAllData()||Q.push(Zt.getQuery())));return ae&&!this.hasCompleteView()&&Q.push(new y.__referenceConstructor(f.repo,f.path)),{removed:Q,events:ce}},y.prototype.getQueryViews=function(){var f,g,b=[];try{for(var D=Z.__values(this.views.values()),x=D.next();!x.done;x=D.next()){var z=x.value;z.getQuery().getQueryParams().loadsAllData()||b.push(z)}}catch(Q){f={error:Q}}finally{try{x&&!x.done&&(g=D.return)&&g.call(D)}finally{if(f)throw f.error}}return b},y.prototype.getCompleteServerCache=function(f){var g,b,D=null;try{for(var x=Z.__values(this.views.values()),z=x.next();!z.done;z=x.next())D=D||z.value.getCompleteServerCache(f)}catch(ce){g={error:ce}}finally{try{z&&!z.done&&(b=x.return)&&b.call(x)}finally{if(g)throw g.error}}return D},y.prototype.viewForQuery=function(f){if(f.getQueryParams().loadsAllData())return this.getCompleteView();var b=f.queryIdentifier();return this.views.get(b)},y.prototype.viewExistsForQuery=function(f){return null!=this.viewForQuery(f)},y.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},y.prototype.getCompleteView=function(){var f,g;try{for(var b=Z.__values(this.views.values()),D=b.next();!D.done;D=b.next()){var x=D.value;if(x.getQuery().getQueryParams().loadsAllData())return x}}catch(z){f={error:z}}finally{try{D&&!D.done&&(g=b.return)&&g.call(b)}finally{if(f)throw f.error}}return null},y}(),Xr=function(){function y(f){this.writeTree_=f}return y.prototype.addWrite=function(f,g){if(f.isEmpty())return new y(new Gn(g));var b=this.writeTree_.findRootMostValueAndPath(f);if(null!=b){var D=b.path,x=b.value,z=ct.relativePath(D,f);return x=x.updateChild(z,g),new y(this.writeTree_.set(D,x))}var Q=new Gn(g);return new y(this.writeTree_.setTree(f,Q))},y.prototype.addWrites=function(f,g){var b=this;return Ve(g,function(D,x){b=b.addWrite(f.child(D),x)}),b},y.prototype.removeWrite=function(f){return f.isEmpty()?y.Empty:new y(this.writeTree_.setTree(f,Gn.Empty))},y.prototype.hasCompleteWrite=function(f){return null!=this.getCompleteNode(f)},y.prototype.getCompleteNode=function(f){var g=this.writeTree_.findRootMostValueAndPath(f);return null!=g?this.writeTree_.get(g.path).getChild(ct.relativePath(g.path,f)):null},y.prototype.getCompleteChildren=function(){var f=[],g=this.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(de,function(b,D){f.push(new ve(b,D))}):this.writeTree_.children.inorderTraversal(function(b,D){null!=D.value&&f.push(new ve(b,D.value))}),f},y.prototype.childCompoundWrite=function(f){if(f.isEmpty())return this;var g=this.getCompleteNode(f);return new y(null!=g?new Gn(g):this.writeTree_.subtree(f))},y.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},y.prototype.apply=function(f){return B(ct.Empty,this.writeTree_,f)},y.Empty=new y(new Gn(null)),y}();function B(y,f,g){if(null!=f.value)return g.updateChild(y,f.value);var b=null;return f.children.inorderTraversal(function(D,x){".priority"===D?(re.assert(null!==x.value,"Priority writes must always be leaf nodes"),b=x.value):g=B(y.child(D),x,g)}),!g.getChild(y).isEmpty()&&null!==b&&(g=g.updateChild(y.child(".priority"),b)),g}var V=function(){function y(){this.visibleWrites_=Xr.Empty,this.allWrites_=[],this.lastWriteId_=-1}return y.prototype.childWrites=function(f){return new X(f,this)},y.prototype.addOverwrite=function(f,g,b,D){re.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),this.allWrites_.push({path:f,snap:g,writeId:b,visible:D}),D&&(this.visibleWrites_=this.visibleWrites_.addWrite(f,g)),this.lastWriteId_=b},y.prototype.addMerge=function(f,g,b){re.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:f,children:g,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(f,g),this.lastWriteId_=b},y.prototype.getWrite=function(f){for(var g=0;g<this.allWrites_.length;g++){var b=this.allWrites_[g];if(b.writeId===f)return b}return null},y.prototype.removeWrite=function(f){var g=this,b=this.allWrites_.findIndex(function(He){return He.writeId===f});re.assert(b>=0,"removeWrite called with nonexistent writeId.");var D=this.allWrites_[b];this.allWrites_.splice(b,1);for(var x=D.visible,z=!1,Q=this.allWrites_.length-1;x&&Q>=0;){var ce=this.allWrites_[Q];ce.visible&&(Q>=b&&this.recordContainsPath_(ce,D.path)?x=!1:D.path.contains(ce.path)&&(z=!0)),Q--}return!!x&&(z?(this.resetTree_(),!0):(D.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(D.path):Ve(D.children,function(He){g.visibleWrites_=g.visibleWrites_.removeWrite(D.path.child(He))}),!0))},y.prototype.getCompleteWriteData=function(f){return this.visibleWrites_.getCompleteNode(f)},y.prototype.calcCompleteEventCache=function(f,g,b,D){if(b||D){var ce=this.visibleWrites_.childCompoundWrite(f);return!D&&ce.isEmpty()?g:D||null!=g||ce.hasCompleteWrite(ct.Empty)?y.layerTree_(this.allWrites_,function(_t){return(_t.visible||D)&&(!b||!~b.indexOf(_t.writeId))&&(_t.path.contains(f)||f.contains(_t.path))},f).apply(g||vt.EMPTY_NODE):null}var x=this.visibleWrites_.getCompleteNode(f);if(null!=x)return x;var z=this.visibleWrites_.childCompoundWrite(f);return z.isEmpty()?g:null!=g||z.hasCompleteWrite(ct.Empty)?z.apply(g||vt.EMPTY_NODE):null},y.prototype.calcCompleteEventChildren=function(f,g){var b=vt.EMPTY_NODE,D=this.visibleWrites_.getCompleteNode(f);if(D)return D.isLeafNode()||D.forEachChild(de,function(Q,ce){b=b.updateImmediateChild(Q,ce)}),b;if(g){var x=this.visibleWrites_.childCompoundWrite(f);return g.forEachChild(de,function(Q,ce){var ae=x.childCompoundWrite(new ct(Q)).apply(ce);b=b.updateImmediateChild(Q,ae)}),x.getCompleteChildren().forEach(function(Q){b=b.updateImmediateChild(Q.name,Q.node)}),b}return this.visibleWrites_.childCompoundWrite(f).getCompleteChildren().forEach(function(Q){b=b.updateImmediateChild(Q.name,Q.node)}),b},y.prototype.calcEventCacheAfterServerOverwrite=function(f,g,b,D){re.assert(b||D,"Either existingEventSnap or existingServerSnap must exist");var x=f.child(g);if(this.visibleWrites_.hasCompleteWrite(x))return null;var z=this.visibleWrites_.childCompoundWrite(x);return z.isEmpty()?D.getChild(g):z.apply(D.getChild(g))},y.prototype.calcCompleteChild=function(f,g,b){var D=f.child(g),x=this.visibleWrites_.getCompleteNode(D);return null!=x?x:b.isCompleteForChild(g)?this.visibleWrites_.childCompoundWrite(D).apply(b.getNode().getImmediateChild(g)):null},y.prototype.shadowingWrite=function(f){return this.visibleWrites_.getCompleteNode(f)},y.prototype.calcIndexedSlice=function(f,g,b,D,x,z){var Q,ce=this.visibleWrites_.childCompoundWrite(f),ae=ce.getCompleteNode(ct.Empty);if(null!=ae)Q=ae;else{if(null==g)return[];Q=ce.apply(g)}if((Q=Q.withIndex(z)).isEmpty()||Q.isLeafNode())return[];for(var He=[],it=z.getCompare(),_t=x?Q.getReverseIteratorFrom(b,z):Q.getIteratorFrom(b,z),xt=_t.getNext();xt&&He.length<D;)0!==it(xt,b)&&He.push(xt),xt=_t.getNext();return He},y.prototype.recordContainsPath_=function(f,g){if(f.snap)return f.path.contains(g);for(var b in f.children)if(f.children.hasOwnProperty(b)&&f.path.child(b).contains(g))return!0;return!1},y.prototype.resetTree_=function(){this.visibleWrites_=y.layerTree_(this.allWrites_,y.DefaultFilter_,ct.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},y.DefaultFilter_=function(f){return f.visible},y.layerTree_=function(f,g,b){for(var D=Xr.Empty,x=0;x<f.length;++x){var z=f[x];if(g(z)){var Q=z.path,ce=void 0;if(z.snap)b.contains(Q)?(ce=ct.relativePath(b,Q),D=D.addWrite(ce,z.snap)):Q.contains(b)&&(ce=ct.relativePath(Q,b),D=D.addWrite(ct.Empty,z.snap.getChild(ce)));else{if(!z.children)throw re.assertionError("WriteRecord should have .snap or .children");if(b.contains(Q))ce=ct.relativePath(b,Q),D=D.addWrites(ce,z.children);else if(Q.contains(b))if((ce=ct.relativePath(Q,b)).isEmpty())D=D.addWrites(ct.Empty,z.children);else{var ae=re.safeGet(z.children,ce.getFront());if(ae){var He=ae.getChild(ce.popFront());D=D.addWrite(ct.Empty,He)}}}}}return D},y}(),X=function(){function y(f,g){this.treePath_=f,this.writeTree_=g}return y.prototype.calcCompleteEventCache=function(f,g,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,f,g,b)},y.prototype.calcCompleteEventChildren=function(f){return this.writeTree_.calcCompleteEventChildren(this.treePath_,f)},y.prototype.calcEventCacheAfterServerOverwrite=function(f,g,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,f,g,b)},y.prototype.shadowingWrite=function(f){return this.writeTree_.shadowingWrite(this.treePath_.child(f))},y.prototype.calcIndexedSlice=function(f,g,b,D,x){return this.writeTree_.calcIndexedSlice(this.treePath_,f,g,b,D,x)},y.prototype.calcCompleteChild=function(f,g){return this.writeTree_.calcCompleteChild(this.treePath_,f,g)},y.prototype.child=function(f){return new y(this.treePath_.child(f),this.writeTree_)},y}(),pe=function(){function y(f){this.listenProvider_=f,this.syncPointTree_=Gn.Empty,this.pendingWriteTree_=new V,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return y.prototype.applyUserOverwrite=function(f,g,b,D){return this.pendingWriteTree_.addOverwrite(f,g,b,D),D?this.applyOperationToSyncPoints_(new qo(zo.User,f,g)):[]},y.prototype.applyUserMerge=function(f,g,b){this.pendingWriteTree_.addMerge(f,g,b);var D=Gn.fromObject(g);return this.applyOperationToSyncPoints_(new Go(zo.User,f,D))},y.prototype.ackUserWrite=function(f,g){void 0===g&&(g=!1);var b=this.pendingWriteTree_.getWrite(f);if(this.pendingWriteTree_.removeWrite(f)){var x=Gn.Empty;return null!=b.snap?x=x.set(ct.Empty,!0):Ve(b.children,function(z,Q){x=x.set(new ct(z),Q)}),this.applyOperationToSyncPoints_(new pa(b.path,x,g))}return[]},y.prototype.applyServerOverwrite=function(f,g){return this.applyOperationToSyncPoints_(new qo(zo.Server,f,g))},y.prototype.applyServerMerge=function(f,g){var b=Gn.fromObject(g);return this.applyOperationToSyncPoints_(new Go(zo.Server,f,b))},y.prototype.applyListenComplete=function(f){return this.applyOperationToSyncPoints_(new zs(zo.Server,f))},y.prototype.applyTaggedQueryOverwrite=function(f,g,b){var D=this.queryKeyForTag_(b);if(null!=D){var x=y.parseQueryKey_(D),z=x.path,Q=x.queryId,ce=ct.relativePath(z,f),ae=new qo(zo.forServerTaggedQuery(Q),ce,g);return this.applyTaggedOperation_(z,ae)}return[]},y.prototype.applyTaggedQueryMerge=function(f,g,b){var D=this.queryKeyForTag_(b);if(D){var x=y.parseQueryKey_(D),z=x.path,Q=x.queryId,ce=ct.relativePath(z,f),ae=Gn.fromObject(g),He=new Go(zo.forServerTaggedQuery(Q),ce,ae);return this.applyTaggedOperation_(z,He)}return[]},y.prototype.applyTaggedListenComplete=function(f,g){var b=this.queryKeyForTag_(g);if(b){var D=y.parseQueryKey_(b),x=D.path,z=D.queryId,Q=ct.relativePath(x,f),ce=new zs(zo.forServerTaggedQuery(z),Q);return this.applyTaggedOperation_(x,ce)}return[]},y.prototype.addEventRegistration=function(f,g){var b=f.path,D=null,x=!1;this.syncPointTree_.foreachOnPath(b,function(ln,$n){var Zn=ct.relativePath(ln,b);D=D||$n.getCompleteServerCache(Zn),x=x||$n.hasCompleteView()});var Q,z=this.syncPointTree_.get(b);z?(x=x||z.hasCompleteView(),D=D||z.getCompleteServerCache(ct.Empty)):(z=new Ni,this.syncPointTree_=this.syncPointTree_.set(b,z)),null!=D?Q=!0:(Q=!1,D=vt.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(ln,$n){var Zn=$n.getCompleteServerCache(ct.Empty);Zn&&(D=D.updateImmediateChild(ln,Zn))}));var ae=z.viewExistsForQuery(f);if(!ae&&!f.getQueryParams().loadsAllData()){var He=y.makeQueryKey_(f);re.assert(!this.queryToTagMap.has(He),"View does not exist, but we have a tag");var it=y.getNextQueryTag_();this.queryToTagMap.set(He,it),this.tagToQueryMap.set(it,He)}var _t=this.pendingWriteTree_.childWrites(b),xt=z.addEventRegistration(f,g,_t,D,Q);if(!ae&&!x){var Zt=z.viewForQuery(f);xt=xt.concat(this.setupListener_(f,Zt))}return xt},y.prototype.removeEventRegistration=function(f,g,b){var D=this,x=f.path,z=this.syncPointTree_.get(x),Q=[];if(z&&("default"===f.queryIdentifier()||z.viewExistsForQuery(f))){var ce=z.removeEventRegistration(f,g,b);z.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(x));var ae=ce.removed;Q=ce.events;var He=-1!==ae.findIndex(function($i){return $i.getQueryParams().loadsAllData()}),it=this.syncPointTree_.findOnPath(x,function($i,yo){return yo.hasCompleteView()});if(He&&!it){var _t=this.syncPointTree_.subtree(x);if(!_t.isEmpty())for(var xt=this.collectDistinctViewsForSubTree_(_t),Zt=0;Zt<xt.length;++Zt){var ln=xt[Zt],$n=ln.getQuery(),Zn=this.createListenerForView_(ln);this.listenProvider_.startListening(y.queryForListening_($n),this.tagForQuery_($n),Zn.hashFn,Zn.onComplete)}}!it&&ae.length>0&&!b&&(He?this.listenProvider_.stopListening(y.queryForListening_(f),null):ae.forEach(function($i){var yo=D.queryToTagMap.get(y.makeQueryKey_($i));D.listenProvider_.stopListening(y.queryForListening_($i),yo)})),this.removeTags_(ae)}return Q},y.prototype.calcCompleteEventCache=function(f,g){var D=this.pendingWriteTree_,x=this.syncPointTree_.findOnPath(f,function(z,Q){var ce=ct.relativePath(z,f),ae=Q.getCompleteServerCache(ce);if(ae)return ae});return D.calcCompleteEventCache(f,x,g,!0)},y.prototype.collectDistinctViewsForSubTree_=function(f){return f.fold(function(g,b,D){if(b&&b.hasCompleteView())return[b.getCompleteView()];var z=[];return b&&(z=b.getQueryViews()),Ve(D,function(Q,ce){z=z.concat(ce)}),z})},y.prototype.removeTags_=function(f){for(var g=0;g<f.length;++g){var b=f[g];if(!b.getQueryParams().loadsAllData()){var D=y.makeQueryKey_(b),x=this.queryToTagMap.get(D);this.queryToTagMap.delete(D),this.tagToQueryMap.delete(x)}}},y.queryForListening_=function(f){return f.getQueryParams().loadsAllData()&&!f.getQueryParams().isDefault()?f.getRef():f},y.prototype.setupListener_=function(f,g){var b=f.path,D=this.tagForQuery_(f),x=this.createListenerForView_(g),z=this.listenProvider_.startListening(y.queryForListening_(f),D,x.hashFn,x.onComplete),Q=this.syncPointTree_.subtree(b);if(D)re.assert(!Q.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var ce=Q.fold(function(it,_t,xt){if(!it.isEmpty()&&_t&&_t.hasCompleteView())return[_t.getCompleteView().getQuery()];var Zt=[];return _t&&(Zt=Zt.concat(_t.getQueryViews().map(function(ln){return ln.getQuery()}))),Ve(xt,function(ln,$n){Zt=Zt.concat($n)}),Zt}),ae=0;ae<ce.length;++ae){var He=ce[ae];this.listenProvider_.stopListening(y.queryForListening_(He),this.tagForQuery_(He))}return z},y.prototype.createListenerForView_=function(f){var g=this,b=f.getQuery(),D=this.tagForQuery_(b);return{hashFn:function(){return(f.getServerCache()||vt.EMPTY_NODE).hash()},onComplete:function(x){if("ok"===x)return D?g.applyTaggedListenComplete(b.path,D):g.applyListenComplete(b.path);var z=function(y,f){var g="Unknown Error";"too_big"===y?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===y?g="Client doesn't have permission to access the desired data.":"unavailable"===y&&(g="The service is unavailable");var b=new Error(y+" at "+f.path.toString()+": "+g);return b.code=y.toUpperCase(),b}(x,b);return g.removeEventRegistration(b,null,z)}}},y.makeQueryKey_=function(f){return f.path.toString()+"$"+f.queryIdentifier()},y.parseQueryKey_=function(f){var g=f.indexOf("$");return re.assert(-1!==g&&g<f.length-1,"Bad queryKey."),{queryId:f.substr(g+1),path:new ct(f.substr(0,g))}},y.prototype.queryKeyForTag_=function(f){return this.tagToQueryMap.get(f)},y.prototype.tagForQuery_=function(f){var g=y.makeQueryKey_(f);return this.queryToTagMap.get(g)},y.getNextQueryTag_=function(){return y.nextQueryTag_++},y.prototype.applyTaggedOperation_=function(f,g){var b=this.syncPointTree_.get(f);re.assert(b,"Missing sync point for query tag that we're tracking");var D=this.pendingWriteTree_.childWrites(f);return b.applyOperation(g,D,null)},y.prototype.applyOperationToSyncPoints_=function(f){return this.applyOperationHelper_(f,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ct.Empty))},y.prototype.applyOperationHelper_=function(f,g,b,D){if(f.path.isEmpty())return this.applyOperationDescendantsHelper_(f,g,b,D);var x=g.get(ct.Empty);null==b&&null!=x&&(b=x.getCompleteServerCache(ct.Empty));var z=[],Q=f.path.getFront(),ce=f.operationForChild(Q),ae=g.children.get(Q);if(ae&&ce){var He=b?b.getImmediateChild(Q):null,it=D.child(Q);z=z.concat(this.applyOperationHelper_(ce,ae,He,it))}return x&&(z=z.concat(x.applyOperation(f,D,b))),z},y.prototype.applyOperationDescendantsHelper_=function(f,g,b,D){var x=this,z=g.get(ct.Empty);null==b&&null!=z&&(b=z.getCompleteServerCache(ct.Empty));var Q=[];return g.children.inorderTraversal(function(ce,ae){var He=b?b.getImmediateChild(ce):null,it=D.child(ce),_t=f.operationForChild(ce);_t&&(Q=Q.concat(x.applyOperationDescendantsHelper_(_t,ae,He,it)))}),z&&(Q=Q.concat(z.applyOperation(f,D,b))),Q},y.nextQueryTag_=1,y}(),Ee=function(){function y(){this.rootNode_=vt.EMPTY_NODE}return y.prototype.getNode=function(f){return this.rootNode_.getChild(f)},y.prototype.updateSnapshot=function(f,g){this.rootNode_=this.rootNode_.updateChild(f,g)},y}(),_e=function(){function y(){this.counters_={}}return y.prototype.incrementCounter=function(f,g){void 0===g&&(g=1),re.contains(this.counters_,f)||(this.counters_[f]=0),this.counters_[f]+=g},y.prototype.get=function(){return re.deepCopy(this.counters_)},y}(),$e=function(){function y(){}return y.getCollection=function(f){var g=f.toString();return this.collections_[g]||(this.collections_[g]=new _e),this.collections_[g]},y.getOrCreateReporter=function(f,g){var b=f.toString();return this.reporters_[b]||(this.reporters_[b]=g()),this.reporters_[b]},y.collections_={},y.reporters_={},y}(),gt=function(){function y(f){this.collection_=f,this.last_=null}return y.prototype.get=function(){var f=this.collection_.get(),g=Z.__assign({},f);return this.last_&&Ve(this.last_,function(b,D){g[b]=g[b]-D}),this.last_=f,g},y}(),Yn=function(){function y(f,g){this.server_=g,this.statsToReport_={},this.statsListener_=new gt(f);var b=1e4+2e4*Math.random();dn(this.reportStats_.bind(this),Math.floor(b))}return y.prototype.includeStat=function(f){this.statsToReport_[f]=!0},y.prototype.reportStats_=function(){var f=this,g=this.statsListener_.get(),b={},D=!1;Ve(g,function(x,z){z>0&&re.contains(f.statsToReport_,x)&&(b[x]=z,D=!0)}),D&&this.server_.reportStats(b),dn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},y}(),cn=function(){function y(){this.eventLists_=[],this.recursionDepth_=0}return y.prototype.queueEvents=function(f){for(var g=null,b=0;b<f.length;b++){var D=f[b],x=D.getPath();null!==g&&!x.equals(g.getPath())&&(this.eventLists_.push(g),g=null),null===g&&(g=new Yr(x)),g.add(D)}g&&this.eventLists_.push(g)},y.prototype.raiseEventsAtPath=function(f,g){this.queueEvents(g),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(f)})},y.prototype.raiseEventsForChangedPath=function(f,g){this.queueEvents(g),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(f)||f.contains(b)})},y.prototype.raiseQueuedEventsMatchingPredicate_=function(f){this.recursionDepth_++;for(var g=!0,b=0;b<this.eventLists_.length;b++){var D=this.eventLists_[b];D&&(f(D.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):g=!1)}g&&(this.eventLists_=[]),this.recursionDepth_--},y}(),Yr=function(){function y(f){this.path_=f,this.events_=[]}return y.prototype.add=function(f){this.events_.push(f)},y.prototype.raise=function(){for(var f=0;f<this.events_.length;f++){var g=this.events_[f];if(null!==g){this.events_[f]=null;var b=g.getEventRunner();Le&&Bt("event: "+g.toString()),Rt(b)}}},y.prototype.getPath=function(){return this.path_},y}(),lr=function(){function y(f){this.allowedEvents_=f,this.listeners_={},re.assert(Array.isArray(f)&&f.length>0,"Requires a non-empty array")}return y.prototype.trigger=function(f){for(var g=[],b=1;b<arguments.length;b++)g[b-1]=arguments[b];if(Array.isArray(this.listeners_[f]))for(var D=Z.__spread(this.listeners_[f]),x=0;x<D.length;x++)D[x].callback.apply(D[x].context,g)},y.prototype.on=function(f,g,b){this.validateEventType_(f),this.listeners_[f]=this.listeners_[f]||[],this.listeners_[f].push({callback:g,context:b});var D=this.getInitialEvent(f);D&&g.apply(b,D)},y.prototype.off=function(f,g,b){this.validateEventType_(f);for(var D=this.listeners_[f]||[],x=0;x<D.length;x++)if(D[x].callback===g&&(!b||b===D[x].context))return void D.splice(x,1)},y.prototype.validateEventType_=function(f){re.assert(this.allowedEvents_.find(function(g){return g===f}),"Unknown event: "+f)},y}(),bn=function(y){function f(){var b,D,g=y.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(D="visibilitychange",b="hidden"):void 0!==document.mozHidden?(D="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(D="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(D="webkitvisibilitychange",b="webkitHidden")),g.visible_=!0,D&&document.addEventListener(D,function(){var x=!document[b];x!==g.visible_&&(g.visible_=x,g.trigger("visible",x))},!1),g}return Z.__extends(f,y),f.getInstance=function(){return new f},f.prototype.getInitialEvent=function(g){return re.assert("visible"===g,"Unknown event type: "+g),[this.visible_]},f}(lr),Lr=function(y){function f(){var g=y.call(this,["online"])||this;return g.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!re.isMobileCordova()&&(window.addEventListener("online",function(){g.online_||(g.online_=!0,g.trigger("online",!0))},!1),window.addEventListener("offline",function(){g.online_&&(g.online_=!1,g.trigger("online",!1))},!1)),g}return Z.__extends(f,y),f.getInstance=function(){return new f},f.prototype.getInitialEvent=function(g){return re.assert("online"===g,"Unknown event type: "+g),[this.online_]},f.prototype.currentlyOnline=function(){return this.online_},f}(lr),wi=function(){function y(f){this.onMessage_=f,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return y.prototype.closeAfter=function(f,g){this.closeAfterResponse=f,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},y.prototype.handleResponse=function(f,g){var b=this;this.pendingResponses[f]=g;for(var D=function(){var Q=x.pendingResponses[x.currentResponseNum];delete x.pendingResponses[x.currentResponseNum];for(var ce=function(He){Q[He]&&Rt(function(){b.onMessage_(Q[He])})},ae=0;ae<Q.length;++ae)ce(ae);if(x.currentResponseNum===x.closeAfterResponse)return x.onClose&&(x.onClose(),x.onClose=null),"break";x.currentResponseNum++},x=this;this.pendingResponses[this.currentResponseNum]&&"break"!==D(););},y}(),Li=function(){function y(f,g,b,D,x){this.connId=f,this.repoInfo=g,this.applicationId=b,this.transportSessionId=D,this.lastSessionId=x,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ft(f),this.stats_=$e.getCollection(g),this.urlFn=function(z){return g.connectionURL(sr,z)}}return y.prototype.open=function(f,g){var b=this;this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new wi(f),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(y){if(re.isNodeSdk()||"complete"===document.readyState)y();else{var f=!1,g=function(){document.body?f||(f=!0,y()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new $s(function(){for(var z=[],Q=0;Q<arguments.length;Q++)z[Q]=arguments[Q];var ce=Z.__read(z,5),ae=ce[0],He=ce[1],it=ce[2];if(b.incrementIncomingBytes_(z),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===ae)b.id=He,b.password=it;else{if("close"!==ae)throw new Error("Unrecognized command received: "+ae);He?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(He,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var z=[],Q=0;Q<arguments.length;Q++)z[Q]=arguments[Q];var ce=Z.__read(z,2),ae=ce[0],He=ce[1];b.incrementIncomingBytes_(z),b.myPacketOrderer.handleResponse(ae,He)},function(){b.onClosed_()},b.urlFn);var D={start:"t"};D.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=b.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",b.transportSessionId&&(D.s=b.transportSessionId),b.lastSessionId&&(D.ls=b.lastSessionId),b.applicationId&&(D.p=b.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Kt)&&(D.r="f");var x=b.urlFn(D);b.log_("Connecting via long-poll to "+x),b.scriptTagHolder.addTag(x,function(){})}})},y.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},y.forceAllow=function(){y.forceAllow_=!0},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){return!(re.isNodeSdk()||!y.forceAllow_&&(y.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},y.prototype.markConnectionHealthy=function(){},y.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},y.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},y.prototype.send=function(f){var g=re.stringify(f);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);for(var b=re.base64Encode(g),D=se(b,1840),x=0;x<D.length;x++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[x]),this.curSegmentNum++},y.prototype.addDisconnectPingFrame=function(f,g){if(!re.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=f,b.pw=g,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},y.prototype.incrementIncomingBytes_=function(f){var g=re.stringify(f).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)},y}(),$s=function(){function y(f,g,b,D){if(this.onDisconnect=b,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,re.isNodeSdk())this.commandCB=f,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=ft(),window["pLPCommand"+this.uniqueCallbackIdentifier]=f,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=y.createIFrame_();var x="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(x='<script>document.domain="'+document.domain+'";<\/script>');var Q="<html><body>"+x+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Q),this.myIFrame.doc.close()}catch(ce){Bt("frame writing exception"),ce.stack&&Bt(ce.stack),Bt(ce)}}}return y.createIFrame_=function(){var f=document.createElement("iframe");if(f.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(f);try{f.contentWindow.document||Bt("No IE domain setting required")}catch(D){var b=document.domain;f.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return f.contentDocument?f.doc=f.contentDocument:f.contentWindow?f.doc=f.contentWindow.document:f.document&&(f.doc=f.document),f},y.prototype.close=function(){var f=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==f.myIFrame&&(document.body.removeChild(f.myIFrame),f.myIFrame=null)},Math.floor(0)));var g=this.onDisconnect;g&&(this.onDisconnect=null,g())},y.prototype.startLongPoll=function(f,g){for(this.myID=f,this.myPW=g,this.alive=!0;this.newRequest_(););},y.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var f={};f.id=this.myID,f.pw=this.myPW,f.ser=this.currentSerial;for(var g=this.urlFn(f),b="",D=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var z=this.pendingSegs.shift();b=b+"&seg"+D+"="+z.seg+"&ts"+D+"="+z.ts+"&d"+D+"="+z.d,D++}return this.addLongPollTag_(g+=b,this.currentSerial),!0}return!1},y.prototype.enqueueSegment=function(f,g,b){this.pendingSegs.push({seg:f,ts:g,d:b}),this.alive&&this.newRequest_()},y.prototype.addLongPollTag_=function(f,g){var b=this;this.outstandingRequests.add(g);var D=function(){b.outstandingRequests.delete(g),b.newRequest_()},x=setTimeout(D,Math.floor(25e3));this.addTag(f,function(){clearTimeout(x),D()})},y.prototype.addTag=function(f,g){var b=this;re.isNodeSdk()?this.doNodeLongPoll(f,g):setTimeout(function(){try{if(!b.sendNewPolls)return;var D=b.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=f,D.onload=D.onreadystatechange=function(){var x=D.readyState;(!x||"loaded"===x||"complete"===x)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),g())},D.onerror=function(){Bt("Long-poll script failed to load: "+f),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(D)}catch(x){}},Math.floor(1))},y}(),Eo="",Fo=null;"undefined"!=typeof MozWebSocket?Fo=MozWebSocket:"undefined"!=typeof WebSocket&&(Fo=WebSocket);var zi=function(){function y(f,g,b,D,x){this.connId=f,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ft(this.connId),this.stats_=$e.getCollection(g),this.connURL=y.connectionURL_(g,D,x),this.nodeAdmin=g.nodeAdmin}return y.connectionURL_=function(f,g,b){var D={v:"5"};return!re.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Kt)&&(D.r="f"),g&&(D.s=g),b&&(D.ls=b),f.connectionURL(Nr,D)},y.prototype.open=function(f,g){var b=this;this.onDisconnect=g,this.onMessage=f,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nt.set("previous_websocket_failure",!0);try{if(re.isNodeSdk()){var x={headers:{"User-Agent":"Firebase/5/"+Eo+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},z=process.env,Q=0===this.connURL.indexOf("wss://")?z.HTTPS_PROXY||z.https_proxy:z.HTTP_PROXY||z.http_proxy;Q&&(x.proxy={origin:Q}),this.mySock=new Fo(this.connURL,[],x)}else this.mySock=new Fo(this.connURL,[],x={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(ae){this.log_("Error instantiating WebSocket.");var ce=ae.message||ae.data;return ce&&this.log_(ce),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(ae){b.handleIncomingFrame(ae)},this.mySock.onerror=function(ae){b.log_("WebSocket error.  Closing connection.");var He=ae.message||ae.data;He&&b.log_(He),b.onClosed_()}},y.prototype.start=function(){},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){var f=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(f=!0)}return!f&&null!==Fo&&!y.forceDisallow_},y.previouslyFailed=function(){return nt.isInMemoryStorage||!0===nt.get("previous_websocket_failure")},y.prototype.markConnectionHealthy=function(){nt.remove("previous_websocket_failure")},y.prototype.appendFrame_=function(f){if(this.frames.push(f),this.frames.length===this.totalFrames){var g=this.frames.join("");this.frames=null;var b=re.jsonEval(g);this.onMessage(b)}},y.prototype.handleNewFrameCount_=function(f){this.totalFrames=f,this.frames=[]},y.prototype.extractFrameCount_=function(f){if(re.assert(null===this.frames,"We already have a frame buffer"),f.length<=6){var g=Number(f);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),f},y.prototype.handleIncomingFrame=function(f){if(null!==this.mySock){var g=f.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{var b=this.extractFrameCount_(g);null!==b&&this.appendFrame_(b)}}},y.prototype.send=function(f){this.resetKeepAlive();var g=re.stringify(f);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);var b=se(g,16384);b.length>1&&this.sendString_(String(b.length));for(var D=0;D<b.length;D++)this.sendString_(b[D])},y.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},y.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},y.prototype.resetKeepAlive=function(){var f=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){f.mySock&&f.sendString_("0"),f.resetKeepAlive()},Math.floor(45e3))},y.prototype.sendString_=function(f){try{this.mySock.send(f)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},y.responsesRequiredToBeHealthy=2,y.healthyTimeout=3e4,y}(),is=function(){function y(f){this.initTransports_(f)}return Object.defineProperty(y,"ALL_TRANSPORTS",{get:function(){return[Li,zi]},enumerable:!1,configurable:!0}),y.prototype.initTransports_=function(f){var g,b,D=zi&&zi.isAvailable(),x=D&&!zi.previouslyFailed();if(f.webSocketOnly&&(D||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),x=!0),x)this.transports_=[zi];else{var z=this.transports_=[];try{for(var Q=Z.__values(y.ALL_TRANSPORTS),ce=Q.next();!ce.done;ce=Q.next()){var ae=ce.value;ae&&ae.isAvailable()&&z.push(ae)}}catch(He){g={error:He}}finally{try{ce&&!ce.done&&(b=Q.return)&&b.call(Q)}finally{if(g)throw g.error}}}},y.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},y.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},y}(),su=function(){function y(f,g,b,D,x,z,Q,ce){this.id=f,this.repoInfo_=g,this.applicationId_=b,this.onMessage_=D,this.onReady_=x,this.onDisconnect_=z,this.onKill_=Q,this.lastSessionId=ce,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ft("c:"+this.id+":"),this.transportManager_=new is(g),this.log_("Connection created"),this.start_()}return y.prototype.start_=function(){var f=this,g=this.transportManager_.initialTransport();this.conn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){f.conn_&&f.conn_.open(b,D)},Math.floor(0));var x=g.healthyTimeout||0;x>0&&(this.healthyTimeout_=dn(function(){f.healthyTimeout_=null,f.isHealthy_||(f.conn_&&f.conn_.bytesReceived>102400?(f.log_("Connection exceeded healthy timeout but has received "+f.conn_.bytesReceived+" bytes.  Marking connection healthy."),f.isHealthy_=!0,f.conn_.markConnectionHealthy()):f.conn_&&f.conn_.bytesSent>10240?f.log_("Connection exceeded healthy timeout but has sent "+f.conn_.bytesSent+" bytes.  Leaving connection alive."):(f.log_("Closing unhealthy connection after timeout."),f.close()))},Math.floor(x)))},y.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},y.prototype.disconnReceiver_=function(f){var g=this;return function(b){f===g.conn_?g.onConnectionLost_(b):f===g.secondaryConn_?(g.log_("Secondary connection lost."),g.onSecondaryConnectionLost_()):g.log_("closing an old connection")}},y.prototype.connReceiver_=function(f){var g=this;return function(b){2!==g.state_&&(f===g.rx_?g.onPrimaryMessageReceived_(b):f===g.secondaryConn_?g.onSecondaryMessageReceived_(b):g.log_("message on old connection"))}},y.prototype.sendRequest=function(f){this.sendData_({t:"d",d:f})},y.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},y.prototype.onSecondaryControl_=function(f){if("t"in f){var g=f.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},y.prototype.onSecondaryMessageReceived_=function(f){var g=le("t",f),b=le("d",f);if("c"===g)this.onSecondaryControl_(b);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(b)}},y.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},y.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},y.prototype.onPrimaryMessageReceived_=function(f){var g=le("t",f),b=le("d",f);"c"===g?this.onControl_(b):"d"===g&&this.onDataMessage_(b)},y.prototype.onDataMessage_=function(f){this.onPrimaryResponse_(),this.onMessage_(f)},y.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},y.prototype.onControl_=function(f){var g=le("t",f);if("d"in f){var b=f.d;if("h"===g)this.onHandshake_(b);else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(b):"r"===g?this.onReset_(b):"e"===g?at("Server Error: "+b):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):at("Unknown control packet command: "+g)}},y.prototype.onHandshake_=function(f){var g=f.ts,b=f.v,D=f.h;this.sessionId=f.s,this.repoInfo_.updateHost(D),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==b&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())},y.prototype.tryStartUpgrade_=function(){var f=this.transportManager_.upgradeTransport();f&&this.startUpgrade_(f)},y.prototype.startUpgrade_=function(f){var g=this;this.secondaryConn_=new f(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=f.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,D),dn(function(){g.secondaryConn_&&(g.log_("Timed out trying to upgrade."),g.secondaryConn_.close())},Math.floor(6e4))},y.prototype.onReset_=function(f){this.log_("Reset packet received.  New host: "+f),this.repoInfo_.updateHost(f),1===this.state_?this.close():(this.closeConnections_(),this.start_())},y.prototype.onConnectionEstablished_=function(f,g){var b=this;this.log_("Realtime connection established."),this.conn_=f,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},y.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},y.prototype.onSecondaryConnectionLost_=function(){var f=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===f||this.rx_===f)&&this.close()},y.prototype.onConnectionLost_=function(f){this.conn_=null,f||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},y.prototype.onConnectionShutdown_=function(f){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(f),this.onKill_=null),this.onDisconnect_=null,this.close()},y.prototype.sendData_=function(f){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(f)},y.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},y.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},y}(),Su=function(){function y(){}return y.prototype.put=function(f,g,b,D){},y.prototype.merge=function(f,g,b,D){},y.prototype.refreshAuthToken=function(f){},y.prototype.onDisconnectPut=function(f,g,b){},y.prototype.onDisconnectMerge=function(f,g,b){},y.prototype.onDisconnectCancel=function(f,g){},y.prototype.reportStats=function(f){},y}(),Ks=1e3,Qr=function(y){function f(g,b,D,x,z,Q,ce){var ae=y.call(this)||this;if(ae.repoInfo_=g,ae.applicationId_=b,ae.onDataUpdate_=D,ae.onConnectStatus_=x,ae.onServerInfoUpdate_=z,ae.authTokenProvider_=Q,ae.authOverride_=ce,ae.id=f.nextPersistentConnectionId_++,ae.log_=Ft("p:"+ae.id+":"),ae.interruptReasons_={},ae.listens=new Map,ae.outstandingPuts_=[],ae.outstandingPutCount_=0,ae.onDisconnectRequestQueue_=[],ae.connected_=!1,ae.reconnectDelay_=Ks,ae.maxReconnectDelay_=3e5,ae.securityDebugCallback_=null,ae.lastSessionId=null,ae.establishConnectionTimer_=null,ae.visible_=!1,ae.requestCBHash_={},ae.requestNumber_=0,ae.realtime_=null,ae.authToken_=null,ae.forceTokenRefresh_=!1,ae.invalidAuthTokenCount_=0,ae.firstConnection_=!0,ae.lastConnectionAttemptTime_=null,ae.lastConnectionEstablishedTime_=null,ce&&!re.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ae.scheduleConnect_(0),bn.getInstance().on("visible",ae.onVisible_,ae),-1===g.host.indexOf("fblocal")&&Lr.getInstance().on("online",ae.onOnline_,ae),ae}return Z.__extends(f,y),f.prototype.sendRequest=function(g,b,D){var x=++this.requestNumber_,z={r:x,a:g,b};this.log_(re.stringify(z)),re.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(z),D&&(this.requestCBHash_[x]=D)},f.prototype.listen=function(g,b,D,x){var z=g.queryIdentifier(),Q=g.path.toString();this.log_("Listen called for "+Q+" "+z),this.listens.has(Q)||this.listens.set(Q,new Map),re.assert(g.getQueryParams().isDefault()||!g.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),re.assert(!this.listens.get(Q).has(z),"listen() called twice for same path/queryId.");var ce={onComplete:x,hashFn:b,query:g,tag:D};this.listens.get(Q).set(z,ce),this.connected_&&this.sendListen_(ce)},f.prototype.sendListen_=function(g){var b=this,D=g.query,x=D.path.toString(),z=D.queryIdentifier();this.log_("Listen on "+x+" for "+z);var Q={p:x};g.tag&&(Q.q=D.queryObject(),Q.t=g.tag),Q.h=g.hashFn(),this.sendRequest("q",Q,function(ae){var He=ae.d,it=ae.s;f.warnOnListenWarnings_(He,D),(b.listens.get(x)&&b.listens.get(x).get(z))===g&&(b.log_("listen response",ae),"ok"!==it&&b.removeListen_(x,z),g.onComplete&&g.onComplete(it,He))})},f.warnOnListenWarnings_=function(g,b){if(g&&"object"==typeof g&&re.contains(g,"w")){var D=re.safeGet(g,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){var x='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',z=b.path.toString();pt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+x+" at "+z+" to your security rules for better performance.")}}},f.prototype.refreshAuthToken=function(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(g)},f.prototype.reduceReconnectDelayIfAdminCredential_=function(g){(g&&40===g.length||re.isAdmin(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},f.prototype.tryAuth=function(){var g=this;if(this.connected_&&this.authToken_){var b=this.authToken_,D=re.isValidFormat(b)?"auth":"gauth",x={cred:b};null===this.authOverride_?x.noauth=!0:"object"==typeof this.authOverride_&&(x.authvar=this.authOverride_),this.sendRequest(D,x,function(z){var Q=z.s,ce=z.d||"error";g.authToken_===b&&("ok"===Q?g.invalidAuthTokenCount_=0:g.onAuthRevoked_(Q,ce))})}},f.prototype.unlisten=function(g,b){var D=g.path.toString(),x=g.queryIdentifier();this.log_("Unlisten called for "+D+" "+x),re.assert(g.getQueryParams().isDefault()||!g.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,x)&&this.connected_&&this.sendUnlisten_(D,x,g.queryObject(),b)},f.prototype.sendUnlisten_=function(g,b,D,x){this.log_("Unlisten on "+g+" for "+b);var z={p:g};x&&(z.q=D,z.t=x),this.sendRequest("n",z)},f.prototype.onDisconnectPut=function(g,b,D){this.connected_?this.sendOnDisconnect_("o",g,b,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:b,onComplete:D})},f.prototype.onDisconnectMerge=function(g,b,D){this.connected_?this.sendOnDisconnect_("om",g,b,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:b,onComplete:D})},f.prototype.onDisconnectCancel=function(g,b){this.connected_?this.sendOnDisconnect_("oc",g,null,b):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:b})},f.prototype.sendOnDisconnect_=function(g,b,D,x){var z={p:b,d:D};this.log_("onDisconnect "+g,z),this.sendRequest(g,z,function(Q){x&&setTimeout(function(){x(Q.s,Q.d)},Math.floor(0))})},f.prototype.put=function(g,b,D,x){this.putInternal("p",g,b,D,x)},f.prototype.merge=function(g,b,D,x){this.putInternal("m",g,b,D,x)},f.prototype.putInternal=function(g,b,D,x,z){var Q={p:b,d:D};void 0!==z&&(Q.h=z),this.outstandingPuts_.push({action:g,request:Q,onComplete:x}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},f.prototype.sendPut_=function(g){var b=this,D=this.outstandingPuts_[g].action,x=this.outstandingPuts_[g].request,z=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(D,x,function(Q){b.log_(D+" response",Q),delete b.outstandingPuts_[g],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),z&&z(Q.s,Q.d)})},f.prototype.reportStats=function(g){var b=this;if(this.connected_){var D={c:g};this.log_("reportStats",D),this.sendRequest("s",D,function(x){"ok"!==x.s&&b.log_("reportStats","Error sending stats: "+x.d)})}},f.prototype.onDataMessage_=function(g){if("r"in g){this.log_("from server: "+re.stringify(g));var b=g.r,D=this.requestCBHash_[b];D&&(delete this.requestCBHash_[b],D(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}},f.prototype.onDataPush_=function(g,b){this.log_("handleServerMessage",g,b),"d"===g?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===g?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===g?this.onListenRevoked_(b.p,b.q):"ac"===g?this.onAuthRevoked_(b.s,b.d):"sd"===g?this.onSecurityDebugPacket_(b):at("Unrecognized action received from server: "+re.stringify(g)+"\nAre you using the latest client?")},f.prototype.onReady_=function(g,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},f.prototype.scheduleConnect_=function(g){var b=this;re.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(g))},f.prototype.onVisible_=function(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=g},f.prototype.onOnline_=function(g){g?(this.log_("Browser went online."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},f.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,D=Math.max(0,this.reconnectDelay_-b);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},f.prototype.establishConnection_=function(){var g=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),D=this.onReady_.bind(this),x=this.onRealtimeDisconnect_.bind(this),z=this.id+":"+f.nextConnectionId_++,Q=this,ce=this.lastSessionId,ae=!1,He=null,it=function(){He?He.close():(ae=!0,x())};this.realtime_={close:it,sendRequest:function(Zt){re.assert(He,"sendRequest call when we're not connected not allowed."),He.sendRequest(Zt)}};var xt=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(xt).then(function(Zt){ae?Bt("getToken() completed but was canceled"):(Bt("getToken() completed. Creating connection."),Q.authToken_=Zt&&Zt.accessToken,He=new su(z,Q.repoInfo_,Q.applicationId_,b,D,x,function(ln){pt(ln+" ("+Q.repoInfo_.toString()+")"),Q.interrupt("server_kill")},ce))}).then(null,function(Zt){Q.log_("Failed to get token: "+Zt),ae||(g.repoInfo_.nodeAdmin&&pt(Zt),it())})}},f.prototype.interrupt=function(g){Bt("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},f.prototype.resume=function(g){Bt("Resuming connection for reason: "+g),delete this.interruptReasons_[g],re.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0))},f.prototype.handleTimestamp_=function(g){var b=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},f.prototype.cancelSentTransactions_=function(){for(var g=0;g<this.outstandingPuts_.length;g++){var b=this.outstandingPuts_[g];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},f.prototype.onListenRevoked_=function(g,b){var D;D=b?b.map(function(z){return Tt(z)}).join("$"):"default";var x=this.removeListen_(g,D);x&&x.onComplete&&x.onComplete("permission_denied")},f.prototype.removeListen_=function(g,b){var x,D=new ct(g).toString();if(this.listens.has(D)){var z=this.listens.get(D);x=z.get(b),z.delete(b),0===z.size&&this.listens.delete(D)}else x=void 0;return x},f.prototype.onAuthRevoked_=function(g,b){Bt("Auth token revoked: "+g+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},f.prototype.onSecurityDebugPacket_=function(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))},f.prototype.restoreState_=function(){var g,b,D,x;this.tryAuth();try{for(var z=Z.__values(this.listens.values()),Q=z.next();!Q.done;Q=z.next()){var ce=Q.value;try{for(var ae=(D=void 0,Z.__values(ce.values())),He=ae.next();!He.done;He=ae.next())this.sendListen_(He.value)}catch(Zt){D={error:Zt}}finally{try{He&&!He.done&&(x=ae.return)&&x.call(ae)}finally{if(D)throw D.error}}}}catch(Zt){g={error:Zt}}finally{try{Q&&!Q.done&&(b=z.return)&&b.call(z)}finally{if(g)throw g.error}}for(var _t=0;_t<this.outstandingPuts_.length;_t++)this.outstandingPuts_[_t]&&this.sendPut_(_t);for(;this.onDisconnectRequestQueue_.length;){var xt=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(xt.action,xt.pathString,xt.data,xt.onComplete)}},f.prototype.sendConnectStats_=function(){var g={},b="js";re.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+b+"."+Eo.replace(/\./g,"-")]=1,re.isMobileCordova()?g["framework.cordova"]=1:re.isReactNative()&&(g["framework.reactnative"]=1),this.reportStats(g)},f.prototype.shouldReconnect_=function(){var g=Lr.getInstance().currentlyOnline();return re.isEmpty(this.interruptReasons_)&&g},f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f}(Su),Iu=function(y){function f(g,b,D){var x=y.call(this)||this;return x.repoInfo_=g,x.onDataUpdate_=b,x.authTokenProvider_=D,x.log_=Ft("p:rest:"),x.listens_={},x}return Z.__extends(f,y),f.prototype.reportStats=function(g){throw new Error("Method not implemented.")},f.getListenId_=function(g,b){return void 0!==b?"tag$"+b:(re.assert(g.getQueryParams().isDefault(),"should have a tag if it's not a default query."),g.path.toString())},f.prototype.listen=function(g,b,D,x){var z=this,Q=g.path.toString();this.log_("Listen called for "+Q+" "+g.queryIdentifier());var ce=f.getListenId_(g,D),ae={};this.listens_[ce]=ae;var He=g.getQueryParams().toRestQueryStringParameters();this.restRequest_(Q+".json",He,function(it,_t){var xt=_t;404===it&&(xt=null,it=null),null===it&&z.onDataUpdate_(Q,xt,!1,D),re.safeGet(z.listens_,ce)===ae&&x(it?401===it?"permission_denied":"rest_error:"+it:"ok",null)})},f.prototype.unlisten=function(g,b){var D=f.getListenId_(g,b);delete this.listens_[D]},f.prototype.refreshAuthToken=function(g){},f.prototype.restRequest_=function(g,b,D){var x=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(z){var Q=z&&z.accessToken;Q&&(b.auth=Q);var ce=(x.repoInfo_.secure?"https://":"http://")+x.repoInfo_.host+g+"?ns="+x.repoInfo_.namespace+re.querystring(b);x.log_("Sending REST request for "+ce);var ae=new XMLHttpRequest;ae.onreadystatechange=function(){if(D&&4===ae.readyState){x.log_("REST Response for "+ce+" received. status:",ae.status,"response:",ae.responseText);var He=null;if(ae.status>=200&&ae.status<300){try{He=re.jsonEval(ae.responseText)}catch(it){pt("Failed to parse JSON response for "+ce+": "+ae.responseText)}D(null,He)}else 401!==ae.status&&404!==ae.status&&pt("Got unsuccessful REST response for "+ce+" Status: "+ae.status),D(ae.status);D=null}},ae.open("GET",ce,!0),ae.send()})},f}(Su),jt="repo_interrupt",ii=function(){function y(f,g,b,D){var x=this;if(this.repoInfo_=f,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Hs,this.persistentConnection_=null,this.stats_=$e.getCollection(f),g||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Iu(this.repoInfo_,this.onDataUpdate_.bind(this),D),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var z=b.options.databaseAuthVariableOverride;if(null!=z){if("object"!=typeof z)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{re.stringify(z)}catch(Q){throw new Error("Invalid authOverride provided: "+Q)}}this.persistentConnection_=new Qr(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),D,z),this.server_=this.persistentConnection_}D.addTokenChangeListener(function(Q){x.server_.refreshAuthToken(Q)}),this.statsReporter_=$e.getOrCreateReporter(f,function(){return new Yn(x.stats_,x.server_)}),this.transactionsInit_(),this.infoData_=new Ee,this.infoSyncTree_=new pe({startListening:function(Q,ce,ae,He){var it=[],_t=x.infoData_.getNode(Q.path);return _t.isEmpty()||(it=x.infoSyncTree_.applyServerOverwrite(Q.path,_t),setTimeout(function(){He("ok")},0)),it},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new pe({startListening:function(Q,ce,ae,He){return x.server_.listen(Q,ae,ce,function(it,_t){var xt=He(it,_t);x.eventQueue_.raiseEventsForChangedPath(Q.path,xt)}),[]},stopListening:function(Q,ce){x.server_.unlisten(Q,ce)}})}return y.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},y.prototype.name=function(){return this.repoInfo_.namespace},y.prototype.serverTime=function(){var g=this.infoData_.getNode(new ct(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g},y.prototype.generateServerValues=function(){return function(y){return(y=y||{}).timestamp=y.timestamp||(new Date).getTime(),y}({timestamp:this.serverTime()})},y.prototype.onDataUpdate_=function(f,g,b,D){this.dataUpdateCount++;var x=new ct(f);g=this.interceptServerDataCallback_?this.interceptServerDataCallback_(f,g):g;var z=[];if(D)if(b){var Q=re.map(g,function(_t){return Bn(_t)});z=this.serverSyncTree_.applyTaggedQueryMerge(x,Q,D)}else{var ce=Bn(g);z=this.serverSyncTree_.applyTaggedQueryOverwrite(x,ce,D)}else if(b){var ae=re.map(g,function(_t){return Bn(_t)});z=this.serverSyncTree_.applyServerMerge(x,ae)}else{var He=Bn(g);z=this.serverSyncTree_.applyServerOverwrite(x,He)}var it=x;z.length>0&&(it=this.rerunTransactions_(x)),this.eventQueue_.raiseEventsForChangedPath(it,z)},y.prototype.interceptServerData_=function(f){this.interceptServerDataCallback_=f},y.prototype.onConnectStatus_=function(f){this.updateInfo_("connected",f),!1===f&&this.runOnDisconnectEvents_()},y.prototype.onServerInfoUpdate_=function(f){var g=this;Ve(f,function(b,D){g.updateInfo_(b,D)})},y.prototype.updateInfo_=function(f,g){var b=new ct("/.info/"+f),D=Bn(g);this.infoData_.updateSnapshot(b,D);var x=this.infoSyncTree_.applyServerOverwrite(b,D);this.eventQueue_.raiseEventsForChangedPath(b,x)},y.prototype.getNextWriteId_=function(){return this.nextWriteId_++},y.prototype.setWithPriority=function(f,g,b,D){var x=this;this.log_("set",{path:f.toString(),value:g,priority:b});var z=this.generateServerValues(),Q=Bn(g,b),ce=this.serverSyncTree_.calcCompleteEventCache(f),ae=zn(Q,ce,z),He=this.getNextWriteId_(),it=this.serverSyncTree_.applyUserOverwrite(f,ae,He,!0);this.eventQueue_.queueEvents(it),this.server_.put(f.toString(),Q.val(!0),function(xt,Zt){var ln="ok"===xt;ln||pt("set at "+f+" failed: "+xt);var $n=x.serverSyncTree_.ackUserWrite(He,!ln);x.eventQueue_.raiseEventsForChangedPath(f,$n),x.callOnCompleteCallback(D,xt,Zt)});var _t=this.abortTransactions_(f);this.rerunTransactions_(_t),this.eventQueue_.raiseEventsForChangedPath(_t,[])},y.prototype.update=function(f,g,b){var D=this;this.log_("update",{path:f.toString(),value:g});var x=!0,z=this.generateServerValues(),Q={};if(Ve(g,function(He,it){x=!1,Q[He]=no(f.child(He),Bn(it),D.serverSyncTree_,z)}),x)Bt("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var ce=this.getNextWriteId_(),ae=this.serverSyncTree_.applyUserMerge(f,Q,ce);this.eventQueue_.queueEvents(ae),this.server_.merge(f.toString(),g,function(He,it){var _t="ok"===He;_t||pt("update at "+f+" failed: "+He);var xt=D.serverSyncTree_.ackUserWrite(ce,!_t),Zt=xt.length>0?D.rerunTransactions_(f):f;D.eventQueue_.raiseEventsForChangedPath(Zt,xt),D.callOnCompleteCallback(b,He,it)}),Ve(g,function(He){var it=D.abortTransactions_(f.child(He));D.rerunTransactions_(it)}),this.eventQueue_.raiseEventsForChangedPath(f,[])}},y.prototype.runOnDisconnectEvents_=function(){var f=this;this.log_("onDisconnectEvents");var g=this.generateServerValues(),b=new Hs;this.onDisconnect_.forEachTree(ct.Empty,function(x,z){var Q=no(x,z,f.serverSyncTree_,g);b.remember(x,Q)});var D=[];b.forEachTree(ct.Empty,function(x,z){D=D.concat(f.serverSyncTree_.applyServerOverwrite(x,z));var Q=f.abortTransactions_(x);f.rerunTransactions_(Q)}),this.onDisconnect_=new Hs,this.eventQueue_.raiseEventsForChangedPath(ct.Empty,D)},y.prototype.onDisconnectCancel=function(f,g){var b=this;this.server_.onDisconnectCancel(f.toString(),function(D,x){"ok"===D&&b.onDisconnect_.forget(f),b.callOnCompleteCallback(g,D,x)})},y.prototype.onDisconnectSet=function(f,g,b){var D=this,x=Bn(g);this.server_.onDisconnectPut(f.toString(),x.val(!0),function(z,Q){"ok"===z&&D.onDisconnect_.remember(f,x),D.callOnCompleteCallback(b,z,Q)})},y.prototype.onDisconnectSetWithPriority=function(f,g,b,D){var x=this,z=Bn(g,b);this.server_.onDisconnectPut(f.toString(),z.val(!0),function(Q,ce){"ok"===Q&&x.onDisconnect_.remember(f,z),x.callOnCompleteCallback(D,Q,ce)})},y.prototype.onDisconnectUpdate=function(f,g,b){var D=this;if(re.isEmpty(g))return Bt("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(f.toString(),g,function(x,z){"ok"===x&&Ve(g,function(Q,ce){var ae=Bn(ce);D.onDisconnect_.remember(f.child(Q),ae)}),D.callOnCompleteCallback(b,x,z)})},y.prototype.addEventCallbackForQuery=function(f,g){var b;b=".info"===f.path.getFront()?this.infoSyncTree_.addEventRegistration(f,g):this.serverSyncTree_.addEventRegistration(f,g),this.eventQueue_.raiseEventsAtPath(f.path,b)},y.prototype.removeEventCallbackForQuery=function(f,g){var b;b=".info"===f.path.getFront()?this.infoSyncTree_.removeEventRegistration(f,g):this.serverSyncTree_.removeEventRegistration(f,g),this.eventQueue_.raiseEventsAtPath(f.path,b)},y.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(jt)},y.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(jt)},y.prototype.stats=function(f){if(void 0===f&&(f=!1),"undefined"!=typeof console){var g;f?(this.statsListener_||(this.statsListener_=new gt(this.stats_)),g=this.statsListener_.get()):g=this.stats_.get();var b=Object.keys(g).reduce(function(D,x){return Math.max(x.length,D)},0);Ve(g,function(D,x){for(var z=D,Q=D.length;Q<b+2;Q++)z+=" ";console.log(z+x)})}},y.prototype.statsIncrementCounter=function(f){this.stats_.incrementCounter(f),this.statsReporter_.includeStat(f)},y.prototype.log_=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),Bt.apply(void 0,Z.__spread([b],f))},y.prototype.callOnCompleteCallback=function(f,g,b){f&&Rt(function(){if("ok"===g)f(null);else{var D=(g||"error").toUpperCase(),x=D;b&&(x+=": "+b);var z=new Error(x);z.code=D,f(z)}})},Object.defineProperty(y.prototype,"database",{get:function(){return this.__database||(this.__database=new Ze(this))},enumerable:!1,configurable:!0}),y}(),Wu=function(){function y(f){this.indexedFilter_=new No(f.getIndex()),this.index_=f.getIndex(),this.startPost_=y.getStartPost_(f),this.endPost_=y.getEndPost_(f)}return y.prototype.getStartPost=function(){return this.startPost_},y.prototype.getEndPost=function(){return this.endPost_},y.prototype.matches=function(f){return this.index_.compare(this.getStartPost(),f)<=0&&this.index_.compare(f,this.getEndPost())<=0},y.prototype.updateChild=function(f,g,b,D,x,z){return this.matches(new ve(g,b))||(b=vt.EMPTY_NODE),this.indexedFilter_.updateChild(f,g,b,D,x,z)},y.prototype.updateFullNode=function(f,g,b){g.isLeafNode()&&(g=vt.EMPTY_NODE);var D=g.withIndex(this.index_);D=D.updatePriority(vt.EMPTY_NODE);var x=this;return g.forEachChild(de,function(z,Q){x.matches(new ve(z,Q))||(D=D.updateImmediateChild(z,vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(f,D,b)},y.prototype.updatePriority=function(f,g){return f},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.indexedFilter_},y.prototype.getIndex=function(){return this.index_},y.getStartPost_=function(f){if(f.hasStart()){var g=f.getIndexStartName();return f.getIndex().makePost(f.getIndexStartValue(),g)}return f.getIndex().minPost()},y.getEndPost_=function(f){if(f.hasEnd()){var g=f.getIndexEndName();return f.getIndex().makePost(f.getIndexEndValue(),g)}return f.getIndex().maxPost()},y}(),va=function(){function y(f){this.rangedFilter_=new Wu(f),this.index_=f.getIndex(),this.limit_=f.getLimit(),this.reverse_=!f.isViewFromLeft()}return y.prototype.updateChild=function(f,g,b,D,x,z){return this.rangedFilter_.matches(new ve(g,b))||(b=vt.EMPTY_NODE),f.getImmediateChild(g).equals(b)?f:f.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(f,g,b,D,x,z):this.fullLimitUpdateChild_(f,g,b,x,z)},y.prototype.updateFullNode=function(f,g,b){var D;if(g.isLeafNode()||g.isEmpty())D=vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){D=vt.EMPTY_NODE.withIndex(this.index_);var x=void 0;x=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var z=0;x.hasNext()&&z<this.limit_;){var Q=x.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Q)<=0:this.index_.compare(Q,this.rangedFilter_.getEndPost())<=0))break;D=D.updateImmediateChild(Q.name,Q.node),z++}}else{D=(D=g.withIndex(this.index_)).updatePriority(vt.EMPTY_NODE);var ae=void 0,He=void 0,it=void 0;if(x=void 0,this.reverse_){x=D.getReverseIterator(this.index_),ae=this.rangedFilter_.getEndPost(),He=this.rangedFilter_.getStartPost();var _t=this.index_.getCompare();it=function($n,Zn){return _t(Zn,$n)}}else x=D.getIterator(this.index_),ae=this.rangedFilter_.getStartPost(),He=this.rangedFilter_.getEndPost(),it=this.index_.getCompare();z=0;for(var xt=!1;x.hasNext();)Q=x.getNext(),!xt&&it(ae,Q)<=0&&(xt=!0),xt&&z<this.limit_&&it(Q,He)<=0?z++:D=D.updateImmediateChild(Q.name,vt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(f,D,b)},y.prototype.updatePriority=function(f,g){return f},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},y.prototype.getIndex=function(){return this.index_},y.prototype.fullLimitUpdateChild_=function(f,g,b,D,x){var z;if(this.reverse_){var Q=this.index_.getCompare();z=function(vo,$i){return Q($i,vo)}}else z=this.index_.getCompare();var ce=f;re.assert(ce.numChildren()===this.limit_,"");var ae=new ve(g,b),He=this.reverse_?ce.getFirstChild(this.index_):ce.getLastChild(this.index_),it=this.rangedFilter_.matches(ae);if(ce.hasChild(g)){for(var _t=ce.getImmediateChild(g),xt=D.getChildAfterChild(this.index_,He,this.reverse_);null!=xt&&(xt.name===g||ce.hasChild(xt.name));)xt=D.getChildAfterChild(this.index_,xt,this.reverse_);var Zt=null==xt?1:z(xt,ae);if(it&&!b.isEmpty()&&Zt>=0)return null!=x&&x.trackChildChange(Jn.childChangedChange(g,b,_t)),ce.updateImmediateChild(g,b);null!=x&&x.trackChildChange(Jn.childRemovedChange(g,_t));var $n=ce.updateImmediateChild(g,vt.EMPTY_NODE);return null!=xt&&this.rangedFilter_.matches(xt)?(null!=x&&x.trackChildChange(Jn.childAddedChange(xt.name,xt.node)),$n.updateImmediateChild(xt.name,xt.node)):$n}return b.isEmpty()?f:it&&z(He,ae)>=0?(null!=x&&(x.trackChildChange(Jn.childRemovedChange(He.name,He.node)),x.trackChildChange(Jn.childAddedChange(g,b))),ce.updateImmediateChild(g,b).updateImmediateChild(He.name,vt.EMPTY_NODE)):f},y}(),As=function(){function y(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}return y.prototype.hasStart=function(){return this.startSet_},y.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},y.prototype.getIndexStartValue=function(){return re.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},y.prototype.getIndexStartName=function(){return re.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},y.prototype.hasEnd=function(){return this.endSet_},y.prototype.getIndexEndValue=function(){return re.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},y.prototype.getIndexEndName=function(){return re.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:H},y.prototype.hasLimit=function(){return this.limitSet_},y.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},y.prototype.getLimit=function(){return re.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},y.prototype.getIndex=function(){return this.index_},y.prototype.copy_=function(){var f=new y;return f.limitSet_=this.limitSet_,f.limit_=this.limit_,f.startSet_=this.startSet_,f.indexStartValue_=this.indexStartValue_,f.startNameSet_=this.startNameSet_,f.indexStartName_=this.indexStartName_,f.endSet_=this.endSet_,f.indexEndValue_=this.indexEndValue_,f.endNameSet_=this.endNameSet_,f.indexEndName_=this.indexEndName_,f.index_=this.index_,f.viewFrom_=this.viewFrom_,f},y.prototype.limit=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_="",g},y.prototype.limitToFirst=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_=y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,g},y.prototype.limitToLast=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_=y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,g},y.prototype.startAt=function(f,g){var b=this.copy_();return b.startSet_=!0,void 0===f&&(f=null),b.indexStartValue_=f,null!=g?(b.startNameSet_=!0,b.indexStartName_=g):(b.startNameSet_=!1,b.indexStartName_=""),b},y.prototype.endAt=function(f,g){var b=this.copy_();return b.endSet_=!0,void 0===f&&(f=null),b.indexEndValue_=f,void 0!==g?(b.endNameSet_=!0,b.indexEndName_=g):(b.endNameSet_=!1,b.indexEndName_=""),b},y.prototype.orderBy=function(f){var g=this.copy_();return g.index_=f,g},y.prototype.getQueryObject=function(){var f=y.WIRE_PROTOCOL_CONSTANTS_,g={};if(this.startSet_&&(g[f.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(g[f.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(g[f.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(g[f.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){g[f.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?f.VIEW_FROM_LEFT:f.VIEW_FROM_RIGHT),g[f.VIEW_FROM]=b}return this.index_!==de&&(g[f.INDEX]=this.index_.toString()),g},y.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},y.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===de},y.prototype.getNodeFilter=function(){return this.loadsAllData()?new No(this.getIndex()):this.hasLimit()?new va(this):new Wu(this)},y.prototype.toRestQueryStringParameters=function(){var b,f=y.REST_QUERY_CONSTANTS_,g={};return this.isDefault()||(this.index_===de?b=f.PRIORITY_INDEX:this.index_===eo?b=f.VALUE_INDEX:this.index_===Fe?b=f.KEY_INDEX:(re.assert(this.index_ instanceof jo,"Unrecognized index type!"),b=this.index_.toString()),g[f.ORDER_BY]=re.stringify(b),this.startSet_&&(g[f.START_AT]=re.stringify(this.indexStartValue_),this.startNameSet_&&(g[f.START_AT]+=","+re.stringify(this.indexStartName_))),this.endSet_&&(g[f.END_AT]=re.stringify(this.indexEndValue_),this.endNameSet_&&(g[f.END_AT]+=","+re.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?g[f.LIMIT_TO_FIRST]=this.limit_:g[f.LIMIT_TO_LAST]=this.limit_)),g},y.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},y.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},y.DEFAULT=new y,y}(),yi=function(y){function f(g,b){if(!(g instanceof ii))throw new Error("new Reference() no longer supported - use app.database().");return y.call(this,g,b,As.DEFAULT,!1)||this}return Z.__extends(f,y),f.prototype.getKey=function(){return re.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},f.prototype.child=function(g){return re.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof g?g=String(g):g instanceof ct||(null===this.path.getFront()?fi("Reference.child",1,g,!1):an("Reference.child",1,g,!1)),new f(this.repo,this.path.child(g))},f.prototype.getParent=function(){re.validateArgCount("Reference.parent",0,0,arguments.length);var g=this.path.parent();return null===g?null:new f(this.repo,g)},f.prototype.getRoot=function(){re.validateArgCount("Reference.root",0,0,arguments.length);for(var g=this;null!==g.getParent();)g=g.getParent();return g},f.prototype.databaseProp=function(){return this.repo.database},f.prototype.set=function(g,b){re.validateArgCount("Reference.set",1,2,arguments.length),rn("Reference.set",this.path),zt("Reference.set",1,g,this.path,!1),re.validateCallback("Reference.set",2,b,!0);var D=new re.Deferred;return this.repo.setWithPriority(this.path,g,null,D.wrapCallback(b)),D.promise},f.prototype.update=function(g,b){if(re.validateArgCount("Reference.update",1,2,arguments.length),rn("Reference.update",this.path),Array.isArray(g)){for(var D={},x=0;x<g.length;++x)D[""+x]=g[x];g=D,pt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mn("Reference.update",1,g,this.path,!1),re.validateCallback("Reference.update",2,b,!0);var z=new re.Deferred;return this.repo.update(this.path,g,z.wrapCallback(b)),z.promise},f.prototype.setWithPriority=function(g,b,D){if(re.validateArgCount("Reference.setWithPriority",2,3,arguments.length),rn("Reference.setWithPriority",this.path),zt("Reference.setWithPriority",1,g,this.path,!1),Er("Reference.setWithPriority",2,b,!1),re.validateCallback("Reference.setWithPriority",3,D,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var x=new re.Deferred;return this.repo.setWithPriority(this.path,g,b,x.wrapCallback(D)),x.promise},f.prototype.remove=function(g){return re.validateArgCount("Reference.remove",0,1,arguments.length),rn("Reference.remove",this.path),re.validateCallback("Reference.remove",1,g,!0),this.set(null,g)},f.prototype.transaction=function(g,b,D){if(re.validateArgCount("Reference.transaction",1,3,arguments.length),rn("Reference.transaction",this.path),re.validateCallback("Reference.transaction",1,g,!1),re.validateCallback("Reference.transaction",2,b,!0),co("Reference.transaction",3,D,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===D&&(D=!0);var x=new re.Deferred;"function"==typeof b&&x.promise.catch(function(){});var z=function(Q,ce,ae){Q?x.reject(Q):x.resolve(new un(ce,ae)),"function"==typeof b&&b(Q,ce,ae)};return this.repo.startTransaction(this.path,g,z,D),x.promise},f.prototype.setPriority=function(g,b){re.validateArgCount("Reference.setPriority",1,2,arguments.length),rn("Reference.setPriority",this.path),Er("Reference.setPriority",1,g,!1),re.validateCallback("Reference.setPriority",2,b,!0);var D=new re.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),g,null,D.wrapCallback(b)),D.promise},f.prototype.push=function(g,b){re.validateArgCount("Reference.push",0,2,arguments.length),rn("Reference.push",this.path),zt("Reference.push",1,g,this.path,!0),re.validateCallback("Reference.push",2,b,!0);var ce,D=this.repo.serverTime(),x=Gi(D),z=this.child(x),Q=this.child(x);return ce=null!=g?z.set(g,b).then(function(){return Q}):Promise.resolve(Q),z.then=ce.then.bind(ce),z.catch=ce.then.bind(ce,void 0),"function"==typeof b&&ce.catch(function(){}),z},f.prototype.onDisconnect=function(){return rn("Reference.onDisconnect",this.path),new Ln(this.repo,this.path)},Object.defineProperty(f.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),f}(ns);ns.__referenceConstructor=yi,Ni.__referenceConstructor=yi;var $u=function(){this.children={},this.childCount=0,this.value=null},Js=function(){function y(f,g,b){void 0===f&&(f=""),void 0===g&&(g=null),void 0===b&&(b=new $u),this.name_=f,this.parent_=g,this.node_=b}return y.prototype.subTree=function(f){for(var g=f instanceof ct?f:new ct(f),b=this,D=g.getFront();null!==D;)b=new y(D,b,re.safeGet(b.node_.children,D)||new $u),D=(g=g.popFront()).getFront();return b},y.prototype.getValue=function(){return this.node_.value},y.prototype.setValue=function(f){re.assert(void 0!==f,"Cannot set value to undefined"),this.node_.value=f,this.updateParents_()},y.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},y.prototype.hasChildren=function(){return this.node_.childCount>0},y.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},y.prototype.forEachChild=function(f){var g=this;Ve(this.node_.children,function(b,D){f(new y(b,g,D))})},y.prototype.forEachDescendant=function(f,g,b){g&&!b&&f(this),this.forEachChild(function(D){D.forEachDescendant(f,!0,b)}),g&&b&&f(this)},y.prototype.forEachAncestor=function(f,g){for(var b=g?this:this.parent();null!==b;){if(f(b))return!0;b=b.parent()}return!1},y.prototype.forEachImmediateDescendantWithValue=function(f){this.forEachChild(function(g){null!==g.getValue()?f(g):g.forEachImmediateDescendantWithValue(f)})},y.prototype.path=function(){return new ct(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},y.prototype.name=function(){return this.name_},y.prototype.parent=function(){return this.parent_},y.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},y.prototype.updateChild_=function(f,g){var b=g.isEmpty(),D=re.contains(this.node_.children,f);b&&D?(delete this.node_.children[f],this.node_.childCount--,this.updateParents_()):!b&&!D&&(this.node_.children[f]=g.node_,this.node_.childCount++,this.updateParents_())},y}(),di=(()=>(function(y){y[y.RUN=0]="RUN",y[y.SENT=1]="SENT",y[y.COMPLETED=2]="COMPLETED",y[y.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",y[y.NEEDS_ABORT=4]="NEEDS_ABORT"}(di||(di={})),di))();ii.MAX_TRANSACTION_RETRIES_=25,ii.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Js},ii.prototype.startTransaction=function(y,f,g,b){this.log_("transaction on "+y);var D=function(){},x=new yi(this,y);x.on("value",D);var Q={path:y,update:f,onComplete:g,status:null,order:ft(),applyLocally:b,retryCount:0,unwatcher:function(){x.off("value",D)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ce=this.getLatestState_(y);Q.currentInputSnapshot=ce;var ae=Q.update(ce.val());if(void 0===ae){if(Q.unwatcher(),Q.currentOutputSnapshotRaw=null,Q.currentOutputSnapshotResolved=null,Q.onComplete){var He=new ko(Q.currentInputSnapshot,new yi(this,Q.path),de);Q.onComplete(null,!1,He)}}else{gn("transaction failed: Data returned ",ae,Q.path),Q.status=di.RUN;var it=this.transactionQueueTree_.subTree(y),_t=it.getValue()||[];_t.push(Q),it.setValue(_t);var xt=void 0;"object"==typeof ae&&null!==ae&&re.contains(ae,".priority")?(xt=re.safeGet(ae,".priority"),re.assert(Wt(xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):xt=(this.serverSyncTree_.calcCompleteEventCache(y)||vt.EMPTY_NODE).getPriority().val(),xt=xt;var ln=this.generateServerValues(),$n=Bn(ae,xt),Zn=zn($n,ce,ln);Q.currentOutputSnapshotRaw=$n,Q.currentOutputSnapshotResolved=Zn,Q.currentWriteId=this.getNextWriteId_();var vo=this.serverSyncTree_.applyUserOverwrite(y,Zn,Q.currentWriteId,Q.applyLocally);this.eventQueue_.raiseEventsForChangedPath(y,vo),this.sendReadyTransactions_()}},ii.prototype.getLatestState_=function(y,f){return this.serverSyncTree_.calcCompleteEventCache(y,f)||vt.EMPTY_NODE},ii.prototype.sendReadyTransactions_=function(y){var f=this;if(void 0===y&&(y=this.transactionQueueTree_),y||this.pruneCompletedTransactionsBelowNode_(y),null!==y.getValue()){var g=this.buildTransactionQueue_(y);re.assert(g.length>0,"Sending zero length transaction queue"),g.every(function(D){return D.status===di.RUN})&&this.sendTransactionQueue_(y.path(),g)}else y.hasChildren()&&y.forEachChild(function(D){f.sendReadyTransactions_(D)})},ii.prototype.sendTransactionQueue_=function(y,f){for(var g=this,b=f.map(function(_t){return _t.currentWriteId}),D=this.getLatestState_(y,b),x=D,z=D.hash(),Q=0;Q<f.length;Q++){var ce=f[Q];re.assert(ce.status===di.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),ce.status=di.SENT,ce.retryCount++;var ae=ct.relativePath(y,ce.path);x=x.updateChild(ae,ce.currentOutputSnapshotRaw)}var He=x.val(!0),it=y;this.server_.put(it.toString(),He,function(_t){g.log_("transaction put response",{path:it.toString(),status:_t});var xt=[];if("ok"===_t){for(var Zt=[],ln=0;ln<f.length;ln++){if(f[ln].status=di.COMPLETED,xt=xt.concat(g.serverSyncTree_.ackUserWrite(f[ln].currentWriteId)),f[ln].onComplete){var $n=f[ln].currentOutputSnapshotResolved,Zn=new yi(g,f[ln].path),vo=new ko($n,Zn,de);Zt.push(f[ln].onComplete.bind(null,null,!0,vo))}f[ln].unwatcher()}for(g.pruneCompletedTransactionsBelowNode_(g.transactionQueueTree_.subTree(y)),g.sendReadyTransactions_(),g.eventQueue_.raiseEventsForChangedPath(y,xt),ln=0;ln<Zt.length;ln++)Rt(Zt[ln])}else{if("datastale"===_t)for(ln=0;ln<f.length;ln++)f[ln].status=f[ln].status===di.SENT_NEEDS_ABORT?di.NEEDS_ABORT:di.RUN;else for(pt("transaction at "+it.toString()+" failed: "+_t),ln=0;ln<f.length;ln++)f[ln].status=di.NEEDS_ABORT,f[ln].abortReason=_t;g.rerunTransactions_(y)}},z)},ii.prototype.rerunTransactions_=function(y){var f=this.getAncestorTransactionNode_(y),g=f.path(),b=this.buildTransactionQueue_(f);return this.rerunTransactionQueue_(b,g),g},ii.prototype.rerunTransactionQueue_=function(y,f){if(0!==y.length){for(var g=[],b=[],x=y.filter(function(_n){return _n.status===di.RUN}).map(function(_n){return _n.currentWriteId}),z=0;z<y.length;z++){var Q=y[z],ce=ct.relativePath(f,Q.path),ae=!1,He=void 0;if(re.assert(null!==ce,"rerunTransactionsUnderNode_: relativePath should not be null."),Q.status===di.NEEDS_ABORT)ae=!0,He=Q.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0));else if(Q.status===di.RUN)if(Q.retryCount>=ii.MAX_TRANSACTION_RETRIES_)ae=!0,He="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0));else{var it=this.getLatestState_(Q.path,x);Q.currentInputSnapshot=it;var _t=y[z].update(it.val());if(void 0!==_t){gn("transaction failed: Data returned ",_t,Q.path);var xt=Bn(_t);"object"==typeof _t&&null!=_t&&re.contains(_t,".priority")||(xt=xt.updatePriority(it.getPriority()));var ln=Q.currentWriteId,$n=this.generateServerValues(),Zn=zn(xt,it,$n);Q.currentOutputSnapshotRaw=xt,Q.currentOutputSnapshotResolved=Zn,Q.currentWriteId=this.getNextWriteId_(),x.splice(x.indexOf(ln),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(Q.path,Zn,Q.currentWriteId,Q.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(ln,!0))}else ae=!0,He="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(f,b),b=[],ae&&(y[z].status=di.COMPLETED,setTimeout(y[z].unwatcher,Math.floor(0)),y[z].onComplete))if("nodata"===He){var vo=new yi(this,y[z].path),yo=new ko(y[z].currentInputSnapshot,vo,de);g.push(y[z].onComplete.bind(null,null,!1,yo))}else g.push(y[z].onComplete.bind(null,new Error(He),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),z=0;z<g.length;z++)Rt(g[z]);this.sendReadyTransactions_()}},ii.prototype.getAncestorTransactionNode_=function(y){var f,g=this.transactionQueueTree_;for(f=y.getFront();null!==f&&null===g.getValue();)g=g.subTree(f),f=(y=y.popFront()).getFront();return g},ii.prototype.buildTransactionQueue_=function(y){var f=[];return this.aggregateTransactionQueuesForNode_(y,f),f.sort(function(g,b){return g.order-b.order}),f},ii.prototype.aggregateTransactionQueuesForNode_=function(y,f){var g=this,b=y.getValue();if(null!==b)for(var D=0;D<b.length;D++)f.push(b[D]);y.forEachChild(function(x){g.aggregateTransactionQueuesForNode_(x,f)})},ii.prototype.pruneCompletedTransactionsBelowNode_=function(y){var f=this,g=y.getValue();if(g){for(var b=0,D=0;D<g.length;D++)g[D].status!==di.COMPLETED&&(g[b]=g[D],b++);g.length=b,y.setValue(g.length>0?g:null)}y.forEachChild(function(x){f.pruneCompletedTransactionsBelowNode_(x)})},ii.prototype.abortTransactions_=function(y){var f=this,g=this.getAncestorTransactionNode_(y).path(),b=this.transactionQueueTree_.subTree(y);return b.forEachAncestor(function(D){f.abortTransactionsOnNode_(D)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(D){f.abortTransactionsOnNode_(D)}),g},ii.prototype.abortTransactionsOnNode_=function(y){var f=y.getValue();if(null!==f){for(var g=[],b=[],D=-1,x=0;x<f.length;x++)f[x].status!==di.SENT_NEEDS_ABORT&&(f[x].status===di.SENT?(re.assert(D===x-1,"All SENT items should be at beginning of queue."),D=x,f[x].status=di.SENT_NEEDS_ABORT,f[x].abortReason="set"):(re.assert(f[x].status===di.RUN,"Unexpected transaction status in abort"),f[x].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(f[x].currentWriteId,!0)),f[x].onComplete&&g.push(f[x].onComplete.bind(null,new Error("set"),!1,null))));for(-1===D?y.setValue(null):f.length=D+1,this.eventQueue_.raiseEventsForChangedPath(y.path(),b),x=0;x<g.length;x++)Rt(g[x])}};var oe,w=function(){function y(f,g){var b=this;this.app_=f,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.get().then(function(D){return b.auth_=D})}return y.prototype.getToken=function(f){return this.auth_?this.auth_.getToken(f).catch(function(g){return g&&"auth/token-not-initialized"===g.code?(Bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)}):Promise.resolve(null)},y.prototype.addTokenChangeListener=function(f){this.auth_?this.auth_.addAuthTokenListener(f):(setTimeout(function(){return f(null)},0),this.authProvider_.get().then(function(g){return g.addAuthTokenListener(f)}))},y.prototype.removeTokenChangeListener=function(f){this.authProvider_.get().then(function(g){return g.removeAuthTokenListener(f)})},y.prototype.notifyForInvalidToken=function(){var f='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';pt(f+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},y}(),k=function(){function y(){}return y.prototype.getToken=function(f){return Promise.resolve({accessToken:y.EMULATOR_AUTH_TOKEN})},y.prototype.addTokenChangeListener=function(f){f(y.EMULATOR_AUTH_TOKEN)},y.prototype.removeTokenChangeListener=function(f){},y.prototype.notifyForInvalidToken=function(){},y.EMULATOR_AUTH_TOKEN="owner",y}(),Re=function(){function y(){this.repos_={},this.useRestClient_=!1}return y.getInstance=function(){return oe||(oe=new y),oe},y.prototype.interrupt=function(){var f,g,b,D;try{for(var x=Z.__values(Object.keys(this.repos_)),z=x.next();!z.done;z=x.next()){var Q=z.value;try{for(var ce=(b=void 0,Z.__values(Object.keys(this.repos_[Q]))),ae=ce.next();!ae.done;ae=ce.next())this.repos_[Q][ae.value].interrupt()}catch(it){b={error:it}}finally{try{ae&&!ae.done&&(D=ce.return)&&D.call(ce)}finally{if(b)throw b.error}}}}catch(it){f={error:it}}finally{try{z&&!z.done&&(g=x.return)&&g.call(x)}finally{if(f)throw f.error}}},y.prototype.resume=function(){var f,g,b,D;try{for(var x=Z.__values(Object.keys(this.repos_)),z=x.next();!z.done;z=x.next()){var Q=z.value;try{for(var ce=(b=void 0,Z.__values(Object.keys(this.repos_[Q]))),ae=ce.next();!ae.done;ae=ce.next())this.repos_[Q][ae.value].resume()}catch(it){b={error:it}}finally{try{ae&&!ae.done&&(D=ce.return)&&D.call(ce)}finally{if(b)throw b.error}}}}catch(it){f={error:it}}finally{try{z&&!z.done&&(g=x.return)&&g.call(x)}finally{if(f)throw f.error}}},y.prototype.databaseFromApp=function(f,g,b,D){var x=b||f.options.databaseURL;void 0===x&&(f.options.projectId||Je("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bt("Using default host for project ",f.options.projectId),x=f.options.projectId+"-default-rtdb.firebaseio.com");var ce,z=Qn(x,D),Q=z.repoInfo,ae=void 0;"undefined"!=typeof process&&(ae=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ae?(ce=!0,Q=(z=Qn(x="http://"+ae+"?ns="+Q.namespace,D)).repoInfo):ce=!z.repoInfo.secure;var He=D&&ce?new k:new w(f,g);return Tr("Invalid Firebase Database URL",1,z),z.path.isEmpty()||Je("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(Q,f,He).database},y.prototype.deleteRepo=function(f){var g=re.safeGet(this.repos_,f.app.name);(!g||re.safeGet(g,f.repoInfo_.toURLString())!==f)&&Je("Database "+f.app.name+"("+f.repoInfo_+") has already been deleted."),f.interrupt(),delete g[f.repoInfo_.toURLString()]},y.prototype.createRepo=function(f,g,b){var D=re.safeGet(this.repos_,g.name);D||(this.repos_[g.name]=D={});var x=re.safeGet(D,f.toURLString());return x&&Je("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),x=new ii(f,this.useRestClient_,g,b),D[f.toURLString()]=x,x},y.prototype.forceRestClient=function(f){this.useRestClient_=f},y}(),Ze=function(){function y(f){this.repo_=f,f instanceof ii||Je("Don't call new Database() directly - please use firebase.database()."),this.root_=new yi(f,ct.Empty),this.INTERNAL=new hn(this)}return Object.defineProperty(y.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),y.prototype.ref=function(f){return this.checkDeleted_("ref"),re.validateArgCount("database.ref",0,1,arguments.length),f instanceof yi?this.refFromURL(f.toString()):void 0!==f?this.root_.child(f):this.root_},y.prototype.refFromURL=function(f){var g="database.refFromURL";this.checkDeleted_(g),re.validateArgCount(g,1,1,arguments.length);var b=Qn(f,this.repo_.repoInfo_.nodeAdmin);Tr(g,1,b);var D=b.repoInfo;return D.host!==this.repo_.repoInfo_.host&&Je(g+": Host name does not match the current database: (found "+D.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},y.prototype.checkDeleted_=function(f){null===this.repo_&&Je("Cannot call "+f+" on a deleted database.")},y.prototype.goOffline=function(){re.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},y.prototype.goOnline=function(){re.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},y.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(f){return{".sv":{increment:f}}}},y}(),hn=function(){function y(f){this.database=f}return y.prototype.delete=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(f){return this.database.checkDeleted_("delete"),Re.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},y}(),Vr=Object.freeze({__proto__:null,forceLongPolling:function(){zi.forceDisallow(),Li.forceAllow()},forceWebSockets:function(){Li.forceDisallow()},isWebSocketsAvailable:function(){return zi.isAvailable()},setSecurityDebugCallback:function(y,f){y.repo.persistentConnection_.securityDebugCallback_=f},stats:function(y,f){y.repo.stats(f)},statsIncrementCounter:function(y,f){y.repo.statsIncrementCounter(f)},dataUpdateCount:function(y){return y.repo.dataUpdateCount},interceptServerData:function(y,f){return y.repo.interceptServerData_(f)}}),Tu=Qr;Qr.prototype.simpleListen=function(y,f){this.sendRequest("q",{p:y},f)},Qr.prototype.echo=function(y,f){this.sendRequest("echo",{d:y},f)};var Wn=Object.freeze({__proto__:null,DataConnection:Tu,RealTimeConnection:su,hijackHash:function(y){var f=Qr.prototype.put;return Qr.prototype.put=function(g,b,D,x){void 0!==x&&(x=y()),f.call(this,g,b,D,x)},function(){Qr.prototype.put=f}},ConnectionTarget:Hn,queryIdentifier:function(y){return y.queryIdentifier()},forceRestClient:function(y){Re.getInstance().forceRestClient(y)}}),Ku=Ze.ServerValue;function ba(y){!function(y){Eo=y}(y.SDK_VERSION);var f=y.INTERNAL.registerComponent(new ot.Component("database",function(g,b){var D=g.getProvider("app").getImmediate(),x=g.getProvider("auth-internal");return Re.getInstance().databaseFromApp(D,x,b)},"PUBLIC").setServiceProps({Reference:yi,Query:ns,Database:Ze,DataSnapshot:ko,enableLogging:et,INTERNAL:Vr,ServerValue:Ku,TEST_ACCESS:Wn}).setMultipleInstances(!0));y.registerVersion("@firebase/database","0.6.13"),re.isNodeSdk()&&(ci.exports=f)}ba(Lt.default),bt.DataSnapshot=ko,bt.Database=Ze,bt.OnDisconnect=Ln,bt.Query=ns,bt.Reference=yi,bt.ServerValue=Ku,bt.enableLogging=et,bt.registerDatabase=ba},910:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var c,te=Et(812),Z=Et(279),re=Et(300),Nt=Et(704),ot=Et(870),Dn=Et(100),In=(c=Z)&&"object"==typeof c&&"default"in c?c:{default:c},be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(c){function a(u,d){var m=this;return(m=c.call(this,d)||this).code=u,m.message=d,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return te.__extends(a,c),a}(Error),nt=new re.Logger("@firebase/firestore");function st(){return nt.logLevel}function Ne(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(nt.logLevel<=re.LogLevel.DEBUG){var d=a.map(kt);nt.debug.apply(nt,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function ft(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(nt.logLevel<=re.LogLevel.ERROR){var d=a.map(kt);nt.error.apply(nt,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function wn(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(nt.logLevel<=re.LogLevel.WARN){var d=a.map(kt);nt.warn.apply(nt,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function kt(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(u){return c}}function Le(c){void 0===c&&(c="Unexpected state");var a="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+c;throw ft(a),new Error(a)}function dt(c,a){c||Le()}function et(c,a){return c}function Bt(c){var a=0;for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&a++;return a}function Ft(c,a){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&a(u,c[u])}function at(c){for(var a in c)if(Object.prototype.hasOwnProperty.call(c,a))return!1;return!0}var Je=function(){function c(a,u,d){void 0===u?u=0:u>a.length&&Le(),void 0===d?d=a.length-u:d>a.length-u&&Le(),this.segments=a,this.offset=u,this.t=d}return Object.defineProperty(c.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return 0===c.i(this,a)},c.prototype.child=function(a){var u=this.segments.slice(this.offset,this.limit());return a instanceof c?a.forEach(function(d){u.push(d)}):u.push(a),this.o(u)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.u=function(a){return this.o(this.segments,this.offset+(a=void 0===a?1:a),this.length-a)},c.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},c.prototype.l=function(){return this.segments[this.offset]},c.prototype._=function(){return this.get(this.length-1)},c.prototype.get=function(a){return this.segments[this.offset+a]},c.prototype.m=function(){return 0===this.length},c.prototype.T=function(a){if(a.length<this.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==a.get(u))return!1;return!0},c.prototype.I=function(a){if(this.length+1!==a.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==a.get(u))return!1;return!0},c.prototype.forEach=function(a){for(var u=this.offset,d=this.limit();u<d;u++)a(this.segments[u])},c.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},c.i=function(a,u){for(var d=Math.min(a.length,u.length),m=0;m<d;m++){var C=a.get(m),T=u.get(m);if(C<T)return-1;if(C>T)return 1}return a.length<u.length?-1:a.length>u.length?1:0},c}(),pt=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.o=function(u,d,m){return new a(u,d,m)},a.prototype.R=function(){return this.A().join("/")},a.prototype.toString=function(){return this.R()},a.g=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];for(var m=[],C=0,T=u;C<T.length;C++){var P=T[C];if(P.indexOf("//")>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid segment ("+P+"). Paths must not contain // in them.");m.push.apply(m,P.split("/").filter(function(j){return j.length>0}))}return new a(m)},a.P=function(){return new a([])},a}(Je),M=/^[_a-zA-Z][_a-zA-Z0-9]*$/,O=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.o=function(u,d,m){return new a(u,d,m)},a.V=function(u){return M.test(u)},a.prototype.R=function(){return this.A().map(function(u){return u=u.replace("\\","\\\\").replace("`","\\`"),a.V(u)||(u="`"+u+"`"),u}).join(".")},a.prototype.toString=function(){return this.R()},a.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},a.v=function(){return new a(["__name__"])},a.S=function(u){for(var d=[],m="",C=0,T=function(){if(0===m.length)throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+u+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(m),m=""},P=!1;C<u.length;){var j=u[C];if("\\"===j){if(C+1===u.length)throw new Y(be.INVALID_ARGUMENT,"Path has trailing escape character: "+u);var ne=u[C+1];if("\\"!==ne&&"."!==ne&&"`"!==ne)throw new Y(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+u);m+=ne,C+=2}else"`"===j?(P=!P,C++):"."!==j||P?(m+=j,C++):(T(),C++)}if(T(),P)throw new Y(be.INVALID_ARGUMENT,"Unterminated ` in path: "+u);return new a(d)},a.P=function(){return new a([])},a}(Je),I=function(){function c(a){this.path=a}return c.D=function(a){return new c(pt.g(a))},c.C=function(a){return new c(pt.g(a).u(5))},c.prototype.N=function(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a},c.prototype.isEqual=function(a){return null!==a&&0===pt.i(this.path,a.path)},c.prototype.toString=function(){return this.path.toString()},c.i=function(a,u){return pt.i(a.path,u.path)},c.F=function(a){return a.length%2==0},c.$=function(a){return new c(new pt(a.slice()))},c}();function F(c,a){if(0!==a.length)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() does not support arguments, but was called with "+jn(a.length,"argument")+".")}function H(c,a,u){if(a.length!==u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires "+jn(u,"argument")+", but was called with "+jn(a.length,"argument")+".")}function R(c,a,u){if(a.length<u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires at least "+jn(u,"argument")+", but was called with "+jn(a.length,"argument")+".")}function K(c,a,u,d){if(a.length<u||a.length>d)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires between "+u+" and "+d+" arguments, but was called with "+jn(a.length,"argument")+".")}function le(c,a,u,d){ke(c,a,ct(u)+" argument",d)}function Tt(c,a,u,d){void 0!==d&&le(c,a,u,d)}function se(c,a,u,d){ke(c,a,u+" option",d)}function Ve(c,a,u,d){void 0!==d&&se(c,a,u,d)}function It(c,a,u,d,m){void 0!==d&&function(C,T,P,j,ne){for(var fe=[],Te=0,De=ne;Te<De.length;Te++){var We=De[Te];if(We===j)return;fe.push(wt(We))}var ut=wt(j);throw new Y(be.INVALID_ARGUMENT,"Invalid value "+ut+" provided to function "+C+'() for option "'+P+'". Acceptable values: '+fe.join(", "))}(c,0,u,d,m)}function xe(c,a,u,d){if(!a.some(function(m){return m===d}))throw new Y(be.INVALID_ARGUMENT,"Invalid value "+wt(d)+" provided to function "+c+"() for its "+ct(u)+" argument. Acceptable values: "+a.join(", "));return d}function ke(c,a,u,d){if(!("object"===a?Ge(d):"non-empty string"===a?"string"==typeof d&&""!==d:typeof d===a)){var m=wt(d);throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+u+" to be of type "+a+", but it was: "+m)}}function Ge(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function wt(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var a=function(u){if(u.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(u.constructor.toString());if(d&&d.length>1)return d[1]}return null}(c);return a?"a custom "+a+" object":"an object"}return"function"==typeof c?"a function":Le()}function tn(c,a,u){if(void 0===u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires a valid "+ct(a)+" argument, but it was undefined.")}function Rt(c,a,u){Ft(a,function(d,m){if(u.indexOf(d)<0)throw new Y(be.INVALID_ARGUMENT,"Unknown option '"+d+"' passed to function "+c+"(). Available options: "+u.join(", "))})}function nn(c,a,u,d){var m=wt(d);return new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+ct(u)+" argument to be a "+a+", but it was: "+m)}function dn(c,a,u){if(u<=0)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+ct(a)+" argument to be a positive number, but it was: "+u+".")}function ct(c){switch(c){case 1:return"first";case 2:return"second";case 3:return"third";default:return c+"th"}}function jn(c,a){return c+" "+a+(1===c?"":"s")}function jr(c){var a="undefined"!=typeof self&&(self.crypto||self.msCrypto),u=new Uint8Array(c);if(a&&"function"==typeof a.getRandomValues)a.getRandomValues(u);else for(var d=0;d<c;d++)u[d]=Math.floor(256*Math.random());return u}var pn=function(){function c(){}return c.k=function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=Math.floor(256/a.length)*a.length,d="";d.length<20;)for(var m=jr(40),C=0;C<m.length;++C)d.length<20&&m[C]<u&&(d+=a.charAt(m[C]%a.length));return d},c}();function Ht(c,a){return c<a?-1:c>a?1:0}function En(c,a,u){return c.length===a.length&&c.every(function(d,m){return u(d,a[m])})}function on(c){return c+"\0"}var Kt=function(){function c(a){this.M=a}return c.fromBase64String=function(a){return new c(atob(a))},c.fromUint8Array=function(a){return new c(function(u){for(var d="",m=0;m<u.length;++m)d+=String.fromCharCode(u[m]);return d}(a))},c.prototype.toBase64=function(){return btoa(this.M)},c.prototype.toUint8Array=function(){return function(a){for(var u=new Uint8Array(a.length),d=0;d<a.length;d++)u[d]=a.charCodeAt(d);return u}(this.M)},c.prototype.O=function(){return 2*this.M.length},c.prototype.L=function(a){return Ht(this.M,a.M)},c.prototype.isEqual=function(a){return this.M===a.M},c}();Kt.B=new Kt("");var kn=function(){function c(a){this.q=a}return c.fromBase64String=function(a){try{return new c(Kt.fromBase64String(a))}catch(u){throw new Y(be.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+u)}},c.fromUint8Array=function(a){return new c(Kt.fromUint8Array(a))},c.prototype.toBase64=function(){return this.q.toBase64()},c.prototype.toUint8Array=function(){return this.q.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(a){return this.q.isEqual(a.q)},c}();function nr(){if("undefined"==typeof Uint8Array)throw new Y(be.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Nr(){if("undefined"==typeof atob)throw new Y(be.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sr=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.fromBase64String=function(u){H("Blob.fromBase64String",arguments,1),le("Blob.fromBase64String","string",1,u),Nr();try{return new a(Kt.fromBase64String(u))}catch(d){throw new Y(be.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+d)}},a.fromUint8Array=function(u){if(H("Blob.fromUint8Array",arguments,1),nr(),!(u instanceof Uint8Array))throw nn("Blob.fromUint8Array","Uint8Array",1,u);return new a(Kt.fromUint8Array(u))},a.prototype.toBase64=function(){return H("Blob.toBase64",arguments,0),Nr(),c.prototype.toBase64.call(this)},a.prototype.toUint8Array=function(){return H("Blob.toUint8Array",arguments,0),nr(),c.prototype.toUint8Array.call(this)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(kn),Hn=function(c,a,u,d,m,C){this.U=c,this.persistenceKey=a,this.host=u,this.ssl=d,this.forceLongPolling=m,this.W=C},si=function(){function c(a,u){this.projectId=a,this.database=u||"(default)"}return Object.defineProperty(c.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return a instanceof c&&a.projectId===this.projectId&&a.database===this.database},c.prototype.L=function(a){return Ht(this.projectId,a.projectId)||Ht(this.database,a.database)},c}(),Or=function(){function c(a,u){this.K=a,this.G=u,this.H={}}return c.prototype.get=function(a){var u=this.K(a),d=this.H[u];if(void 0!==d)for(var m=0,C=d;m<C.length;m++){var T=C[m],j=T[1];if(this.G(T[0],a))return j}},c.prototype.has=function(a){return void 0!==this.get(a)},c.prototype.set=function(a,u){var d=this.K(a),m=this.H[d];if(void 0!==m){for(var C=0;C<m.length;C++)if(this.G(m[C][0],a))return void(m[C]=[a,u]);m.push([a,u])}else this.H[d]=[[a,u]]},c.prototype.delete=function(a){var u=this.K(a),d=this.H[u];if(void 0===d)return!1;for(var m=0;m<d.length;m++)if(this.G(d[m][0],a))return 1===d.length?delete this.H[u]:d.splice(m,1),!0;return!1},c.prototype.forEach=function(a){Ft(this.H,function(u,d){for(var m=0,C=d;m<C.length;m++){var T=C[m];a(T[0],T[1])}})},c.prototype.m=function(){return at(this.H)},c}(),Qn=function(){function c(a,u){if(this.seconds=a,this.nanoseconds=u,u<0)throw new Y(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(u>=1e9)throw new Y(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(a<-62135596800)throw new Y(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(a>=253402300800)throw new Y(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(a){return c.fromMillis(a.getTime())},c.fromMillis=function(a){var u=Math.floor(a/1e3);return new c(u,1e6*(a-1e3*u))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype.Y=function(a){return this.seconds===a.seconds?Ht(this.nanoseconds,a.nanoseconds):Ht(this.seconds,a.seconds)},c.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),xn=function(){function c(a){this.timestamp=a}return c.J=function(a){return new c(a)},c.min=function(){return new c(new Qn(0,0))},c.prototype.L=function(a){return this.timestamp.Y(a.timestamp)},c.prototype.isEqual=function(a){return this.timestamp.isEqual(a.timestamp)},c.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.Z=function(){return this.timestamp},c}();function hi(c){return null==c}function je(c){return 0===c&&1/c==-1/0}function me(c){return"number"==typeof c&&Number.isInteger(c)&&!je(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var qe=function(c,a,u,d,m,C,T){void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C=null),void 0===T&&(T=null),this.path=c,this.collectionGroup=a,this.orderBy=u,this.filters=d,this.limit=m,this.startAt=C,this.endAt=T,this.tt=null};function Xe(c,a,u,d,m,C,T){return void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C=null),void 0===T&&(T=null),new qe(c,a,u,d,m,C,T)}function Ue(c){var a=et(c);if(null===a.tt){var u=a.path.R();null!==a.collectionGroup&&(u+="|cg:"+a.collectionGroup),u+="|f:",u+=a.filters.map(function(d){return(m=d).field.R()+m.op.toString()+lt(m.value);var m}).join(","),u+="|ob:",u+=a.orderBy.map(function(d){return(m=d).field.R()+m.dir;var m}).join(","),hi(a.limit)||(u+="|l:",u+=a.limit),a.startAt&&(u+="|lb:",u+=Ys(a.startAt)),a.endAt&&(u+="|ub:",u+=Ys(a.endAt)),a.tt=u}return a.tt}function Wt(c,a){if(c.limit!==a.limit||c.orderBy.length!==a.orderBy.length)return!1;for(var u=0;u<c.orderBy.length;u++)if(!Va(c.orderBy[u],a.orderBy[u]))return!1;if(c.filters.length!==a.filters.length)return!1;for(var d=0;d<c.filters.length;d++)if((m=c.filters[d]).op!==(C=a.filters[d]).op||!m.field.isEqual(C.field)||!we(m.value,C.value))return!1;var m,C;return c.collectionGroup===a.collectionGroup&&!!c.path.isEqual(a.path)&&!!mo(c.startAt,a.startAt)&&mo(c.endAt,a.endAt)}function zt(c){return I.F(c.path)&&null===c.collectionGroup&&0===c.filters.length}var gn,sn,Mn=function(){function c(a,u,d,m,C,T,P){void 0===C&&(C=xn.min()),void 0===T&&(T=xn.min()),void 0===P&&(P=Kt.B),this.target=a,this.targetId=u,this.et=d,this.sequenceNumber=m,this.nt=C,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=P}return c.prototype.st=function(a){return new c(this.target,this.targetId,this.et,a,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.it=function(a,u){return new c(this.target,this.targetId,this.et,this.sequenceNumber,u,this.lastLimboFreeSnapshotVersion,a)},c.prototype.rt=function(a){return new c(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,a,this.resumeToken)},c}(),Er=function(c){this.count=c};function Xn(c){switch(c){case be.OK:return Le();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Le()}}function Ir(c){if(void 0===c)return ft("GRPC error has no .code"),be.UNKNOWN;switch(c){case gn.OK:return be.OK;case gn.CANCELLED:return be.CANCELLED;case gn.UNKNOWN:return be.UNKNOWN;case gn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case gn.INTERNAL:return be.INTERNAL;case gn.UNAVAILABLE:return be.UNAVAILABLE;case gn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case gn.NOT_FOUND:return be.NOT_FOUND;case gn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case gn.ABORTED:return be.ABORTED;case gn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case gn.DATA_LOSS:return be.DATA_LOSS;default:return Le()}}(sn=gn||(gn={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";var an=function(){function c(a,u){this.i=a,this.root=u||rn.EMPTY}return c.prototype.ot=function(a,u){return new c(this.i,this.root.ot(a,u,this.i).copy(null,null,rn.at,null,null))},c.prototype.remove=function(a){return new c(this.i,this.root.remove(a,this.i).copy(null,null,rn.at,null,null))},c.prototype.get=function(a){for(var u=this.root;!u.m();){var d=this.i(a,u.key);if(0===d)return u.value;d<0?u=u.left:d>0&&(u=u.right)}return null},c.prototype.indexOf=function(a){for(var u=0,d=this.root;!d.m();){var m=this.i(a,d.key);if(0===m)return u+d.left.size;m<0?d=d.left:(u+=d.left.size+1,d=d.right)}return-1},c.prototype.m=function(){return this.root.m()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.ct=function(){return this.root.ct()},c.prototype.ut=function(){return this.root.ut()},c.prototype.ht=function(a){return this.root.ht(a)},c.prototype.forEach=function(a){this.ht(function(u,d){return a(u,d),!1})},c.prototype.toString=function(){var a=[];return this.ht(function(u,d){return a.push(u+":"+d),!1}),"{"+a.join(", ")+"}"},c.prototype.lt=function(a){return this.root.lt(a)},c.prototype._t=function(){return new fi(this.root,null,this.i,!1)},c.prototype.ft=function(a){return new fi(this.root,a,this.i,!1)},c.prototype.dt=function(){return new fi(this.root,null,this.i,!0)},c.prototype.wt=function(a){return new fi(this.root,a,this.i,!0)},c}(),fi=function(){function c(a,u,d,m){this.Tt=m,this.Et=[];for(var C=1;!a.m();)if(C=u?d(a.key,u):1,m&&(C*=-1),C<0)a=this.Tt?a.left:a.right;else{if(0===C){this.Et.push(a);break}this.Et.push(a),a=this.Tt?a.right:a.left}}return c.prototype.It=function(){var a=this.Et.pop(),u={key:a.key,value:a.value};if(this.Tt)for(a=a.left;!a.m();)this.Et.push(a),a=a.right;else for(a=a.right;!a.m();)this.Et.push(a),a=a.left;return u},c.prototype.At=function(){return this.Et.length>0},c.prototype.Rt=function(){if(0===this.Et.length)return null;var a=this.Et[this.Et.length-1];return{key:a.key,value:a.value}},c}(),rn=function(){function c(a,u,d,m,C){this.key=a,this.value=u,this.color=null!=d?d:c.RED,this.left=null!=m?m:c.EMPTY,this.right=null!=C?C:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(a,u,d,m,C){return new c(null!=a?a:this.key,null!=u?u:this.value,null!=d?d:this.color,null!=m?m:this.left,null!=C?C:this.right)},c.prototype.m=function(){return!1},c.prototype.ht=function(a){return this.left.ht(a)||a(this.key,this.value)||this.right.ht(a)},c.prototype.lt=function(a){return this.right.lt(a)||a(this.key,this.value)||this.left.lt(a)},c.prototype.min=function(){return this.left.m()?this:this.left.min()},c.prototype.ct=function(){return this.min().key},c.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},c.prototype.ot=function(a,u,d){var m=this,C=d(a,m.key);return(m=C<0?m.copy(null,null,null,m.left.ot(a,u,d),null):0===C?m.copy(null,u,null,null,null):m.copy(null,null,null,null,m.right.ot(a,u,d))).gt()},c.prototype.Pt=function(){if(this.left.m())return c.EMPTY;var a=this;return a.left.yt()||a.left.left.yt()||(a=a.Vt()),(a=a.copy(null,null,null,a.left.Pt(),null)).gt()},c.prototype.remove=function(a,u){var d,m=this;if(u(a,m.key)<0)m.left.m()||m.left.yt()||m.left.left.yt()||(m=m.Vt()),m=m.copy(null,null,null,m.left.remove(a,u),null);else{if(m.left.yt()&&(m=m.bt()),m.right.m()||m.right.yt()||m.right.left.yt()||(m=m.vt()),0===u(a,m.key)){if(m.right.m())return c.EMPTY;d=m.right.min(),m=m.copy(d.key,d.value,null,null,m.right.Pt())}m=m.copy(null,null,null,null,m.right.remove(a,u))}return m.gt()},c.prototype.yt=function(){return this.color},c.prototype.gt=function(){var a=this;return a.right.yt()&&!a.left.yt()&&(a=a.St()),a.left.yt()&&a.left.left.yt()&&(a=a.bt()),a.left.yt()&&a.right.yt()&&(a=a.Dt()),a},c.prototype.Vt=function(){var a=this.Dt();return a.right.left.yt()&&(a=(a=(a=a.copy(null,null,null,null,a.right.bt())).St()).Dt()),a},c.prototype.vt=function(){var a=this.Dt();return a.left.left.yt()&&(a=(a=a.bt()).Dt()),a},c.prototype.St=function(){var a=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},c.prototype.bt=function(){var a=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},c.prototype.Dt=function(){var a=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,u)},c.prototype.Ct=function(){var a=this.Nt();return Math.pow(2,a)<=this.size+1},c.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Le();var a=this.left.Nt();if(a!==this.right.Nt())throw Le();return a+(this.yt()?0:1)},c}();rn.EMPTY=null,rn.RED=!0,rn.at=!1,rn.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),c.prototype.copy=function(a,u,d,m,C){return this},c.prototype.ot=function(a,u,d){return new rn(a,u)},c.prototype.remove=function(a,u){return this},c.prototype.m=function(){return!0},c.prototype.ht=function(a){return!1},c.prototype.lt=function(a){return!1},c.prototype.ct=function(){return null},c.prototype.ut=function(){return null},c.prototype.yt=function(){return!1},c.prototype.Ct=function(){return!0},c.prototype.Nt=function(){return 0},c}());var Tr=function(){function c(a){this.i=a,this.data=new an(this.i)}return c.prototype.has=function(a){return null!==this.data.get(a)},c.prototype.first=function(){return this.data.ct()},c.prototype.last=function(){return this.data.ut()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(a){return this.data.indexOf(a)},c.prototype.forEach=function(a){this.data.ht(function(u,d){return a(u),!1})},c.prototype.Ft=function(a,u){for(var d=this.data.ft(a[0]);d.At();){var m=d.It();if(this.i(m.key,a[1])>=0)return;u(m.key)}},c.prototype.xt=function(a,u){var d;for(d=void 0!==u?this.data.ft(u):this.data._t();d.At();)if(!a(d.It().key))return},c.prototype.$t=function(a){var u=this.data.ft(a);return u.At()?u.It().key:null},c.prototype._t=function(){return new co(this.data._t())},c.prototype.ft=function(a){return new co(this.data.ft(a))},c.prototype.add=function(a){return this.copy(this.data.remove(a).ot(a,!0))},c.prototype.delete=function(a){return this.has(a)?this.copy(this.data.remove(a)):this},c.prototype.m=function(){return this.data.m()},c.prototype.kt=function(a){var u=this;return u.size<a.size&&(u=a,a=this),a.forEach(function(d){u=u.add(d)}),u},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var u=this.data._t(),d=a.data._t();u.At();){var m=u.It().key,C=d.It().key;if(0!==this.i(m,C))return!1}return!0},c.prototype.A=function(){var a=[];return this.forEach(function(u){a.push(u)}),a},c.prototype.toString=function(){var a=[];return this.forEach(function(u){return a.push(u)}),"SortedSet("+a.toString()+")"},c.prototype.copy=function(a){var u=new c(this.i);return u.data=a,u},c}(),co=function(){function c(a){this.Mt=a}return c.prototype.It=function(){return this.Mt.It().key},c.prototype.At=function(){return this.Mt.At()},c}(),Ln=new an(I.i);function un(){return Ln}function Gi(){return un()}var ve=new an(I.i);function Be(){return ve}var Qe=new an(I.i),mt=new Tr(I.i);function Fe(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var u=mt,d=0,m=c;d<m.length;d++){var C=m[d];u=u.add(C)}return u}var rt=new Tr(Ht);function Ot(){return rt}var Qt=function(){function c(a){this.i=a?function(u,d){return a(u,d)||I.i(u.key,d.key)}:function(u,d){return I.i(u.key,d.key)},this.Ot=Be(),this.Lt=new an(this.i)}return c.Bt=function(a){return new c(a.i)},c.prototype.has=function(a){return null!=this.Ot.get(a)},c.prototype.get=function(a){return this.Ot.get(a)},c.prototype.first=function(){return this.Lt.ct()},c.prototype.last=function(){return this.Lt.ut()},c.prototype.m=function(){return this.Lt.m()},c.prototype.indexOf=function(a){var u=this.Ot.get(a);return u?this.Lt.indexOf(u):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a){this.Lt.ht(function(u,d){return a(u),!1})},c.prototype.add=function(a){var u=this.delete(a.key);return u.copy(u.Ot.ot(a.key,a),u.Lt.ot(a,null))},c.prototype.delete=function(a){var u=this.get(a);return u?this.copy(this.Ot.remove(a),this.Lt.remove(u)):this},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var u=this.Lt._t(),d=a.Lt._t();u.At();){var m=u.It().key,C=d.It().key;if(!m.isEqual(C))return!1}return!0},c.prototype.toString=function(){var a=[];return this.forEach(function(u){a.push(u.toString())}),0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"},c.prototype.copy=function(a,u){var d=new c;return d.i=this.i,d.Ot=a,d.Lt=u,d},c}(),yn=function(){function c(){this.qt=new an(I.i)}return c.prototype.track=function(a){var u=a.doc.key,d=this.qt.get(u);d?0!==a.type&&3===d.type?this.qt=this.qt.ot(u,a):3===a.type&&1!==d.type?this.qt=this.qt.ot(u,{type:d.type,doc:a.doc}):2===a.type&&2===d.type?this.qt=this.qt.ot(u,{type:2,doc:a.doc}):2===a.type&&0===d.type?this.qt=this.qt.ot(u,{type:0,doc:a.doc}):1===a.type&&0===d.type?this.qt=this.qt.remove(u):1===a.type&&2===d.type?this.qt=this.qt.ot(u,{type:1,doc:d.doc}):0===a.type&&1===d.type?this.qt=this.qt.ot(u,{type:2,doc:a.doc}):Le():this.qt=this.qt.ot(u,a)},c.prototype.Ut=function(){var a=[];return this.qt.ht(function(u,d){a.push(d)}),a},c}(),Mt=function(){function c(a,u,d,m,C,T,P,j){this.query=a,this.docs=u,this.Qt=d,this.docChanges=m,this.Wt=C,this.fromCache=T,this.jt=P,this.Kt=j}return c.Gt=function(a,u,d,m){var C=[];return u.forEach(function(T){C.push({type:0,doc:T})}),new c(a,u,Qt.Bt(u),C,d,m,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.jt===a.jt&&this.Wt.isEqual(a.Wt)&&Io(this.query,a.query)&&this.docs.isEqual(a.docs)&&this.Qt.isEqual(a.Qt)))return!1;var u=this.docChanges,d=a.docChanges;if(u.length!==d.length)return!1;for(var m=0;m<u.length;m++)if(u[m].type!==d[m].type||!u[m].doc.isEqual(d[m].doc))return!1;return!0},c}(),Jt=function(){function c(a,u,d,m,C){this.nt=a,this.zt=u,this.Ht=d,this.Yt=m,this.Jt=C}return c.Xt=function(a,u){var d=new Map;return d.set(a,xr.Zt(a,u)),new c(xn.min(),d,Ot(),un(),Fe())},c}(),xr=function(){function c(a,u,d,m,C){this.resumeToken=a,this.te=u,this.ee=d,this.ne=m,this.se=C}return c.Zt=function(a,u){return new c(Kt.B,u,Fe(),Fe(),Fe())},c}(),ar=function(c,a,u,d){this.ie=c,this.removedTargetIds=a,this.key=u,this.re=d},br=function(c,a){this.targetId=c,this.oe=a},Kr=function(c,a,u,d){void 0===u&&(u=Kt.B),void 0===d&&(d=null),this.state=c,this.targetIds=a,this.resumeToken=u,this.cause=d},ye=function(){function c(){this.ae=0,this.ce=Pe(),this.ue=Kt.B,this.he=!1,this.le=!0}return Object.defineProperty(c.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),c.prototype.de=function(a){a.O()>0&&(this.le=!0,this.ue=a)},c.prototype.we=function(){var a=Fe(),u=Fe(),d=Fe();return this.ce.forEach(function(m,C){switch(C){case 0:a=a.add(m);break;case 2:u=u.add(m);break;case 1:d=d.add(m);break;default:Le()}}),new xr(this.ue,this.he,a,u,d)},c.prototype.me=function(){this.le=!1,this.ce=Pe()},c.prototype.Te=function(a,u){this.le=!0,this.ce=this.ce.ot(a,u)},c.prototype.Ee=function(a){this.le=!0,this.ce=this.ce.remove(a)},c.prototype.Ie=function(){this.ae+=1},c.prototype.Ae=function(){this.ae-=1},c.prototype.Re=function(){this.le=!0,this.he=!0},c}(),de=function(){function c(a){this.ge=a,this.Pe=new Map,this.ye=un(),this.Ve=Se(),this.pe=new Tr(Ht)}return c.prototype.be=function(a){for(var u=0,d=a.ie;u<d.length;u++){var m=d[u];a.re instanceof Rr?this.ve(m,a.re):a.re instanceof li&&this.Se(m,a.key,a.re)}for(var C=0,T=a.removedTargetIds;C<T.length;C++)this.Se(T[C],a.key,a.re)},c.prototype.De=function(a){var u=this;this.Ce(a,function(d){var m=u.Ne(d);switch(a.state){case 0:u.Fe(d)&&m.de(a.resumeToken);break;case 1:m.Ae(),m._e||m.me(),m.de(a.resumeToken);break;case 2:m.Ae(),m._e||u.removeTarget(d);break;case 3:u.Fe(d)&&(m.Re(),m.de(a.resumeToken));break;case 4:u.Fe(d)&&(u.xe(d),m.de(a.resumeToken));break;default:Le()}})},c.prototype.Ce=function(a,u){var d=this;a.targetIds.length>0?a.targetIds.forEach(u):this.Pe.forEach(function(m,C){d.Fe(C)&&u(C)})},c.prototype.$e=function(a){var u=a.targetId,d=a.oe.count,m=this.ke(u);if(m){var C=m.target;if(zt(C))if(0===d){var T=new I(C.path);this.Se(u,T,new li(T,xn.min()))}else dt(1===d);else this.Me(u)!==d&&(this.xe(u),this.pe=this.pe.add(u))}},c.prototype.Oe=function(a){var u=this,d=new Map;this.Pe.forEach(function(T,P){var j=u.ke(P);if(j){if(T.te&&zt(j.target)){var ne=new I(j.target.path);null!==u.ye.get(ne)||u.Le(P,ne)||u.Se(P,ne,new li(ne,a))}T.fe&&(d.set(P,T.we()),T.me())}});var m=Fe();this.Ve.forEach(function(T,P){var j=!0;P.xt(function(ne){var fe=u.ke(ne);return!fe||2===fe.et||(j=!1,!1)}),j&&(m=m.add(T))});var C=new Jt(a,d,this.pe,this.ye,m);return this.ye=un(),this.Ve=Se(),this.pe=new Tr(Ht),C},c.prototype.ve=function(a,u){if(this.Fe(a)){var d=this.Le(a,u.key)?2:0;this.Ne(a).Te(u.key,d),this.ye=this.ye.ot(u.key,u),this.Ve=this.Ve.ot(u.key,this.Be(u.key).add(a))}},c.prototype.Se=function(a,u,d){if(this.Fe(a)){var m=this.Ne(a);this.Le(a,u)?m.Te(u,1):m.Ee(u),this.Ve=this.Ve.ot(u,this.Be(u).delete(a)),d&&(this.ye=this.ye.ot(u,d))}},c.prototype.removeTarget=function(a){this.Pe.delete(a)},c.prototype.Me=function(a){var u=this.Ne(a).we();return this.ge.qe(a).size+u.ee.size-u.se.size},c.prototype.Ie=function(a){this.Ne(a).Ie()},c.prototype.Ne=function(a){var u=this.Pe.get(a);return u||(u=new ye,this.Pe.set(a,u)),u},c.prototype.Be=function(a){var u=this.Ve.get(a);return u||(u=new Tr(Ht),this.Ve=this.Ve.ot(a,u)),u},c.prototype.Fe=function(a){var u=null!==this.ke(a);return u||Ne("WatchChangeAggregator","Detected inactive target",a),u},c.prototype.ke=function(a){var u=this.Pe.get(a);return u&&u._e?null:this.ge.Ue(a)},c.prototype.xe=function(a){var u=this;this.Pe.set(a,new ye),this.ge.qe(a).forEach(function(d){u.Se(a,d,null)})},c.prototype.Le=function(a,u){return this.ge.qe(a).has(u)},c}();function Se(){return new an(I.i)}function Pe(){return new an(I.i)}function ie(c){var a,u;return"server_timestamp"===(null===(u=((null===(a=null==c?void 0:c.mapValue)||void 0===a?void 0:a.fields)||{}).__type__)||void 0===u?void 0:u.stringValue)}function L(c){var a=c.mapValue.fields.__previous_value__;return ie(a)?L(a):a}function $(c){var a=vt(c.mapValue.fields.__local_write_time__.timestampValue);return new Qn(a.seconds,a.nanos)}var ue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ce(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?ie(c)?4:10:Le()}function we(c,a){var m,u=Ce(c);if(u!==Ce(a))return!1;switch(u){case 0:return!0;case 1:return c.booleanValue===a.booleanValue;case 4:return $(c).isEqual($(a));case 3:return function(d,m){if("string"==typeof d.timestampValue&&"string"==typeof m.timestampValue&&d.timestampValue.length===m.timestampValue.length)return d.timestampValue===m.timestampValue;var C=vt(d.timestampValue),T=vt(m.timestampValue);return C.seconds===T.seconds&&C.nanos===T.nanos}(c,a);case 5:return c.stringValue===a.stringValue;case 6:return m=a,rr(c.bytesValue).isEqual(rr(m.bytesValue));case 7:return c.referenceValue===a.referenceValue;case 8:return function(d,m){return ur(d.geoPointValue.latitude)===ur(m.geoPointValue.latitude)&&ur(d.geoPointValue.longitude)===ur(m.geoPointValue.longitude)}(c,a);case 2:return function(d,m){if("integerValue"in d&&"integerValue"in m)return ur(d.integerValue)===ur(m.integerValue);if("doubleValue"in d&&"doubleValue"in m){var C=ur(d.doubleValue),T=ur(m.doubleValue);return C===T?je(C)===je(T):isNaN(C)&&isNaN(T)}return!1}(c,a);case 9:return En(c.arrayValue.values||[],a.arrayValue.values||[],we);case 10:return function(d,m){var C=d.mapValue.fields||{},T=m.mapValue.fields||{};if(Bt(C)!==Bt(T))return!1;for(var P in C)if(C.hasOwnProperty(P)&&(void 0===T[P]||!we(C[P],T[P])))return!1;return!0}(c,a);default:return Le()}}function ze(c,a){return void 0!==(c.values||[]).find(function(u){return we(u,a)})}function At(c,a){var m,C,T,P,u=Ce(c),d=Ce(a);if(u!==d)return Ht(u,d);switch(u){case 0:return 0;case 1:return Ht(c.booleanValue,a.booleanValue);case 2:return C=a,(T=ur((m=c).integerValue||m.doubleValue))<(P=ur(C.integerValue||C.doubleValue))?-1:T>P?1:T===P?0:isNaN(T)?isNaN(P)?0:-1:1;case 3:return qt(c.timestampValue,a.timestampValue);case 4:return qt($(c),$(a));case 5:return Ht(c.stringValue,a.stringValue);case 6:return function(m,C){var T=rr(m),P=rr(C);return T.L(P)}(c.bytesValue,a.bytesValue);case 7:return function(m,C){for(var T=m.split("/"),P=C.split("/"),j=0;j<T.length&&j<P.length;j++){var ne=Ht(T[j],P[j]);if(0!==ne)return ne}return Ht(T.length,P.length)}(c.referenceValue,a.referenceValue);case 8:return function(m,C){var T=Ht(ur(m.latitude),ur(C.latitude));return 0!==T?T:Ht(ur(m.longitude),ur(C.longitude))}(c.geoPointValue,a.geoPointValue);case 9:return function(m,C){for(var T=m.values||[],P=C.values||[],j=0;j<T.length&&j<P.length;++j){var ne=At(T[j],P[j]);if(ne)return ne}return Ht(T.length,P.length)}(c.arrayValue,a.arrayValue);case 10:return function(m,C){var T=m.fields||{},P=Object.keys(T),j=C.fields||{},ne=Object.keys(j);P.sort(),ne.sort();for(var fe=0;fe<P.length&&fe<ne.length;++fe){var Te=Ht(P[fe],ne[fe]);if(0!==Te)return Te;var De=At(T[P[fe]],j[ne[fe]]);if(0!==De)return De}return Ht(P.length,ne.length)}(c.mapValue,a.mapValue);default:throw Le()}}function qt(c,a){if("string"==typeof c&&"string"==typeof a&&c.length===a.length)return Ht(c,a);var u=vt(c),d=vt(a),m=Ht(u.seconds,d.seconds);return 0!==m?m:Ht(u.nanos,d.nanos)}function lt(c){return mn(c)}function mn(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(m=vt(c.timestampValue)).seconds+","+m.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?rr(c.bytesValue).toBase64():"referenceValue"in c?I.C(c.referenceValue).toString():"geoPointValue"in c?"geo("+(a=c.geoPointValue).latitude+","+a.longitude+")":"arrayValue"in c?function(d){for(var m="[",C=!0,T=0,P=d.values||[];T<P.length;T++)C?C=!1:m+=",",m+=mn(P[T]);return m+"]"}(c.arrayValue):"mapValue"in c?function(d){for(var m="{",C=!0,T=0,P=Object.keys(d.fields||{}).sort();T<P.length;T++){var j=P[T];C?C=!1:m+=",",m+=j+":"+mn(d.fields[j])}return m+"}"}(c.mapValue):Le();var m,a}function vt(c){if(dt(!!c),"string"==typeof c){var a=0,u=ue.exec(c);if(dt(!!u),u[1]){var d=u[1];d=(d+"000000000").substr(0,9),a=Number(d)}var m=new Date(c);return{seconds:Math.floor(m.getTime()/1e3),nanos:a}}return{seconds:ur(c.seconds),nanos:ur(c.nanos)}}function ur(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function rr(c){return"string"==typeof c?Kt.fromBase64String(c):Kt.fromUint8Array(c)}function Zi(c,a){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+a.path.R()}}function Bn(c){return!!c&&"integerValue"in c}function js(c){return!!c&&"arrayValue"in c}function eo(c){return!!c&&"nullValue"in c}function jo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function ko(c){return!!c&&"mapValue"in c}var Cu={asc:"ASCENDING",desc:"DESCENDING"},Rn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cs=function(c,a){this.U=c,this.Qe=a};function ts(c){return{integerValue:""+c}}function to(c,a){if(c.Qe){if(isNaN(a))return{doubleValue:"NaN"};if(a===1/0)return{doubleValue:"Infinity"};if(a===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(a)?"-0":a}}function ns(c,a){return me(a)?ts(a):to(c,a)}function ru(c,a){return c.Qe?new Date(1e3*a.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+a.nanoseconds).slice(-9)+"Z":{seconds:""+a.seconds,nanos:a.nanoseconds}}function ho(c,a){return c.Qe?a.toBase64():a.toUint8Array()}function Pi(c,a){return ru(c,a.Z())}function Ho(c){return dt(!!c),xn.J((u=vt(c),new Qn(u.seconds,u.nanos)));var u}function La(c,a){return(u=c,new pt(["projects",u.projectId,"databases",u.database])).child("documents").child(a).R();var u}function ir(c){var a=pt.g(c);return dt(Vn(a)),a}function no(c,a){return La(c.U,a.path)}function zn(c,a){var u=ir(a);return dt(u.get(1)===c.U.projectId),dt(!u.get(3)&&!c.U.database||u.get(3)===c.U.database),new I(zo(u))}function Wi(c,a){return La(c.U,a)}function Hs(c){var a=ir(c);return 4===a.length?pt.P():zo(a)}function Tn(c){return new pt(["projects",c.U.projectId,"databases",c.U.database]).R()}function zo(c){return dt(c.length>4&&"documents"===c.get(4)),c.u(5)}function pa(c,a,u){return{name:no(c,a),fields:u.proto.mapValue.fields}}function Hi(c,a){var u,m;if(a instanceof ri)u={update:pa(c,a.key,a.value)};else if(a instanceof dr)u={delete:no(c,a.key)};else if(a instanceof fr)u={update:pa(c,a.key,a.data),updateMask:Gs(a.We)};else if(a instanceof Fi)u={transform:{document:no(c,a.key),fieldTransforms:a.fieldTransforms.map(function(d){return function(m,C){var T=C.transform;if(T instanceof Xr)return{fieldPath:C.field.R(),setToServerValue:"REQUEST_TIME"};if(T instanceof B)return{fieldPath:C.field.R(),appendMissingElements:{values:T.elements}};if(T instanceof X)return{fieldPath:C.field.R(),removeAllFromArray:{values:T.elements}};if(T instanceof Ee)return{fieldPath:C.field.R(),increment:T.je};throw Le()}(0,d)})}};else{if(!(a instanceof ma))return Le();u={verify:no(c,a.key)}}return a.Ge.Ke||(u.currentDocument=void 0!==(m=a.Ge).updateTime?{updateTime:Pi(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Le()),u}function $t(c,a){var fe,u=a.currentDocument?void 0!==(fe=a.currentDocument).updateTime?Vt.updateTime(Ho(fe.updateTime)):void 0!==fe.exists?Vt.exists(fe.exists):Vt.ze():Vt.ze();if(a.update){var d=zn(c,a.update.name),m=new Ws({mapValue:{fields:a.update.fields}});if(a.updateMask){var C=function(fe){return new gt((fe.fieldPaths||[]).map(function(De){return O.S(De)}))}(a.updateMask);return new fr(d,m,C,u)}return new ri(d,m,u)}if(a.delete){var T=zn(c,a.delete);return new dr(T,u)}if(a.transform){var P=zn(c,a.transform.document),j=a.transform.fieldTransforms.map(function(fe){return function(Te,De){var We=null;"setToServerValue"in De?(dt("REQUEST_TIME"===De.setToServerValue),We=new Xr):"appendMissingElements"in De?We=new B(De.appendMissingElements.values||[]):"removeAllFromArray"in De?We=new X(De.removeAllFromArray.values||[]):"increment"in De?We=new Ee(Te,De.increment):Le();var Gt=O.S(De.fieldPath);return new yt(Gt,We)}(c,fe)});return dt(!0===u.exists),new Fi(P,j)}if(a.verify){var ne=zn(c,a.verify);return new ma(ne,u)}return Le()}function Gn(c,a){return{documents:[Wi(c,a.path)]}}function zs(c,a){var u={structuredQuery:{}},d=a.path;null!==a.collectionGroup?(u.parent=Wi(c,d),u.structuredQuery.from=[{collectionId:a.collectionGroup,allDescendants:!0}]):(u.parent=Wi(c,d.h()),u.structuredQuery.from=[{collectionId:d._()}]);var m=function(P){if(0!==P.length){var j=P.map(function(ne){return function(fe){if("=="===fe.op){if(jo(fe.value))return{unaryFilter:{field:mr(fe.field),op:"IS_NAN"}};if(eo(fe.value))return{unaryFilter:{field:mr(fe.field),op:"IS_NULL"}}}else if("!="===fe.op){if(jo(fe.value))return{unaryFilter:{field:mr(fe.field),op:"IS_NOT_NAN"}};if(eo(fe.value))return{unaryFilter:{field:mr(fe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(fe.field),op:No(fe.op),value:fe.value}}}(ne)});return 1===j.length?j[0]:{compositeFilter:{op:"AND",filters:j}}}}(a.filters);m&&(u.structuredQuery.where=m);var C=function(P){if(0!==P.length)return P.map(function(j){return{field:mr((ne=j).field),direction:Jn(ne.dir)};var ne})}(a.orderBy);C&&(u.structuredQuery.orderBy=C);var j,T=(j=a.limit,c.Qe||hi(j)?j:{value:j});return null!==T&&(u.structuredQuery.limit=T),a.startAt&&(u.structuredQuery.startAt=Co(a.startAt)),a.endAt&&(u.structuredQuery.endAt=Co(a.endAt)),u}function qo(c){var a=Hs(c.parent),u=c.structuredQuery,d=u.from?u.from.length:0,m=null;if(d>0){dt(1===d);var C=u.from[0];C.allDescendants?m=C.collectionId:a=a.child(C.collectionId)}var T=[];u.where&&(T=Go(u.where));var P=[];u.orderBy&&(P=u.orderBy.map(function(Te){return new Xs(fo((De=Te).field),function(We){switch(We){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));var Te,De,j=null;u.limit&&(j=hi(De="object"==typeof(Te=u.limit)?Te.value:Te)?null:De);var ne=null;u.startAt&&(ne=ki(u.startAt));var fe=null;return u.endAt&&(fe=ki(u.endAt)),zi(Wo(a,m,P,T,j,"F",ne,fe))}function Go(c){return c?void 0!==c.unaryFilter?[Es(c)]:void 0!==c.fieldFilter?[qs(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(a){return Go(a)}).reduce(function(a,u){return a.concat(u)}):Le():[]}function Co(c){return{before:c.before,values:c.position}}function ki(c){return new Ks(c.values||[],!!c.before)}function Jn(c){return Cu[c]}function No(c){return Rn[c]}function mr(c){return{fieldPath:c.R()}}function fo(c){return O.S(c.fieldPath)}function qs(c){return mi.create(fo(c.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(c.fieldFilter.op),c.fieldFilter.value)}function Es(c){switch(c.unaryFilter.op){case"IS_NAN":var a=fo(c.unaryFilter.field);return mi.create(a,"==",{doubleValue:NaN});case"IS_NULL":var u=fo(c.unaryFilter.field);return mi.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=fo(c.unaryFilter.field);return mi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=fo(c.unaryFilter.field);return mi.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function Gs(c){var a=[];return c.fields.forEach(function(u){return a.push(u.R())}),{fieldPaths:a}}function Vn(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}var ni=function(){this.He=void 0};function ga(c,a,u){return c instanceof Xr?(C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=u).seconds,nanos:d.nanoseconds}}}},(m=a)&&(C.fields.__previous_value__=m),{mapValue:C}):c instanceof B?V(c,a):c instanceof X?pe(c,a):function(d,m){var C=Ni(d,m),T=_e(C)+_e(d.je);return Bn(C)&&Bn(d.je)?ts(T):to(d.serializer,T)}(c,a);var d,m,C}function Dt(c,a,u){return c instanceof B?V(c,a):c instanceof X?pe(c,a):u}function Ni(c,a){return c instanceof Ee?Bn(u=a)||(d=u)&&"doubleValue"in d?a:{integerValue:0}:null;var d,u}var Xr=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a}(ni),B=function(c){function a(u){var d=this;return(d=c.call(this)||this).elements=u,d}return te.__extends(a,c),a}(ni);function V(c,a){for(var u=$e(a),d=function(T){u.some(function(P){return we(P,T)})||u.push(T)},m=0,C=c.elements;m<C.length;m++)d(C[m]);return{arrayValue:{values:u}}}var X=function(c){function a(u){var d=this;return(d=c.call(this)||this).elements=u,d}return te.__extends(a,c),a}(ni);function pe(c,a){for(var u=$e(a),d=function(T){u=u.filter(function(P){return!we(P,T)})},m=0,C=c.elements;m<C.length;m++)d(C[m]);return{arrayValue:{values:u}}}var Ee=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).serializer=u,m.je=d,m}return te.__extends(a,c),a}(ni);function _e(c){return ur(c.integerValue||c.doubleValue)}function $e(c){return js(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var gt=function(){function c(a){this.fields=a,a.sort(O.i)}return c.prototype.Ye=function(a){for(var u=0,d=this.fields;u<d.length;u++)if(d[u].T(a))return!0;return!1},c.prototype.isEqual=function(a){return En(this.fields,a.fields,function(u,d){return u.isEqual(d)})},c}(),yt=function(c,a){this.field=c,this.transform=a},Pt=function(c,a){this.version=c,this.transformResults=a},Vt=function(){function c(a,u){this.updateTime=a,this.exists=u}return c.ze=function(){return new c},c.exists=function(a){return new c(void 0,a)},c.updateTime=function(a){return new c(a)},Object.defineProperty(c.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)},c}();function Yn(c,a){return void 0!==c.updateTime?a instanceof Rr&&a.version.isEqual(c.updateTime):void 0===c.exists||c.exists===a instanceof Rr}var cn=function(){};function Yr(c,a,u){return c instanceof ri?new Rr((d=c).key,u.version,d.value,{hasCommittedMutations:!0}):c instanceof fr?function(d,m,C){if(!Yn(d.Ge,m))return new zr(d.key,C.version);var T=Jr(d,m);return new Rr(d.key,C.version,T,{hasCommittedMutations:!0})}(c,a,u):c instanceof Fi?function(d,m,C){if(dt(null!=C.transformResults),!Yn(d.Ge,m))return new zr(d.key,C.version);var T=po(0,m),P=function(fe,Te,De){var We=[];dt(fe.length===De.length);for(var ut=0;ut<De.length;ut++){var Ct=fe[ut],Gt=Ct.transform,vn=null;Te instanceof Rr&&(vn=Te.field(Ct.field)),We.push(Dt(Gt,vn,De[ut]))}return We}(d.fieldTransforms,m,C.transformResults),j=C.version,ne=Hr(d,T.data(),P);return new Rr(d.key,j,ne,{hasCommittedMutations:!0})}(c,a,u):function(d,m,C){return new li(d.key,C.version,{hasCommittedMutations:!0})}(c,0,u);var d}function lr(c,a,u,d){return c instanceof ri?function(m,C){if(!Yn(m.Ge,C))return C;var T=wi(C);return new Rr(m.key,T,m.value,{Je:!0})}(c,a):c instanceof fr?function(m,C){if(!Yn(m.Ge,C))return C;var T=wi(C),P=Jr(m,C);return new Rr(m.key,T,P,{Je:!0})}(c,a):c instanceof Fi?function(m,C,T,P){if(!Yn(m.Ge,C))return C;var j=po(0,C),ne=function(Te,De,We,ut){for(var Ct=[],Gt=0,vn=Te;Gt<vn.length;Gt++){var Kn=vn[Gt],cr=Kn.transform,Gr=null;We instanceof Rr&&(Gr=We.field(Kn.field)),null===Gr&&ut instanceof Rr&&(Gr=ut.field(Kn.field)),Ct.push(ga(cr,Gr,De))}return Ct}(m.fieldTransforms,T,C,P),fe=Hr(m,j.data(),ne);return new Rr(m.key,j.version,fe,{Je:!0})}(c,a,d,u):Yn((m=c).Ge,C=a)?new li(m.key,xn.min()):C;var m,C}function bn(c,a){return c instanceof Fi?function(u,d){for(var m=null,C=0,T=u.fieldTransforms;C<T.length;C++){var P=T[C],j=d instanceof Rr?d.field(P.field):void 0,ne=Ni(P.transform,j||null);null!=ne&&(m=null==m?(new rs).set(P.field,ne):m.set(P.field,ne))}return m?m.Xe():null}(c,a):null}function Lr(c,a){return c.type===a.type&&!!c.key.isEqual(a.key)&&!!c.Ge.isEqual(a.Ge)&&(0===c.type?c.value.isEqual(a.value):1===c.type?c.data.isEqual(a.data)&&c.We.isEqual(a.We):2!==c.type||En(c.fieldTransforms,c.fieldTransforms,function(u,d){return(m=u).field.isEqual((C=d).field)&&(P=C.transform,(T=m.transform)instanceof B&&P instanceof B||T instanceof X&&P instanceof X?En(T.elements,P.elements,we):T instanceof Ee&&P instanceof Ee?we(T.je,P.je):T instanceof Xr&&P instanceof Xr);var m,C,T,P}))}function wi(c){return c instanceof Rr?c.version:xn.min()}var ri=function(c){function a(u,d,m){var C=this;return(C=c.call(this)||this).key=u,C.value=d,C.Ge=m,C.type=0,C}return te.__extends(a,c),a}(cn),fr=function(c){function a(u,d,m,C){var T=this;return(T=c.call(this)||this).key=u,T.data=d,T.We=m,T.Ge=C,T.type=1,T}return te.__extends(a,c),a}(cn);function Jr(c,a){return u=c,d=a instanceof Rr?a.data():Ws.empty(),m=new rs(d),u.We.fields.forEach(function(C){if(!C.m()){var T=u.data.field(C);null!==T?m.set(C,T):m.delete(C)}}),m.Xe();var u,d,m}var Fi=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.fieldTransforms=d,m.type=2,m.Ge=Vt.exists(!0),m}return te.__extends(a,c),a}(cn);function po(c,a){return a}function Hr(c,a,u){for(var d=new rs(a),m=0;m<c.fieldTransforms.length;m++)d.set(c.fieldTransforms[m].field,u[m]);return d.Xe()}var dr=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.Ge=d,m.type=3,m}return te.__extends(a,c),a}(cn),ma=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.Ge=d,m.type=4,m}return te.__extends(a,c),a}(cn),Ws=function(){function c(a){this.proto=a}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(a){if(a.m())return this.proto;for(var u=this.proto,d=0;d<a.length-1;++d)if(!u.mapValue.fields||!ko(u=u.mapValue.fields[a.get(d)]))return null;return(u=(u.mapValue.fields||{})[a._()])||null},c.prototype.isEqual=function(a){return we(this.proto,a.proto)},c}(),rs=function(){function c(a){void 0===a&&(a=Ws.empty()),this.Ze=a,this.tn=new Map}return c.prototype.set=function(a,u){return this.en(a,u),this},c.prototype.delete=function(a){return this.en(a,null),this},c.prototype.en=function(a,u){for(var d=this.tn,m=0;m<a.length-1;++m){var C=a.get(m),T=d.get(C);T instanceof Map?d=T:T&&10===Ce(T)?(T=new Map(Object.entries(T.mapValue.fields||{})),d.set(C,T),d=T):(T=new Map,d.set(C,T),d=T)}d.set(a._(),u)},c.prototype.Xe=function(){var a=this.nn(O.P(),this.tn);return null!=a?new Ws(a):this.Ze},c.prototype.nn=function(a,u){var d=this,m=!1,C=this.Ze.field(a),T=ko(C)?Object.assign({},C.mapValue.fields):{};return u.forEach(function(P,j){if(P instanceof Map){var ne=d.nn(a.child(j),P);null!=ne&&(T[j]=ne,m=!0)}else null!==P?(T[j]=P,m=!0):T.hasOwnProperty(j)&&(delete T[j],m=!0)}),m?{mapValue:{fields:T}}:null},c}();function Gu(c){var a=[];return Ft(c.fields||{},function(u,d){var m=new O([u]);if(ko(d)){var C=Gu(d.mapValue).fields;if(0===C.length)a.push(m);else for(var T=0,P=C;T<P.length;T++)a.push(m.child(P[T]))}else a.push(m)}),new gt(a)}var ai=function(c,a){this.key=c,this.version=a},Rr=function(c){function a(u,d,m,C){var T=this;return(T=c.call(this,u,d)||this).sn=m,T.Je=!!C.Je,T.hasCommittedMutations=!!C.hasCommittedMutations,T}return te.__extends(a,c),a.prototype.field=function(u){return this.sn.field(u)},a.prototype.data=function(){return this.sn},a.prototype.rn=function(){return this.sn.proto},a.prototype.isEqual=function(u){return u instanceof a&&this.key.isEqual(u.key)&&this.version.isEqual(u.version)&&this.Je===u.Je&&this.hasCommittedMutations===u.hasCommittedMutations&&this.sn.isEqual(u.sn)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a}(ai),li=function(c){function a(u,d,m){var C=this;return(C=c.call(this,u,d)||this).hasCommittedMutations=!(!m||!m.hasCommittedMutations),C}return te.__extends(a,c),a.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(u){return u instanceof a&&u.hasCommittedMutations===this.hasCommittedMutations&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},a}(ai),zr=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(u){return u instanceof a&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},a}(ai),Ss=function(c,a,u,d,m,C,T,P){void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===C&&(C="F"),void 0===T&&(T=null),void 0===P&&(P=null),this.path=c,this.collectionGroup=a,this.on=u,this.filters=d,this.limit=m,this.an=C,this.startAt=T,this.endAt=P,this.cn=null,this.un=null};function Wo(c,a,u,d,m,C,T,P){return new Ss(c,a,u,d,m,C,T,P)}function Li(c){return new Ss(c)}function $s(c){return!hi(c.limit)&&"F"===c.an}function Eo(c){return!hi(c.limit)&&"L"===c.an}function Is(c){return c.on.length>0?c.on[0].field:null}function So(c){for(var a=0,u=c.filters;a<u.length;a++){var d=u[a];if(d.hn())return d.field}return null}function Ts(c){return null!==c.collectionGroup}function Fo(c){var a=et(c);if(null===a.cn){a.cn=[];var u=So(a),d=Is(a);if(null!==u&&null===d)u.p()||a.cn.push(new Xs(u)),a.cn.push(new Xs(O.v(),"asc"));else{for(var m=!1,C=0,T=a.on;C<T.length;C++){var P=T[C];a.cn.push(P),P.field.p()&&(m=!0)}if(!m){var j=a.on.length>0?a.on[a.on.length-1].dir:"asc";a.cn.push(new Xs(O.v(),j))}}}return a.cn}function zi(c){var a=et(c);if(!a.un)if("F"===a.an)a.un=Xe(a.path,a.collectionGroup,Fo(a),a.filters,a.limit,a.startAt,a.endAt);else{for(var u=[],d=0,m=Fo(a);d<m.length;d++){var C=m[d];u.push(new Xs(C.field,"desc"===C.dir?"asc":"desc"))}var P=a.endAt?new Ks(a.endAt.position,!a.endAt.before):null,j=a.startAt?new Ks(a.startAt.position,!a.startAt.before):null;a.un=Xe(a.path,a.collectionGroup,u,a.filters,a.limit,P,j)}return a.un}function is(c,a,u){return new Ss(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),a,u,c.startAt,c.endAt)}function El(c,a){return new Ss(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,a,c.endAt)}function Sl(c,a){return new Ss(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,c.startAt,a)}function Io(c,a){return Wt(zi(c),zi(a))&&c.an===a.an}function iu(c){return Ue(zi(c))+"|lt:"+c.an}function Ds(c){return"Query(target="+(u=(a=zi(c)).path.R(),null!==a.collectionGroup&&(u+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(u+=", filters: ["+a.filters.map(function(d){return(m=d).field.R()+" "+m.op+" "+lt(m.value);var m}).join(", ")+"]"),hi(a.limit)||(u+=", limit: "+a.limit),a.orderBy.length>0&&(u+=", orderBy: ["+a.orderBy.map(function(d){return(m=d).field.R()+" ("+m.dir+")";var m}).join(", ")+"]"),a.startAt&&(u+=", startAt: "+Ys(a.startAt)),a.endAt&&(u+=", endAt: "+Ys(a.endAt)),"Target("+u+"); limitType=")+c.an+")";var a,u}function Ms(c,a){return m=(d=a).key.path,(null!==(u=c).collectionGroup?d.key.N(u.collectionGroup)&&u.path.T(m):I.F(u.path)?u.path.isEqual(m):u.path.I(m))&&function(u,d){for(var m=0,C=u.on;m<C.length;m++){var T=C[m];if(!T.field.p()&&null===d.field(T.field))return!1}return!0}(c,a)&&function(u,d){for(var m=0,C=u.filters;m<C.length;m++)if(!C[m].matches(d))return!1;return!0}(c,a)&&function(u,d){return!(u.startAt&&!Qs(u.startAt,Fo(u),d)||u.endAt&&Qs(u.endAt,Fo(u),d))}(c,a);var u,d,m}function Vi(c){return function(a,u){for(var d=!1,m=0,C=Fo(c);m<C.length;m++){var T=C[m],P=qr(T,a,u);if(0!==P)return P;d=d||T.field.p()}return 0}}var mi=function(c){function a(u,d,m){var C=this;return(C=c.call(this)||this).field=u,C.op=d,C.value=m,C}return te.__extends(a,c),a.create=function(u,d,m){if(u.p())return"in"===d||"not-in"===d?this.ln(u,d,m):new go(u,d,m);if(eo(m)){if("=="!==d&&"!="!==d)throw new Y(be.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new a(u,d,m)}if(jo(m)){if("=="!==d&&"!="!==d)throw new Y(be.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new a(u,d,m)}return"array-contains"===d?new Il(u,m):"in"===d?new lc(u,m):"not-in"===d?new su(u,m):"array-contains-any"===d?new Su(u,m):new a(u,d,m)},a.ln=function(u,d,m){return"in"===d?new Eu(u,m):new ou(u,m)},a.prototype.matches=function(u){var d=u.field(this.field);return"!="===this.op?null!==d&&this._n(At(d,this.value)):null!==d&&Ce(this.value)===Ce(d)&&this._n(At(d,this.value))},a.prototype._n=function(u){switch(this.op){case"<":return u<0;case"<=":return u<=0;case"==":return 0===u;case"!=":return 0!==u;case">":return u>0;case">=":return u>=0;default:return Le()}},a.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},a}(function(){}),go=function(c){function a(u,d,m){var C=this;return(C=c.call(this,u,d,m)||this).key=I.C(m.referenceValue),C}return te.__extends(a,c),a.prototype.matches=function(u){var d=I.i(u.key,this.key);return this._n(d)},a}(mi),Eu=function(c){function a(u,d){var m=this;return(m=c.call(this,u,"in",d)||this).keys=_a(0,d),m}return te.__extends(a,c),a.prototype.matches=function(u){return this.keys.some(function(d){return d.isEqual(u.key)})},a}(mi),ou=function(c){function a(u,d){var m=this;return(m=c.call(this,u,"not-in",d)||this).keys=_a(0,d),m}return te.__extends(a,c),a.prototype.matches=function(u){return!this.keys.some(function(d){return d.isEqual(u.key)})},a}(mi);function _a(c,a){var u;return((null===(u=a.arrayValue)||void 0===u?void 0:u.values)||[]).map(function(d){return I.C(d.referenceValue)})}var Il=function(c){function a(u,d){return c.call(this,u,"array-contains",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=u.field(this.field);return js(d)&&ze(d.arrayValue,this.value)},a}(mi),lc=function(c){function a(u,d){return c.call(this,u,"in",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=u.field(this.field);return null!==d&&ze(this.value.arrayValue,d)},a}(mi),su=function(c){function a(u,d){return c.call(this,u,"not-in",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){if(ze(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=u.field(this.field);return null!==d&&!ze(this.value.arrayValue,d)},a}(mi),Su=function(c){function a(u,d){return c.call(this,u,"array-contains-any",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=this,m=u.field(this.field);return!(!js(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(C){return ze(d.value.arrayValue,C)})},a}(mi),Ks=function(c,a){this.position=c,this.before=a};function Ys(c){return(c.before?"b":"a")+":"+c.position.map(function(a){return lt(a)}).join(",")}function Qs(c,a,u){for(var d=0,m=0;m<c.position.length;m++){var C=a[m],T=c.position[m];if(d=C.field.p()?I.i(I.C(T.referenceValue),u.key):At(T,u.field(C.field)),"desc"===C.dir&&(d*=-1),0!==d)break}return c.before?d<=0:d<0}function mo(c,a){if(null===c)return null===a;if(null===a||c.before!==a.before||c.position.length!==a.position.length)return!1;for(var u=0;u<c.position.length;u++)if(!we(c.position[u],a.position[u]))return!1;return!0}var Xs=function(c,a){void 0===a&&(a="asc"),this.field=c,this.dir=a};function qr(c,a,u){var m,T,P,j,d=c.field.p()?I.i(a.key,u.key):(T=u,P=a.field(m=c.field),j=T.field(m),null!==P&&null!==j?At(P,j):Le());switch(c.dir){case"asc":return d;case"desc":return-1*d;default:return Le()}}function Va(c,a){return c.dir===a.dir&&c.field.isEqual(a.field)}var Qr=function(){var c=this;this.promise=new Promise(function(a,u){c.resolve=a,c.reject=u})},Iu=function(){function c(a,u,d,m,C){void 0===d&&(d=1e3),void 0===m&&(m=1.5),void 0===C&&(C=6e4),this.fn=a,this.dn=u,this.wn=d,this.mn=m,this.Tn=C,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return c.prototype.reset=function(){this.En=0},c.prototype.Rn=function(){this.En=this.Tn},c.prototype.gn=function(a){var u=this;this.cancel();var d=Math.floor(this.En+this.Pn()),m=Math.max(0,Date.now()-this.An),C=Math.max(0,d-m);C>0&&Ne("ExponentialBackoff","Backing off for "+C+" ms (base delay: "+this.En+" ms, delay with jitter: "+d+" ms, last attempt: "+m+" ms ago)"),this.In=this.fn.yn(this.dn,C,function(){return u.An=Date.now(),a()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},c.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},c.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},c.prototype.Pn=function(){return(Math.random()-.5)*this.En},c}(),jt=function(){function c(a){var u=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,a(function(d){u.Sn=!0,u.result=d,u.bn&&u.bn(d)},function(d){u.Sn=!0,u.error=d,u.vn&&u.vn(d)})}return c.prototype.catch=function(a){return this.next(void 0,a)},c.prototype.next=function(a,u){var d=this;return this.Dn&&Le(),this.Dn=!0,this.Sn?this.error?this.Cn(u,this.error):this.Nn(a,this.result):new c(function(m,C){d.bn=function(T){d.Nn(a,T).next(m,C)},d.vn=function(T){d.Cn(u,T).next(m,C)}})},c.prototype.Fn=function(){var a=this;return new Promise(function(u,d){a.next(u,d)})},c.prototype.xn=function(a){try{var u=a();return u instanceof c?u:c.resolve(u)}catch(d){return c.reject(d)}},c.prototype.Nn=function(a,u){return a?this.xn(function(){return a(u)}):c.resolve(u)},c.prototype.Cn=function(a,u){return a?this.xn(function(){return a(u)}):c.reject(u)},c.resolve=function(a){return new c(function(u,d){u(a)})},c.reject=function(a){return new c(function(u,d){d(a)})},c.$n=function(a){return new c(function(u,d){var m=0,C=0,T=!1;a.forEach(function(P){++m,P.next(function(){++C,T&&C===m&&u()},function(j){return d(j)})}),T=!0,C===m&&u()})},c.kn=function(a){for(var u=c.resolve(!1),d=function(T){u=u.next(function(P){return P?c.resolve(P):T()})},m=0,C=a;m<C.length;m++)d(C[m]);return u},c.forEach=function(a,u){var d=this,m=[];return a.forEach(function(C,T){m.push(u.call(d,C,T))}),this.$n(m)},c}(),ii=function(){function c(a,u,d){this.name=a,this.version=u,this.Mn=d,12.2===c.On(Nt.getUA())&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(a){return Ne("SimpleDb","Removing database:",a),Js(window.indexedDB.deleteDatabase(a)).Fn()},c.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(c.Bn())return!0;var a=Nt.getUA(),u=c.On(a),d=0<u&&u<10,m=c.qn(a),C=0<m&&m<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0||d||C)},c.Bn=function(){var a;return"undefined"!=typeof process&&"YES"===(null===(a=process.env)||void 0===a?void 0:a.Un)},c.Qn=function(a,u){return a.store(u)},c.On=function(a){var u=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=u?u[1].split("_").slice(0,2).join("."):"-1";return Number(d)},c.qn=function(a){var u=a.match(/Android ([\d.]+)/i),d=u?u[1].split(".").slice(0,2).join("."):"-1";return Number(d)},c.prototype.Wn=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(Ne("SimpleDb","Opening database:",this.name),u=this,[4,new Promise(function(C,T){var P=indexedDB.open(d.name,d.version);P.onsuccess=function(j){C(j.target.result)},P.onblocked=function(){T(new va(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},P.onerror=function(j){var ne=j.target.error;T("VersionError"===ne.name?new Y(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new va(a,ne))},P.onupgradeneeded=function(j){Ne("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',j.oldVersion),d.Mn.createOrUpgrade(j.target.result,P.transaction,j.oldVersion,d.version).next(function(){Ne("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:u.db=m.sent(),m.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(C){return d.jn(C)}),this.db)]}})})},c.prototype.Kn=function(a){this.jn=a,this.db&&(this.db.onversionchange=function(u){return a(u)})},c.prototype.runTransaction=function(a,u,d,m){return te.__awaiter(this,void 0,void 0,function(){var C,T,P,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:C="readonly"===u,T=0,P=function(){var Te,De,We,ut,Ct;return te.__generator(this,function(Gt){switch(Gt.label){case 0:++T,Gt.label=1;case 1:return Gt.trys.push([1,4,,5]),[4,j.Wn(a)];case 2:return j.db=Gt.sent(),Te=yi.open(j.db,a,C?"readonly":"readwrite",d),De=m(Te).catch(function(vn){return Te.abort(vn),jt.reject(vn)}).Fn(),We={},De.catch(function(){}),[4,Te.Gn];case 3:return[2,(We.value=(Gt.sent(),De),We)];case 4:return Ne("SimpleDb","Transaction failed with error:",(ut=Gt.sent()).message,"Retrying:",Ct="FirebaseError"!==ut.name&&T<3),j.close(),Ct?[3,5]:[2,{value:Promise.reject(ut)}];case 5:return[2]}})},j=this,fe.label=1;case 1:return[5,P()];case 2:if("object"==typeof(ne=fe.sent()))return[2,ne.value];fe.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),Wu=function(){function c(a){this.zn=a,this.Hn=!1,this.Yn=null}return Object.defineProperty(c.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(a){this.zn=a},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Hn=!0},c.prototype.Xn=function(a){this.Yn=a},c.prototype.delete=function(){return Js(this.zn.delete())},c}(),va=function(c){function a(u,d){var m=this;return(m=c.call(this,be.UNAVAILABLE,"IndexedDB transaction '"+u+"' failed: "+d)||this).name="IndexedDbTransactionError",m}return te.__extends(a,c),a}(Y);function As(c){return"IndexedDbTransactionError"===c.name}var yi=function(){function c(a,u){var d=this;this.action=a,this.transaction=u,this.aborted=!1,this.Zn=new Qr,this.transaction.oncomplete=function(){d.Zn.resolve()},this.transaction.onabort=function(){u.error?d.Zn.reject(new va(a,u.error)):d.Zn.resolve()},this.transaction.onerror=function(m){var C=w(m.target.error);d.Zn.reject(new va(a,C))}}return c.open=function(a,u,d,m){try{return new c(u,a.transaction(m,d))}catch(C){throw new va(u,C)}},Object.defineProperty(c.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(a){a&&this.Zn.reject(a),this.aborted||(Ne("SimpleDb","Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(a){var u=this.transaction.objectStore(a);return new $u(u)},c}(),$u=function(){function c(a){this.store=a}return c.prototype.put=function(a,u){var d;return void 0!==u?(Ne("SimpleDb","PUT",this.store.name,a,u),d=this.store.put(u,a)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",a),d=this.store.put(a)),Js(d)},c.prototype.add=function(a){return Ne("SimpleDb","ADD",this.store.name,a,a),Js(this.store.add(a))},c.prototype.get=function(a){var u=this;return Js(this.store.get(a)).next(function(d){return void 0===d&&(d=null),Ne("SimpleDb","GET",u.store.name,a,d),d})},c.prototype.delete=function(a){return Ne("SimpleDb","DELETE",this.store.name,a),Js(this.store.delete(a))},c.prototype.count=function(){return Ne("SimpleDb","COUNT",this.store.name),Js(this.store.count())},c.prototype.ts=function(a,u){var d=this.cursor(this.options(a,u)),m=[];return this.es(d,function(C,T){m.push(T)}).next(function(){return m})},c.prototype.ns=function(a,u){Ne("SimpleDb","DELETE ALL",this.store.name);var d=this.options(a,u);d.ss=!1;var m=this.cursor(d);return this.es(m,function(C,T,P){return P.delete()})},c.prototype.rs=function(a,u){var d;u?d=a:(d={},u=a);var m=this.cursor(d);return this.es(m,u)},c.prototype.os=function(a){var u=this.cursor({});return new jt(function(d,m){u.onerror=function(C){var T=w(C.target.error);m(T)},u.onsuccess=function(C){var T=C.target.result;T?a(T.primaryKey,T.value).next(function(P){P?T.continue():d()}):d()}})},c.prototype.es=function(a,u){var d=[];return new jt(function(m,C){a.onerror=function(T){C(T.target.error)},a.onsuccess=function(T){var P=T.target.result;if(P){var j=new Wu(P),ne=u(P.primaryKey,P.value,j);if(ne instanceof jt){var fe=ne.catch(function(Te){return j.done(),jt.reject(Te)});d.push(fe)}j.Sn?m():null===j.Jn?P.continue():P.continue(j.Jn)}else m()}}).next(function(){return jt.$n(d)})},c.prototype.options=function(a,u){var d=void 0;return void 0!==a&&("string"==typeof a?d=a:u=a),{index:d,range:u}},c.prototype.cursor=function(a){var u="next";if(a.reverse&&(u="prev"),a.index){var d=this.store.index(a.index);return a.ss?d.openKeyCursor(a.range,u):d.openCursor(a.range,u)}return this.store.openCursor(a.range,u)},c}();function Js(c){return new jt(function(a,u){c.onsuccess=function(d){a(d.target.result)},c.onerror=function(d){var m=w(d.target.error);u(m)}})}var di=!1;function w(c){var a=ii.On(Nt.getUA());if(a>=12.2&&a<13){var u="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(u)>=0){var d=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+u+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return di||(di=!0,setTimeout(function(){throw d},0)),d}}return c}function k(){return"undefined"!=typeof window?window:null}function q(){return"undefined"!=typeof document?document:null}var oe=function(){function c(a,u,d,m,C){this.cs=a,this.dn=u,this.us=d,this.op=m,this.hs=C,this.ls=new Qr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(T){})}return c._s=function(a,u,d,m,C){var T=new c(a,u,Date.now()+d,m,C);return T.start(d),T},c.prototype.start=function(a){var u=this;this.fs=setTimeout(function(){return u.ds()},a)},c.prototype.pn=function(){return this.ds()},c.prototype.cancel=function(a){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Y(be.CANCELLED,"Operation cancelled"+(a?": "+a:""))))},c.prototype.ds=function(){var a=this;this.cs.ws(function(){return null!==a.fs?(a.clearTimeout(),a.op().then(function(u){return a.ls.resolve(u)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},c}(),Re=function(){function c(){var a=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Iu(this,"async_queue_retry"),this.Vs=function(){var d=q();d&&Ne("AsyncQueue","Visibility state changed to  ",d.visibilityState),a.ys.Vn()};var u=q();u&&"function"==typeof u.addEventListener&&u.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(c.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),c.prototype.ws=function(a){this.enqueue(a)},c.prototype.bs=function(a){this.vs(),this.Ss(a)},c.prototype.Ds=function(){if(!this.Is){this.Is=!0;var a=q();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Vs)}},c.prototype.enqueue=function(a){return this.vs(),this.Is?new Promise(function(u){}):this.Ss(a)},c.prototype.Cs=function(a){var u=this;this.ws(function(){return u.Es.push(a),u.Ns()})},c.prototype.Ns=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){switch(d.label){case 0:if(0===this.Es.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return d.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!As(a=d.sent()))throw a;return Ne("AsyncQueue","Operation failed with retryable error: "+a),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return u.Ns()}),d.label=5;case 5:return[2]}})})},c.prototype.Ss=function(a){var u=this,d=this.Ts.then(function(){return u.gs=!0,a().catch(function(m){throw u.Rs=m,u.gs=!1,ft("INTERNAL UNHANDLED ERROR: ",(T=(C=m).message||"",C.stack&&(T=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),T)),m;var C,T}).then(function(m){return u.gs=!1,m})});return this.Ts=d,d},c.prototype.yn=function(a,u,d){var m=this;this.vs(),this.Ps.indexOf(a)>-1&&(u=0);var C=oe._s(this,a,u,d,function(T){return m.Fs(T)});return this.As.push(C),C},c.prototype.vs=function(){this.Rs&&Le()},c.prototype.xs=function(){},c.prototype.$s=function(){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){switch(u.label){case 0:return[4,a=this.Ts];case 1:u.sent(),u.label=2;case 2:if(a!==this.Ts)return[3,0];u.label=3;case 3:return[2]}})})},c.prototype.ks=function(a){for(var u=0,d=this.As;u<d.length;u++)if(d[u].dn===a)return!0;return!1},c.prototype.Ms=function(a){var u=this;return this.$s().then(function(){u.As.sort(function(T,P){return T.us-P.us});for(var d=0,m=u.As;d<m.length;d++){var C=m[d];if(C.pn(),"all"!==a&&C.dn===a)break}return u.$s()})},c.prototype.Os=function(a){this.Ps.push(a)},c.prototype.Fs=function(a){var u=this.As.indexOf(a);this.As.splice(u,1)},c}();function Ze(c,a){if(ft("AsyncQueue",a+": "+c),As(c))return new Y(be.UNAVAILABLE,a+": "+c);throw c}var hn=function(){this.Ls=void 0,this.listeners=[]},Nn=function(){this.Bs=new Or(function(c){return iu(c)},Io),this.onlineState="Unknown",this.qs=new Set};function Dr(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,C,T,P,j;return te.__generator(this,function(ne){switch(ne.label){case 0:if(u=et(c),m=!1,(C=u.Bs.get(d=a.query))||(m=!0,C=new hn),!m)return[3,4];ne.label=1;case 1:return ne.trys.push([1,3,,4]),T=C,[4,u.Us(d)];case 2:return T.Ls=ne.sent(),[3,4];case 3:return P=ne.sent(),j=Ze(P,"Initialization of query '"+Ds(a.query)+"' failed"),[2,void a.onError(j)];case 4:return u.Bs.set(d,C),C.listeners.push(a),a.Qs(u.onlineState),C.Ls&&a.Ws(C.Ls)&&Ua(u),[2]}})})}function oo(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,C,T;return te.__generator(this,function(P){return u=et(c),m=!1,(C=u.Bs.get(d=a.query))&&(T=C.listeners.indexOf(a))>=0&&(C.listeners.splice(T,1),m=0===C.listeners.length),m?[2,(u.Bs.delete(d),u.js(d))]:[2]})})}function so(c,a){for(var u=et(c),d=!1,m=0,C=a;m<C.length;m++){var T=C[m],j=u.Bs.get(T.query);if(j){for(var ne=0,fe=j.listeners;ne<fe.length;ne++)fe[ne].Ws(T)&&(d=!0);j.Ls=T}}d&&Ua(u)}function Ci(c,a,u){var d=et(c),m=d.Bs.get(a);if(m)for(var C=0,T=m.listeners;C<T.length;C++)T[C].onError(u);d.Bs.delete(a)}function Ua(c){c.qs.forEach(function(a){a.next()})}var Os=function(){function c(a,u,d){this.query=a,this.Ks=u,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=d||{}}return c.prototype.Ws=function(a){if(!this.options.includeMetadataChanges){for(var u=[],d=0,m=a.docChanges;d<m.length;d++){var C=m[d];3!==C.type&&u.push(C)}a=new Mt(a.query,a.docs,a.Qt,u,a.Wt,a.fromCache,a.jt,!0)}var T=!1;return this.Gs?this.Hs(a)&&(this.Ks.next(a),T=!0):this.Ys(a,this.onlineState)&&(this.Js(a),T=!0),this.zs=a,T},c.prototype.onError=function(a){this.Ks.error(a)},c.prototype.Qs=function(a){this.onlineState=a;var u=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,a)&&(this.Js(this.zs),u=!0),u},c.prototype.Ys=function(a,u){return!a.fromCache||!(this.options.Xs&&"Offline"!==u||a.docs.m()&&"Offline"!==u)},c.prototype.Hs=function(a){return a.docChanges.length>0||!!(a.jt||this.zs&&this.zs.hasPendingWrites!==a.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.Js=function(a){a=Mt.Gt(a.query,a.docs,a.Wt,a.fromCache),this.Gs=!0,this.Ks.next(a)},c}(),Zr=function(){function c(a){this.uid=a}return c.prototype.Zs=function(){return null!=this.uid},c.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(a){return a.uid===this.uid},c}();Zr.UNAUTHENTICATED=new Zr(null),Zr.ei=new Zr("google-credentials-uid"),Zr.ni=new Zr("first-party-uid");var Vr=function(){function c(a,u){var d=this;this.previousValue=a,u&&(u.si=function(m){return d.ii(m)},this.ri=function(m){return u.oi(m)})}return c.prototype.ii=function(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue},c.prototype.next=function(){var a=++this.previousValue;return this.ri&&this.ri(a),a},c}();function Tu(c,a){return"firestore_clients_"+c+"_"+a}function cc(c,a,u){var d="firestore_mutations_"+c+"_"+u;return a.Zs()&&(d+="_"+a.uid),d}function Tl(c,a){return"firestore_targets_"+c+"_"+a}Vr.ai=-1;var ya=function(){function c(a,u,d,m){this.user=a,this.batchId=u,this.state=d,this.error=m}return c.ci=function(a,u,d){var m=JSON.parse(d),C="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error),T=void 0;return C&&m.error&&(C="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(T=new Y(m.error.code,m.error.message)),C?new c(a,u,m.state,T):(ft("SharedClientState","Failed to parse mutation state for ID '"+u+"': "+d),null)},c.prototype.ui=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),Ba=function(){function c(a,u,d){this.targetId=a,this.state=u,this.error=d}return c.ci=function(a,u){var d=JSON.parse(u),m="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error),C=void 0;return m&&d.error&&(m="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(C=new Y(d.error.code,d.error.message)),m?new c(a,d.state,C):(ft("SharedClientState","Failed to parse target state for ID '"+a+"': "+u),null)},c.prototype.ui=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),Dl=function(){function c(a,u){this.clientId=a,this.activeTargetIds=u}return c.ci=function(a,u){for(var d=JSON.parse(u),m="object"==typeof d&&d.activeTargetIds instanceof Array,C=Ot(),T=0;m&&T<d.activeTargetIds.length;++T)m=me(d.activeTargetIds[T]),C=C.add(d.activeTargetIds[T]);return m?new c(a,C):(ft("SharedClientState","Failed to parse client data for instance '"+a+"': "+u),null)},c}(),Wn=function(){function c(a,u){this.clientId=a,this.onlineState=u}return c.ci=function(a){var u=JSON.parse(a);return"object"==typeof u&&-1!==["Unknown","Online","Offline"].indexOf(u.onlineState)&&"string"==typeof u.clientId?new c(u.clientId,u.onlineState):(ft("SharedClientState","Failed to parse online state: "+a),null)},c}(),_o=function(){function c(){this.activeTargetIds=Ot()}return c.prototype.hi=function(a){this.activeTargetIds=this.activeTargetIds.add(a)},c.prototype.li=function(a){this.activeTargetIds=this.activeTargetIds.delete(a)},c.prototype.ui=function(){var a={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(a)},c}(),bi=function(){function c(a,u,d,m,C){this.window=a,this.fn=u,this.persistenceKey=d,this._i=m,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new an(Ht),this.Ei=!1,this.Ii=[];var T=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=C,this.Ai=Tu(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new _o),this.gi=new RegExp("^firestore_clients_"+T+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+T+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+T+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return c.Ln=function(a){return!(!a||!a.localStorage)},c.prototype.start=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,m,C,T,P,j,ne,fe,De=this;return te.__generator(this,function(We){switch(We.label){case 0:return[4,this.fi.pi()];case 1:for(a=We.sent(),u=0,d=a;u<d.length;u++)(m=d[u])!==this._i&&(C=this.getItem(Tu(this.persistenceKey,m)))&&(T=Dl.ci(m,C))&&(this.Ti=this.Ti.ot(T.clientId,T));for(this.bi(),(P=this.storage.getItem(this.Vi))&&(j=this.vi(P))&&this.Si(j),ne=0,fe=this.Ii;ne<fe.length;ne++)this.mi(fe[ne]);return this.Ii=[],this.window.addEventListener("unload",function(){return De.Di()}),this.Ei=!0,[2]}})})},c.prototype.oi=function(a){this.setItem(this.Ri,JSON.stringify(a))},c.prototype.Ci=function(){return this.Ni(this.Ti)},c.prototype.Fi=function(a){var u=!1;return this.Ti.forEach(function(d,m){m.activeTargetIds.has(a)&&(u=!0)}),u},c.prototype.xi=function(a){this.$i(a,"pending")},c.prototype.ki=function(a,u,d){this.$i(a,u,d),this.Mi(a)},c.prototype.Oi=function(a){var u="not-current";if(this.Fi(a)){var d=this.storage.getItem(Tl(this.persistenceKey,a));if(d){var m=Ba.ci(a,d);m&&(u=m.state)}}return this.Li.hi(a),this.bi(),u},c.prototype.Bi=function(a){this.Li.li(a),this.bi()},c.prototype.qi=function(a){return this.Li.activeTargetIds.has(a)},c.prototype.Ui=function(a){this.removeItem(Tl(this.persistenceKey,a))},c.prototype.Qi=function(a,u,d){this.Wi(a,u,d)},c.prototype.ji=function(a,u,d){var m=this;u.forEach(function(C){m.Mi(C)}),this.currentUser=a,d.forEach(function(C){m.xi(C)})},c.prototype.Ki=function(a){this.Gi(a)},c.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},c.prototype.getItem=function(a){var u=this.storage.getItem(a);return Ne("SharedClientState","READ",a,u),u},c.prototype.setItem=function(a,u){Ne("SharedClientState","SET",a,u),this.storage.setItem(a,u)},c.prototype.removeItem=function(a){Ne("SharedClientState","REMOVE",a),this.storage.removeItem(a)},c.prototype.mi=function(a){var u=this,d=a;if(d.storageArea===this.storage){if(Ne("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Ai)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return te.__awaiter(u,void 0,void 0,function(){var m,C,T,P,j,ne;return te.__generator(this,function(fe){if(this.Ei){if(null!==d.key)if(this.gi.test(d.key)){if(null==d.newValue)return m=this.zi(d.key),[2,this.Hi(m,null)];if(C=this.Yi(d.key,d.newValue))return[2,this.Hi(C.clientId,C)]}else if(this.Pi.test(d.key)){if(null!==d.newValue&&(T=this.Ji(d.key,d.newValue)))return[2,this.Xi(T)]}else if(this.yi.test(d.key)){if(null!==d.newValue&&(P=this.Zi(d.key,d.newValue)))return[2,this.tr(P)]}else if(d.key===this.Vi){if(null!==d.newValue&&(j=this.vi(d.newValue)))return[2,this.Si(j)]}else d.key===this.Ri&&(ne=function(Te){var De=Vr.ai;if(null!=Te)try{var We=JSON.parse(Te);dt("number"==typeof We),De=We}catch(ut){ft("SharedClientState","Failed to read sequence number from WebStorage",ut)}return De}(d.newValue))!==Vr.ai&&this.si(ne)}else this.Ii.push(d);return[2]})})})}},Object.defineProperty(c.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),c.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},c.prototype.$i=function(a,u,d){var m=new ya(this.currentUser,a,u,d),C=cc(this.persistenceKey,this.currentUser,a);this.setItem(C,m.ui())},c.prototype.Mi=function(a){var u=cc(this.persistenceKey,this.currentUser,a);this.removeItem(u)},c.prototype.Gi=function(a){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:a}))},c.prototype.Wi=function(a,u,d){var m=Tl(this.persistenceKey,a),C=new Ba(a,u,d);this.setItem(m,C.ui())},c.prototype.zi=function(a){var u=this.gi.exec(a);return u?u[1]:null},c.prototype.Yi=function(a,u){var d=this.zi(a);return Dl.ci(d,u)},c.prototype.Ji=function(a,u){var d=this.Pi.exec(a),m=Number(d[1]);return ya.ci(new Zr(void 0!==d[2]?d[2]:null),m,u)},c.prototype.Zi=function(a,u){var d=this.yi.exec(a),m=Number(d[1]);return Ba.ci(m,u)},c.prototype.vi=function(a){return Wn.ci(a)},c.prototype.Xi=function(a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){return a.user.uid===this.currentUser.uid?[2,this.fi.er(a.batchId,a.state,a.error)]:(Ne("SharedClientState","Ignoring mutation for non-active user "+a.user.uid),[2])})})},c.prototype.tr=function(a){return this.fi.nr(a.targetId,a.state,a.error)},c.prototype.Hi=function(a,u){var d=this,m=u?this.Ti.ot(a,u):this.Ti.remove(a),C=this.Ni(this.Ti),T=this.Ni(m),P=[],j=[];return T.forEach(function(ne){C.has(ne)||P.push(ne)}),C.forEach(function(ne){T.has(ne)||j.push(ne)}),this.fi.sr(P,j).then(function(){d.Ti=m})},c.prototype.Si=function(a){this.Ti.get(a.clientId)&&this.di(a.onlineState)},c.prototype.Ni=function(a){var u=Ot();return a.forEach(function(d,m){u=u.kt(m.activeTargetIds)}),u},c}(),Ku=function(){function c(){this.ir=new _o,this.rr={},this.di=null,this.si=null}return c.prototype.xi=function(a){},c.prototype.ki=function(a,u,d){},c.prototype.Oi=function(a){return this.ir.hi(a),this.rr[a]||"not-current"},c.prototype.Qi=function(a,u,d){this.rr[a]=u},c.prototype.Bi=function(a){this.ir.li(a)},c.prototype.qi=function(a){return this.ir.activeTargetIds.has(a)},c.prototype.Ui=function(a){delete this.rr[a]},c.prototype.Ci=function(){return this.ir.activeTargetIds},c.prototype.Fi=function(a){return this.ir.activeTargetIds.has(a)},c.prototype.start=function(){return this.ir=new _o,Promise.resolve()},c.prototype.ji=function(a,u,d){},c.prototype.Ki=function(a){},c.prototype.Di=function(){},c.prototype.oi=function(a){},c}(),ba=function(){function c(a,u,d,m){this.batchId=a,this.ar=u,this.baseMutations=d,this.mutations=m}return c.prototype.cr=function(a,u,d){for(var m=d.ur,C=0;C<this.mutations.length;C++){var T=this.mutations[C];T.key.isEqual(a)&&(u=Yr(T,u,m[C]))}return u},c.prototype.hr=function(a,u){for(var d=0,m=this.baseMutations;d<m.length;d++){var C=m[d];C.key.isEqual(a)&&(u=lr(C,u,u,this.ar))}for(var T=u,P=0,j=this.mutations;P<j.length;P++){var ne=j[P];ne.key.isEqual(a)&&(u=lr(ne,u,T,this.ar))}return u},c.prototype.lr=function(a){var u=this,d=a;return this.mutations.forEach(function(m){var C=u.hr(m.key,a.get(m.key));C&&(d=d.ot(m.key,C))}),d},c.prototype.keys=function(){return this.mutations.reduce(function(a,u){return a.add(u.key)},Fe())},c.prototype.isEqual=function(a){return this.batchId===a.batchId&&En(this.mutations,a.mutations,function(u,d){return Lr(u,d)})&&En(this.baseMutations,a.baseMutations,function(u,d){return Lr(u,d)})},c}(),y=function(){function c(a,u,d,m){this.batch=a,this._r=u,this.ur=d,this.dr=m}return c.from=function(a,u,d){dt(a.mutations.length===d.length);for(var m=Qe,C=a.mutations,T=0;T<C.length;T++)m=m.ot(C[T].key,d[T].version);return new c(a,u,d,m)},c}(),f=function(){function c(){this.wr=new Or(function(a){return a.toString()},function(a,u){return a.isEqual(u)}),this.mr=!1}return Object.defineProperty(c.prototype,"readTime",{get:function(){return this.Tr},set:function(a){this.Tr=a},enumerable:!1,configurable:!0}),c.prototype.Er=function(a,u){this.Ir(),this.readTime=u,this.wr.set(a.key,a)},c.prototype.Ar=function(a,u){this.Ir(),u&&(this.readTime=u),this.wr.set(a,null)},c.prototype.Rr=function(a,u){this.Ir();var d=this.wr.get(u);return void 0!==d?jt.resolve(d):this.gr(a,u)},c.prototype.getEntries=function(a,u){return this.Pr(a,u)},c.prototype.apply=function(a){return this.Ir(),this.mr=!0,this.yr(a)},c.prototype.Ir=function(){},c}(),g="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function c(){this.Vr=[]}return c.prototype.pr=function(a){this.Vr.push(a)},c.prototype.br=function(){this.Vr.forEach(function(a){return a()})},c}(),D=function(){function c(a,u,d){this.vr=a,this.Sr=u,this.Dr=d}return c.prototype.Cr=function(a,u){var d=this;return this.Sr.Nr(a,u).next(function(m){return d.Fr(a,u,m)})},c.prototype.Fr=function(a,u,d){return this.vr.Rr(a,u).next(function(m){for(var C=0,T=d;C<T.length;C++)m=T[C].hr(u,m);return m})},c.prototype.$r=function(a,u,d){var m=Gi();return u.forEach(function(C,T){for(var P=0,j=d;P<j.length;P++)T=j[P].hr(C,T);m=m.ot(C,T)}),m},c.prototype.kr=function(a,u){var d=this;return this.vr.getEntries(a,u).next(function(m){return d.Mr(a,m)})},c.prototype.Mr=function(a,u){var d=this;return this.Sr.Or(a,u).next(function(m){var C=d.$r(a,u,m),T=un();return C.forEach(function(P,j){j||(j=new li(P,xn.min())),T=T.ot(P,j)}),T})},c.prototype.Lr=function(a,u,d){return I.F((m=u).path)&&null===m.collectionGroup&&0===m.filters.length?this.Br(a,u.path):Ts(u)?this.qr(a,u,d):this.Ur(a,u,d);var m},c.prototype.Br=function(a,u){return this.Cr(a,new I(u)).next(function(d){var m=Be();return d instanceof Rr&&(m=m.ot(d.key,d)),m})},c.prototype.qr=function(a,u,d){var m=this,C=u.collectionGroup,T=Be();return this.Dr.Qr(a,C).next(function(P){return jt.forEach(P,function(j){var fe,Te,ne=(fe=u,Te=j.child(C),new Ss(Te,null,fe.on.slice(),fe.filters.slice(),fe.limit,fe.an,fe.startAt,fe.endAt));return m.Ur(a,ne,d).next(function(fe){fe.forEach(function(Te,De){T=T.ot(Te,De)})})}).next(function(){return T})})},c.prototype.Ur=function(a,u,d){var m,C,T=this;return this.vr.Lr(a,u,d).next(function(P){return m=P,T.Sr.Wr(a,u)}).next(function(P){return T.jr(a,C=P,m).next(function(j){m=j;for(var ne=0,fe=C;ne<fe.length;ne++)for(var Te=fe[ne],De=0,We=Te.mutations;De<We.length;De++){var ut=We[De],Ct=ut.key,Gt=m.get(Ct),vn=lr(ut,Gt,Gt,Te.ar);m=vn instanceof Rr?m.ot(Ct,vn):m.remove(Ct)}})}).next(function(){return m.forEach(function(P,j){Ms(u,j)||(m=m.remove(P))}),m})},c.prototype.jr=function(a,u,d){for(var m=Fe(),C=0,T=u;C<T.length;C++)for(var P=0,j=T[C].mutations;P<j.length;P++){var ne=j[P];ne instanceof fr&&null===d.get(ne.key)&&(m=m.add(ne.key))}var fe=d;return this.vr.getEntries(a,m).next(function(Te){return Te.forEach(function(De,We){null!==We&&We instanceof Rr&&(fe=fe.ot(De,We))}),fe})},c}(),x=function(){function c(a,u,d,m){this.targetId=a,this.fromCache=u,this.Kr=d,this.Gr=m}return c.zr=function(a,u){for(var d=Fe(),m=Fe(),C=0,T=u.docChanges;C<T.length;C++){var P=T[C];switch(P.type){case 0:d=d.add(P.doc.key);break;case 1:m=m.add(P.doc.key)}}return new c(a,u.fromCache,d,m)},c}();function z(c,a){var d=c[1],C=a[1],T=Ht(c[0],a[0]);return 0===T?Ht(d,C):T}var Q=function(){function c(a){this.Hr=a,this.buffer=new Tr(z),this.Yr=0}return c.prototype.Jr=function(){return++this.Yr},c.prototype.Xr=function(a){var u=[a,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(u);else{var d=this.buffer.last();z(u,d)<0&&(this.buffer=this.buffer.delete(d).add(u))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),ce={Zr:!1,eo:0,no:0,so:0},ae=function(){function c(a,u,d){this.io=a,this.ro=u,this.oo=d}return c.ao=function(a){return new c(a,c.co,c.uo)},c}();ae.ho=-1,ae.lo=1048576,ae._o=41943040,ae.co=10,ae.uo=1e3,ae.fo=new ae(ae._o,ae.co,ae.uo),ae.do=new ae(ae.ho,0,0);var He=function(){function c(a,u){this.wo=a,this.cs=u,this.mo=!1,this.To=null}return c.prototype.start=function(a){this.wo.params.io!==ae.ho&&this.Eo(a)},c.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(c.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),c.prototype.Eo=function(a){var u=this,d=this.mo?3e5:6e4;Ne("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.To=this.cs.yn("lru_garbage_collection",d,function(){return te.__awaiter(u,void 0,void 0,function(){var m;return te.__generator(this,function(C){switch(C.label){case 0:this.To=null,this.mo=!0,C.label=1;case 1:return C.trys.push([1,3,,7]),[4,a.Io(this.wo)];case 2:return C.sent(),[3,7];case 3:return As(m=C.sent())?(Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,wa(m)];case 5:C.sent(),C.label=6;case 6:return[3,7];case 7:return[4,this.Eo(a)];case 8:return C.sent(),[2]}})})})},c}(),it=function(){function c(a,u){this.Ao=a,this.params=u}return c.prototype.Ro=function(a,u){return this.Ao.Po(a).next(function(d){return Math.floor(u/100*d)})},c.prototype.yo=function(a,u){var d=this;if(0===u)return jt.resolve(Vr.ai);var m=new Q(u);return this.Ao.Ce(a,function(C){return m.Xr(C.sequenceNumber)}).next(function(){return d.Ao.Vo(a,function(C){return m.Xr(C)})}).next(function(){return m.maxValue})},c.prototype.po=function(a,u,d){return this.Ao.po(a,u,d)},c.prototype.bo=function(a,u){return this.Ao.bo(a,u)},c.prototype.vo=function(a,u){var d=this;return this.params.io===ae.ho?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(ce)):this.So(a).next(function(m){return m<d.params.io?(Ne("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+d.params.io),ce):d.Do(a,u)})},c.prototype.So=function(a){return this.Ao.So(a)},c.prototype.Do=function(a,u){var d,m,C,T,P,j,ne,fe=this,Te=Date.now();return this.Ro(a,this.params.ro).next(function(De){return De>fe.params.oo?(Ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+fe.params.oo+" from "+De),m=fe.params.oo):m=De,T=Date.now(),fe.yo(a,m)}).next(function(De){return d=De,P=Date.now(),fe.po(a,d,u)}).next(function(De){return C=De,j=Date.now(),fe.bo(a,d)}).next(function(De){return ne=Date.now(),st()<=re.LogLevel.DEBUG&&Ne("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(T-Te)+"ms\n\tDetermined least recently used "+m+" in "+(P-T)+"ms\n\tRemoved "+C+" targets in "+(j-P)+"ms\n\tRemoved "+De+" documents in "+(ne-j)+"ms\nTotal Duration: "+(ne-Te)+"ms"),jt.resolve({Zr:!0,eo:m,no:C,so:De})})},c}();function _t(c){for(var a="",u=0;u<c.length;u++)a.length>0&&(a=Zt(a)),a=xt(c.get(u),a);return Zt(a)}function xt(c,a){for(var u=a,d=c.length,m=0;m<d;m++){var C=c.charAt(m);switch(C){case"\0":u+="\x01\x10";break;case"\x01":u+="\x01\x11";break;default:u+=C}}return u}function Zt(c){return c+"\x01\x01"}function ln(c){var a=c.length;if(dt(a>=2),2===a)return dt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),pt.P();for(var u=a-2,d=[],m="",C=0;C<a;){var T=c.indexOf("\x01",C);switch((T<0||T>u)&&Le(),c.charAt(T+1)){case"\x01":var P=c.substring(C,T),j=void 0;0===m.length?j=P:(j=m+=P,m=""),d.push(j);break;case"\x10":m+=c.substring(C,T),m+="\0";break;case"\x11":m+=c.substring(C,T+1);break;default:Le()}C=T+2}return new pt(d)}var $n=function(c){this.Co=c};function Zn(c,a){if(a.document)return j=!!a.hasCommittedMutations,ne=zn(c.Co,(P=a.document).name),fe=Ho(P.updateTime),Te=new Ws({mapValue:{fields:P.fields}}),new Rr(ne,fe,Te,{hasCommittedMutations:!!j});var P,j,ne,fe,Te;if(a.noDocument){var u=I.$(a.noDocument.path),d=Ki(a.noDocument.readTime);return new li(u,d,{hasCommittedMutations:!!a.hasCommittedMutations})}if(a.unknownDocument){var m=I.$(a.unknownDocument.path),C=Ki(a.unknownDocument.version);return new zr(m,C)}return Le()}function vo(c,a,u){var De,We,d=$i(u),m=a.key.path.h().A();if(a instanceof Rr){var C={name:no(De=c.Co,(We=a).key),fields:We.rn().mapValue.fields,updateTime:ru(De,We.version.Z())};return new Ei(null,null,C,a.hasCommittedMutations,d,m)}if(a instanceof li){var P=a.key.path.A(),j=_n(a.version),ne=a.hasCommittedMutations;return new Ei(null,new Cm(P,j),null,ne,d,m)}if(a instanceof zr){var fe=a.key.path.A(),Te=_n(a.version);return new Ei(new Em(fe,Te),null,null,!0,d,m)}return Le()}function $i(c){var a=c.Z();return[a.seconds,a.nanoseconds]}function yo(c){var a=new Qn(c[0],c[1]);return xn.J(a)}function _n(c){var a=c.Z();return new ro(a.seconds,a.nanoseconds)}function Ki(c){var a=new Qn(c.seconds,c.nanoseconds);return xn.J(a)}function fs(c,a){var u=(a.baseMutations||[]).map(function(C){return $t(c.Co,C)}),d=a.mutations.map(function(C){return $t(c.Co,C)}),m=Qn.fromMillis(a.localWriteTimeMs);return new ba(a.batchId,m,u,d)}function sh(c){var a,u,d=Ki(c.readTime),m=void 0!==c.lastLimboFreeSnapshotVersion?Ki(c.lastLimboFreeSnapshotVersion):xn.min();return void 0!==c.query.documents?(dt(1===(u=c.query).documents.length),a=zi(Li(Hs(u.documents[0])))):a=qo(c.query),new Mn(a,c.targetId,0,c.lastListenSequenceNumber,d,m,Kt.fromBase64String(c.resumeToken))}function tf(c,a){var u,d=_n(a.nt),m=_n(a.lastLimboFreeSnapshotVersion);u=zt(a.target)?Gn(c.Co,a.target):zs(c.Co,a.target);var C=a.resumeToken.toBase64();return new Lo(a.targetId,Ue(a.target),d,C,a.sequenceNumber,m,u)}var ah=function(){function c(a,u,d,m){this.userId=a,this.serializer=u,this.Dr=d,this.No=m,this.Fo={}}return c.xo=function(a,u,d,m){return dt(""!==a.uid),new c(a.Zs()?a.uid:"",u,d,m)},c.prototype.$o=function(a){var u=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(a).rs({index:Di.userMutationsIndex,range:d},function(m,C,T){u=!1,T.done()}).next(function(){return u})},c.prototype.ko=function(a,u,d,m){var C=this,T=Mu(a),P=Du(a);return P.add({}).next(function(j){dt("number"==typeof j);for(var ne=new ba(j,u,d,m),fe=function(vn,Kn,cr){var Gr=cr.baseMutations.map(function(Bi){return Hi(vn.Co,Bi)}),_i=cr.mutations.map(function(Bi){return Hi(vn.Co,Bi)});return new Di(Kn,cr.batchId,cr.ar.toMillis(),Gr,_i)}(C.serializer,C.userId,ne),Te=[],De=new Tr(function(vn,Kn){return Ht(vn.R(),Kn.R())}),We=0,ut=m;We<ut.length;We++){var Ct=ut[We],Gt=Yo.key(C.userId,Ct.key.path,j);De=De.add(Ct.key.path.h()),Te.push(P.put(fe)),Te.push(T.put(Gt,Yo.PLACEHOLDER))}return De.forEach(function(vn){Te.push(C.Dr.Mo(a,vn))}),a.pr(function(){C.Fo[j]=ne.keys()}),jt.$n(Te).next(function(){return ne})})},c.prototype.Oo=function(a,u){var d=this;return Du(a).get(u).next(function(m){return m?(dt(m.userId===d.userId),fs(d.serializer,m)):null})},c.prototype.Lo=function(a,u){var d=this;return this.Fo[u]?jt.resolve(this.Fo[u]):this.Oo(a,u).next(function(m){if(m){var C=m.keys();return d.Fo[u]=C,C}return null})},c.prototype.Bo=function(a,u){var d=this,m=u+1,C=IDBKeyRange.lowerBound([this.userId,m]),T=null;return Du(a).rs({index:Di.userMutationsIndex,range:C},function(P,j,ne){j.userId===d.userId&&(dt(j.batchId>=m),T=fs(d.serializer,j)),ne.done()}).next(function(){return T})},c.prototype.qo=function(a){var u=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return Du(a).rs({index:Di.userMutationsIndex,range:u,reverse:!0},function(m,C,T){d=C.batchId,T.done()}).next(function(){return d})},c.prototype.Uo=function(a){var u=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(a).ts(Di.userMutationsIndex,d).next(function(m){return m.map(function(C){return fs(u.serializer,C)})})},c.prototype.Nr=function(a,u){var d=this,m=Yo.prefixForPath(this.userId,u.path),C=IDBKeyRange.lowerBound(m),T=[];return Mu(a).rs({range:C},function(P,j,ne){var fe=P[0],De=P[2],We=ln(P[1]);if(fe===d.userId&&u.path.isEqual(We))return Du(a).get(De).next(function(ut){if(!ut)throw Le();dt(ut.userId===d.userId),T.push(fs(d.serializer,ut))});ne.done()}).next(function(){return T})},c.prototype.Or=function(a,u){var d=this,m=new Tr(Ht),C=[];return u.forEach(function(T){var P=Yo.prefixForPath(d.userId,T.path),j=IDBKeyRange.lowerBound(P),ne=Mu(a).rs({range:j},function(fe,Te,De){var We=fe[0],Ct=fe[2],Gt=ln(fe[1]);We===d.userId&&T.path.isEqual(Gt)?m=m.add(Ct):De.done()});C.push(ne)}),jt.$n(C).next(function(){return d.Qo(a,m)})},c.prototype.Wr=function(a,u){var d=this,m=u.path,C=m.length+1,T=Yo.prefixForPath(this.userId,m),P=IDBKeyRange.lowerBound(T),j=new Tr(Ht);return Mu(a).rs({range:P},function(ne,fe,Te){var De=ne[0],ut=ne[2],Ct=ln(ne[1]);De===d.userId&&m.T(Ct)?Ct.length===C&&(j=j.add(ut)):Te.done()}).next(function(){return d.Qo(a,j)})},c.prototype.Qo=function(a,u){var d=this,m=[],C=[];return u.forEach(function(T){C.push(Du(a).get(T).next(function(P){if(null===P)throw Le();dt(P.userId===d.userId),m.push(fs(d.serializer,P))}))}),jt.$n(C).next(function(){return m})},c.prototype.Wo=function(a,u){var d=this;return hc(a.jo,this.userId,u).next(function(m){return a.pr(function(){d.Ko(u.batchId)}),jt.forEach(m,function(C){return d.No.Go(a,C)})})},c.prototype.Ko=function(a){delete this.Fo[a]},c.prototype.zo=function(a){var u=this;return this.$o(a).next(function(d){if(!d)return jt.resolve();var m=IDBKeyRange.lowerBound(Yo.prefixForUser(u.userId)),C=[];return Mu(a).rs({range:m},function(T,P,j){if(T[0]===u.userId){var ne=ln(T[1]);C.push(ne)}else j.done()}).next(function(){dt(0===C.length)})})},c.prototype.Ho=function(a,u){return uh(a,this.userId,u)},c.prototype.Yo=function(a){var u=this;return Ml(a).get(this.userId).next(function(d){return d||new Au(u.userId,-1,"")})},c}();function uh(c,a,u){var d=Yo.prefixForPath(a,u.path),m=d[1],C=IDBKeyRange.lowerBound(d),T=!1;return Mu(c).rs({range:C,ss:!0},function(P,j,ne){P[0]===a&&P[1]===m&&(T=!0),ne.done()}).next(function(){return T})}function hc(c,a,u){var d=c.store(Di.store),m=c.store(Yo.store),C=[],T=IDBKeyRange.only(u.batchId),P=0,j=d.rs({range:T},function(ut,Ct,Gt){return P++,Gt.delete()});C.push(j.next(function(){dt(1===P)}));for(var ne=[],fe=0,Te=u.mutations;fe<Te.length;fe++){var De=Te[fe],We=Yo.key(a,De.key.path,u.batchId);C.push(m.delete(We)),ne.push(De.key)}return jt.$n(C).next(function(){return ne})}function Du(c){return ds.Qn(c,Di.store)}function Mu(c){return ds.Qn(c,Yo.store)}function Ml(c){return ds.Qn(c,Au.store)}var nf=function(){function c(a,u){this.serializer=a,this.Dr=u}return c.prototype.Er=function(a,u,d){return ja(a).put(au(u),d)},c.prototype.Ar=function(a,u){var d=ja(a),m=au(u);return d.delete(m)},c.prototype.updateMetadata=function(a,u){var d=this;return this.getMetadata(a).next(function(m){return m.byteSize+=u,d.Jo(a,m)})},c.prototype.Rr=function(a,u){var d=this;return ja(a).get(au(u)).next(function(m){return d.Xo(m)})},c.prototype.Zo=function(a,u){var d=this;return ja(a).get(au(u)).next(function(m){var C=d.Xo(m);return C?{ta:C,size:Yu(m)}:null})},c.prototype.getEntries=function(a,u){var d=this,m=Gi();return this.ea(a,u,function(C,T){var P=d.Xo(T);m=m.ot(C,P)}).next(function(){return m})},c.prototype.na=function(a,u){var d=this,m=Gi(),C=new an(I.i);return this.ea(a,u,function(T,P){var j=d.Xo(P);j?(m=m.ot(T,j),C=C.ot(T,Yu(P))):(m=m.ot(T,null),C=C.ot(T,0))}).next(function(){return{sa:m,ia:C}})},c.prototype.ea=function(a,u,d){if(u.m())return jt.resolve();var m=IDBKeyRange.bound(u.first().path.A(),u.last().path.A()),C=u._t(),T=C.It();return ja(a).rs({range:m},function(P,j,ne){for(var fe=I.$(P);T&&I.i(T,fe)<0;)d(T,null),T=C.It();T&&T.isEqual(fe)&&(d(T,j),T=C.At()?C.It():null),T?ne.Xn(T.path.A()):ne.done()}).next(function(){for(;T;)d(T,null),T=C.At()?C.It():null})},c.prototype.Lr=function(a,u,d){var m=this,C=Be(),T=u.path.length+1,P={};if(d.isEqual(xn.min())){var j=u.path.A();P.range=IDBKeyRange.lowerBound(j)}else{var ne=u.path.A(),fe=$i(d);P.range=IDBKeyRange.lowerBound([ne,fe],!0),P.index=Ei.collectionReadTimeIndex}return ja(a).rs(P,function(Te,De,We){if(Te.length===T){var ut=Zn(m.serializer,De);u.path.T(ut.key.path)?ut instanceof Rr&&Ms(u,ut)&&(C=C.ot(ut.key,ut)):We.done()}}).next(function(){return C})},c.prototype.ra=function(a){return new fc(this,!!a&&a.oa)},c.prototype.aa=function(a){return this.getMetadata(a).next(function(u){return u.byteSize})},c.prototype.getMetadata=function(a){return rd(a).get(xs.key).next(function(u){return dt(!!u),u})},c.prototype.Jo=function(a,u){return rd(a).put(xs.key,u)},c.prototype.Xo=function(a){if(a){var u=Zn(this.serializer,a);return u instanceof li&&u.version.isEqual(xn.min())?null:u}return null},c}(),fc=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).ca=u,m.oa=d,m.ua=new Or(function(C){return C.toString()},function(C,T){return C.isEqual(T)}),m}return te.__extends(a,c),a.prototype.yr=function(u){var d=this,m=[],C=0,T=new Tr(function(P,j){return Ht(P.R(),j.R())});return this.wr.forEach(function(P,j){var ne=d.ua.get(P);if(j){var fe=vo(d.ca.serializer,j,d.readTime);T=T.add(P.path.h());var Te=Yu(fe);C+=Te-ne,m.push(d.ca.Er(u,P,fe))}else if(C-=ne,d.oa){var De=vo(d.ca.serializer,new li(P,xn.min()),d.readTime);m.push(d.ca.Er(u,P,De))}else m.push(d.ca.Ar(u,P))}),T.forEach(function(P){m.push(d.ca.Dr.Mo(u,P))}),m.push(this.ca.updateMetadata(u,C)),jt.$n(m)},a.prototype.gr=function(u,d){var m=this;return this.ca.Zo(u,d).next(function(C){return null===C?(m.ua.set(d,0),null):(m.ua.set(d,C.size),C.ta)})},a.prototype.Pr=function(u,d){var m=this;return this.ca.na(u,d).next(function(C){var T=C.sa;return C.ia.forEach(function(P,j){m.ua.set(P,j)}),T})},a}(f);function rd(c){return ds.Qn(c,xs.store)}function ja(c){return ds.Qn(c,Ei.store)}function au(c){return c.path.A()}function Yu(c){var a;if(c.document)a=c.document;else if(c.unknownDocument)a=c.unknownDocument;else{if(!c.noDocument)throw Le();a=c.noDocument}return JSON.stringify(a).length}var wm=function(){function c(){this.ha=new $o}return c.prototype.Mo=function(a,u){return this.ha.add(u),jt.resolve()},c.prototype.Qr=function(a,u){return jt.resolve(this.ha.getEntries(u))},c}(),$o=function(){function c(){this.index={}}return c.prototype.add=function(a){var u=a._(),d=a.h(),m=this.index[u]||new Tr(pt.i),C=!m.has(d);return this.index[u]=m.add(d),C},c.prototype.has=function(a){var u=a._(),d=a.h(),m=this.index[u];return m&&m.has(d)},c.prototype.getEntries=function(a){return(this.index[a]||new Tr(pt.i)).A()},c}(),Qu=function(){function c(a){this.serializer=a}return c.prototype.createOrUpgrade=function(a,u,d,m){var C=this;dt(d<m&&d>=0&&m<=10);var j,T=new yi("createOrUpgrade",u);d<1&&m>=1&&(a.createObjectStore(Ko.store),(j=a).createObjectStore(Au.store,{keyPath:Au.keyPath}),j.createObjectStore(Di.store,{keyPath:Di.keyPath,autoIncrement:!0}).createIndex(Di.userMutationsIndex,Di.userMutationsKeyPath,{unique:!0}),j.createObjectStore(Yo.store),Ou(a),function(j){j.createObjectStore(Ei.store)}(a));var P=jt.resolve();return d<3&&m>=3&&(0!==d&&(function(j){j.deleteObjectStore(To.store),j.deleteObjectStore(Lo.store),j.deleteObjectStore(Rs.store)}(a),Ou(a)),P=P.next(function(){return function(j){var ne=j.store(Rs.store),fe=new Rs(0,0,xn.min().Z(),0);return ne.put(Rs.key,fe)}(T)})),d<4&&m>=4&&(0!==d&&(P=P.next(function(){return function(j,ne){return ne.store(Di.store).ts().next(function(fe){j.deleteObjectStore(Di.store),j.createObjectStore(Di.store,{keyPath:Di.keyPath,autoIncrement:!0}).createIndex(Di.userMutationsIndex,Di.userMutationsKeyPath,{unique:!0});var Te=ne.store(Di.store),De=fe.map(function(We){return Te.put(We)});return jt.$n(De)})}(a,T)})),P=P.next(function(){!function(j){j.createObjectStore(Zs.store,{keyPath:Zs.keyPath})}(a)})),d<5&&m>=5&&(P=P.next(function(){return C.removeAcknowledgedMutations(T)})),d<6&&m>=6&&(P=P.next(function(){return function(j){j.createObjectStore(xs.store)}(a),C.addDocumentGlobal(T)})),d<7&&m>=7&&(P=P.next(function(){return C.ensureSequenceNumbers(T)})),d<8&&m>=8&&(P=P.next(function(){return C.createCollectionParentIndex(a,T)})),d<9&&m>=9&&(P=P.next(function(){(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(a),function(j){var ne=j.objectStore(Ei.store);ne.createIndex(Ei.readTimeIndex,Ei.readTimeIndexPath,{unique:!1}),ne.createIndex(Ei.collectionReadTimeIndex,Ei.collectionReadTimeIndexPath,{unique:!1})}(u)})),d<10&&m>=10&&(P=P.next(function(){return C.rewriteCanonicalIds(T)})),P},c.prototype.addDocumentGlobal=function(a){var u=0;return a.store(Ei.store).rs(function(d,m){u+=Yu(m)}).next(function(){var d=new xs(u);return a.store(xs.store).put(xs.key,d)})},c.prototype.removeAcknowledgedMutations=function(a){var u=this,d=a.store(Au.store),m=a.store(Di.store);return d.ts().next(function(C){return jt.forEach(C,function(T){var P=IDBKeyRange.bound([T.userId,-1],[T.userId,T.lastAcknowledgedBatchId]);return m.ts(Di.userMutationsIndex,P).next(function(j){return jt.forEach(j,function(ne){dt(ne.userId===T.userId);var fe=fs(u.serializer,ne);return hc(a,T.userId,fe).next(function(){})})})})})},c.prototype.ensureSequenceNumbers=function(a){var u=a.store(To.store),d=a.store(Ei.store);return a.store(Rs.store).get(Rs.key).next(function(m){var C=[];return d.rs(function(T,P){var j=new pt(T),ne=[0,_t(j)];C.push(u.get(ne).next(function(fe){return fe?jt.resolve():u.put(new To(0,_t(j),m.highestListenSequenceNumber))}))}).next(function(){return jt.$n(C)})})},c.prototype.createCollectionParentIndex=function(a,u){a.createObjectStore(Xu.store,{keyPath:Xu.keyPath});var d=u.store(Xu.store),m=new $o,C=function(T){if(m.add(T)){var P=T._(),j=T.h();return d.put({collectionId:P,parent:_t(j)})}};return u.store(Ei.store).rs({ss:!0},function(T,P){var j=new pt(T);return C(j.h())}).next(function(){return u.store(Yo.store).rs({ss:!0},function(T,P){var ne=ln(T[1]);return C(ne.h())})})},c.prototype.rewriteCanonicalIds=function(a){var u=this,d=a.store(Lo.store);return d.rs(function(m,C){var T=sh(C),P=tf(u.serializer,T);return d.put(P)})},c}(),ro=function(c,a){this.seconds=c,this.nanoseconds=a},Ko=function(c,a,u){this.ownerId=c,this.allowTabSynchronization=a,this.leaseTimestampMs=u};Ko.store="owner",Ko.key="owner";var Au=function(c,a,u){this.userId=c,this.lastAcknowledgedBatchId=a,this.lastStreamToken=u};Au.store="mutationQueues",Au.keyPath="userId";var Di=function(c,a,u,d,m){this.userId=c,this.batchId=a,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=m};Di.store="mutations",Di.keyPath="batchId",Di.userMutationsIndex="userMutationsIndex",Di.userMutationsKeyPath=["userId","batchId"];var Yo=function(){function c(){}return c.prefixForUser=function(a){return[a]},c.prefixForPath=function(a,u){return[a,_t(u)]},c.key=function(a,u,d){return[a,_t(u),d]},c}();Yo.store="documentMutations",Yo.PLACEHOLDER=new Yo;var Cm=function(c,a){this.path=c,this.readTime=a},Em=function(c,a){this.path=c,this.version=a},Ei=function(c,a,u,d,m,C){this.unknownDocument=c,this.noDocument=a,this.document=u,this.hasCommittedMutations=d,this.readTime=m,this.parentPath=C};Ei.store="remoteDocuments",Ei.readTimeIndex="readTimeIndex",Ei.readTimeIndexPath="readTime",Ei.collectionReadTimeIndex="collectionReadTimeIndex",Ei.collectionReadTimeIndexPath=["parentPath","readTime"];var xs=function(c){this.byteSize=c};xs.store="remoteDocumentGlobal",xs.key="remoteDocumentGlobalKey";var Lo=function(c,a,u,d,m,C,T){this.targetId=c,this.canonicalId=a,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=C,this.query=T};Lo.store="targets",Lo.keyPath="targetId",Lo.queryTargetsIndexName="queryTargetsIndex",Lo.queryTargetsKeyPath=["canonicalId","targetId"];var To=function(c,a,u){this.targetId=c,this.path=a,this.sequenceNumber=u};To.store="targetDocuments",To.keyPath=["targetId","path"],To.documentTargetsIndex="documentTargetsIndex",To.documentTargetsKeyPath=["path","targetId"];var Rs=function(c,a,u,d){this.highestTargetId=c,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=u,this.targetCount=d};Rs.key="targetGlobalKey",Rs.store="targetGlobal";var Xu=function(c,a){this.collectionId=c,this.parent=a};function Ou(c){c.createObjectStore(To.store,{keyPath:To.keyPath}).createIndex(To.documentTargetsIndex,To.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Lo.store,{keyPath:Lo.keyPath}).createIndex(Lo.queryTargetsIndexName,Lo.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Rs.store)}Xu.store="collectionParents",Xu.keyPath=["collectionId","parent"];var Zs=function(c,a,u,d){this.clientId=c,this.updateTimeMs=a,this.networkEnabled=u,this.inForeground=d};Zs.store="clientMetadata",Zs.keyPath="clientId";var Ep=te.__spreadArrays(te.__spreadArrays(te.__spreadArrays([Au.store,Di.store,Yo.store,Ei.store,Lo.store,Ko.store,Rs.store,To.store],[Zs.store]),[xs.store]),[Xu.store]),rf=function(){function c(){this.la=new $o}return c.prototype.Mo=function(a,u){var d=this;if(!this.la.has(u)){var m=u._(),C=u.h();a.pr(function(){d.la.add(u)});var T={collectionId:m,parent:_t(C)};return Al(a).put(T)}return jt.resolve()},c.prototype.Qr=function(a,u){var d=[],m=IDBKeyRange.bound([u,""],[on(u),""],!1,!0);return Al(a).ts(m).next(function(C){for(var T=0,P=C;T<P.length;T++){var j=P[T];if(j.collectionId!==u)break;d.push(ln(j.parent))}return d})},c}();function Al(c){return ds.Qn(c,Xu.store)}var Ol=function(){function c(a){this._a=a}return c.prototype.next=function(){return this._a+=2,this._a},c.fa=function(){return new c(0)},c.da=function(){return new c(-1)},c}(),id=function(){function c(a,u){this.No=a,this.serializer=u}return c.prototype.wa=function(a){var u=this;return this.ma(a).next(function(d){var m=new Ol(d.highestTargetId);return d.highestTargetId=m.next(),u.Ta(a,d).next(function(){return d.highestTargetId})})},c.prototype.Ea=function(a){return this.ma(a).next(function(u){return xn.J(new Qn(u.lastRemoteSnapshotVersion.seconds,u.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.Ia=function(a){return this.ma(a).next(function(u){return u.highestListenSequenceNumber})},c.prototype.Aa=function(a,u,d){var m=this;return this.ma(a).next(function(C){return C.highestListenSequenceNumber=u,d&&(C.lastRemoteSnapshotVersion=d.Z()),u>C.highestListenSequenceNumber&&(C.highestListenSequenceNumber=u),m.Ta(a,C)})},c.prototype.Ra=function(a,u){var d=this;return this.ga(a,u).next(function(){return d.ma(a).next(function(m){return m.targetCount+=1,d.Pa(u,m),d.Ta(a,m)})})},c.prototype.ya=function(a,u){return this.ga(a,u)},c.prototype.Va=function(a,u){var d=this;return this.pa(a,u.targetId).next(function(){return xl(a).delete(u.targetId)}).next(function(){return d.ma(a)}).next(function(m){return dt(m.targetCount>0),m.targetCount-=1,d.Ta(a,m)})},c.prototype.po=function(a,u,d){var m=this,C=0,T=[];return xl(a).rs(function(P,j){var ne=sh(j);ne.sequenceNumber<=u&&null===d.get(ne.targetId)&&(C++,T.push(m.Va(a,ne)))}).next(function(){return jt.$n(T)}).next(function(){return C})},c.prototype.Ce=function(a,u){return xl(a).rs(function(d,m){var C=sh(m);u(C)})},c.prototype.ma=function(a){return Sm(a).get(Rs.key).next(function(u){return dt(null!==u),u})},c.prototype.Ta=function(a,u){return Sm(a).put(Rs.key,u)},c.prototype.ga=function(a,u){return xl(a).put(tf(this.serializer,u))},c.prototype.Pa=function(a,u){var d=!1;return a.targetId>u.highestTargetId&&(u.highestTargetId=a.targetId,d=!0),a.sequenceNumber>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=a.sequenceNumber,d=!0),d},c.prototype.ba=function(a){return this.ma(a).next(function(u){return u.targetCount})},c.prototype.va=function(a,u){var d=Ue(u),m=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),C=null;return xl(a).rs({range:m,index:Lo.queryTargetsIndexName},function(T,P,j){var ne=sh(P);Wt(u,ne.target)&&(C=ne,j.done())}).next(function(){return C})},c.prototype.Sa=function(a,u,d){var m=this,C=[],T=Ju(a);return u.forEach(function(P){var j=_t(P.path);C.push(T.put(new To(d,j))),C.push(m.No.Da(a,d,P))}),jt.$n(C)},c.prototype.Ca=function(a,u,d){var m=this,C=Ju(a);return jt.forEach(u,function(T){var P=_t(T.path);return jt.$n([C.delete([d,P]),m.No.Na(a,d,T)])})},c.prototype.pa=function(a,u){var d=Ju(a),m=IDBKeyRange.bound([u],[u+1],!1,!0);return d.delete(m)},c.prototype.Fa=function(a,u){var d=IDBKeyRange.bound([u],[u+1],!1,!0),m=Ju(a),C=Fe();return m.rs({range:d,ss:!0},function(T,P,j){var ne=ln(T[1]),fe=new I(ne);C=C.add(fe)}).next(function(){return C})},c.prototype.Ho=function(a,u){var d=_t(u.path),m=IDBKeyRange.bound([d],[on(d)],!1,!0),C=0;return Ju(a).rs({index:To.documentTargetsIndex,ss:!0,range:m},function(T,P,j){0!==T[0]&&(C++,j.done())}).next(function(){return C>0})},c.prototype.Ue=function(a,u){return xl(a).get(u).next(function(d){return d?sh(d):null})},c}();function xl(c){return ds.Qn(c,Lo.store)}function Sm(c){return ds.Qn(c,Rs.store)}function Ju(c){return ds.Qn(c,To.store)}var Rl="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lh=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).jo=u,m.xa=d,m}return te.__extends(a,c),a}(b),ds=function(){function c(a,u,d,m,C,T,P,j,ne,fe){if(this.allowTabSynchronization=a,this.persistenceKey=u,this.clientId=d,this.fn=C,this.window=T,this.document=P,this.$a=ne,this.ka=fe,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(Te){return Promise.resolve()},!c.Ln())throw new Y(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new dc(this,m),this.Wa=u+"main",this.serializer=new $n(j),this.ja=new ii(this.Wa,10,new Qu(this.serializer)),this.Ka=new id(this.No,this.serializer),this.Dr=new rf,this.vr=new nf(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===fe&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.Qn=function(a,u){if(a instanceof lh)return ii.Qn(a.jo,u);throw Le()},c.prototype.start=function(){var a=this;return this.za().then(function(){if(!a.isPrimary&&!a.allowTabSynchronization)throw new Y(be.FAILED_PRECONDITION,Rl);return a.Ha(),a.Ya(),a.Ja(),a.runTransaction("getHighestListenSequenceNumber","readonly",function(u){return a.Ka.Ia(u)})}).then(function(u){a.Ma=new Vr(u,a.$a)}).then(function(){a.Oa=!0}).catch(function(u){return a.ja&&a.ja.close(),Promise.reject(u)})},c.prototype.Xa=function(a){var u=this;return this.Qa=function(d){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return this.Ei?[2,a(d)]:[2]})})},a(this.isPrimary)},c.prototype.Za=function(a){var u=this;this.ja.Kn(function(d){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){switch(m.label){case 0:return null===d.newVersion?[4,a()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},c.prototype.tc=function(a){var u=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.fn.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},c.prototype.za=function(){var a=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(u){return ch(u).put(new Zs(a.clientId,Date.now(),a.networkEnabled,a.inForeground)).next(function(){if(a.isPrimary)return a.ec(u).next(function(d){d||(a.isPrimary=!1,a.fn.Cs(function(){return a.Qa(!1)}))})}).next(function(){return a.nc(u)}).next(function(d){return a.isPrimary&&!d?a.sc(u).next(function(){return!1}):!!d&&a.ic(u).next(function(){return!0})})}).catch(function(u){if(As(u))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",u),a.isPrimary;if(!a.allowTabSynchronization)throw u;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",u),!1}).then(function(u){a.isPrimary!==u&&a.fn.Cs(function(){return a.Qa(u)}),a.isPrimary=u})},c.prototype.ec=function(a){var u=this;return Ha(a).get(Ko.key).next(function(d){return jt.resolve(u.rc(d))})},c.prototype.oc=function(a){return ch(a).delete(this.clientId)},c.prototype.ac=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,C=this;return te.__generator(this,function(T){switch(T.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(P){var j=c.Qn(P,Zs.store);return j.ts().next(function(ne){var fe=C.uc(ne,18e5),Te=ne.filter(function(De){return-1===fe.indexOf(De)});return jt.forEach(Te,function(De){return j.delete(De.clientId)}).next(function(){return Te})})}).catch(function(){return[]})]);case 1:if(a=T.sent(),this.Ga)for(u=0,d=a;u<d.length;u++)this.Ga.removeItem(this.hc(d[u].clientId));T.label=2;case 2:return[2]}})})},c.prototype.Ja=function(){var a=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return a.za().then(function(){return a.ac()}).then(function(){return a.Ja()})})},c.prototype.rc=function(a){return!!a&&a.ownerId===this.clientId},c.prototype.nc=function(a){var u=this;return this.ka?jt.resolve(!0):Ha(a).get(Ko.key).next(function(d){if(null!==d&&u.cc(d.leaseTimestampMs,5e3)&&!u.lc(d.ownerId)){if(u.rc(d)&&u.networkEnabled)return!0;if(!u.rc(d)){if(!d.allowTabSynchronization)throw new Y(be.FAILED_PRECONDITION,Rl);return!1}}return!(!u.networkEnabled||!u.inForeground)||ch(a).ts().next(function(m){return void 0===u.uc(m,5e3).find(function(C){return!(u.clientId===C.clientId||!(!u.networkEnabled&&C.networkEnabled||!u.inForeground&&C.inForeground&&u.networkEnabled===C.networkEnabled))})})}).next(function(d){return u.isPrimary!==d&&Ne("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},c.prototype.Di=function(){return te.__awaiter(this,void 0,void 0,function(){var a=this;return te.__generator(this,function(u){switch(u.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ko.store,Zs.store],function(d){var m=new lh(d,Vr.ai);return a.sc(m).next(function(){return a.oc(m)})})];case 1:return u.sent(),this.ja.close(),this.wc(),[2]}})})},c.prototype.uc=function(a,u){var d=this;return a.filter(function(m){return d.cc(m.updateTimeMs,u)&&!d.lc(m.clientId)})},c.prototype.pi=function(){var a=this;return this.runTransaction("getActiveClients","readonly",function(u){return ch(u).ts().next(function(d){return a.uc(d,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.mc=function(a){return ah.xo(a,this.serializer,this.Dr,this.No)},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.Ic=function(){return this.Dr},c.prototype.runTransaction=function(a,u,d){var C,m=this;return Ne("IndexedDbPersistence","Starting transaction:",a),this.ja.runTransaction(a,"readonly"===u?"readonly":"readwrite",Ep,function(P){return C=new lh(P,m.Ma?m.Ma.next():Vr.ai),"readwrite-primary"===u?m.ec(C).next(function(j){return!!j||m.nc(C)}).next(function(j){if(!j)throw ft("Failed to obtain primary lease for action '"+a+"'."),m.isPrimary=!1,m.fn.Cs(function(){return m.Qa(!1)}),new Y(be.FAILED_PRECONDITION,g);return d(C)}).next(function(j){return m.ic(C).next(function(){return j})}):m.Ac(C).next(function(){return d(C)})}).then(function(P){return C.br(),P})},c.prototype.Ac=function(a){var u=this;return Ha(a).get(Ko.key).next(function(d){if(null!==d&&u.cc(d.leaseTimestampMs,5e3)&&!u.lc(d.ownerId)&&!u.rc(d)&&!(u.ka||u.allowTabSynchronization&&d.allowTabSynchronization))throw new Y(be.FAILED_PRECONDITION,Rl)})},c.prototype.ic=function(a){var u=new Ko(this.clientId,this.allowTabSynchronization,Date.now());return Ha(a).put(Ko.key,u)},c.Ln=function(){return ii.Ln()},c.prototype.sc=function(a){var u=this,d=Ha(a);return d.get(Ko.key).next(function(m){return u.rc(m)?(Ne("IndexedDbPersistence","Releasing primary lease."),d.delete(Ko.key)):jt.resolve()})},c.prototype.cc=function(a,u){var d=Date.now();return!(a<d-u||a>d&&(ft("Detected an update time that is in the future: "+a+" > "+d),1))},c.prototype.Ha=function(){var a=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){a.fn.ws(function(){return a.inForeground="visible"===a.document.visibilityState,a.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},c.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},c.prototype.Ya=function(){var a,u=this;"function"==typeof(null===(a=this.window)||void 0===a?void 0:a.addEventListener)&&(this.La=function(){u._c(),u.fn.ws(function(){return u.Di()})},this.window.addEventListener("unload",this.La))},c.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},c.prototype.lc=function(a){var u;try{var d=null!==(null===(u=this.Ga)||void 0===u?void 0:u.getItem(this.hc(a)));return Ne("IndexedDbPersistence","Client '"+a+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(m){return ft("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},c.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(a){ft("Failed to set zombie client id.",a)}},c.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(a){}},c.prototype.hc=function(a){return"firestore_zombie_"+this.persistenceKey+"_"+a},c}();function Ha(c){return ds.Qn(c,Ko.store)}function ch(c){return ds.Qn(c,Zs.store)}var dc=function(){function c(a,u){this.db=a,this.wo=new it(this,u)}return c.prototype.Po=function(a){var u=this.Rc(a);return this.db.Tc().ba(a).next(function(d){return u.next(function(m){return d+m})})},c.prototype.Rc=function(a){var u=0;return this.Vo(a,function(d){u++}).next(function(){return u})},c.prototype.Ce=function(a,u){return this.db.Tc().Ce(a,u)},c.prototype.Vo=function(a,u){return this.gc(a,function(d,m){return u(m)})},c.prototype.Da=function(a,u,d){return xu(a,d)},c.prototype.Na=function(a,u,d){return xu(a,d)},c.prototype.po=function(a,u,d){return this.db.Tc().po(a,u,d)},c.prototype.Go=function(a,u){return xu(a,u)},c.prototype.Pc=function(a,u){return m=u,C=!1,Ml(d=a).os(function(T){return uh(d,T,m).next(function(P){return P&&(C=!0),jt.resolve(!P)})}).next(function(){return C});var d,m,C},c.prototype.bo=function(a,u){var d=this,m=this.db.Ec().ra(),C=[],T=0;return this.gc(a,function(P,j){if(j<=u){var ne=d.Pc(a,P).next(function(fe){if(!fe)return T++,m.Rr(a,P).next(function(){return m.Ar(P),Ju(a).delete([0,_t(P.path)])})});C.push(ne)}}).next(function(){return jt.$n(C)}).next(function(){return m.apply(a)}).next(function(){return T})},c.prototype.removeTarget=function(a,u){var d=u.st(a.xa);return this.db.Tc().ya(a,d)},c.prototype.yc=function(a,u){return xu(a,u)},c.prototype.gc=function(a,u){var d,m=Ju(a),C=Vr.ai;return m.rs({index:To.documentTargetsIndex},function(T,P){var ne=P.path,fe=P.sequenceNumber;0===T[0]?(C!==Vr.ai&&u(new I(ln(d)),C),C=fe,d=ne):C=Vr.ai}).next(function(){C!==Vr.ai&&u(new I(ln(d)),C)})},c.prototype.So=function(a){return this.db.Ec().aa(a)},c}();function xu(c,a){return Ju(c).put((d=c.xa,new To(0,_t(a.path),d)));var d}function od(c,a){var u=c.projectId;return c.j||(u+="."+c.database),"firestore/"+a+"/"+u+"/"}var pc=function(){function c(a,u,d){this.persistence=a,this.Vc=u,this.bc=new an(Ht),this.vc=new Or(function(m){return Ue(m)},Wt),this.Sc=xn.min(),this.Sr=a.mc(d),this.Dc=a.Ec(),this.Ka=a.Tc(),this.Cc=new D(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return c.prototype.Io=function(a){var u=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return a.vo(d,u.bc)})},c}();function gc(c,a){var u=et(c);return u.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var T,P,j,ne,fe,Te,De,m=a.batch.keys(),C=u.Dc.ra({oa:!0});return(T=u,P=d,j=a,ne=C,fe=j.batch,Te=fe.keys(),De=jt.resolve(),Te.forEach(function(We){De=De.next(function(){return ne.Rr(P,We)}).next(function(ut){var Ct=ut,Gt=j.dr.get(We);dt(null!==Gt),(!Ct||Ct.version.L(Gt)<0)&&(Ct=fe.cr(We,Ct,j))&&ne.Er(Ct,j._r)})}),De.next(function(){return T.Sr.Wo(P,fe)})).next(function(){return C.apply(d)}).next(function(){return u.Sr.zo(d)}).next(function(){return u.Cc.kr(d,m)})})}function Zu(c){var a=et(c);return a.persistence.runTransaction("Get last remote snapshot version","readonly",function(u){return a.Ka.Ea(u)})}function Im(c,a){var u=et(c),d=a.nt,m=u.bc;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(C){var T=u.Dc.ra({oa:!0});m=u.bc;var P=[];a.zt.forEach(function(Te,De){var Gt,vn,Kn,We=m.get(De);if(We){P.push(u.Ka.Ca(C,Te.se,De).next(function(){return u.Ka.Sa(C,Te.ee,De)}));var ut=Te.resumeToken;if(ut.O()>0){var Ct=We.it(ut,d).st(C.xa);m=m.ot(De,Ct),Gt=We,Kn=Te,dt((vn=Ct).resumeToken.O()>0),(0===Gt.resumeToken.O()||vn.nt.X()-Gt.nt.X()>=3e8||Kn.ee.size+Kn.ne.size+Kn.se.size>0)&&P.push(u.Ka.ya(C,Ct))}}});var j=un(),ne=Fe();if(a.Yt.forEach(function(Te,De){ne=ne.add(Te)}),P.push(T.getEntries(C,ne).next(function(Te){a.Yt.forEach(function(De,We){var ut=Te.get(De);We instanceof li&&We.version.isEqual(xn.min())?(T.Ar(De,d),j=j.ot(De,We)):null==ut||We.version.L(ut.version)>0||0===We.version.L(ut.version)&&ut.hasPendingWrites?(T.Er(We,d),j=j.ot(De,We)):Ne("LocalStore","Ignoring outdated watch update for ",De,". Current version:",ut.version," Watch version:",We.version),a.Jt.has(De)&&P.push(u.persistence.No.yc(C,De))})})),!d.isEqual(xn.min())){var fe=u.Ka.Ea(C).next(function(Te){return u.Ka.Aa(C,C.xa,d)});P.push(fe)}return jt.$n(P).next(function(){return T.apply(C)}).next(function(){return u.Cc.Mr(C,j)})}).then(function(C){return u.bc=m,C})}function sd(c,a){var u=et(c);return u.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===a&&(a=-1),u.Sr.Bo(d,a)})}function el(c,a){var u=et(c);return u.persistence.runTransaction("Allocate target","readwrite",function(d){var m;return u.Ka.va(d,a).next(function(C){return C?jt.resolve(m=C):u.Ka.wa(d).next(function(T){return m=new Mn(a,T,0,d.xa),u.Ka.Ra(d,m).next(function(){return m})})})}).then(function(d){var m=u.bc.get(d.targetId);return(null===m||d.nt.L(m.nt)>0)&&(u.bc=u.bc.ot(d.targetId,d),u.vc.set(a,d.targetId)),d})}function tl(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C,T;return te.__generator(this,function(P){switch(P.label){case 0:d=et(c),m=d.bc.get(a),C=u?"readwrite":"readwrite-primary",P.label=1;case 1:return P.trys.push([1,4,,5]),u?[3,3]:[4,d.persistence.runTransaction("Release target",C,function(j){return d.persistence.No.removeTarget(j,m)})];case 2:P.sent(),P.label=3;case 3:return[3,5];case 4:if(!As(T=P.sent()))throw T;return Ne("LocalStore","Failed to update sequence numbers for target "+a+": "+T),[3,5];case 5:return d.bc=d.bc.remove(a),d.vc.delete(m.target),[2]}})})}function mc(c,a,u){var d=et(c),m=xn.min(),C=Fe();return d.persistence.runTransaction("Execute query","readonly",function(T){return(P=d,j=T,ne=zi(a),fe=et(P),Te=fe.vc.get(ne),void 0!==Te?jt.resolve(fe.bc.get(Te)):fe.Ka.va(j,ne)).next(function(P){if(P)return m=P.lastLimboFreeSnapshotVersion,d.Ka.Fa(T,P.targetId).next(function(j){C=j})}).next(function(){return d.Vc.Lr(T,a,u?m:xn.min(),u?C:Fe())}).next(function(P){return{documents:P,Fc:C}});var P,j,ne,fe,Te})}function Pl(c,a){var u=et(c),d=et(u.Ka),m=u.bc.get(a);return m?Promise.resolve(m.target):u.persistence.runTransaction("Get target data","readonly",function(C){return d.Ue(C,a).next(function(T){return T?T.target:null})})}function hh(c){var a=et(c);return a.persistence.runTransaction("Get new document changes","readonly",function(u){return m=u,C=a.Sc,T=et(a.Dc),P=un(),j=$i(C),ne=ja(m),fe=IDBKeyRange.lowerBound(j,!0),ne.rs({index:Ei.readTimeIndex,range:fe},function(Te,De){var We=Zn(T.serializer,De);P=P.ot(We.key,We),j=De.readTime}).next(function(){return{xc:P,readTime:yo(j)}});var m,C,T,P,j,ne,fe}).then(function(u){var d=u.xc;return a.Sc=u.readTime,d})}function of(c){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){return[2,(a=et(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return C=ja(d),T=xn.min(),C.rs({index:Ei.readTimeIndex,reverse:!0},function(P,j,ne){j.readTime&&(T=yo(j.readTime)),ne.done()}).next(function(){return T});var C,T}).then(function(d){a.Sc=d})]})})}function wa(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){if(c.code!==be.FAILED_PRECONDITION||c.message!==g)throw c;return Ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ps=function(){function c(){this.$c=new Tr(Do.kc),this.Mc=new Tr(Do.Oc)}return c.prototype.m=function(){return this.$c.m()},c.prototype.Da=function(a,u){var d=new Do(a,u);this.$c=this.$c.add(d),this.Mc=this.Mc.add(d)},c.prototype.Lc=function(a,u){var d=this;a.forEach(function(m){return d.Da(m,u)})},c.prototype.Na=function(a,u){this.Bc(new Do(a,u))},c.prototype.qc=function(a,u){var d=this;a.forEach(function(m){return d.Na(m,u)})},c.prototype.Uc=function(a){var u=this,d=new I(new pt([])),m=new Do(d,a),C=new Do(d,a+1),T=[];return this.Mc.Ft([m,C],function(P){u.Bc(P),T.push(P.key)}),T},c.prototype.Qc=function(){var a=this;this.$c.forEach(function(u){return a.Bc(u)})},c.prototype.Bc=function(a){this.$c=this.$c.delete(a),this.Mc=this.Mc.delete(a)},c.prototype.Wc=function(a){var u=new I(new pt([])),d=new Do(u,a),m=new Do(u,a+1),C=Fe();return this.Mc.Ft([d,m],function(T){C=C.add(T.key)}),C},c.prototype.Ho=function(a){var u=new Do(a,0),d=this.$c.$t(u);return null!==d&&a.isEqual(d.key)},c}(),Do=function(){function c(a,u){this.key=a,this.jc=u}return c.kc=function(a,u){return I.i(a.key,u.key)||Ht(a.jc,u.jc)},c.Oc=function(a,u){return Ht(a.jc,u.jc)||I.i(a.key,u.key)},c}(),ad=function(c,a){this.user=a,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+c},sf=function(){function c(){this.Gc=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.zc=function(){},c.prototype.Hc=function(a){this.Gc=a,a(Zr.UNAUTHENTICATED)},c.prototype.Yc=function(){this.Gc=null},c}(),ud=function(){function c(a){var u=this;this.Jc=null,this.currentUser=Zr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){u.Zc++,u.currentUser=u.tu(),u.Xc=!0,u.Gc&&u.Gc(u.currentUser)},this.Zc=0,this.auth=a.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),a.get().then(function(d){u.auth=d,u.Jc&&u.auth.addAuthTokenListener(u.Jc)},function(){}))}return c.prototype.getToken=function(){var a=this,u=this.Zc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(m){return a.Zc!==u?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),a.getToken()):m?(dt("string"==typeof m.accessToken),new ad(m.accessToken,a.currentUser)):null}):Promise.resolve(null)},c.prototype.zc=function(){this.forceRefresh=!0},c.prototype.Hc=function(a){this.Gc=a,this.Xc&&a(this.currentUser)},c.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},c.prototype.tu=function(){var a=this.auth&&this.auth.getUid();return dt(null===a||"string"==typeof a),new Zr(a)},c}(),ld=function(){function c(a,u){this.eu=a,this.nu=u,this.type="FirstParty",this.user=Zr.ni}return Object.defineProperty(c.prototype,"Kc",{get:function(){var a={"X-Goog-AuthUser":this.nu},u=this.eu.auth.getAuthHeaderValueForFirstParty([]);return u&&(a.Authorization=u),a},enumerable:!1,configurable:!0}),c}(),af=function(){function c(a,u){this.eu=a,this.nu=u}return c.prototype.getToken=function(){return Promise.resolve(new ld(this.eu,this.nu))},c.prototype.Hc=function(a){a(Zr.ni)},c.prototype.Yc=function(){},c.prototype.zc=function(){},c}(),_c=function(){function c(a,u,d,m,C,T){this.fn=a,this.su=d,this.iu=m,this.ru=C,this.listener=T,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Iu(a,u)}return c.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.uu=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.hu()},c.prototype.stop=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){switch(a.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},c.prototype.lu=function(){this.state=0,this.ys.reset()},c.prototype._u=function(){var a=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return a.fu()}))},c.prototype.du=function(a){this.wu(),this.stream.send(a)},c.prototype.fu=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return this.uu()?[2,this.close(0)]:[2]})})},c.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},c.prototype.close=function(a,u){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==a?this.ys.reset():u&&u.code===be.RESOURCE_EXHAUSTED?(ft(u.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):u&&u.code===be.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.Tu(u)];case 1:return d.sent(),[2]}})})},c.prototype.mu=function(){},c.prototype.auth=function(){var a=this;this.state=1;var u=this.Eu(this.ou),d=this.ou;this.ru.getToken().then(function(m){a.ou===d&&a.Iu(m)},function(m){u(function(){var C=new Y(be.UNKNOWN,"Fetching auth token failed: "+m.message);return a.Au(C)})})},c.prototype.Iu=function(a){var u=this,d=this.Eu(this.ou);this.stream=this.Ru(a),this.stream.gu(function(){d(function(){return u.state=2,u.listener.gu()})}),this.stream.Tu(function(m){d(function(){return u.Au(m)})}),this.stream.onMessage(function(m){d(function(){return u.onMessage(m)})})},c.prototype.hu=function(){var a=this;this.state=4,this.ys.gn(function(){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(u){return this.state=0,this.start(),[2]})})})},c.prototype.Au=function(a){return Ne("PersistentStream","close with error: "+a),this.stream=null,this.close(3,a)},c.prototype.Eu=function(a){var u=this;return function(d){u.fn.ws(function(){return u.ou===a?d():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),kl=function(c){function a(u,d,m,C,T){var P=this;return(P=c.call(this,u,"listen_stream_connection_backoff","listen_stream_idle",d,m,T)||this).serializer=C,P}return te.__extends(a,c),a.prototype.Ru=function(u){return this.iu.Pu("Listen",u)},a.prototype.onMessage=function(u){this.ys.reset();var d=function(C,T){var P,Ta;if("targetChange"in T){var j="NO_CHANGE"===(Ta=T.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ta?1:"REMOVE"===Ta?2:"CURRENT"===Ta?3:"RESET"===Ta?4:Le(),ne=T.targetChange.targetIds||[],fe=function(Ta,Qi){return Ta.Qe?(dt(void 0===Qi||"string"==typeof Qi),Kt.fromBase64String(Qi||"")):(dt(void 0===Qi||Qi instanceof Uint8Array),Kt.fromUint8Array(Qi||new Uint8Array))}(C,T.targetChange.resumeToken),Te=T.targetChange.cause,De=Te&&function(Ta){var Qi=void 0===Ta.code?be.UNKNOWN:Ir(Ta.code);return new Y(Qi,Ta.message||"")}(Te);P=new Kr(j,ne,fe,De||null)}else if("documentChange"in T){var We=T.documentChange,ut=zn(C,We.document.name),Ct=Ho(We.document.updateTime),Gt=new Ws({mapValue:{fields:We.document.fields}}),vn=new Rr(ut,Ct,Gt,{});P=new ar(We.targetIds||[],We.removedTargetIds||[],vn.key,vn)}else if("documentDelete"in T){var Gr=T.documentDelete,_i=zn(C,Gr.document),Bi=Gr.readTime?Ho(Gr.readTime):xn.min(),du=new li(_i,Bi);P=new ar([],Gr.removedTargetIds||[],du.key,du)}else if("documentRemove"in T){var Wl=T.documentRemove,Th=zn(C,Wl.document);P=new ar([],Wl.removedTargetIds||[],Th,null)}else{if(!("filter"in T))return Le();var pu=T.filter,Dh=new Er(pu.count||0);P=new br(pu.targetId,Dh)}return P}(this.serializer,u),m=function(C){if(!("targetChange"in C))return xn.min();var T=C.targetChange;return T.targetIds&&T.targetIds.length?xn.min():T.readTime?Ho(T.readTime):xn.min()}(u);return this.listener.yu(d,m)},a.prototype.Vu=function(u){var C,T,P,j,d={};d.database=Tn(this.serializer),d.addTarget=(C=this.serializer,(P=zt(j=(T=u).target)?{documents:Gn(C,j)}:{query:zs(C,j)}).targetId=T.targetId,T.resumeToken.O()>0&&(P.resumeToken=ho(C,T.resumeToken)),P);var m=function(C,T){var P=function(j,ne){switch(ne){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,T.et);return null==P?null:{"goog-listen-tags":P}}(0,u);m&&(d.labels=m),this.du(d)},a.prototype.pu=function(u){var d={};d.database=Tn(this.serializer),d.removeTarget=u,this.du(d)},a}(_c),uu=function(c){function a(u,d,m,C,T){var P=this;return(P=c.call(this,u,"write_stream_connection_backoff","write_stream_idle",d,m,T)||this).serializer=C,P.bu=!1,P}return te.__extends(a,c),Object.defineProperty(a.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},a.prototype.mu=function(){this.bu&&this.Su([])},a.prototype.Ru=function(u){return this.iu.Pu("Write",u)},a.prototype.onMessage=function(u){if(dt(!!u.streamToken),this.lastStreamToken=u.streamToken,this.bu){this.ys.reset();var d=(T=u.commitTime,(C=u.writeResults)&&C.length>0?(dt(void 0!==T),C.map(function(P){return function(j,ne){var fe=Ho(j.updateTime?j.updateTime:ne);fe.isEqual(xn.min())&&(fe=Ho(ne));var Te=null;return j.transformResults&&j.transformResults.length>0&&(Te=j.transformResults),new Pt(fe,Te)}(P,T)})):[]),m=Ho(u.commitTime);return this.listener.Du(m,d)}var C,T;return dt(!u.writeResults||0===u.writeResults.length),this.bu=!0,this.listener.Cu()},a.prototype.Nu=function(){var u={};u.database=Tn(this.serializer),this.du(u)},a.prototype.Su=function(u){var d=this,m={streamToken:this.lastStreamToken,writes:u.map(function(C){return Hi(d.serializer,C)})};this.du(m)},a}(_c),vc=function(c){function a(u,d,m){var C=this;return(C=c.call(this)||this).credentials=u,C.iu=d,C.serializer=m,C.Fu=!1,C}return te.__extends(a,c),a.prototype.xu=function(){if(this.Fu)throw new Y(be.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.$u=function(u,d,m){var C=this;return this.xu(),this.credentials.getToken().then(function(T){return C.iu.$u(u,d,m,T)}).catch(function(T){throw T.code===be.UNAUTHENTICATED&&C.credentials.zc(),T})},a.prototype.ku=function(u,d,m){var C=this;return this.xu(),this.credentials.getToken().then(function(T){return C.iu.ku(u,d,m,T)}).catch(function(T){throw T.code===be.UNAUTHENTICATED&&C.credentials.zc(),T})},a.prototype.terminate=function(){this.Fu=!1},a}(function(){}),nl=function(){function c(a,u){this.cs=a,this.di=u,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return c.prototype.Bu=function(){var a=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return a.Ou=null,a.Uu("Backend didn't respond within 10 seconds."),a.qu("Offline"),Promise.resolve()}))},c.prototype.Qu=function(a){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+a.toString()),this.qu("Offline")))},c.prototype.set=function(a){this.Wu(),this.Mu=0,"Online"===a&&(this.Lu=!1),this.qu(a)},c.prototype.qu=function(a){a!==this.state&&(this.state=a,this.di(a))},c.prototype.Uu=function(a){var u="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(ft(u),this.Lu=!1):Ne("OnlineStateTracker",u)},c.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},c}(),uf=function(c,a,u,d,m){var C=this;this.ju=c,this.Ku=a,this.cs=u,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=m,this.Xu.Zu(function(T){u.ws(function(){return te.__awaiter(C,void 0,void 0,function(){return te.__generator(this,function(P){switch(P.label){case 0:return bo(this)?(Ne("RemoteStore","Restarting streams for network reachability change."),[4,function(j){return te.__awaiter(this,void 0,void 0,function(){var ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return(ne=et(j)).Yu.add(4),[4,ei(ne)];case 1:return fe.sent(),ne.th.set("Unknown"),ne.Yu.delete(4),[4,lu(ne)];case 2:return fe.sent(),[2]}})})}(this)]):[3,2];case 1:P.sent(),P.label=2;case 2:return[2]}})})})}),this.th=new nl(u,d)};function lu(c){return te.__awaiter(this,void 0,void 0,function(){var a,u;return te.__generator(this,function(d){switch(d.label){case 0:if(!bo(c))return[3,4];a=0,u=c.Ju,d.label=1;case 1:return a<u.length?[4,(0,u[a])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function ei(c){return te.__awaiter(this,void 0,void 0,function(){var a,u;return te.__generator(this,function(d){switch(d.label){case 0:a=0,u=c.Ju,d.label=1;case 1:return a<u.length?[4,(0,u[a])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function yc(c){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){switch(u.label){case 0:return a=et(c),Ne("RemoteStore","RemoteStore shutting down."),a.Yu.add(5),[4,ei(a)];case 1:return u.sent(),a.Xu.Di(),a.th.set("Unknown"),[2]}})})}function Ca(c,a){var u=et(c);u.Hu.has(a.targetId)||(u.Hu.set(a.targetId,a),bc(u)?ea(u):Ec(u).uu()&&Ru(u,a))}function os(c,a){var u=et(c),d=Ec(u);u.Hu.delete(a),d.uu()&&Mo(u,a),0===u.Hu.size&&(d.uu()?d._u():bo(u)&&u.th.set("Unknown"))}function Ru(c,a){c.eh.Ie(a.targetId),Ec(c).Vu(a)}function Mo(c,a){c.eh.Ie(a),Ec(c).pu(a)}function ea(c){c.eh=new de({qe:function(a){return c.Gu.qe(a)},Ue:function(a){return c.Hu.get(a)||null}}),Ec(c).start(),c.th.Bu()}function bc(c){return bo(c)&&!Ec(c).cu()&&c.Hu.size>0}function bo(c){return 0===et(c).Yu.size}function Sp(c){c.eh=void 0}function wc(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return c.Hu.forEach(function(u,d){Ru(c,u)}),[2]})})}function Ip(c,a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){return Sp(c),bc(c)?(c.th.Qu(a),ea(c)):c.th.set("Unknown"),[2]})})}function fh(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C;return te.__generator(this,function(T){switch(T.label){case 0:if(c.th.set("Online"),!(a instanceof Kr&&2===a.state&&a.cause))return[3,6];T.label=1;case 1:return T.trys.push([1,3,,5]),[4,function(P,j){return te.__awaiter(this,void 0,void 0,function(){var ne,fe,Te,De;return te.__generator(this,function(We){switch(We.label){case 0:ne=j.cause,fe=0,Te=j.targetIds,We.label=1;case 1:return fe<Te.length?P.Hu.has(De=Te[fe])?[4,P.Gu.nh(De,ne)]:[3,3]:[3,5];case 2:We.sent(),P.Hu.delete(De),P.eh.removeTarget(De),We.label=3;case 3:We.label=4;case 4:return fe++,[3,1];case 5:return[2]}})})}(c,a)];case 2:return T.sent(),[3,5];case 3:return d=T.sent(),Ne("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),d),[4,dh(c,d)];case 4:return T.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof ar?c.eh.be(a):a instanceof br?c.eh.$e(a):c.eh.De(a),u.isEqual(xn.min()))return[3,13];T.label=7;case 7:return T.trys.push([7,11,,13]),[4,Zu(c.ju)];case 8:return m=T.sent(),u.L(m)>=0?[4,(P=c,j=u,ne=P.eh.Oe(j),ne.zt.forEach(function(fe,Te){if(fe.resumeToken.O()>0){var De=P.Hu.get(Te);De&&P.Hu.set(Te,De.it(fe.resumeToken,j))}}),ne.Ht.forEach(function(fe){var Te=P.Hu.get(fe);if(Te){P.Hu.set(fe,Te.it(Kt.B,Te.nt)),Mo(P,fe);var De=new Mn(Te.target,fe,1,Te.sequenceNumber);Ru(P,De)}}),P.Gu.sh(ne))]:[3,10];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return Ne("RemoteStore","Failed to raise snapshot:",C=T.sent()),[4,dh(c,C)];case 12:return T.sent(),[3,13];case 13:return[2]}var P,j,ne})})}function dh(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d=this;return te.__generator(this,function(m){switch(m.label){case 0:if(!As(a))throw a;return c.Yu.add(1),[4,ei(c)];case 1:return m.sent(),c.th.set("Offline"),u||(u=function(){return Zu(c.ju)}),c.cs.Cs(function(){return te.__awaiter(d,void 0,void 0,function(){return te.__generator(this,function(C){switch(C.label){case 0:return Ne("RemoteStore","Retrying IndexedDB access"),[4,u()];case 1:return C.sent(),c.Yu.delete(1),[4,lu(c)];case 2:return C.sent(),[2]}})})}),[2]}})})}function Xt(c,a){return a().catch(function(u){return dh(c,u,a)})}function Cc(c){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,m,C;return te.__generator(this,function(T){switch(T.label){case 0:a=et(c),u=Pu(a),d=a.zu.length>0?a.zu[a.zu.length-1].batchId:-1,T.label=1;case 1:if(!(bo(P=a)&&P.zu.length<10))return[3,7];T.label=2;case 2:return T.trys.push([2,4,,6]),[4,sd(a.ju,d)];case 3:return null===(m=T.sent())?(0===a.zu.length&&u._u(),[3,7]):(d=m.batchId,function(P,j){P.zu.push(j);var ne=Pu(P);ne.uu()&&ne.vu&&ne.Su(j.mutations)}(a,m),[3,6]);case 4:return C=T.sent(),[4,dh(a,C)];case 5:return T.sent(),[3,6];case 6:return[3,1];case 7:return Ps(a)&&Tp(a),[2]}var P})})}function Ps(c){return bo(c)&&!Pu(c).cu()&&c.zu.length>0}function Tp(c){Pu(c).start()}function Dp(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return Pu(c).Nu(),[2]})})}function Nl(c){return te.__awaiter(this,void 0,void 0,function(){var a,u,d;return te.__generator(this,function(C){for(a=Pu(c),u=0,d=c.zu;u<d.length;u++)a.Su(d[u].mutations);return[2]})})}function $v(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m;return te.__generator(this,function(C){switch(C.label){case 0:return d=c.zu.shift(),m=y.from(d,a,u),[4,Xt(c,function(){return c.Gu.ih(m)})];case 1:return C.sent(),[4,Cc(c)];case 2:return C.sent(),[2]}})})}function lf(c,a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){switch(u.label){case 0:return a&&Pu(c).vu?[4,function(d,m){return te.__awaiter(this,void 0,void 0,function(){var C,T;return te.__generator(this,function(P){switch(P.label){case 0:return Xn(T=m.code)&&T!==be.ABORTED?(C=d.zu.shift(),Pu(d).lu(),[4,Xt(d,function(){return d.Gu.rh(C.batchId,m)})]):[3,3];case 1:return P.sent(),[4,Cc(d)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}(c,a)]:[3,2];case 1:u.sent(),u.label=2;case 2:return Ps(c)&&Tp(c),[2]}})})}function cu(c,a){return te.__awaiter(this,void 0,void 0,function(){var u;return te.__generator(this,function(m){switch(m.label){case 0:return u=et(c),a?(u.Yu.delete(2),[4,lu(u)]):[3,2];case 1:return m.sent(),[3,5];case 2:return a?[3,4]:(u.Yu.add(2),[4,ei(u)]);case 3:m.sent(),u.th.set("Unknown"),m.label=4;case 4:m.label=5;case 5:return[2]}})})}function Ec(c){var u,d,m,C,a=this;return c.oh||(c.oh=(u=c.Ku,d=c.cs,m={gu:wc.bind(null,c),Tu:Ip.bind(null,c),yu:fh.bind(null,c)},(C=et(u)).xu(),new kl(d,C.iu,C.credentials,C.serializer,m)),c.Ju.push(function(u){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return u?(c.oh.lu(),bc(c)?ea(c):c.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.oh.stop()];case 2:d.sent(),Sp(c),d.label=3;case 3:return[2]}})})})),c.oh}function Pu(c){var u,d,m,C,a=this;return c.ah||(c.ah=(u=c.Ku,d=c.cs,m={gu:Dp.bind(null,c),Tu:lf.bind(null,c),Cu:Nl.bind(null,c),Du:$v.bind(null,c)},(C=et(u)).xu(),new uu(d,C.iu,C.credentials,C.serializer,m)),c.Ju.push(function(u){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return u?(c.ah.lu(),[4,Cc(c)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,c.ah.stop()];case 3:d.sent(),c.zu.length>0&&(Ne("RemoteStore","Stopping write stream with "+c.zu.length+" pending writes"),c.zu=[]),d.label=4;case 4:return[2]}})})})),c.ah}var cd=function(c){this.key=c},ss=function(c){this.key=c},Mp=function(){function c(a,u){this.query=a,this.uh=u,this.hh=null,this.te=!1,this.lh=Fe(),this.Wt=Fe(),this._h=Vi(a),this.fh=new Qt(this._h)}return Object.defineProperty(c.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),c.prototype.wh=function(a,u){var d=this,m=u?u.mh:new yn,C=u?u.fh:this.fh,T=u?u.Wt:this.Wt,P=C,j=!1,ne=$s(this.query)&&C.size===this.query.limit?C.last():null,fe=Eo(this.query)&&C.size===this.query.limit?C.first():null;if(a.ht(function(De,We){var ut=C.get(De),Ct=We instanceof Rr?We:null;Ct&&(Ct=Ms(d.query,Ct)?Ct:null);var Gt=!!ut&&d.Wt.has(ut.key),vn=!!Ct&&(Ct.Je||d.Wt.has(Ct.key)&&Ct.hasCommittedMutations),Kn=!1;ut&&Ct?ut.data().isEqual(Ct.data())?Gt!==vn&&(m.track({type:3,doc:Ct}),Kn=!0):d.Th(ut,Ct)||(m.track({type:2,doc:Ct}),Kn=!0,(ne&&d._h(Ct,ne)>0||fe&&d._h(Ct,fe)<0)&&(j=!0)):!ut&&Ct?(m.track({type:0,doc:Ct}),Kn=!0):ut&&!Ct&&(m.track({type:1,doc:ut}),Kn=!0,(ne||fe)&&(j=!0)),Kn&&(Ct?(P=P.add(Ct),T=vn?T.add(De):T.delete(De)):(P=P.delete(De),T=T.delete(De)))}),$s(this.query)||Eo(this.query))for(;P.size>this.query.limit;){var Te=$s(this.query)?P.last():P.first();P=P.delete(Te.key),T=T.delete(Te.key),m.track({type:1,doc:Te})}return{fh:P,mh:m,Eh:j,Wt:T}},c.prototype.Th=function(a,u){return a.Je&&u.hasCommittedMutations&&!u.Je},c.prototype.yr=function(a,u,d){var m=this,C=this.fh;this.fh=a.fh,this.Wt=a.Wt;var T=a.mh.Ut();T.sort(function(fe,Te){return We=Te.type,(ut=function(Ct){switch(Ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(fe.type)-ut(We)||m._h(fe.doc,Te.doc);var We,ut}),this.Ih(d);var P=u?this.Ah():[],j=0===this.lh.size&&this.te?1:0,ne=j!==this.hh;return this.hh=j,0!==T.length||ne?{snapshot:new Mt(this.query,a.fh,C,T,a.Wt,0===j,ne,!1),Rh:P}:{Rh:P}},c.prototype.Qs=function(a){return this.te&&"Offline"===a?(this.te=!1,this.yr({fh:this.fh,mh:new yn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},c.prototype.gh=function(a){return!this.uh.has(a)&&!!this.fh.has(a)&&!this.fh.get(a).Je},c.prototype.Ih=function(a){var u=this;a&&(a.ee.forEach(function(d){return u.uh=u.uh.add(d)}),a.ne.forEach(function(d){}),a.se.forEach(function(d){return u.uh=u.uh.delete(d)}),this.te=a.te)},c.prototype.Ah=function(){var a=this;if(!this.te)return[];var u=this.lh;this.lh=Fe(),this.fh.forEach(function(m){a.gh(m.key)&&(a.lh=a.lh.add(m.key))});var d=[];return u.forEach(function(m){a.lh.has(m)||d.push(new ss(m))}),this.lh.forEach(function(m){u.has(m)||d.push(new cd(m))}),d},c.prototype.Ph=function(a){this.uh=a.Fc,this.lh=Fe();var u=this.wh(a.documents);return this.yr(u,!0)},c.prototype.yh=function(){return Mt.Gt(this.query,this.fh,this.Wt,0===this.hh)},c}(),Ao=function(c,a,u){this.query=c,this.targetId=a,this.view=u},rl=function(c){this.key=c,this.Vh=!1},cf=function(){function c(a,u,d,m,C,T){this.ju=a,this.ph=u,this.bh=d,this.Sh=m,this.currentUser=C,this.Dh=T,this.Ch={},this.Nh=new Or(function(P){return iu(P)},Io),this.Fh=new Map,this.xh=[],this.$h=new an(I.i),this.kh=new Map,this.Mh=new ps,this.Oh={},this.Lh=new Map,this.Bh=Ol.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(c.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),c}();function Ap(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,m,C,T,P;return te.__generator(this,function(j){switch(j.label){case 0:return u=pf(c),(C=u.Nh.get(a))?(u.Sh.Oi(C.targetId),m=C.view.yh(),[3,4]):[3,1];case 1:return[4,el(u.ju,zi(a))];case 2:return T=j.sent(),P=u.Sh.Oi(T.targetId),[4,Fl(u,a,T.targetId,"current"===P)];case 3:m=j.sent(),u.Uh&&Ca(u.ph,T),j.label=4;case 4:return[2,m]}})})}function Fl(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,C,T,P,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return c.Qh=function(Te,De,We){return function(ut,Ct,Gt,vn){return te.__awaiter(this,void 0,void 0,function(){var Kn,cr,Gr;return te.__generator(this,function(_i){switch(_i.label){case 0:return(Kn=Ct.view.wh(Gt)).Eh?[4,mc(ut.ju,Ct.query,!1).then(function(Bi){return Ct.view.wh(Bi.documents,Kn)})]:[3,2];case 1:Kn=_i.sent(),_i.label=2;case 2:return cr=vn&&vn.zt.get(Ct.targetId),Gr=Ct.view.yr(Kn,ut.Uh,cr),[2,(ff(ut,Ct.targetId,Gr.Rh),Gr.snapshot)]}})})}(c,Te,De,We)},[4,mc(c.ju,a,!0)];case 1:return m=fe.sent(),C=new Mp(a,m.Fc),T=C.wh(m.documents),P=xr.Zt(u,d&&"Offline"!==c.onlineState),j=C.yr(T,c.Uh,P),ff(c,u,j.Rh),ne=new Ao(a,u,C),[2,(c.Nh.set(a,ne),c.Fh.has(u)?c.Fh.get(u).push(a):c.Fh.set(u,[a]),j.snapshot)]}})})}function gs(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(C){switch(C.label){case 0:return u=et(c),d=u.Nh.get(a),(m=u.Fh.get(d.targetId)).length>1?[2,(u.Fh.set(d.targetId,m.filter(function(T){return!Io(T,a)})),void u.Nh.delete(a))]:u.Uh?(u.Sh.Bi(d.targetId),u.Sh.Fi(d.targetId)?[3,2]:[4,tl(u.ju,d.targetId,!1).then(function(){u.Sh.Ui(d.targetId),os(u.ph,d.targetId),Ll(u,d.targetId)}).catch(wa)]):[3,3];case 1:C.sent(),C.label=2;case 2:return[3,5];case 3:return Ll(u,d.targetId),[4,tl(u.ju,d.targetId,!0)];case 4:C.sent(),C.label=5;case 5:return[2]}})})}function ms(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d;return te.__generator(this,function(m){switch(m.label){case 0:u=et(c),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,Im(u.ju,a)];case 2:return d=m.sent(),a.zt.forEach(function(C,T){var P=u.kh.get(T);P&&(dt(C.ee.size+C.ne.size+C.se.size<=1),C.ee.size>0?P.Vh=!0:C.ne.size>0?dt(P.Vh):C.se.size>0&&(dt(P.Vh),P.Vh=!1))}),[4,ta(u,d,a)];case 3:return m.sent(),[3,6];case 4:return[4,wa(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function Sc(c,a,u){var d=et(c);if(d.Uh&&0===u||!d.Uh&&1===u){var m=[];d.Nh.forEach(function(C,T){var P=T.view.Qs(a);P.snapshot&&m.push(P.snapshot)}),function(C,T){var P=et(C);P.onlineState=T;var j=!1;P.Bs.forEach(function(ne,fe){for(var Te=0,De=fe.listeners;Te<De.length;Te++)De[Te].Qs(T)&&(j=!0)}),j&&Ua(P)}(d.bh,a),m.length&&d.Ch.yu(m),d.onlineState=a,d.Uh&&d.Sh.Ki(a)}}function ku(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C,T,P,j;return te.__generator(this,function(ne){switch(ne.label){case 0:return(d=et(c)).Sh.Qi(a,"rejected",u),m=d.kh.get(a),(C=m&&m.key)?(T=(T=new an(I.i)).ot(C,new li(C,xn.min())),P=Fe().add(C),j=new Jt(xn.min(),new Map,new Tr(Ht),T,P),[4,ms(d,j)]):[3,2];case 1:return ne.sent(),d.$h=d.$h.remove(C),d.kh.delete(a),Nu(d),[3,4];case 2:return[4,tl(d.ju,a,!1).then(function(){return Ll(d,a,u)}).catch(wa)];case 3:ne.sent(),ne.label=4;case 4:return[2]}})})}function za(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(C){switch(C.label){case 0:u=et(c),d=a.batch.batchId,C.label=1;case 1:return C.trys.push([1,4,,6]),[4,gc(u.ju,a)];case 2:return m=C.sent(),hf(u,d,null),Ic(u,d),u.Sh.ki(d,"acknowledged"),[4,ta(u,m)];case 3:return C.sent(),[3,6];case 4:return[4,wa(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}})})}function hd(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m;return te.__generator(this,function(C){switch(C.label){case 0:d=et(c),C.label=1;case 1:return C.trys.push([1,4,,6]),[4,(T=d.ju,P=a,j=et(T),j.persistence.runTransaction("Reject batch","readwrite-primary",function(ne){var fe;return j.Sr.Oo(ne,P).next(function(Te){return dt(null!==Te),fe=Te.keys(),j.Sr.Wo(ne,Te)}).next(function(){return j.Sr.zo(ne)}).next(function(){return j.Cc.kr(ne,fe)})}))];case 2:return m=C.sent(),hf(d,a,u),Ic(d,a),d.Sh.ki(a,"rejected",u),[4,ta(d,m)];case 3:return C.sent(),[3,6];case 4:return[4,wa(C.sent())];case 5:return C.sent(),[3,6];case 6:return[2]}var T,P,j})})}function Ic(c,a){(c.Lh.get(a)||[]).forEach(function(u){u.resolve()}),c.Lh.delete(a)}function hf(c,a,u){var d=et(c),m=d.Oh[d.currentUser.ti()];if(m){var C=m.get(a);C&&(u?C.reject(u):C.resolve(),m=m.remove(a)),d.Oh[d.currentUser.ti()]=m}}function Ll(c,a,u){void 0===u&&(u=null),c.Sh.Bi(a);for(var d=0,m=c.Fh.get(a);d<m.length;d++){var C=m[d];c.Nh.delete(C),u&&c.Ch.Wh(C,u)}c.Fh.delete(a),c.Uh&&c.Mh.Uc(a).forEach(function(T){c.Mh.Ho(T)||fd(c,T)})}function fd(c,a){var u=c.$h.get(a);null!==u&&(os(c.ph,u),c.$h=c.$h.remove(a),c.kh.delete(u),Nu(c))}function ff(c,a,u){for(var d=0,m=u;d<m.length;d++){var C=m[d];C instanceof cd?(c.Mh.Da(C.key,a),_s(c,C)):C instanceof ss?(Ne("SyncEngine","Document no longer in limbo: "+C.key),c.Mh.Na(C.key,a),c.Mh.Ho(C.key)||fd(c,C.key)):Le()}}function _s(c,a){var u=a.key;c.$h.get(u)||(Ne("SyncEngine","New document in limbo: "+u),c.xh.push(u),Nu(c))}function Nu(c){for(;c.xh.length>0&&c.$h.size<c.Dh;){var a=c.xh.shift(),u=c.Bh.next();c.kh.set(u,new rl(a)),c.$h=c.$h.ot(a,u),Ca(c.ph,new Mn(zi(Li(a.path)),u,2,Vr.ai))}}function ta(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C,T;return te.__generator(this,function(P){switch(P.label){case 0:return d=et(c),m=[],C=[],T=[],d.Nh.m()?[3,3]:(d.Nh.forEach(function(j,ne){T.push(d.Qh(ne,a,u).then(function(fe){if(fe){d.Uh&&d.Sh.Qi(ne.targetId,fe.fromCache?"not-current":"current"),m.push(fe);var Te=x.zr(ne.targetId,fe);C.push(Te)}}))}),[4,Promise.all(T)]);case 1:return P.sent(),d.Ch.yu(m),[4,function(j,ne){return te.__awaiter(this,void 0,void 0,function(){var fe,Te,De,We,ut,Ct,Gt,Kn;return te.__generator(this,function(cr){switch(cr.label){case 0:fe=et(j),cr.label=1;case 1:return cr.trys.push([1,3,,4]),[4,fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Gr){return jt.forEach(ne,function(_i){return jt.forEach(_i.Kr,function(Bi){return fe.persistence.No.Da(Gr,_i.targetId,Bi)}).next(function(){return jt.forEach(_i.Gr,function(Bi){return fe.persistence.No.Na(Gr,_i.targetId,Bi)})})})})];case 2:return cr.sent(),[3,4];case 3:if(!As(Te=cr.sent()))throw Te;return Ne("LocalStore","Failed to update sequence numbers: "+Te),[3,4];case 4:for(De=0,We=ne;De<We.length;De++)Ct=(ut=We[De]).targetId,ut.fromCache||(Gt=fe.bc.get(Ct),Kn=Gt.rt(Gt.nt),fe.bc=fe.bc.ot(Ct,Kn));return[2]}})})}(d.ju,C)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}function Op(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d;return te.__generator(this,function(m){switch(m.label){case 0:return(u=et(c)).currentUser.isEqual(a)?[3,3]:(Ne("SyncEngine","User change. New user:",a.ti()),[4,function(C,T){return te.__awaiter(this,void 0,void 0,function(){var P,j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:return P=et(C),j=P.Sr,ne=P.Cc,[4,P.persistence.runTransaction("Handle user change","readonly",function(De){var We;return P.Sr.Uo(De).next(function(ut){return We=ut,j=P.persistence.mc(T),ne=new D(P.Dc,j,P.persistence.Ic()),j.Uo(De)}).next(function(ut){for(var Ct=[],Gt=[],vn=Fe(),Kn=0,cr=We;Kn<cr.length;Kn++){var Gr=cr[Kn];Ct.push(Gr.batchId);for(var _i=0,Bi=Gr.mutations;_i<Bi.length;_i++)vn=vn.add(Bi[_i].key)}for(var wr=0,Wl=ut;wr<Wl.length;wr++){var Th=Wl[wr];Gt.push(Th.batchId);for(var wf=0,pu=Th.mutations;wf<pu.length;wf++)vn=vn.add(pu[wf].key)}return ne.kr(De,vn).next(function(Dh){return{jh:Dh,Kh:Ct,Gh:Gt}})})})];case 1:return fe=Te.sent(),[2,(P.Sr=j,P.Cc=ne,P.Vc.Nc(P.Cc),fe)]}})})}(u.ju,a)]);case 1:return d=m.sent(),u.currentUser=a,(C=u).Lh.forEach(function(P){P.forEach(function(j){j.reject(new Y(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),C.Lh.clear(),u.Sh.ji(a,d.Kh,d.Gh),[4,ta(u,d.jh)];case 2:m.sent(),m.label=3;case 3:return[2]}var C})})}function xp(c,a){var u=et(c),d=u.kh.get(a);if(d&&d.Vh)return Fe().add(d.key);var m=Fe(),C=u.Fh.get(a);if(!C)return m;for(var T=0,P=C;T<P.length;T++){var ne=u.Nh.get(P[T]);m=m.kt(ne.view.dh)}return m}function Tm(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(C){switch(C.label){case 0:return[4,mc((u=et(c)).ju,a.query,!0)];case 1:return d=C.sent(),m=a.view.Ph(d),[2,(u.Uh&&ff(u,a.targetId,m.Rh),m)]}})})}function Rp(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,C;return te.__generator(this,function(T){switch(T.label){case 0:return[4,(P=(m=et(c)).ju,j=a,ne=et(P),fe=et(ne.Sr),ne.persistence.runTransaction("Lookup mutation documents","readonly",function(Te){return fe.Lo(Te,j).next(function(De){return De?ne.Cc.kr(Te,De):jt.resolve(null)})}))];case 1:return null===(C=T.sent())?[3,6]:"pending"!==u?[3,3]:[4,Cc(m.ph)];case 2:return T.sent(),[3,4];case 3:"acknowledged"===u||"rejected"===u?(hf(m,a,d||null),Ic(m,a),function(P,j){et(et(P).Sr).Ko(j)}(m.ju,a)):Le(),T.label=4;case 4:return[4,ta(m,C)];case 5:return T.sent(),[3,7];case 6:Ne("SyncEngine","Cannot apply mutation batch with id: "+a),T.label=7;case 7:return[2]}var P,j,ne,fe})})}function dd(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,C,T,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return pf(u=et(c)),il(u),!0!==a||!0===u.qh?[3,3]:(d=u.Sh.Ci(),[4,ph(u,d.A())]);case 1:return m=fe.sent(),u.qh=!0,[4,cu(u.ph,!0)];case 2:for(fe.sent(),C=0,T=m;C<T.length;C++)Ca(u.ph,T[C]);return[3,7];case 3:return!1!==a||!1===u.qh?[3,7]:(j=[],ne=Promise.resolve(),u.Fh.forEach(function(Te,De){u.Sh.qi(De)?j.push(De):ne=ne.then(function(){return Ll(u,De),tl(u.ju,De,!0)}),os(u.ph,De)}),[4,ne]);case 4:return fe.sent(),[4,ph(u,j)];case 5:return fe.sent(),(De=et(u)).kh.forEach(function(We,ut){os(De.ph,ut)}),De.Mh.Qc(),De.kh=new Map,De.$h=new an(I.i),u.qh=!1,[4,cu(u.ph,!1)];case 6:fe.sent(),fe.label=7;case 7:return[2]}var De})})}function ph(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C,T,P,j,ne,fe,Te,De,ut,Ct,Gt;return te.__generator(this,function(vn){switch(vn.label){case 0:d=et(c),m=[],C=[],T=0,P=a,vn.label=1;case 1:return T<P.length?(ne=void 0,(fe=d.Fh.get(j=P[T]))&&0!==fe.length?[4,el(d.ju,zi(fe[0]))]:[3,7]):[3,13];case 2:ne=vn.sent(),Te=0,De=fe,vn.label=3;case 3:return Te<De.length?(ut=d.Nh.get(De[Te]),[4,Tm(d,ut)]):[3,6];case 4:(Ct=vn.sent()).snapshot&&C.push(Ct.snapshot),vn.label=5;case 5:return Te++,[3,3];case 6:return[3,11];case 7:return[4,Pl(d.ju,j)];case 8:return Gt=vn.sent(),[4,el(d.ju,Gt)];case 9:return ne=vn.sent(),[4,Fl(d,df(Gt),j,!1)];case 10:vn.sent(),vn.label=11;case 11:m.push(ne),vn.label=12;case 12:return T++,[3,1];case 13:return[2,(d.Ch.yu(C),m)]}})})}function df(c){return Wo(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function as(c){var a=et(c);return et(et(a.ju).persistence).pi()}function Tc(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,C,T;return te.__generator(this,function(P){switch(P.label){case 0:return(m=et(c)).qh?(Ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Fh.has(a))return[3,8];switch(u){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,hh(m.ju)];case 3:return C=P.sent(),T=Jt.Xt(a,"current"===u),[4,ta(m,C,T)];case 4:return P.sent(),[3,8];case 5:return[4,tl(m.ju,a,!0)];case 6:return P.sent(),Ll(m,a,d),[3,8];case 7:Le(),P.label=8;case 8:return[2]}})})}function Dc(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,C,T,P,j,ne,fe,Te;return te.__generator(this,function(We){switch(We.label){case 0:if(!(d=pf(c)).qh)return[3,10];m=0,C=a,We.label=1;case 1:return m<C.length?d.Fh.has(T=C[m])?(Ne("SyncEngine","Adding an already active target "+T),[3,5]):[4,Pl(d.ju,T)]:[3,6];case 2:return P=We.sent(),[4,el(d.ju,P)];case 3:return j=We.sent(),[4,Fl(d,df(P),j.targetId,!1)];case 4:We.sent(),Ca(d.ph,j),We.label=5;case 5:return m++,[3,1];case 6:ne=function(ut){return te.__generator(this,function(Ct){switch(Ct.label){case 0:return d.Fh.has(ut)?[4,tl(d.ju,ut,!1).then(function(){os(d.ph,ut),Ll(d,ut)}).catch(wa)]:[3,2];case 1:Ct.sent(),Ct.label=2;case 2:return[2]}})},fe=0,Te=u,We.label=7;case 7:return fe<Te.length?[5,ne(Te[fe])]:[3,10];case 8:We.sent(),We.label=9;case 9:return fe++,[3,7];case 10:return[2]}})})}function pf(c){var a=et(c);return a.ph.Gu.sh=ms.bind(null,a),a.ph.Gu.qe=xp.bind(null,a),a.ph.Gu.nh=ku.bind(null,a),a.Ch.yu=so.bind(null,a.bh),a.Ch.Wh=Ci.bind(null,a.bh),a}function il(c){var a=et(c);return a.ph.Gu.ih=za.bind(null,a),a.ph.Gu.rh=hd.bind(null,a),a}var Vl=function(){function c(){}return c.prototype.Nc=function(a){this.zh=a},c.prototype.Lr=function(a,u,d,m){var T,C=this;return 0===(T=u).filters.length&&null===T.limit&&null==T.startAt&&null==T.endAt&&(0===T.on.length||1===T.on.length&&T.on[0].field.p())||d.isEqual(xn.min())?this.Hh(a,u):this.zh.kr(a,m).next(function(T){var P=C.Yh(u,T);return($s(u)||Eo(u))&&C.Eh(u.an,P,m,d)?C.Hh(a,u):(st()<=re.LogLevel.DEBUG&&Ne("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ds(u)),C.zh.Lr(a,u,d).next(function(j){return P.forEach(function(ne){j=j.ot(ne.key,ne)}),j}))})},c.prototype.Yh=function(a,u){var d=new Tr(Vi(a));return u.forEach(function(m,C){C instanceof Rr&&Ms(a,C)&&(d=d.add(C))}),d},c.prototype.Eh=function(a,u,d,m){if(d.size!==u.size)return!0;var C="F"===a?u.last():u.first();return!!C&&(C.hasPendingWrites||C.version.L(m)>0)},c.prototype.Hh=function(a,u){return st()<=re.LogLevel.DEBUG&&Ne("IndexFreeQueryEngine","Using full collection scan to execute query:",Ds(u)),this.zh.Lr(a,u,xn.min())},c}(),hu=function(){function c(a,u){this.Dr=a,this.No=u,this.Sr=[],this.Jh=1,this.Xh=new Tr(Do.kc)}return c.prototype.$o=function(a){return jt.resolve(0===this.Sr.length)},c.prototype.ko=function(a,u,d,m){var C=this.Jh;this.Jh++;var T=new ba(C,u,d,m);this.Sr.push(T);for(var P=0,j=m;P<j.length;P++){var ne=j[P];this.Xh=this.Xh.add(new Do(ne.key,C)),this.Dr.Mo(a,ne.key.path.h())}return jt.resolve(T)},c.prototype.Oo=function(a,u){return jt.resolve(this.Zh(u))},c.prototype.Bo=function(a,u){var m=this.tl(u+1),C=m<0?0:m;return jt.resolve(this.Sr.length>C?this.Sr[C]:null)},c.prototype.qo=function(){return jt.resolve(0===this.Sr.length?-1:this.Jh-1)},c.prototype.Uo=function(a){return jt.resolve(this.Sr.slice())},c.prototype.Nr=function(a,u){var d=this,m=new Do(u,0),C=new Do(u,Number.POSITIVE_INFINITY),T=[];return this.Xh.Ft([m,C],function(P){var j=d.Zh(P.jc);T.push(j)}),jt.resolve(T)},c.prototype.Or=function(a,u){var d=this,m=new Tr(Ht);return u.forEach(function(C){var T=new Do(C,0),P=new Do(C,Number.POSITIVE_INFINITY);d.Xh.Ft([T,P],function(j){m=m.add(j.jc)})}),jt.resolve(this.el(m))},c.prototype.Wr=function(a,u){var d=u.path,m=d.length+1,C=d;I.F(C)||(C=C.child(""));var T=new Do(new I(C),0),P=new Tr(Ht);return this.Xh.xt(function(j){var ne=j.key.path;return!!d.T(ne)&&(ne.length===m&&(P=P.add(j.jc)),!0)},T),jt.resolve(this.el(P))},c.prototype.el=function(a){var u=this,d=[];return a.forEach(function(m){var C=u.Zh(m);null!==C&&d.push(C)}),d},c.prototype.Wo=function(a,u){var d=this;dt(0===this.nl(u.batchId,"removed")),this.Sr.shift();var m=this.Xh;return jt.forEach(u.mutations,function(C){var T=new Do(C.key,u.batchId);return m=m.delete(T),d.No.Go(a,C.key)}).next(function(){d.Xh=m})},c.prototype.Ko=function(a){},c.prototype.Ho=function(a,u){var d=new Do(u,0),m=this.Xh.$t(d);return jt.resolve(u.isEqual(m&&m.key))},c.prototype.zo=function(a){return jt.resolve()},c.prototype.nl=function(a,u){return this.tl(a)},c.prototype.tl=function(a){return 0===this.Sr.length?0:a-this.Sr[0].batchId},c.prototype.Zh=function(a){var u=this.tl(a);return u<0||u>=this.Sr.length?null:this.Sr[u]},c}(),gh=function(){function c(a,u){this.Dr=a,this.sl=u,this.docs=new an(I.i),this.size=0}return c.prototype.Er=function(a,u,d){var m=u.key,C=this.docs.get(m),T=C?C.size:0,P=this.sl(u);return this.docs=this.docs.ot(m,{ta:u,size:P,readTime:d}),this.size+=P-T,this.Dr.Mo(a,m.path.h())},c.prototype.Ar=function(a){var u=this.docs.get(a);u&&(this.docs=this.docs.remove(a),this.size-=u.size)},c.prototype.Rr=function(a,u){var d=this.docs.get(u);return jt.resolve(d?d.ta:null)},c.prototype.getEntries=function(a,u){var d=this,m=Gi();return u.forEach(function(C){var T=d.docs.get(C);m=m.ot(C,T?T.ta:null)}),jt.resolve(m)},c.prototype.Lr=function(a,u,d){for(var m=Be(),C=new I(u.path.child("")),T=this.docs.ft(C);T.At();){var P=T.It(),ne=P.value,fe=ne.ta,Te=ne.readTime;if(!u.path.T(P.key.path))break;Te.L(d)<=0||fe instanceof Rr&&Ms(u,fe)&&(m=m.ot(fe.key,fe))}return jt.resolve(m)},c.prototype.il=function(a,u){return jt.forEach(this.docs,function(d){return u(d)})},c.prototype.ra=function(a){return new Pp(this)},c.prototype.aa=function(a){return jt.resolve(this.size)},c}(),Pp=function(c){function a(u){var d=this;return(d=c.call(this)||this).ca=u,d}return te.__extends(a,c),a.prototype.yr=function(u){var d=this,m=[];return this.wr.forEach(function(C,T){T?m.push(d.ca.Er(u,T,d.readTime)):d.ca.Ar(C)}),jt.$n(m)},a.prototype.gr=function(u,d){return this.ca.Rr(u,d)},a.prototype.Pr=function(u,d){return this.ca.getEntries(u,d)},a}(f),Dm=function(){function c(a){this.persistence=a,this.rl=new Or(function(u){return Ue(u)},Wt),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.ol=0,this.al=new ps,this.targetCount=0,this.cl=Ol.fa()}return c.prototype.Ce=function(a,u){return this.rl.forEach(function(d,m){return u(m)}),jt.resolve()},c.prototype.Ea=function(a){return jt.resolve(this.lastRemoteSnapshotVersion)},c.prototype.Ia=function(a){return jt.resolve(this.ol)},c.prototype.wa=function(a){return this.highestTargetId=this.cl.next(),jt.resolve(this.highestTargetId)},c.prototype.Aa=function(a,u,d){return d&&(this.lastRemoteSnapshotVersion=d),u>this.ol&&(this.ol=u),jt.resolve()},c.prototype.ga=function(a){this.rl.set(a.target,a);var u=a.targetId;u>this.highestTargetId&&(this.cl=new Ol(u),this.highestTargetId=u),a.sequenceNumber>this.ol&&(this.ol=a.sequenceNumber)},c.prototype.Ra=function(a,u){return this.ga(u),this.targetCount+=1,jt.resolve()},c.prototype.ya=function(a,u){return this.ga(u),jt.resolve()},c.prototype.Va=function(a,u){return this.rl.delete(u.target),this.al.Uc(u.targetId),this.targetCount-=1,jt.resolve()},c.prototype.po=function(a,u,d){var m=this,C=0,T=[];return this.rl.forEach(function(P,j){j.sequenceNumber<=u&&null===d.get(j.targetId)&&(m.rl.delete(P),T.push(m.pa(a,j.targetId)),C++)}),jt.$n(T).next(function(){return C})},c.prototype.ba=function(a){return jt.resolve(this.targetCount)},c.prototype.va=function(a,u){var d=this.rl.get(u)||null;return jt.resolve(d)},c.prototype.Sa=function(a,u,d){return this.al.Lc(u,d),jt.resolve()},c.prototype.Ca=function(a,u,d){this.al.qc(u,d);var m=this.persistence.No,C=[];return m&&u.forEach(function(T){C.push(m.Go(a,T))}),jt.$n(C)},c.prototype.pa=function(a,u){return this.al.Uc(u),jt.resolve()},c.prototype.Fa=function(a,u){var d=this.al.Wc(u);return jt.resolve(d)},c.prototype.Ho=function(a,u){return jt.resolve(this.al.Ho(u))},c}(),pd=function(){function c(a){var u=this;this.ul={},this.Ma=new Vr(0),this.Oa=!1,this.Oa=!0,this.No=a(this),this.Ka=new Dm(this),this.Dr=new wm,this.vr=new gh(this.Dr,function(C){return u.No.hl(C)})}return c.prototype.start=function(){return Promise.resolve()},c.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.Za=function(){},c.prototype.tc=function(){},c.prototype.Ic=function(){return this.Dr},c.prototype.mc=function(a){var u=this.ul[a.ti()];return u||(u=new hu(this.Dr,this.No),this.ul[a.ti()]=u),u},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.runTransaction=function(a,u,d){var m=this;Ne("MemoryPersistence","Starting transaction:",a);var C=new Kv(this.Ma.next());return this.No.ll(),d(C).next(function(T){return m.No._l(C).next(function(){return T})}).Fn().then(function(T){return C.br(),T})},c.prototype.fl=function(a,u){return jt.kn(Object.values(this.ul).map(function(d){return function(){return d.Ho(a,u)}}))},c}(),Kv=function(c){function a(u){var d=this;return(d=c.call(this)||this).xa=u,d}return te.__extends(a,c),a}(b),gd=function(){function c(a){this.persistence=a,this.dl=new ps,this.wl=null}return c.ml=function(a){return new c(a)},Object.defineProperty(c.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Le()},enumerable:!1,configurable:!0}),c.prototype.Da=function(a,u,d){return this.dl.Da(d,u),this.Tl.delete(d.toString()),jt.resolve()},c.prototype.Na=function(a,u,d){return this.dl.Na(d,u),this.Tl.add(d.toString()),jt.resolve()},c.prototype.Go=function(a,u){return this.Tl.add(u.toString()),jt.resolve()},c.prototype.removeTarget=function(a,u){var d=this;this.dl.Uc(u.targetId).forEach(function(C){return d.Tl.add(C.toString())});var m=this.persistence.Tc();return m.Fa(a,u.targetId).next(function(C){C.forEach(function(T){return d.Tl.add(T.toString())})}).next(function(){return m.Va(a,u)})},c.prototype.ll=function(){this.wl=new Set},c.prototype._l=function(a){var u=this,d=this.persistence.Ec().ra();return jt.forEach(this.Tl,function(m){var C=I.D(m);return u.El(a,C).next(function(T){T||d.Ar(C)})}).next(function(){return u.wl=null,d.apply(a)})},c.prototype.yc=function(a,u){var d=this;return this.El(a,u).next(function(m){m?d.Tl.delete(u.toString()):d.Tl.add(u.toString())})},c.prototype.hl=function(a){return 0},c.prototype.El=function(a,u){var d=this;return jt.kn([function(){return jt.resolve(d.dl.Ho(u))},function(){return d.persistence.Tc().Ho(a,u)},function(){return d.persistence.fl(a,u)}])},c}(),mh=function(){function c(a){this.Il=a.Il,this.Al=a.Al}return c.prototype.gu=function(a){this.Rl=a},c.prototype.Tu=function(a){this.gl=a},c.prototype.onMessage=function(a){this.Pl=a},c.prototype.close=function(){this.Al()},c.prototype.send=function(a){this.Il(a)},c.prototype.yl=function(){this.Rl()},c.prototype.Vl=function(a){this.gl(a)},c.prototype.pl=function(a){this.Pl(a)},c}(),Ul={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kp=function(c){function a(u){var d=this;return(d=c.call(this,u)||this).forceLongPolling=u.forceLongPolling,d.W=u.W,d}return te.__extends(a,c),a.prototype.Nl=function(u,d,m,C){return new Promise(function(T,P){var j=new ot.XhrIo;j.listenOnce(ot.EventType.COMPLETE,function(){try{switch(j.getLastErrorCode()){case ot.ErrorCode.NO_ERROR:var fe=j.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(fe)),T(fe);break;case ot.ErrorCode.TIMEOUT:Ne("Connection",'RPC "'+u+'" timed out'),P(new Y(be.DEADLINE_EXCEEDED,"Request time out"));break;case ot.ErrorCode.HTTP_ERROR:var Te=j.getStatus();if(Ne("Connection",'RPC "'+u+'" failed with status:',Te,"response text:",j.getResponseText()),Te>0){var De=j.getResponseJson().error;if(De&&De.status&&De.message){var We=(Ct=De.status.toLowerCase().replace("_","-"),Object.values(be).indexOf(Ct)>=0?Ct:be.UNKNOWN);P(new Y(We,De.message))}else P(new Y(be.UNKNOWN,"Server responded with status "+j.getStatus()))}else P(new Y(be.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ne("Connection",'RPC "'+u+'" completed.')}var Ct});var ne=JSON.stringify(C);j.send(d,"POST",ne,m,15)})},a.prototype.Pu=function(u,d){var m=[this.vl,"/","google.firestore.v1.Firestore","/",u,"/channel"],C=ot.createWebChannelTransport(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(T.initMessageHeaders,d),Nt.isMobileCordova()||Nt.isReactNative()||Nt.isElectron()||Nt.isIE()||Nt.isUWP()||Nt.isBrowserExtension()||(T.httpHeadersOverwriteParam="$httpHeaders");var P=m.join("");Ne("Connection","Creating WebChannel: "+P,T);var j=C.createWebChannel(P,T),ne=!1,fe=!1,Te=new mh({Il:function(We){fe?Ne("Connection","Not sending because WebChannel is closed:",We):(ne||(Ne("Connection","Opening WebChannel transport."),j.open(),ne=!0),Ne("Connection","WebChannel sending:",We),j.send(We))},Al:function(){return j.close()}}),De=function(We,ut){j.listen(We,function(Ct){try{ut(Ct)}catch(Gt){setTimeout(function(){throw Gt},0)}})};return De(ot.WebChannel.EventType.OPEN,function(){fe||Ne("Connection","WebChannel transport opened.")}),De(ot.WebChannel.EventType.CLOSE,function(){fe||(fe=!0,Ne("Connection","WebChannel transport closed"),Te.Vl())}),De(ot.WebChannel.EventType.ERROR,function(We){fe||(fe=!0,wn("Connection","WebChannel transport errored:",We),Te.Vl(new Y(be.UNAVAILABLE,"The operation could not be completed")))}),De(ot.WebChannel.EventType.MESSAGE,function(We){var ut;if(!fe){var Ct=We.data[0];dt(!!Ct);var vn=Ct.error||(null===(ut=Ct[0])||void 0===ut?void 0:ut.error);if(vn){Ne("Connection","WebChannel received error:",vn);var Kn=vn.status,cr=function(_i){var Bi=gn[_i];if(void 0!==Bi)return Ir(Bi)}(Kn),Gr=vn.message;void 0===cr&&(cr=be.INTERNAL,Gr="Unknown error status: "+Kn+" with message "+vn.message),fe=!0,Te.Vl(new Y(cr,Gr)),j.close()}else Ne("Connection","WebChannel received:",Ct),Te.pl(Ct)}}),setTimeout(function(){Te.yl()},0),Te},a}(function(){function c(a){this.bl=a,this.U=a.U,this.vl=(a.ssl?"https":"http")+"://"+a.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return c.prototype.$u=function(a,u,d,m){var C=this.Dl(a,u);Ne("RestConnection","Sending: ",C,d);var T={};return this.Cl(T,m),this.Nl(a,C,T,d).then(function(P){return Ne("RestConnection","Received: ",P),P},function(P){throw wn("RestConnection",a+" failed with error: ",P,"url: ",C,"request:",d),P})},c.prototype.ku=function(a,u,d,m){return this.$u(a,u,d,m)},c.prototype.Cl=function(a,u){if(a["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",a["Content-Type"]="text/plain",u)for(var d in u.Kc)u.Kc.hasOwnProperty(d)&&(a[d]=u.Kc[d])},c.prototype.Dl=function(a,u){return this.vl+"/v1/"+u+":"+Ul[a]},c}()),Ae=function(){function c(){var a=this;this.Fl=function(){return a.xl()},this.$l=function(){return a.kl()},this.Ml=[],this.Ol()}return c.prototype.Zu=function(a){this.Ml.push(a)},c.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},c.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},c.prototype.xl=function(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var a=0,u=this.Ml;a<u.length;a++)(0,u[a])(0)},c.prototype.kl=function(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var a=0,u=this.Ml;a<u.length;a++)(0,u[a])(1)},c.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),_h=function(){function c(){}return c.prototype.Zu=function(a){},c.prototype.Di=function(){},c}();function Mc(c){return new Cs(c,!0)}var Ea="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",qa=function(){function c(){}return c.prototype.initialize=function(a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){switch(u.label){case 0:return this.Sh=this.Ll(a),this.persistence=this.Bl(a),[4,this.persistence.start()];case 1:return u.sent(),this.ql=this.Ul(a),this.ju=this.Ql(a),[2]}})})},c.prototype.Ul=function(a){return null},c.prototype.Ql=function(a){return u=this.persistence,d=new Vl,new pc(u,d,a.Wl);var u,d},c.prototype.Bl=function(a){if(a.persistenceSettings.jl)throw new Y(be.FAILED_PRECONDITION,Ea);return new pd(gd.ml)},c.prototype.Ll=function(a){return new Ku},c.prototype.terminate=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){switch(a.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return a.sent(),[4,this.persistence.Di()];case 2:return a.sent(),[2]}})})},c.prototype.clearPersistence=function(a,u){throw new Y(be.FAILED_PRECONDITION,Ea)},c}(),Mm=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.initialize=function(u){return te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(C){switch(C.label){case 0:return[4,c.prototype.initialize.call(this,u)];case 1:return C.sent(),d=this.Kl.fi,this.Sh instanceof bi?(this.Sh.fi={er:Rp.bind(null,d),nr:Tc.bind(null,d),sr:Dc.bind(null,d),pi:as.bind(null,d)},[4,this.Sh.start()]):[3,3];case 2:C.sent(),C.label=3;case 3:return[4,this.persistence.Xa(function(T){return te.__awaiter(m,void 0,void 0,function(){return te.__generator(this,function(P){switch(P.label){case 0:return[4,dd(this.Kl.fi,T)];case 1:return P.sent(),this.ql&&(T&&!this.ql.Ei?this.ql.start(this.ju):T||this.ql.stop()),[2]}})})})];case 4:return C.sent(),[2]}})})},a.prototype.Ll=function(u){if(u.persistenceSettings.jl&&u.persistenceSettings.synchronizeTabs){var d=k();if(!bi.Ln(d))throw new Y(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=od(u.bl.U,u.bl.persistenceKey);return new bi(d,u.cs,m,u.clientId,u.Wl)}return new Ku},a}(function(c){function a(u){var d=this;return(d=c.call(this)||this).Kl=u,d}return te.__extends(a,c),a.prototype.initialize=function(u){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return[4,c.prototype.initialize.call(this,u)];case 1:return d.sent(),[4,of(this.ju)];case 2:return d.sent(),[4,this.Kl.initialize(this,u)];case 3:return d.sent(),[4,il(this.Kl.fi)];case 4:return d.sent(),[4,Cc(this.Kl.ph)];case 5:return d.sent(),[2]}})})},a.prototype.Ul=function(u){return new He(this.persistence.No.wo,u.cs)},a.prototype.Bl=function(u){var d=od(u.bl.U,u.bl.persistenceKey),m=Mc(u.bl.U);return new ds(u.persistenceSettings.synchronizeTabs,d,u.clientId,ae.ao(u.persistenceSettings.cacheSizeBytes),u.cs,k(),q(),m,this.Sh,u.persistenceSettings.ka)},a.prototype.Ll=function(u){return new Ku},a.prototype.clearPersistence=function(u,d){return function(m){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(T){switch(T.label){case 0:return ii.Ln()?[4,ii.delete(m+"main")]:[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(od(u,d))},a}(qa)),na=function(){function c(){}return c.prototype.initialize=function(a,u){return te.__awaiter(this,void 0,void 0,function(){var d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.ju?[3,2]:(this.ju=a.ju,this.Sh=a.Sh,this.Ku=this.Gl(u),this.ph=this.zl(u),this.bh=this.Hl(u),this.fi=this.Yl(u),this.Sh.di=function(C){return Sc(d.fi,C,1)},this.ph.Gu.Jl=Op.bind(null,this.fi),[4,cu(this.ph,this.fi.Uh)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},c.prototype.Hl=function(a){return new Nn},c.prototype.Gl=function(a){var d=Mc(a.bl.U),m=new kp(a.bl);return new vc(a.credentials,m,d)},c.prototype.zl=function(a){var u,d,m,C,T,P=this;return u=this.ju,d=this.Ku,m=a.cs,C=function(j){return Sc(P.fi,j,0)},T=Ae.Ln()?new Ae:new _h,new uf(u,d,m,C,T)},c.prototype.Yl=function(a){return j=!a.persistenceSettings.jl||!a.persistenceSettings.synchronizeTabs,ne=new cf(this.ju,this.ph,this.bh,this.Sh,a.Wl,a.Dh),j&&(ne.qh=!0),ne;var j,ne},c.prototype.terminate=function(){return yc(this.ph)},c}(),Ga=function(){function c(a){this.observer=a,this.muted=!1}return c.prototype.next=function(a){this.observer.next&&this.Xl(this.observer.next,a)},c.prototype.error=function(a){this.observer.error?this.Xl(this.observer.error,a):console.error("Uncaught Error in snapshot listener:",a)},c.prototype.Zl=function(){this.muted=!0},c.prototype.Xl=function(a,u){var d=this;this.muted||setTimeout(function(){d.muted||a(u)},0)},c}(),Ac=function(c){!function(u,d,m,C){if(!(d instanceof Array)||d.length<1)throw new Y(be.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+jn(1,"element")+".")}(0,c);for(var a=0;a<c.length;++a)if(le("FieldPath","string",a,c[a]),0===c[a].length)throw new Y(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new O(c)},Ui=function(c){function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return c.call(this,u)||this}return te.__extends(a,c),a.documentId=function(){return new a(O.v().R())},a.prototype.isEqual=function(u){if(!(u instanceof a))throw nn("isEqual","FieldPath",1,u);return this.t_.isEqual(u.t_)},a}(Ac),Yi=new RegExp("[~\\*/\\[\\]]"),Sa=function(c){this.e_=c},ks=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.n_=function(u){if(2!==u.s_)throw u.i_(1===u.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return u.We.push(u.path),null},a.prototype.isEqual=function(u){return u instanceof a},a}(Sa);function md(c,a,u){return new Ch({s_:3,r_:a.settings.r_,methodName:c.e_,o_:u},a.U,a.serializer,a.ignoreUndefinedProperties)}var vh=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.n_=function(u){return new yt(u.path,new Xr)},a.prototype.isEqual=function(u){return u instanceof a},a}(Sa),Bl=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).a_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=md(this,u,!0),m=this.a_.map(function(T){return Fu(T,d)}),C=new B(m);return new yt(u.path,C)},a.prototype.isEqual=function(u){return this===u},a}(Sa),yh=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).a_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=md(this,u,!0),m=this.a_.map(function(T){return Fu(T,d)}),C=new X(m);return new yt(u.path,C)},a.prototype.isEqual=function(u){return this===u},a}(Sa),bh=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).c_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=new Ee(u.serializer,ns(u.serializer,this.c_));return new yt(u.path,d)},a.prototype.isEqual=function(u){return this===u},a}(Sa),Oc=function(){function c(a,u){if(H("GeoPoint",arguments,2),le("GeoPoint","number",1,a),le("GeoPoint","number",2,u),!isFinite(a)||a<-90||a>90)throw new Y(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(u)||u<-180||u>180)throw new Y(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+u);this.u_=a,this.h_=u}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this.u_===a.u_&&this.h_===a.h_},c.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},c.prototype.Y=function(a){return Ht(this.u_,a.u_)||Ht(this.h_,a.h_)},c}(),gf=function(c){this.l_=c},xc=/^__.*__$/,Ia=function(c,a,u){this.__=c,this.f_=a,this.d_=u},Am=function(){function c(a,u,d){this.data=a,this.We=u,this.fieldTransforms=d}return c.prototype.w_=function(a,u){var d=[];return d.push(null!==this.We?new fr(a,this.data,this.We,u):new ri(a,this.data,u)),this.fieldTransforms.length>0&&d.push(new Fi(a,this.fieldTransforms)),d},c}(),Om=function(){function c(a,u,d){this.data=a,this.We=u,this.fieldTransforms=d}return c.prototype.w_=function(a,u){var d=[new fr(a,this.data,this.We,u)];return this.fieldTransforms.length>0&&d.push(new Fi(a,this.fieldTransforms)),d},c}();function wh(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var Ch=function(){function c(a,u,d,m,C,T){this.settings=a,this.U=u,this.serializer=d,this.ignoreUndefinedProperties=m,void 0===C&&this.m_(),this.fieldTransforms=C||[],this.We=T||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),c.prototype.T_=function(a){return new c(Object.assign(Object.assign({},this.settings),a),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},c.prototype.E_=function(a){var u,d=null===(u=this.path)||void 0===u?void 0:u.child(a),m=this.T_({path:d,o_:!1});return m.I_(a),m},c.prototype.A_=function(a){var u,d=null===(u=this.path)||void 0===u?void 0:u.child(a),m=this.T_({path:d,o_:!1});return m.m_(),m},c.prototype.R_=function(a){return this.T_({path:void 0,o_:!0})},c.prototype.i_=function(a){return Pc(a,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},c.prototype.contains=function(a){return void 0!==this.We.find(function(u){return a.T(u)})||void 0!==this.fieldTransforms.find(function(u){return a.T(u.field)})},c.prototype.m_=function(){if(this.path)for(var a=0;a<this.path.length;a++)this.I_(this.path.get(a))},c.prototype.I_=function(a){if(0===a.length)throw this.i_("Document fields must not be empty");if(wh(this.s_)&&xc.test(a))throw this.i_('Document fields cannot begin and end with "__"')},c}(),fu=function(){function c(a,u,d){this.U=a,this.ignoreUndefinedProperties=u,this.serializer=d||Mc(a)}return c.prototype.P_=function(a,u,d,m){return void 0===m&&(m=!1),new Ch({s_:a,methodName:u,r_:d,path:O.P(),o_:!1,g_:m},this.U,this.serializer,this.ignoreUndefinedProperties)},c}();function Eh(c,a,u,d,m,C){void 0===C&&(C={});var T=c.P_(C.merge||C.mergeFields?2:0,a,u,m);ol("Data must be an object, but it was:",T,d);var P,j,ne=jl(d,T);if(C.merge)P=new gt(T.We),j=T.fieldTransforms;else if(C.mergeFields){for(var fe=[],Te=0,De=C.mergeFields;Te<De.length;Te++){var We=De[Te],ut=void 0;if(We instanceof Ac)ut=We.t_;else{if("string"!=typeof We)throw Le();ut=Hl(a,We,u)}if(!T.contains(ut))throw new Y(be.INVALID_ARGUMENT,"Field '"+ut+"' is specified in your field mask but missing from your input data.");yd(fe,ut)||fe.push(ut)}P=new gt(fe),j=T.fieldTransforms.filter(function(Ct){return P.Ye(Ct.field)})}else P=null,j=T.fieldTransforms;return new Am(new Ws(ne),P,j)}function ra(c,a,u,d){var m=c.P_(1,a,u);ol("Data must be an object, but it was:",m,d);var C=[],T=new rs;Ft(d,function(j,ne){var fe=Hl(a,j,u),Te=m.A_(fe);if(ne instanceof ks||ne instanceof gf&&ne.l_ instanceof ks)C.push(fe);else{var De=Fu(ne,Te);null!=De&&(C.push(fe),T.set(fe,De))}});var P=new gt(C);return new Om(T.Xe(),P,m.fieldTransforms)}function _d(c,a,u,d,m,C){var T=c.P_(1,a,u),P=[Rc(a,d,u)],j=[m];if(C.length%2!=0)throw new Y(be.INVALID_ARGUMENT,"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var ne=0;ne<C.length;ne+=2)P.push(Rc(a,C[ne])),j.push(C[ne+1]);for(var fe=[],Te=new rs,De=P.length-1;De>=0;--De)if(!yd(fe,P[De])){var We=P[De],ut=j[De],Ct=T.A_(We);if(ut instanceof ks||ut instanceof gf&&ut.l_ instanceof ks)fe.push(We);else{var Gt=Fu(ut,Ct);null!=Gt&&(fe.push(We),Te.set(We,Gt))}}var vn=new gt(fe);return new Om(Te.Xe(),vn,T.fieldTransforms)}function Sh(c,a,u,d){return void 0===d&&(d=!1),Fu(u,c.P_(d?4:3,a))}function Fu(c,a){if(c instanceof gf&&(c=c.l_),vd(c))return ol("Unsupported field value:",a,c),jl(c,a);if(c instanceof Sa)return function(u,d){if(!wh(d.s_))throw d.i_(u.e_+"() can only be used with update() and set()");if(!d.path)throw d.i_(u.e_+"() is not currently supported inside arrays");var m=u.n_(d);m&&d.fieldTransforms.push(m)}(c,a),null;if(a.path&&a.We.push(a.path),c instanceof Array){if(a.settings.o_&&4!==a.s_)throw a.i_("Nested arrays are not supported");return function(u,d){for(var m=[],C=0,T=0,P=u;T<P.length;T++){var j=Fu(P[T],d.R_(C));null==j&&(j={nullValue:"NULL_VALUE"}),m.push(j),C++}return{arrayValue:{values:m}}}(c,a)}return function(u,d){if(null===u)return{nullValue:"NULL_VALUE"};if("number"==typeof u)return ns(d.serializer,u);if("boolean"==typeof u)return{booleanValue:u};if("string"==typeof u)return{stringValue:u};if(u instanceof Date){var m=Qn.fromDate(u);return{timestampValue:ru(d.serializer,m)}}if(u instanceof Qn){var C=new Qn(u.seconds,1e3*Math.floor(u.nanoseconds/1e3));return{timestampValue:ru(d.serializer,C)}}if(u instanceof Oc)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof kn)return{bytesValue:ho(d.serializer,u.q)};if(u instanceof Ia){var T=d.U,P=u.__;if(!P.isEqual(T))throw d.i_("Document reference is for database "+P.projectId+"/"+P.database+" but should be for database "+T.projectId+"/"+T.database);return{referenceValue:La(u.__||d.U,u.f_.path)}}if(void 0===u&&d.ignoreUndefinedProperties)return null;throw d.i_("Unsupported field value: "+wt(u))}(c,a)}function jl(c,a){var u={};return at(c)?a.path&&a.path.length>0&&a.We.push(a.path):Ft(c,function(d,m){var C=Fu(m,a.E_(d));null!=C&&(u[d]=C)}),{mapValue:{fields:u}}}function vd(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Qn||c instanceof Oc||c instanceof kn||c instanceof Ia||c instanceof Sa)}function ol(c,a,u){if(!vd(u)||!Ge(u)){var d=wt(u);throw a.i_("an object"===d?c+" a custom object":c+" "+d)}}function Rc(c,a,u){if(a instanceof Ac)return a.t_;if("string"==typeof a)return Hl(c,a);throw Pc("Field path arguments must be of type string or FieldPath.",c,!1,void 0,u)}function Hl(c,a,u){try{return function(m){if(m.search(Yi)>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ui.bind.apply(Ui,te.__spreadArrays([void 0],m.split("."))))}catch(C){throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(a).t_}catch(m){throw Pc((d=m)instanceof Error?d.message:d.toString(),c,!1,void 0,u)}var d}function Pc(c,a,u,d,m){var C=d&&!d.m(),T=void 0!==m,P="Function "+a+"() called with invalid data";u&&(P+=" (via `toFirestore()`)");var j="";return(C||T)&&(j+=" (found",C&&(j+=" in field "+d),T&&(j+=" in document "+m),j+=")"),new Y(be.INVALID_ARGUMENT,(P+=". ")+c+j)}function yd(c,a){return c.some(function(u){return u.isEqual(a)})}var bd=function(){function c(a){this.Ku=a,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return c.prototype.v_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:if(this.S_(),this.mutations.length>0)throw new Y(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(C,T){return te.__awaiter(this,void 0,void 0,function(){var P,j,ne,fe,Te,De;return te.__generator(this,function(We){switch(We.label){case 0:return P=et(C),j=Tn(P.serializer)+"/documents",ne={documents:T.map(function(ut){return no(P.serializer,ut)})},[4,P.ku("BatchGetDocuments",j,ne)];case 1:return fe=We.sent(),Te=new Map,fe.forEach(function(ut){var Gt,vn,Ct=(Gt=P.serializer,"found"in(vn=ut)?function(Kn,cr){dt(!!cr.found);var Gr=zn(Kn,cr.found.name),_i=Ho(cr.found.updateTime),Bi=new Ws({mapValue:{fields:cr.found.fields}});return new Rr(Gr,_i,Bi,{})}(Gt,vn):"missing"in vn?function(Kn,cr){dt(!!cr.missing),dt(!!cr.readTime);var Gr=zn(Kn,cr.missing),_i=Ho(cr.readTime);return new li(Gr,_i)}(Gt,vn):Le());Te.set(Ct.key.toString(),Ct)}),De=[],[2,(T.forEach(function(ut){var Ct=Te.get(ut.toString());dt(!!Ct),De.push(Ct)}),De)]}})})}(this.Ku,a)];case 1:return[2,((u=m.sent()).forEach(function(C){C instanceof li||C instanceof Rr?d.D_(C):Le()}),u)]}})})},c.prototype.set=function(a,u){this.write(u.w_(a,this.Ge(a))),this.b_.add(a.toString())},c.prototype.update=function(a,u){try{this.write(u.w_(a,this.C_(a)))}catch(d){this.p_=d}this.b_.add(a.toString())},c.prototype.delete=function(a){this.write([new dr(a,this.Ge(a))]),this.b_.add(a.toString())},c.prototype.commit=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){switch(d.label){case 0:if(this.S_(),this.p_)throw this.p_;return a=this.y_,this.mutations.forEach(function(m){a.delete(m.key.toString())}),a.forEach(function(m,C){var T=I.D(C);u.mutations.push(new ma(T,u.Ge(T)))}),[4,function(m,C){return te.__awaiter(this,void 0,void 0,function(){var T,P,j;return te.__generator(this,function(ne){switch(ne.label){case 0:return T=et(m),P=Tn(T.serializer)+"/documents",j={writes:C.map(function(fe){return Hi(T.serializer,fe)})},[4,T.$u("Commit",P,j)];case 1:return ne.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return d.sent(),this.V_=!0,[2]}})})},c.prototype.D_=function(a){var u;if(a instanceof Rr)u=a.version;else{if(!(a instanceof li))throw Le();u=xn.min()}var d=this.y_.get(a.key.toString());if(d){if(!u.isEqual(d))throw new Y(be.ABORTED,"Document version changed between two reads.")}else this.y_.set(a.key.toString(),u)},c.prototype.Ge=function(a){var u=this.y_.get(a.toString());return!this.b_.has(a.toString())&&u?Vt.updateTime(u):Vt.ze()},c.prototype.C_=function(a){var u=this.y_.get(a.toString());if(!this.b_.has(a.toString())&&u){if(u.isEqual(xn.min()))throw new Y(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vt.updateTime(u)}return Vt.exists(!0)},c.prototype.write=function(a){this.S_(),this.mutations=this.mutations.concat(a)},c.prototype.S_=function(){},c}(),Np=function(){function c(a,u,d,m){this.cs=a,this.Ku=u,this.updateFunction=d,this.ls=m,this.N_=5,this.ys=new Iu(this.cs,"transaction_retry")}return c.prototype.run=function(){this.F_()},c.prototype.F_=function(){var a=this;this.ys.gn(function(){return te.__awaiter(a,void 0,void 0,function(){var u,d,m=this;return te.__generator(this,function(C){return u=new bd(this.Ku),(d=this.x_(u))&&d.then(function(T){m.cs.ws(function(){return u.commit().then(function(){m.ls.resolve(T)}).catch(function(P){m.k_(P)})})}).catch(function(T){m.k_(T)}),[2]})})})},c.prototype.x_=function(a){try{var u=this.updateFunction(a);return!hi(u)&&u.catch&&u.then?u:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.ls.reject(d),null}},c.prototype.k_=function(a){var u=this;this.N_>0&&this.M_(a)?(this.N_-=1,this.cs.ws(function(){return u.F_(),Promise.resolve()})):this.ls.reject(a)},c.prototype.M_=function(a){if("FirebaseError"===a.name){var u=a.code;return"aborted"===u||"failed-precondition"===u||!Xn(u)}return!1},c}(),zl=function(){function c(a,u){this.credentials=a,this.cs=u,this.clientId=pn.k(),this.O_=new Qr}return c.prototype.start=function(a,u,d,m){var C=this;this.L_(),this.bl=a;var T=new Qr,P=!1;return this.credentials.Hc(function(j){if(!P)return P=!0,Ne("FirestoreClient","Initializing. user=",j.uid),C.B_(u,d,m,j,T).then(C.O_.resolve,C.O_.reject);C.cs.Cs(function(){return function(ne,fe){return te.__awaiter(this,void 0,void 0,function(){var Te,De;return te.__generator(this,function(We){switch(We.label){case 0:return(Te=et(ne)).cs.xs(),Ne("RemoteStore","RemoteStore received new credentials"),De=bo(Te),Te.Yu.add(3),[4,ei(Te)];case 1:return We.sent(),De&&Te.th.set("Unknown"),[4,Te.Gu.Jl(fe)];case 2:return We.sent(),Te.Yu.delete(3),[4,lu(Te)];case 3:return We.sent(),[2]}})})}(C.ph,j)})}),this.cs.ws(function(){return C.O_.promise}),T.promise},c.prototype.enableNetwork=function(){var a=this;return this.L_(),this.cs.enqueue(function(){return a.persistence.tc(!0),(d=et(a.ph)).Yu.delete(0),lu(d);var d})},c.prototype.B_=function(a,u,d,m,C){return te.__awaiter(this,void 0,void 0,function(){var T,P,j=this;return te.__generator(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,3,,4]),[4,a.initialize(T={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:m,Dh:100,persistenceSettings:d})];case 1:return ne.sent(),[4,u.initialize(a,T)];case 2:return ne.sent(),this.persistence=a.persistence,this.Sh=a.Sh,this.ju=a.ju,this.ql=a.ql,this.Ku=u.Ku,this.ph=u.ph,this.fi=u.fi,this.q_=u.bh,this.q_.Us=Ap.bind(null,this.fi),this.q_.js=gs.bind(null,this.fi),this.persistence.Za(function(){return te.__awaiter(j,void 0,void 0,function(){return te.__generator(this,function(fe){switch(fe.label){case 0:return[4,this.terminate()];case 1:return fe.sent(),[2]}})})}),C.resolve(),[3,4];case 3:if(P=ne.sent(),C.reject(P),!this.U_(P))throw P;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+P),this.B_(new qa,new na,{jl:!1},m,C))];case 4:return[2]}})})},c.prototype.U_=function(a){return"FirebaseError"===a.name?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code},c.prototype.L_=function(){if(this.cs.ps)throw new Y(be.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.disableNetwork=function(){var a=this;return this.L_(),this.cs.enqueue(function(){return a.persistence.tc(!1),function(u){return te.__awaiter(this,void 0,void 0,function(){var d;return te.__generator(this,function(m){switch(m.label){case 0:return(d=et(u)).Yu.add(0),[4,ei(d)];case 1:return m.sent(),d.th.set("Offline"),[2]}})})}(a.ph)})},c.prototype.terminate=function(){var a=this;this.cs.Ds();var u=new Qr;return this.cs.bs(function(){return te.__awaiter(a,void 0,void 0,function(){var d,m;return te.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,yc(this.ph)];case 1:return C.sent(),[4,this.Sh.Di()];case 2:return C.sent(),[4,this.persistence.Di()];case 3:return C.sent(),this.credentials.Yc(),u.resolve(),[3,5];case 4:return d=C.sent(),m=Ze(d,"Failed to shutdown persistence"),u.reject(m),[3,5];case 5:return[2]}})})}),u.promise},c.prototype.waitForPendingWrites=function(){var a=this;this.L_();var u=new Qr;return this.cs.ws(function(){return function(d,m){return te.__awaiter(this,void 0,void 0,function(){var C,T,P,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:bo((C=et(d)).ph)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,(Te=C.ju,De=et(Te),De.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(We){return De.Sr.qo(We)}))];case 2:return-1===(T=fe.sent())?[2,void m.resolve()]:((P=C.Lh.get(T)||[]).push(m),C.Lh.set(T,P),[3,4]);case 3:return j=fe.sent(),ne=Ze(j,"Initialization of waitForPendingWrites() operation failed"),m.reject(ne),[3,4];case 4:return[2]}var Te,De})})}(a.fi,u)}),u.promise},c.prototype.listen=function(a,u,d){var m=this;this.L_();var C=new Ga(d),T=new Os(a,C,u);return this.cs.ws(function(){return Dr(m.q_,T)}),function(){C.Zl(),m.cs.ws(function(){return oo(m.q_,T)})}},c.prototype.Q_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),u=new Qr,[2,(this.cs.ws(function(){return function(C,T,P){return te.__awaiter(this,void 0,void 0,function(){var j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:return Te.trys.push([0,2,,3]),[4,(De=C,We=T,ut=et(De),ut.persistence.runTransaction("read document","readonly",function(Ct){return ut.Cc.Cr(Ct,We)}))];case 1:return(j=Te.sent())instanceof Rr?P.resolve(j):j instanceof li?P.resolve(null):P.reject(new Y(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ne=Te.sent(),fe=Ze(ne,"Failed to get document '"+T+" from cache"),P.reject(fe),[3,3];case 3:return[2]}var De,We,ut})})}(d.ju,a,u)}),u.promise)]}})})},c.prototype.W_=function(a,u){return void 0===u&&(u={}),te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),d=new Qr,[2,(this.cs.ws(function(){return T=m.q_,P=m.cs,j=a,ne=u,fe=d,Te=new Ga({next:function(We){P.ws(function(){return oo(T,De)});var ut=We.docs.has(j);!ut&&We.fromCache?fe.reject(new Y(be.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&We.fromCache&&ne&&"server"===ne.source?fe.reject(new Y(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):fe.resolve(We)},error:function(We){return fe.reject(We)}}),De=new Os(Li(j.path),Te,{includeMetadataChanges:!0,Xs:!0}),Dr(T,De);var T,P,j,ne,fe,Te,De}),d.promise)]}})})},c.prototype.j_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),u=new Qr,[2,(this.cs.ws(function(){return function(C,T,P){return te.__awaiter(this,void 0,void 0,function(){var j,ne,fe,Te,De,We;return te.__generator(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,2,,3]),[4,mc(C,T,!0)];case 1:return j=ut.sent(),ne=new Mp(T,j.Fc),fe=ne.wh(j.documents),Te=ne.yr(fe,!1),P.resolve(Te.snapshot),[3,3];case 2:return De=ut.sent(),We=Ze(De,"Failed to execute query '"+T+" against cache"),P.reject(We),[3,3];case 3:return[2]}})})}(d.ju,a,u)}),u.promise)]}})})},c.prototype.K_=function(a,u){return void 0===u&&(u={}),te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(C){switch(C.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return C.sent(),d=new Qr,[2,(this.cs.ws(function(){return T=m.q_,P=m.cs,j=a,ne=u,fe=d,Te=new Ga({next:function(We){P.ws(function(){return oo(T,De)}),We.fromCache&&"server"===ne.source?fe.reject(new Y(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):fe.resolve(We)},error:function(We){return fe.reject(We)}}),De=new Os(j,Te,{includeMetadataChanges:!0,Xs:!0}),Dr(T,De);var T,P,j,ne,fe,Te,De}),d.promise)]}})})},c.prototype.write=function(a){var u=this;this.L_();var d=new Qr;return this.cs.ws(function(){return function(m,C,T){return te.__awaiter(this,void 0,void 0,function(){var P,j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:P=il(m),Te.label=1;case 1:return Te.trys.push([1,5,,6]),[4,(De=P.ju,We=C,Ct=et(De),Gt=Qn.now(),vn=We.reduce(function(Kn,cr){return Kn.add(cr.key)},Fe()),Ct.persistence.runTransaction("Locally write mutations","readwrite",function(Kn){return Ct.Cc.kr(Kn,vn).next(function(cr){ut=cr;for(var Gr=[],_i=0,Bi=We;_i<Bi.length;_i++){var du=Bi[_i],wr=bn(du,ut.get(du.key));null!=wr&&Gr.push(new fr(du.key,wr,Gu(wr.proto.mapValue),Vt.exists(!0)))}return Ct.Sr.ko(Kn,Gt,Gr,We)})}).then(function(Kn){var cr=Kn.lr(ut);return{batchId:Kn.batchId,wr:cr}}))];case 2:return j=Te.sent(),P.Sh.xi(j.batchId),function(De,We,ut){var Ct=De.Oh[De.currentUser.ti()];Ct||(Ct=new an(Ht)),Ct=Ct.ot(We,ut),De.Oh[De.currentUser.ti()]=Ct}(P,j.batchId,T),[4,ta(P,j.wr)];case 3:return Te.sent(),[4,Cc(P.ph)];case 4:return Te.sent(),[3,6];case 5:return ne=Te.sent(),fe=Ze(ne,"Failed to persist write"),T.reject(fe),[3,6];case 6:return[2]}var De,We,ut,Ct,Gt,vn})})}(u.fi,a,d)}),d.promise},c.prototype.U=function(){return this.bl.U},c.prototype.G_=function(a){var u=this;this.L_();var d=new Ga(a);return this.cs.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return[2,(C=this.q_,T=d,et(C).qs.add(T),void T.next())];var C,T})})}),function(){d.Zl(),u.cs.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return[2,(C=this.q_,T=d,void et(C).qs.delete(T))];var C,T})})})}},Object.defineProperty(c.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),c.prototype.transaction=function(a){var u=this;this.L_();var d=new Qr;return this.cs.ws(function(){return new Np(u.cs,u.Ku,a,d).run(),Promise.resolve()}),d.promise},c}();function kc(c){return function(a,u){if("object"!=typeof a||null===a)return!1;for(var d=a,m=0,C=["next","error","complete"];m<C.length;m++){var T=C[m];if(T in d&&"function"==typeof d[T])return!0}return!1}(c)}var sl=function(){function c(a,u,d,m,C){this.U=a,this.timestampsInSnapshots=u,this.H_=d,this.Y_=m,this.J_=C}return c.prototype.X_=function(a){switch(Ce(a)){case 0:return null;case 1:return a.booleanValue;case 2:return ur(a.integerValue||a.doubleValue);case 3:return this.Z_(a.timestampValue);case 4:return this.tf(a);case 5:return a.stringValue;case 6:return this.J_(rr(a.bytesValue));case 7:return this.ef(a.referenceValue);case 8:return this.nf(a.geoPointValue);case 9:return this.sf(a.arrayValue);case 10:return this.if(a.mapValue);default:throw Le()}},c.prototype.if=function(a){var u=this,d={};return Ft(a.fields||{},function(m,C){d[m]=u.X_(C)}),d},c.prototype.nf=function(a){return new Oc(ur(a.latitude),ur(a.longitude))},c.prototype.sf=function(a){var u=this;return(a.values||[]).map(function(d){return u.X_(d)})},c.prototype.tf=function(a){switch(this.H_){case"previous":var u=L(a);return null==u?null:this.X_(u);case"estimate":return this.Z_($(a));default:return null}},c.prototype.Z_=function(a){var u=vt(a),d=new Qn(u.seconds,u.nanos);return this.timestampsInSnapshots?d:d.toDate()},c.prototype.ef=function(a){var u=pt.g(a);dt(Vn(u));var d=new si(u.get(1),u.get(3)),m=new I(u.u(5));return d.isEqual(this.U)||ft("Document "+m+" contains a document reference within a different database ("+d.projectId+"/"+d.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(m)},c}(),wd=ae.ho,Fp=function(){function c(a){var u,d,m,C,T;if(void 0===a.host){if(void 0!==a.ssl)throw new Y(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else se("settings","non-empty string","host",a.host),this.host=a.host,Ve("settings","boolean","ssl",a.ssl),this.ssl=null===(u=a.ssl)||void 0===u||u;if(Rt("settings",a,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Ve("settings","object","credentials",a.credentials),this.credentials=a.credentials,Ve("settings","boolean","timestampsInSnapshots",a.timestampsInSnapshots),Ve("settings","boolean","ignoreUndefinedProperties",a.ignoreUndefinedProperties),!0===a.timestampsInSnapshots?ft("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===a.timestampsInSnapshots&&ft("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(d=a.timestampsInSnapshots)||void 0===d||d,this.ignoreUndefinedProperties=null!==(m=a.ignoreUndefinedProperties)&&void 0!==m&&m,Ve("settings","number","cacheSizeBytes",a.cacheSizeBytes),void 0===a.cacheSizeBytes)this.cacheSizeBytes=ae._o;else{if(a.cacheSizeBytes!==wd&&a.cacheSizeBytes<ae.lo)throw new Y(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ae.lo);this.cacheSizeBytes=a.cacheSizeBytes}Ve("settings","boolean","experimentalForceLongPolling",a.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(C=a.experimentalForceLongPolling)&&void 0!==C&&C,Ve("settings","boolean","experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(T=a.experimentalAutoDetectLongPolling)&&void 0!==T&&T,function(P,j,ne,fe){if(!0===j&&!0===fe)throw new Y(be.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,a.experimentalForceLongPolling,0,a.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.timestampsInSnapshots===a.timestampsInSnapshots&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties},c}(),Cd=function(){function c(a,u,d,m){var C=this;if(void 0===d&&(d=new qa),void 0===m&&(m=new na),this.rf=d,this.af=m,this.cf=null,this.uf=new Re,this.INTERNAL={delete:function(){return te.__awaiter(C,void 0,void 0,function(){return te.__generator(this,function(j){switch(j.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return j.sent(),[2]}})})}},"object"==typeof a.options){var T=a;this.cf=T,this.__=c._f(T),this.ff=T.name,this.df=new ud(u)}else{var P=a;if(!P.projectId)throw new Y(be.INVALID_ARGUMENT,"Must provide projectId");this.__=new si(P.projectId,P.database),this.ff="[DEFAULT]",this.df=new sf}this.wf=new Fp({})}return Object.defineProperty(c.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new fu(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),c.prototype.settings=function(a){H("Firestore.settings",arguments,1),le("Firestore.settings","object",1,a),a.merge&&delete(a=Object.assign(Object.assign({},this.wf),a)).merge;var u=new Fp(a);if(this.lf&&!this.wf.isEqual(u))throw new Y(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=u,void 0!==u.credentials&&(this.df=function(d){if(!d)return new sf;switch(d.type){case"gapi":var m=d.client;return dt(!("object"!=typeof m||null===m||!m.auth||!m.auth.getAuthHeaderValueForFirstParty)),new af(m,d.sessionIndex||"0");case"provider":return d.client;default:throw new Y(be.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(u.credentials))},c.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},c.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},c.prototype.enablePersistence=function(a){var u,d;if(this.lf)throw new Y(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var m=!1,C=!1;if(a&&(void 0!==a.experimentalTabSynchronization&&ft("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),m=null!==(d=null!==(u=a.synchronizeTabs)&&void 0!==u?u:a.experimentalTabSynchronization)&&void 0!==d&&d,C=!!a.experimentalForceOwningTab&&a.experimentalForceOwningTab,m&&C))throw new Y(be.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:m,ka:C})},c.prototype.clearPersistence=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){if(void 0!==this.lf&&!this.lf.z_)throw new Y(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return a=new Qr,[2,(this.uf.bs(function(){return te.__awaiter(u,void 0,void 0,function(){var m;return te.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return C.sent(),a.resolve(),[3,3];case 2:return m=C.sent(),a.reject(m),[3,3];case 3:return[2]}})})}),a.promise)]})})},c.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(c.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),c.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},c.prototype.onSnapshotsInSync=function(a){return this.hf(),kc(a)?this.lf.G_(a):(le("Firestore.onSnapshotsInSync","function",1,a),this.lf.G_({next:a}))},c.prototype.hf=function(){return this.lf||this.Ef(new qa,new na,{jl:!1}),this.lf},c.prototype.Af=function(){return new Hn(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},c.prototype.Ef=function(a,u,d){var m=this.Af();return this.lf=new zl(this.df,this.uf),this.lf.start(m,a,u,d)},c._f=function(a){if(!Object.prototype.hasOwnProperty.call(a.options,"projectId"))throw new Y(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var d=a.options.projectId;if(!d||"string"!=typeof d)throw new Y(be.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new si(d)},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.cf)throw new Y(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),c.prototype.collection=function(a){return H("Firestore.collection",arguments,1),le("Firestore.collection","non-empty string",1,a),this.hf(),new Fc(pt.g(a),this,null)},c.prototype.doc=function(a){return H("Firestore.doc",arguments,1),le("Firestore.doc","non-empty string",1,a),this.hf(),Lu.Rf(pt.g(a),this,null)},c.prototype.collectionGroup=function(a){if(H("Firestore.collectionGroup",arguments,1),le("Firestore.collectionGroup","non-empty string",1,a),a.indexOf("/")>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Nc((u=a,new Ss(pt.P(),u)),this,null);var u},c.prototype.runTransaction=function(a){var u=this;return H("Firestore.runTransaction",arguments,1),le("Firestore.runTransaction","function",1,a),this.hf().transaction(function(d){return a(new Si(u,d))})},c.prototype.batch=function(){return this.hf(),new ia(this)},Object.defineProperty(c,"logLevel",{get:function(){switch(st()){case re.LogLevel.DEBUG:return"debug";case re.LogLevel.ERROR:return"error";case re.LogLevel.SILENT:return"silent";case re.LogLevel.WARN:return"warn";case re.LogLevel.INFO:return"info";case re.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),c.setLogLevel=function(a){H("Firestore.setLogLevel",arguments,1),xe("setLogLevel",["debug","error","silent","warn","info","verbose"],1,a),nt.setLogLevel(a)},c.prototype.gf=function(){return this.wf.timestampsInSnapshots},c.prototype.Pf=function(){return this.wf},c}(),Si=function(){function c(a,u){this.yf=a,this.Vf=u}return c.prototype.get=function(a){var u=this;H("Transaction.get",arguments,1);var d=oa("Transaction.get",a,this.yf);return this.Vf.v_([d.f_]).then(function(m){if(!m||1!==m.length)return Le();var C=m[0];if(C instanceof li)return new ql(u.yf,d.f_,null,!1,!1,d.d_);if(C instanceof Rr)return new ql(u.yf,d.f_,C,!1,!1,d.d_);throw Le()})},c.prototype.set=function(a,u,d){K("Transaction.set",arguments,2,3);var m=oa("Transaction.set",a,this.yf);d=Gl("Transaction.set",d);var C=bf(m.d_,u,d),T=Eh(this.yf.mf,"Transaction.set",m.f_,C,null!==m.d_,d);return this.Vf.set(m.f_,T),this},c.prototype.update=function(a,u,d){for(var m,C,T=[],P=3;P<arguments.length;P++)T[P-3]=arguments[P];return"string"==typeof u||u instanceof Ui?(R("Transaction.update",arguments,3),m=oa("Transaction.update",a,this.yf),C=_d(this.yf.mf,"Transaction.update",m.f_,u,d,T)):(H("Transaction.update",arguments,2),m=oa("Transaction.update",a,this.yf),C=ra(this.yf.mf,"Transaction.update",m.f_,u)),this.Vf.update(m.f_,C),this},c.prototype.delete=function(a){H("Transaction.delete",arguments,1);var u=oa("Transaction.delete",a,this.yf);return this.Vf.delete(u.f_),this},c}(),ia=function(){function c(a){this.yf=a,this.pf=[],this.bf=!1}return c.prototype.set=function(a,u,d){K("WriteBatch.set",arguments,2,3),this.vf();var m=oa("WriteBatch.set",a,this.yf);d=Gl("WriteBatch.set",d);var C=bf(m.d_,u,d),T=Eh(this.yf.mf,"WriteBatch.set",m.f_,C,null!==m.d_,d);return this.pf=this.pf.concat(T.w_(m.f_,Vt.ze())),this},c.prototype.update=function(a,u,d){for(var m,C,T=[],P=3;P<arguments.length;P++)T[P-3]=arguments[P];return this.vf(),"string"==typeof u||u instanceof Ui?(R("WriteBatch.update",arguments,3),m=oa("WriteBatch.update",a,this.yf),C=_d(this.yf.mf,"WriteBatch.update",m.f_,u,d,T)):(H("WriteBatch.update",arguments,2),m=oa("WriteBatch.update",a,this.yf),C=ra(this.yf.mf,"WriteBatch.update",m.f_,u)),this.pf=this.pf.concat(C.w_(m.f_,Vt.exists(!0))),this},c.prototype.delete=function(a){H("WriteBatch.delete",arguments,1),this.vf();var u=oa("WriteBatch.delete",a,this.yf);return this.pf=this.pf.concat(new dr(u.f_,Vt.ze())),this},c.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},c.prototype.vf=function(){if(this.bf)throw new Y(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}(),Lu=function(c){function a(u,d,m){var C=this;return(C=c.call(this,d.__,u,m)||this).f_=u,C.firestore=d,C.d_=m,C.lf=C.firestore.hf(),C}return te.__extends(a,c),a.Rf=function(u,d,m){if(u.length%2!=0)throw new Y(be.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+u.R()+" has "+u.length);return new a(new I(u),d,m)},Object.defineProperty(a.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new Fc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),a.prototype.collection=function(u){if(H("DocumentReference.collection",arguments,1),le("DocumentReference.collection","non-empty string",1,u),!u)throw new Y(be.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var d=pt.g(u);return new Fc(this.f_.path.child(d),this.firestore,null)},a.prototype.isEqual=function(u){if(!(u instanceof a))throw nn("isEqual","DocumentReference",1,u);return this.firestore===u.firestore&&this.f_.isEqual(u.f_)&&this.d_===u.d_},a.prototype.set=function(u,d){K("DocumentReference.set",arguments,1,2),d=Gl("DocumentReference.set",d);var m=bf(this.d_,u,d),C=Eh(this.firestore.mf,"DocumentReference.set",this.f_,m,null!==this.d_,d);return this.lf.write(C.w_(this.f_,Vt.ze()))},a.prototype.update=function(u,d){for(var m,C=[],T=2;T<arguments.length;T++)C[T-2]=arguments[T];return"string"==typeof u||u instanceof Ui?(R("DocumentReference.update",arguments,2),m=_d(this.firestore.mf,"DocumentReference.update",this.f_,u,d,C)):(H("DocumentReference.update",arguments,1),m=ra(this.firestore.mf,"DocumentReference.update",this.f_,u)),this.lf.write(m.w_(this.f_,Vt.exists(!0)))},a.prototype.delete=function(){return H("DocumentReference.delete",arguments,0),this.lf.write([new dr(this.f_,Vt.ze())])},a.prototype.onSnapshot=function(){for(var u,d,m,C=this,T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];K("DocumentReference.onSnapshot",arguments,1,4);var j={includeMetadataChanges:!1},ne=0;"object"!=typeof T[ne]||kc(T[ne])||(Rt("DocumentReference.onSnapshot",j=T[ne],["includeMetadataChanges"]),Ve("DocumentReference.onSnapshot","boolean","includeMetadataChanges",j.includeMetadataChanges),ne++);var fe={includeMetadataChanges:j.includeMetadataChanges};if(kc(T[ne])){var Te=T[ne];T[ne]=null===(u=Te.next)||void 0===u?void 0:u.bind(Te),T[ne+1]=null===(d=Te.error)||void 0===d?void 0:d.bind(Te),T[ne+2]=null===(m=Te.complete)||void 0===m?void 0:m.bind(Te)}else le("DocumentReference.onSnapshot","function",ne,T[ne]),Tt("DocumentReference.onSnapshot","function",ne+1,T[ne+1]),Tt("DocumentReference.onSnapshot","function",ne+2,T[ne+2]);var De={next:function(We){T[ne]&&T[ne](C.Sf(We))},error:T[ne+1],complete:T[ne+2]};return this.lf.listen(Li(this.f_.path),fe,De)},a.prototype.get=function(u){var d=this;K("DocumentReference.get",arguments,0,1),Wa("DocumentReference.get",u);var m=this.firestore.hf();return u&&"cache"===u.source?m.Q_(this.f_).then(function(C){return new ql(d.firestore,d.f_,C,!0,C instanceof Rr&&C.Je,d.d_)}):m.W_(this.f_,u).then(function(C){return d.Sf(C)})},a.prototype.withConverter=function(u){return new a(this.f_,this.firestore,u)},a.prototype.Sf=function(u){var d=u.docs.get(this.f_);return new ql(this.firestore,this.f_,d,u.fromCache,u.hasPendingWrites,this.d_)},a}(Ia),Lp=function(){function c(a,u){this.hasPendingWrites=a,this.fromCache=u}return c.prototype.isEqual=function(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache},c}(),ql=function(){function c(a,u,d,m,C,T){this.yf=a,this.f_=u,this.Df=d,this.Cf=m,this.Nf=C,this.d_=T}return c.prototype.data=function(a){var u=this;if(K("DocumentSnapshot.data",arguments,0,1),a=Sd("DocumentSnapshot.data",a),this.Df){if(this.d_){var d=new mf(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(d,a)}return new sl(this.yf.__,this.yf.gf(),a.serverTimestamps||"none",function(m){return new Lu(m,u.yf,null)},function(m){return new sr(m)}).X_(this.Df.rn())}},c.prototype.get=function(a,u){var d=this;if(K("DocumentSnapshot.get",arguments,1,2),u=Sd("DocumentSnapshot.get",u),this.Df){var m=this.Df.data().field(Rc("DocumentSnapshot.get",a,this.f_));if(null!==m)return new sl(this.yf.__,this.yf.gf(),u.serverTimestamps||"none",function(C){return new Lu(C,d.yf,d.d_)},function(C){return new sr(C)}).X_(m)}},Object.defineProperty(c.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new Lu(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return new Lp(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){if(!(a instanceof c))throw nn("isEqual","DocumentSnapshot",1,a);return this.yf===a.yf&&this.Cf===a.Cf&&this.f_.isEqual(a.f_)&&(null===this.Df?null===a.Df:this.Df.isEqual(a.Df))&&this.d_===a.d_},c}(),mf=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.data=function(u){return c.prototype.data.call(this,u)},a}(ql);function xm(c,a,u,d,m,C,T){var P;if(m.p()){if("array-contains"===C||"array-contains-any"===C)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){_f(T,C);for(var j=[],ne=0,fe=T;ne<fe.length;ne++)j.push(Ih(d,c,fe[ne]));P={arrayValue:{values:j}}}else P=Ih(d,c,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||_f(T,C),P=Sh(u,a,T,"in"===C||"not-in"===C);var De=mi.create(m,C,P);return function(We,ut){if(ut.hn()){var Ct=So(We);if(null!==Ct&&!Ct.isEqual(ut.field))throw new Y(be.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Ct.toString()+"' and '"+ut.field.toString()+"'");var Gt=Is(We);null!==Gt&&Ed(0,ut.field,Gt)}var vn=function(Kn,cr){for(var Gr=0,_i=Kn.filters;Gr<_i.length;Gr++){var Bi=_i[Gr];if(cr.indexOf(Bi.op)>=0)return Bi.op}return null}(We,function(Kn){switch(Kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ut.op));if(null!==vn)throw new Y(be.INVALID_ARGUMENT,vn===ut.op?"Invalid query. You cannot use more than one '"+ut.op.toString()+"' filter.":"Invalid query. You cannot use '"+ut.op.toString()+"' filters with '"+vn.toString()+"' filters.")}(c,De),De}function Rm(c,a,u){if(null!==c.startAt)throw new Y(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Y(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var d=new Xs(a,u);return function(m,C){if(null===Is(m)){var T=So(m);null!==T&&Ed(0,T,C.field)}}(c,d),d}function Ih(c,a,u){if("string"==typeof u){if(""===u)throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ts(a)&&-1!==u.indexOf("/"))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+u+"' contains a '/' character.");var d=a.path.child(pt.g(u));if(!I.F(d))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return Zi(c,new I(d))}if(u instanceof Ia)return Zi(c,u.f_);throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+wt(u)+".")}function _f(c,a){if(!Array.isArray(c)||0===c.length)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+a.toString()+"' filters.");if(c.length>10)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===a||"array-contains-any"===a){if(c.indexOf(null)>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters cannot contain 'null' in the value array.");if(c.filter(function(u){return Number.isNaN(u)}).length>0)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Ed(c,a,u){if(!u.isEqual(a))throw new Y(be.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+a.toString()+"' and so you must also use '"+a.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+u.toString()+"' instead.")}function vf(c){if(Eo(c)&&0===c.on.length)throw new Y(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=function(){function c(a,u,d){this.Ff=a,this.firestore=u,this.d_=d}return c.prototype.where=function(a,u,d){H("Query.where",arguments,3),tn("Query.where",3,d);var P,ne,m=xe("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,u),C=Rc("Query.where",a),T=xm(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,C,m,d);return new c((ne=(P=this.Ff).filters.concat([T]),new Ss(P.path,P.collectionGroup,P.on.slice(),ne,P.limit,P.an,P.startAt,P.endAt)),this.firestore,this.d_)},c.prototype.orderBy=function(a,u){var d;if(K("Query.orderBy",arguments,1,2),Tt("Query.orderBy","non-empty string",2,u),void 0===u||"asc"===u)d="asc";else{if("desc"!==u)throw new Y(be.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+u+"', expected 'asc' or 'desc'.");d="desc"}var T,j,m=Rc("Query.orderBy",a),C=Rm(this.Ff,m,d);return new c((j=(T=this.Ff).on.concat([C]),new Ss(T.path,T.collectionGroup,j,T.filters.slice(),T.limit,T.an,T.startAt,T.endAt)),this.firestore,this.d_)},c.prototype.limit=function(a){return H("Query.limit",arguments,1),le("Query.limit","number",1,a),dn("Query.limit",1,a),new c(is(this.Ff,a,"F"),this.firestore,this.d_)},c.prototype.limitToLast=function(a){return H("Query.limitToLast",arguments,1),le("Query.limitToLast","number",1,a),dn("Query.limitToLast",1,a),new c(is(this.Ff,a,"L"),this.firestore,this.d_)},c.prototype.startAt=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.startAt",arguments,1);var m=this.xf("Query.startAt",a,u,!0);return new c(El(this.Ff,m),this.firestore,this.d_)},c.prototype.startAfter=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.startAfter",arguments,1);var m=this.xf("Query.startAfter",a,u,!1);return new c(El(this.Ff,m),this.firestore,this.d_)},c.prototype.endBefore=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.endBefore",arguments,1);var m=this.xf("Query.endBefore",a,u,!0);return new c(Sl(this.Ff,m),this.firestore,this.d_)},c.prototype.endAt=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.endAt",arguments,1);var m=this.xf("Query.endAt",a,u,!1);return new c(Sl(this.Ff,m),this.firestore,this.d_)},c.prototype.isEqual=function(a){if(!(a instanceof c))throw nn("isEqual","Query",1,a);return this.firestore===a.firestore&&Io(this.Ff,a.Ff)&&this.d_===a.d_},c.prototype.withConverter=function(a){return new c(this.Ff,this.firestore,a)},c.prototype.xf=function(a,u,d,m){if(tn(a,1,u),u instanceof ql)return H(a,te.__spreadArrays([u],d),1),function(T,P,j,ne,fe){if(!ne)throw new Y(be.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+j+"().");for(var Te=[],De=0,We=Fo(T);De<We.length;De++){var ut=We[De];if(ut.field.p())Te.push(Zi(P,ne.key));else{var Ct=ne.field(ut.field);if(ie(Ct))throw new Y(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ut.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ct){var Gt=ut.field.R();throw new Y(be.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Gt+"' (used as the orderBy) does not exist.")}Te.push(Ct)}}return new Ks(Te,fe)}(this.Ff,this.firestore.__,a,u.Df,m);var C=[u].concat(d);return function(T,P,j,ne,fe,Te){var De=T.on;if(fe.length>De.length)throw new Y(be.INVALID_ARGUMENT,"Too many arguments provided to "+ne+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var We=[],ut=0;ut<fe.length;ut++){var Ct=fe[ut];if(De[ut].field.p()){if("string"!=typeof Ct)throw new Y(be.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+ne+"(), but got a "+typeof Ct);if(!Ts(T)&&-1!==Ct.indexOf("/"))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+ne+"() must be a plain document ID, but '"+Ct+"' contains a slash.");var Gt=T.path.child(pt.g(Ct));if(!I.F(Gt))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+ne+"() must result in a valid document path, but '"+Gt+"' is not because it contains an odd number of segments.");var vn=new I(Gt);We.push(Zi(P,vn))}else{var Kn=Sh(j,ne,Ct);We.push(Kn)}}return new Ks(We,Te)}(this.Ff,this.firestore.__,this.firestore.mf,a,C,m)},c.prototype.onSnapshot=function(){for(var a,u,d,m=this,C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];K("Query.onSnapshot",arguments,1,4);var P={},j=0;if("object"!=typeof C[j]||kc(C[j])||(Rt("Query.onSnapshot",P=C[j],["includeMetadataChanges"]),Ve("Query.onSnapshot","boolean","includeMetadataChanges",P.includeMetadataChanges),j++),kc(C[j])){var ne=C[j];C[j]=null===(a=ne.next)||void 0===a?void 0:a.bind(ne),C[j+1]=null===(u=ne.error)||void 0===u?void 0:u.bind(ne),C[j+2]=null===(d=ne.complete)||void 0===d?void 0:d.bind(ne)}else le("Query.onSnapshot","function",j,C[j]),Tt("Query.onSnapshot","function",j+1,C[j+1]),Tt("Query.onSnapshot","function",j+2,C[j+2]);var fe={next:function(Te){C[j]&&C[j](new yf(m.firestore,m.Ff,Te,m.d_))},error:C[j+1],complete:C[j+2]};return vf(this.Ff),this.firestore.hf().listen(this.Ff,P,fe)},c.prototype.get=function(a){var u=this;K("Query.get",arguments,0,1),Wa("Query.get",a),vf(this.Ff);var d=this.firestore.hf();return(a&&"cache"===a.source?d.j_(this.Ff):d.K_(this.Ff,a)).then(function(m){return new yf(u.firestore,u.Ff,m,u.d_)})},c}(),yf=function(){function c(a,u,d,m){this.yf=a,this.$f=u,this.kf=d,this.d_=m,this.Mf=null,this.Of=null,this.metadata=new Lp(d.hasPendingWrites,d.fromCache)}return Object.defineProperty(c.prototype,"docs",{get:function(){var a=[];return this.forEach(function(u){return a.push(u)}),a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a,u){var d=this;K("QuerySnapshot.forEach",arguments,1,2),le("QuerySnapshot.forEach","function",1,a),this.kf.docs.forEach(function(m){a.call(u,d.Lf(m,d.metadata.fromCache,d.kf.Wt.has(m.key)))})},Object.defineProperty(c.prototype,"query",{get:function(){return new Nc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(a){a&&(Rt("QuerySnapshot.docChanges",a,["includeMetadataChanges"]),Ve("QuerySnapshot.docChanges","boolean","includeMetadataChanges",a.includeMetadataChanges));var u=!(!a||!a.includeMetadataChanges);if(u&&this.kf.Kt)throw new Y(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===u||(this.Mf=function(d,m,C){if(d.Qt.m()){var T=0;return d.docChanges.map(function(j){return{type:"added",doc:C(j.doc,d.fromCache,d.Wt.has(j.doc.key)),oldIndex:-1,newIndex:T++}})}var P=d.Qt;return d.docChanges.filter(function(j){return m||3!==j.type}).map(function(j){var ne=C(j.doc,d.fromCache,d.Wt.has(j.doc.key)),fe=-1,Te=-1;return 0!==j.type&&(fe=P.indexOf(j.doc.key),P=P.delete(j.doc.key)),1!==j.type&&(Te=(P=P.add(j.doc)).indexOf(j.doc.key)),{type:Vp(j.type),doc:ne,oldIndex:fe,newIndex:Te}})}(this.kf,u,this.Lf.bind(this)),this.Of=u),this.Mf},c.prototype.isEqual=function(a){if(!(a instanceof c))throw nn("isEqual","QuerySnapshot",1,a);return this.yf===a.yf&&Io(this.$f,a.$f)&&this.kf.isEqual(a.kf)&&this.d_===a.d_},c.prototype.Lf=function(a,u,d){return new mf(this.yf,a.key,a,u,d,this.d_)},c}(),Fc=function(c){function a(u,d,m){var C=this;if((C=c.call(this,Li(u),d,m)||this).Bf=u,u.length%2!=1)throw new Y(be.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+u.R()+" has "+u.length);return C}return te.__extends(a,c),Object.defineProperty(a.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var u=this.Ff.path.h();return u.m()?null:new Lu(new I(u),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),a.prototype.doc=function(u){K("CollectionReference.doc",arguments,0,1),0===arguments.length&&(u=pn.k()),le("CollectionReference.doc","non-empty string",1,u);var d=pt.g(u);return Lu.Rf(this.Ff.path.child(d),this.firestore,this.d_)},a.prototype.add=function(u){H("CollectionReference.add",arguments,1);var d=this.d_?this.d_.toFirestore(u):u;le("CollectionReference.add","object",1,d);var m=this.doc();return new Lu(m.f_,this.firestore,null).set(d).then(function(){return m})},a.prototype.withConverter=function(u){return new a(this.Bf,this.firestore,u)},a}(Nc);function Gl(c,a){if(void 0===a)return{merge:!1};if(Rt(c,a,["merge","mergeFields"]),Ve(c,"boolean","merge",a.merge),void 0!==(C=a.mergeFields)&&function(P,j,ne,fe,Te){if(!(fe instanceof Array))throw new Y(be.INVALID_ARGUMENT,"Function "+P+"() requires its "+j+" option to be an array, but it was: "+wt(fe));for(var De=0;De<fe.length;++De)if(!Te(fe[De]))throw new Y(be.INVALID_ARGUMENT,"Function "+P+"() requires all "+j+" elements to be a string or a FieldPath, but the value at index "+De+" was: "+wt(fe[De]))}(c,"mergeFields",0,C,function(u){return"string"==typeof u||u instanceof Ui}),void 0!==a.mergeFields&&void 0!==a.merge)throw new Y(be.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');var C;return a}function Sd(c,a){return void 0===a?{}:(Rt(c,a,["serverTimestamps"]),It(c,0,"serverTimestamps",a.serverTimestamps,["estimate","previous","none"]),a)}function Wa(c,a){Tt(c,"object",1,a),a&&(Rt(c,a,["source"]),It(c,0,"source",a.source,["default","server","cache"]))}function oa(c,a,u){if(a instanceof Ia){if(a.firestore!==u)throw new Y(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}throw nn(c,"DocumentReference",1,a)}function Vp(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function bf(c,a,u){return c?u&&(u.merge||u.mergeFields)?c.toFirestore(a,u):c.toFirestore(a):a}var Up=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.serverTimestamp=function(){F("FieldValue.serverTimestamp",arguments);var u=new vh("serverTimestamp");return u.e_="FieldValue.serverTimestamp",new a(u)},a.delete=function(){F("FieldValue.delete",arguments);var u=new ks("deleteField");return u.e_="FieldValue.delete",new a(u)},a.arrayUnion=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];R("FieldValue.arrayUnion",arguments,1);var m=function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];return R("arrayUnion()",arguments,1),new Bl("arrayUnion",C)}.apply(void 0,u);return m.e_="FieldValue.arrayUnion",new a(m)},a.arrayRemove=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];R("FieldValue.arrayRemove",arguments,1);var m=function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];return R("arrayRemove()",arguments,1),new yh("arrayRemove",C)}.apply(void 0,u);return m.e_="FieldValue.arrayRemove",new a(m)},a.increment=function(u){le("FieldValue.increment","number",1,u),H("FieldValue.increment",arguments,1);var d=new bh("increment",u);return d.e_="FieldValue.increment",new a(d)},a.prototype.isEqual=function(u){return this.l_.isEqual(u.l_)},a}(gf),Yv={Firestore:Cd,GeoPoint:Oc,Timestamp:Qn,Blob:sr,Transaction:Si,WriteBatch:ia,DocumentReference:Lu,DocumentSnapshot:ql,Query:Nc,QueryDocumentSnapshot:mf,QuerySnapshot:yf,CollectionReference:Fc,FieldPath:Ui,FieldValue:Up,setLogLevel:Cd.setLogLevel,CACHE_SIZE_UNLIMITED:wd};function Pm(c){c.INTERNAL.registerComponent(new Dn.Component("firestore",function(d){return m=d.getProvider("app").getImmediate(),C=d.getProvider("auth-internal"),T=new na,P=new Mm(T),new Cd(m,C,P,T);var m,C,T,P},"PUBLIC").setServiceProps(Object.assign({},Yv))),c.registerVersion("@firebase/firestore","1.18.0")}Pm(In.default),bt.__PRIVATE_registerFirestore=Pm},800:(ci,bt,Et)=>{"use strict";var te=Et(279),Z=Et(483),re=Et(100);function Nt(at){return at&&"object"==typeof at&&"default"in at?at:{default:at}}var ot=Nt(te),Dn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lt=function(at){function Je(pt,M,O){var I=at.call(this,M)||this;return Object.setPrototypeOf(I,Je.prototype),I.code=pt,I.details=O,I}return Z.__extends(Je,at),Je}(Error),Y=function(){function at(Je,pt){var M=this;this.auth=null,this.messaging=null,this.auth=Je.getImmediate({optional:!0}),this.messaging=pt.getImmediate({optional:!0}),this.auth||Je.get().then(function(O){return M.auth=O},function(){}),this.messaging||pt.get().then(function(O){return M.messaging=O},function(){})}return at.prototype.getAuthToken=function(){return Z.__awaiter(this,void 0,void 0,function(){var Je;return Z.__generator(this,function(M){switch(M.label){case 0:if(!this.auth)return[2,void 0];M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(Je=M.sent())?[2,Je.accessToken]:[2,void 0];case 3:return M.sent(),[2,void 0];case 4:return[2]}})})},at.prototype.getInstanceIdToken=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(Je){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(pt){return[2,void 0]}return[2]})})},at.prototype.getContext=function(){return Z.__awaiter(this,void 0,void 0,function(){var Je,pt;return Z.__generator(this,function(M){switch(M.label){case 0:return[4,this.getAuthToken()];case 1:return Je=M.sent(),[4,this.getInstanceIdToken()];case 2:return pt=M.sent(),[2,{authToken:Je,instanceIdToken:pt}]}})})},at}();function Ne(at,Je){var pt={};for(var M in at)at.hasOwnProperty(M)&&(pt[M]=Je(at[M]));return pt}var at,Je,pt,ft=function(){function at(){}return at.prototype.encode=function(Je){var pt=this;if(null==Je)return null;if(Je instanceof Number&&(Je=Je.valueOf()),"number"==typeof Je&&isFinite(Je)||!0===Je||!1===Je||"[object String]"===Object.prototype.toString.call(Je))return Je;if(Array.isArray(Je))return Je.map(function(M){return pt.encode(M)});if("function"==typeof Je||"object"==typeof Je)return Ne(Je,function(M){return pt.encode(M)});throw new Error("Data cannot be encoded in JSON: "+Je)},at.prototype.decode=function(Je){var pt=this;if(null==Je)return Je;if(Je["@type"])switch(Je["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var M=Number(Je.value);if(isNaN(M))throw new Error("Data cannot be decoded from JSON: "+Je);return M;default:throw new Error("Data cannot be decoded from JSON: "+Je)}return Array.isArray(Je)?Je.map(function(O){return pt.decode(O)}):"function"==typeof Je||"object"==typeof Je?Ne(Je,function(O){return pt.decode(O)}):Je},at}(),kt=function(){function at(Je,pt,M,O,I){var F=this;void 0===O&&(O="us-central1"),this.app_=Je,this.fetchImpl=I,this.serializer=new ft,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(F.deleteService())}},this.contextProvider=new Y(pt,M),this.cancelAllRequests=new Promise(function(R){F.deleteService=function(){return R()}});try{var H=new URL(O);this.customDomain=H.origin,this.region="us-central1"}catch(R){this.customDomain=null,this.region=O}}return Object.defineProperty(at.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),at.prototype._url=function(Je){var pt=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+pt+"/"+this.region+"/"+Je:null!==this.customDomain?this.customDomain+"/"+Je:"https://"+this.region+"-"+pt+".cloudfunctions.net/"+Je},at.prototype.useFunctionsEmulator=function(Je){this.emulatorOrigin=Je},at.prototype.httpsCallable=function(Je,pt){var M=this;return function(O){return M.call(Je,O,pt||{})}},at.prototype.postJSON=function(Je,pt,M){return Z.__awaiter(this,void 0,void 0,function(){var O,F;return Z.__generator(this,function(R){switch(R.label){case 0:M["Content-Type"]="application/json",R.label=1;case 1:return R.trys.push([1,3,,4]),[4,this.fetchImpl(Je,{method:"POST",body:JSON.stringify(pt),headers:M})];case 2:return O=R.sent(),[3,4];case 3:return R.sent(),[2,{status:0,json:null}];case 4:F=null,R.label=5;case 5:return R.trys.push([5,7,,8]),[4,O.json()];case 6:return F=R.sent(),[3,8];case 7:return R.sent(),[3,8];case 8:return[2,{status:O.status,json:F}]}})})},at.prototype.call=function(Je,pt,M){return Z.__awaiter(this,void 0,void 0,function(){var O,I,F,H,K,le,Tt,se,Ve,It;return Z.__generator(this,function(ke){switch(ke.label){case 0:return O=this._url(Je),pt=this.serializer.encode(pt),I={data:pt},F={},[4,this.contextProvider.getContext()];case 1:return(H=ke.sent()).authToken&&(F.Authorization="Bearer "+H.authToken),H.instanceIdToken&&(F["Firebase-Instance-ID-Token"]=H.instanceIdToken),K=function(at){var Je,pt=new Promise(function(M,O){Je=setTimeout(function(){O(new Lt("deadline-exceeded","deadline-exceeded"))},at)});return{timer:Je,promise:pt}}(M.timeout||7e4),le=K.timer,Tt=K.promise,[4,Promise.race([Le(le,this.postJSON(O,I,F)),Tt,Le(le,this.cancelAllRequests)])];case 2:if(!(se=ke.sent()))throw new Lt("cancelled","Firebase Functions instance was deleted.");if(Ve=function(at,Je,pt){var M=function(at){if(at>=200&&at<300)return"ok";switch(at){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(at),O=M,I=void 0;try{var F=Je&&Je.error;if(F){var H=F.status;if("string"==typeof H){if(!Dn[H])return new Lt("internal","internal");M=Dn[H],O=H}var R=F.message;"string"==typeof R&&(O=R),void 0!==(I=F.details)&&(I=pt.decode(I))}}catch(K){}return"ok"===M?null:new Lt(M,O,I)}(se.status,se.json,this.serializer))throw Ve;if(!se.json)throw new Lt("internal","Response is not valid JSON object.");if(void 0===(It=se.json.data)&&(It=se.json.result),void 0===It)throw new Lt("internal","Response is missing data field.");return[2,{data:this.serializer.decode(It)}]}})})},at}();function Le(at,Je){return Z.__awaiter(this,void 0,void 0,function(){var pt;return Z.__generator(this,function(M){switch(M.label){case 0:return[4,Je];case 1:return pt=M.sent(),clearTimeout(at),[2,pt]}})})}at=ot.default,Je=fetch.bind(self),pt={Functions:kt},at.INTERNAL.registerComponent(new re.Component("functions",function(O,I){var F=O.getProvider("app").getImmediate(),H=O.getProvider("auth-internal"),R=O.getProvider("messaging");return new kt(F,H,R,I,Je)},"PUBLIC").setServiceProps(pt).setMultipleInstances(!0)),ot.default.registerVersion("@firebase/functions","0.5.1")},918:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{registerInstallations:()=>ie});var te=Et(279),Z=Et(100),ot=function(){return(ot=Object.assign||function($){for(var ue,Ce=1,we=arguments.length;Ce<we;Ce++)for(var ze in ue=arguments[Ce])Object.prototype.hasOwnProperty.call(ue,ze)&&($[ze]=ue[ze]);return $}).apply(this,arguments)};function Y(L,$,ue,Ce){return new(ue||(ue=Promise))(function(ze,At){function qt(vt){try{mn(Ce.next(vt))}catch(ur){At(ur)}}function lt(vt){try{mn(Ce.throw(vt))}catch(ur){At(ur)}}function mn(vt){vt.done?ze(vt.value):function(ze){return ze instanceof ue?ze:new ue(function(At){At(ze)})}(vt.value).then(qt,lt)}mn((Ce=Ce.apply(L,$||[])).next())})}function nt(L,$){var Ce,we,ze,At,ue={label:0,sent:function(){if(1&ze[0])throw ze[1];return ze[1]},trys:[],ops:[]};return At={next:qt(0),throw:qt(1),return:qt(2)},"function"==typeof Symbol&&(At[Symbol.iterator]=function(){return this}),At;function qt(mn){return function(vt){return function(mn){if(Ce)throw new TypeError("Generator is already executing.");for(;ue;)try{if(Ce=1,we&&(ze=2&mn[0]?we.return:mn[0]?we.throw||((ze=we.return)&&ze.call(we),0):we.next)&&!(ze=ze.call(we,mn[1])).done)return ze;switch(we=0,ze&&(mn=[2&mn[0],ze.value]),mn[0]){case 0:case 1:ze=mn;break;case 4:return ue.label++,{value:mn[1],done:!1};case 5:ue.label++,we=mn[1],mn=[0];continue;case 7:mn=ue.ops.pop(),ue.trys.pop();continue;default:if(!(ze=(ze=ue.trys).length>0&&ze[ze.length-1])&&(6===mn[0]||2===mn[0])){ue=0;continue}if(3===mn[0]&&(!ze||mn[1]>ze[0]&&mn[1]<ze[3])){ue.label=mn[1];break}if(6===mn[0]&&ue.label<ze[1]){ue.label=ze[1],ze=mn;break}if(ze&&ue.label<ze[2]){ue.label=ze[2],ue.ops.push(mn);break}ze[2]&&ue.ops.pop(),ue.trys.pop();continue}mn=$.call(L,ue)}catch(vt){mn=[6,vt],we=0}finally{Ce=ze=0}if(5&mn[0])throw mn[1];return{value:mn[0]?mn[1]:void 0,done:!0}}([mn,vt])}}}function ft(L){var $="function"==typeof Symbol&&Symbol.iterator,ue=$&&L[$],Ce=0;if(ue)return ue.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&Ce>=L.length&&(L=void 0),{value:L&&L[Ce++],done:!L}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function wn(L,$){var ue="function"==typeof Symbol&&L[Symbol.iterator];if(!ue)return L;var we,At,Ce=ue.call(L),ze=[];try{for(;(void 0===$||$-- >0)&&!(we=Ce.next()).done;)ze.push(we.value)}catch(qt){At={error:qt}}finally{try{we&&!we.done&&(ue=Ce.return)&&ue.call(Ce)}finally{if(At)throw At.error}}return ze}var ke,I=Et(704),F=Et(676),R="0.4.17",le="w:"+R,Ge=((ke={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ke["not-registered"]="Firebase Installation is not registered.",ke["installation-not-found"]="Firebase Installation not found.",ke["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ke["app-offline"]="Could not process request. Application offline.",ke["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ke),wt=new I.ErrorFactory("installations","Installations",Ge);function tn(L){return L instanceof I.FirebaseError&&L.code.includes("request-failed")}function Rt(L){return"https://firebaseinstallations.googleapis.com/v1/projects/"+L.projectId+"/installations"}function nn(L){return{token:L.token,requestStatus:2,expiresIn:pn(L.expiresIn),creationTime:Date.now()}}function dn(L,$){return Y(this,void 0,void 0,function(){var ue,Ce;return nt(this,function(we){switch(we.label){case 0:return[4,$.json()];case 1:return ue=we.sent(),[2,wt.create("request-failed",{requestName:L,serverCode:(Ce=ue.error).code,serverMessage:Ce.message,serverStatus:Ce.status})]}})})}function ct(L){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey})}function jn(L,$){var ue=$.refreshToken,Ce=ct(L);return Ce.append("Authorization",function(L){return"FIS_v2 "+L}(ue)),Ce}function jr(L){return Y(this,void 0,void 0,function(){var $;return nt(this,function(ue){switch(ue.label){case 0:return[4,L()];case 1:return($=ue.sent()).status>=500&&$.status<600?[2,L()]:[2,$]}})})}function pn(L){return Number(L.replace("s","000"))}function En(L,$){var ue=$.fid;return Y(this,void 0,void 0,function(){var Ce,we,At,qt,lt;return nt(this,function(vt){switch(vt.label){case 0:return Ce=Rt(L),we=ct(L),At={method:"POST",headers:we,body:JSON.stringify({fid:ue,authVersion:"FIS_v2",appId:L.appId,sdkVersion:le})},[4,jr(function(){return fetch(Ce,At)})];case 1:return(qt=vt.sent()).ok?[4,qt.json()]:[3,3];case 2:return[2,{fid:(lt=vt.sent()).fid||ue,registrationStatus:2,refreshToken:lt.refreshToken,authToken:nn(lt.authToken)}];case 3:return[4,dn("Create Installation",qt)];case 4:throw vt.sent()}})})}function on(L){return new Promise(function($){setTimeout($,L)})}var kn=/^[cdef][\w-]{21}$/;function Nr(){try{var L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;var ue=function(L){return function(L){return btoa(String.fromCharCode.apply(String,function(){for(var L=[],$=0;$<arguments.length;$++)L=L.concat(wn(arguments[$]));return L}(L))).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return kn.test(ue)?ue:""}catch(Ce){return""}}function Hn(L){return L.appName+"!"+L.appId}var si=new Map;function Or(L,$){var ue=Hn(L);hi(ue,$),function(L,$){var ue=qe();ue&&ue.postMessage({key:L,fid:$}),Xe()}(ue,$)}function hi(L,$){var ue,Ce,we=si.get(L);if(we)try{for(var ze=ft(we),At=ze.next();!At.done;At=ze.next())(0,At.value)($)}catch(lt){ue={error:lt}}finally{try{At&&!At.done&&(Ce=ze.return)&&Ce.call(ze)}finally{if(ue)throw ue.error}}}var me=null;function qe(){return!me&&"BroadcastChannel"in self&&((me=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(L){hi(L.data.key,L.data.fid)}),me}function Xe(){0===si.size&&me&&(me.close(),me=null)}var zt="firebase-installations-store",gn=null;function sn(){return gn||(gn=(0,F.openDb)("firebase-installations-database",1,function(L){switch(L.oldVersion){case 0:L.createObjectStore(zt)}})),gn}function Mn(L,$){return Y(this,void 0,void 0,function(){var ue,Ce,we,ze,At;return nt(this,function(qt){switch(qt.label){case 0:return ue=Hn(L),[4,sn()];case 1:return Ce=qt.sent(),we=Ce.transaction(zt,"readwrite"),[4,(ze=we.objectStore(zt)).get(ue)];case 2:return At=qt.sent(),[4,ze.put($,ue)];case 3:return qt.sent(),[4,we.complete];case 4:return qt.sent(),(!At||At.fid!==$.fid)&&Or(L,$.fid),[2,$]}})})}function Er(L){return Y(this,void 0,void 0,function(){var $,ue,Ce;return nt(this,function(we){switch(we.label){case 0:return $=Hn(L),[4,sn()];case 1:return ue=we.sent(),[4,(Ce=ue.transaction(zt,"readwrite")).objectStore(zt).delete($)];case 2:return we.sent(),[4,Ce.complete];case 3:return we.sent(),[2]}})})}function Xn(L,$){return Y(this,void 0,void 0,function(){var ue,Ce,we,ze,At,qt;return nt(this,function(lt){switch(lt.label){case 0:return ue=Hn(L),[4,sn()];case 1:return Ce=lt.sent(),we=Ce.transaction(zt,"readwrite"),[4,(ze=we.objectStore(zt)).get(ue)];case 2:return At=lt.sent(),void 0!==(qt=$(At))?[3,4]:[4,ze.delete(ue)];case 3:return lt.sent(),[3,6];case 4:return[4,ze.put(qt,ue)];case 5:lt.sent(),lt.label=6;case 6:return[4,we.complete];case 7:return lt.sent(),qt&&(!At||At.fid!==qt.fid)&&Or(L,qt.fid),[2,qt]}})})}function Ir(L){return Y(this,void 0,void 0,function(){var $,ue,Ce;return nt(this,function(we){switch(we.label){case 0:return[4,Xn(L,function(ze){var At=function(L){return Ln(L||{fid:Nr(),registrationStatus:0})}(ze),qt=function(L,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(wt.create("app-offline"))};var Ce={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},we=function(L,$){return Y(this,void 0,void 0,function(){var ue,Ce;return nt(this,function(we){switch(we.label){case 0:return we.trys.push([0,2,,7]),[4,En(L,$)];case 1:return ue=we.sent(),[2,Mn(L,ue)];case 2:return tn(Ce=we.sent())&&409===Ce.serverCode?[4,Er(L)]:[3,4];case 3:return we.sent(),[3,6];case 4:return[4,Mn(L,{fid:$.fid,registrationStatus:0})];case 5:we.sent(),we.label=6;case 6:throw Ce;case 7:return[2]}})})}(L,Ce);return{installationEntry:Ce,registrationPromise:we}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Tr(L)}:{installationEntry:$}}(L,At);return $=qt.registrationPromise,qt.installationEntry})];case 1:return""!==(ue=we.sent()).fid?[3,3]:(Ce={},[4,$]);case 2:return[2,(Ce.installationEntry=we.sent(),Ce)];case 3:return[2,{installationEntry:ue,registrationPromise:$}]}})})}function Tr(L){return Y(this,void 0,void 0,function(){var $,ue,Ce,we;return nt(this,function(ze){switch(ze.label){case 0:return[4,co(L)];case 1:$=ze.sent(),ze.label=2;case 2:return 1!==$.registrationStatus?[3,5]:[4,on(100)];case 3:return ze.sent(),[4,co(L)];case 4:return $=ze.sent(),[3,2];case 5:return 0!==$.registrationStatus?[3,7]:[4,Ir(L)];case 6:return ue=ze.sent(),Ce=ue.installationEntry,(we=ue.registrationPromise)?[2,we]:[2,Ce];case 7:return[2,$]}})})}function co(L){return Xn(L,function($){if(!$)throw wt.create("installation-not-found");return Ln($)})}function Ln(L){return function(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Gi(L,$){var ue=L.appConfig,Ce=L.platformLoggerProvider;return Y(this,void 0,void 0,function(){var we,ze,At,lt,mn;return nt(this,function(rr){switch(rr.label){case 0:return we=function(L,$){var ue=$.fid;return Rt(L)+"/"+ue+"/authTokens:generate"}(ue,$),ze=jn(ue,$),(At=Ce.getImmediate({optional:!0}))&&ze.append("x-firebase-client",At.getPlatformInfoString()),lt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:le}})},[4,jr(function(){return fetch(we,lt)})];case 1:return(mn=rr.sent()).ok?[4,mn.json()]:[3,3];case 2:return[2,nn(rr.sent())];case 3:return[4,dn("Generate Auth Token",mn)];case 4:throw rr.sent()}})})}function Be(L,$){return void 0===$&&($=!1),Y(this,void 0,void 0,function(){var ue,Ce,ze;return nt(this,function(At){switch(At.label){case 0:return[4,Xn(L.appConfig,function(qt){if(!rt(qt))throw wt.create("not-registered");var lt=qt.authToken;if(!$&&function(L){return 2===L.requestStatus&&!function(L){var $=Date.now();return $<L.creationTime||L.creationTime+L.expiresIn<$+36e5}(L)}(lt))return qt;if(1===lt.requestStatus)return ue=function(L,$){return Y(this,void 0,void 0,function(){var ue,Ce;return nt(this,function(we){switch(we.label){case 0:return[4,mt(L.appConfig)];case 1:ue=we.sent(),we.label=2;case 2:return 1!==ue.authToken.requestStatus?[3,5]:[4,on(100)];case 3:return we.sent(),[4,mt(L.appConfig)];case 4:return ue=we.sent(),[3,2];case 5:return 0===(Ce=ue.authToken).requestStatus?[2,Be(L,$)]:[2,Ce]}})})}(L,$),qt;if(!navigator.onLine)throw wt.create("app-offline");var mn=function(L){var $={requestStatus:1,requestTime:Date.now()};return ot(ot({},L),{authToken:$})}(qt);return ue=function(L,$){return Y(this,void 0,void 0,function(){var ue,we,Ce;return nt(this,function(ze){switch(ze.label){case 0:return ze.trys.push([0,3,,8]),[4,Gi(L,$)];case 1:return ue=ze.sent(),Ce=ot(ot({},$),{authToken:ue}),[4,Mn(L.appConfig,Ce)];case 2:return ze.sent(),[2,ue];case 3:return!tn(we=ze.sent())||401!==we.serverCode&&404!==we.serverCode?[3,5]:[4,Er(L.appConfig)];case 4:return ze.sent(),[3,7];case 5:return Ce=ot(ot({},$),{authToken:{requestStatus:0}}),[4,Mn(L.appConfig,Ce)];case 6:ze.sent(),ze.label=7;case 7:throw we;case 8:return[2]}})})}(L,mn),mn})];case 1:return Ce=At.sent(),ue?[4,ue]:[3,3];case 2:return ze=At.sent(),[3,4];case 3:ze=Ce.authToken,At.label=4;case 4:return[2,ze]}})})}function mt(L){return Xn(L,function($){if(!rt($))throw wt.create("not-registered");return function(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}($.authToken)?ot(ot({},$),{authToken:{requestStatus:0}}):$})}function rt(L){return void 0!==L&&2===L.registrationStatus}function ar(L){return Y(this,void 0,void 0,function(){var $;return nt(this,function(ue){switch(ue.label){case 0:return[4,Ir(L)];case 1:return($=ue.sent().registrationPromise)?[4,$]:[3,3];case 2:ue.sent(),ue.label=3;case 3:return[2]}})})}function br(L,$){return Y(this,void 0,void 0,function(){var ue,Ce,we,ze;return nt(this,function(At){switch(At.label){case 0:return ue=function(L,$){var ue=$.fid;return Rt(L)+"/"+ue}(L,$),Ce=jn(L,$),we={method:"DELETE",headers:Ce},[4,jr(function(){return fetch(ue,we)})];case 1:return(ze=At.sent()).ok?[3,3]:[4,dn("Delete Installation",ze)];case 2:throw At.sent();case 3:return[2]}})})}function Pe(L){return wt.create("missing-app-config-values",{valueName:L})}function ie(L){L.INTERNAL.registerComponent(new Z.Component("installations",function(ue){var Ce=ue.getProvider("app").getImmediate(),At={appConfig:function(L){var $,ue;if(!L||!L.options)throw Pe("App Configuration");if(!L.name)throw Pe("App Name");try{for(var we=ft(["projectId","apiKey","appId"]),ze=we.next();!ze.done;ze=we.next()){var At=ze.value;if(!L.options[At])throw Pe(At)}}catch(qt){$={error:qt}}finally{try{ze&&!ze.done&&(ue=we.return)&&ue.call(we)}finally{if($)throw $.error}}return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(Ce),platformLoggerProvider:ue.getProvider("platform-logger")};return{app:Ce,getId:function(){return function(L){return Y(this,void 0,void 0,function(){var $,ue,Ce;return nt(this,function(we){switch(we.label){case 0:return[4,Ir(L.appConfig)];case 1:return $=we.sent(),ue=$.installationEntry,(Ce=$.registrationPromise)?Ce.catch(console.error):Be(L).catch(console.error),[2,ue.fid]}})})}(At)},getToken:function(lt){return function(L,$){return void 0===$&&($=!1),Y(this,void 0,void 0,function(){return nt(this,function(Ce){switch(Ce.label){case 0:return[4,ar(L.appConfig)];case 1:return Ce.sent(),[4,Be(L,$)];case 2:return[2,Ce.sent().token]}})})}(At,lt)},delete:function(){return function(L){return Y(this,void 0,void 0,function(){var $,ue;return nt(this,function(Ce){switch(Ce.label){case 0:return[4,Xn($=L.appConfig,function(we){if(!we||0!==we.registrationStatus)return we})];case 1:if(!(ue=Ce.sent()))return[3,6];if(1!==ue.registrationStatus)return[3,2];throw wt.create("delete-pending-registration");case 2:if(2!==ue.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw wt.create("app-offline");case 3:return[4,br($,ue)];case 4:return Ce.sent(),[4,Er($)];case 5:Ce.sent(),Ce.label=6;case 6:return[2]}})})}(At)},onIdChange:function(lt){return function(L,$){var ue=L.appConfig;return function(L,$){qe();var ue=Hn(L),Ce=si.get(ue);Ce||(Ce=new Set,si.set(ue,Ce)),Ce.add($)}(ue,$),function(){!function(L,$){var ue=Hn(L),Ce=si.get(ue);!Ce||(Ce.delete($),0===Ce.size&&si.delete(ue),Xe())}(ue,$)}}(At,lt)}}},"PUBLIC")),L.registerVersion("@firebase/installations",R)}ie(te.default)},300:(ci,bt,Et)=>{"use strict";function te(){for(var st=0,Ne=0,ft=arguments.length;Ne<ft;Ne++)st+=arguments[Ne].length;var wn=Array(st),kt=0;for(Ne=0;Ne<ft;Ne++)for(var Le=arguments[Ne],dt=0,et=Le.length;dt<et;dt++,kt++)wn[kt]=Le[dt];return wn}Et.r(bt),Et.d(bt,{LogLevel:()=>Nt,Logger:()=>be,setLogLevel:()=>Y,setUserLogHandler:()=>nt});var Z,re=[],Nt=(()=>{return(st=Nt||(Nt={}))[st.DEBUG=0]="DEBUG",st[st.VERBOSE=1]="VERBOSE",st[st.INFO=2]="INFO",st[st.WARN=3]="WARN",st[st.ERROR=4]="ERROR",st[st.SILENT=5]="SILENT",Nt;var st})(),ot={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Dn=Nt.INFO,Lt=((Z={})[Nt.DEBUG]="log",Z[Nt.VERBOSE]="log",Z[Nt.INFO]="info",Z[Nt.WARN]="warn",Z[Nt.ERROR]="error",Z),In=function(st,Ne){for(var ft=[],wn=2;wn<arguments.length;wn++)ft[wn-2]=arguments[wn];if(!(Ne<st.logLevel)){var kt=(new Date).toISOString(),Le=Lt[Ne];if(!Le)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[Le].apply(console,te(["["+kt+"]  "+st.name+":"],ft))}},be=function(){function st(Ne){this.name=Ne,this._logLevel=Dn,this._logHandler=In,this._userLogHandler=null,re.push(this)}return Object.defineProperty(st.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in Nt))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),st.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ot[Ne]:Ne},Object.defineProperty(st.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),st.prototype.debug=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.DEBUG],Ne)),this._logHandler.apply(this,te([this,Nt.DEBUG],Ne))},st.prototype.log=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.VERBOSE],Ne)),this._logHandler.apply(this,te([this,Nt.VERBOSE],Ne))},st.prototype.info=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.INFO],Ne)),this._logHandler.apply(this,te([this,Nt.INFO],Ne))},st.prototype.warn=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.WARN],Ne)),this._logHandler.apply(this,te([this,Nt.WARN],Ne))},st.prototype.error=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.ERROR],Ne)),this._logHandler.apply(this,te([this,Nt.ERROR],Ne))},st}();function Y(st){re.forEach(function(Ne){Ne.setLogLevel(st)})}function nt(st,Ne){for(var ft=function(dt){var et=null;Ne&&Ne.level&&(et=ot[Ne.level]),dt.userLogHandler=null===st?null:function(Bt,Ft){for(var at=[],Je=2;Je<arguments.length;Je++)at[Je-2]=arguments[Je];var pt=at.map(function(M){if(null==M)return null;if("string"==typeof M)return M;if("number"==typeof M||"boolean"==typeof M)return M.toString();if(M instanceof Error)return M.message;try{return JSON.stringify(M)}catch(O){return null}}).filter(function(M){return M}).join(" ");Ft>=(null!=et?et:Bt.logLevel)&&st({level:Nt[Ft].toLowerCase(),message:pt,args:at,type:Bt.name})}},wn=0,kt=re;wn<kt.length;wn++)ft(kt[wn])}},450:(ci,bt,Et)=>{"use strict";Et.r(bt),Et(918);var Z=Et(100),re=Et(704),Dn=function(){return(Dn=Object.assign||function(de){for(var Se,Pe=1,ie=arguments.length;Pe<ie;Pe++)for(var L in Se=arguments[Pe])Object.prototype.hasOwnProperty.call(Se,L)&&(de[L]=Se[L]);return de}).apply(this,arguments)};function nt(ye,de,Se,Pe){return new(Se||(Se=Promise))(function(L,$){function ue(ze){try{we(Pe.next(ze))}catch(At){$(At)}}function Ce(ze){try{we(Pe.throw(ze))}catch(At){$(At)}}function we(ze){ze.done?L(ze.value):function(L){return L instanceof Se?L:new Se(function($){$(L)})}(ze.value).then(ue,Ce)}we((Pe=Pe.apply(ye,de||[])).next())})}function st(ye,de){var Pe,ie,L,$,Se={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return $={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function ue(we){return function(ze){return function(we){if(Pe)throw new TypeError("Generator is already executing.");for(;Se;)try{if(Pe=1,ie&&(L=2&we[0]?ie.return:we[0]?ie.throw||((L=ie.return)&&L.call(ie),0):ie.next)&&!(L=L.call(ie,we[1])).done)return L;switch(ie=0,L&&(we=[2&we[0],L.value]),we[0]){case 0:case 1:L=we;break;case 4:return Se.label++,{value:we[1],done:!1};case 5:Se.label++,ie=we[1],we=[0];continue;case 7:we=Se.ops.pop(),Se.trys.pop();continue;default:if(!(L=(L=Se.trys).length>0&&L[L.length-1])&&(6===we[0]||2===we[0])){Se=0;continue}if(3===we[0]&&(!L||we[1]>L[0]&&we[1]<L[3])){Se.label=we[1];break}if(6===we[0]&&Se.label<L[1]){Se.label=L[1],L=we;break}if(L&&Se.label<L[2]){Se.label=L[2],Se.ops.push(we);break}L[2]&&Se.ops.pop(),Se.trys.pop();continue}we=de.call(ye,Se)}catch(ze){we=[6,ze],ie=0}finally{Pe=L=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,ze])}}}function wn(ye){var de="function"==typeof Symbol&&Symbol.iterator,Se=de&&ye[de],Pe=0;if(Se)return Se.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Pe>=ye.length&&(ye=void 0),{value:ye&&ye[Pe++],done:!ye}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(ye,de){var Se="function"==typeof Symbol&&ye[Symbol.iterator];if(!Se)return ye;var ie,$,Pe=Se.call(ye),L=[];try{for(;(void 0===de||de-- >0)&&!(ie=Pe.next()).done;)L.push(ie.value)}catch(ue){$={error:ue}}finally{try{ie&&!ie.done&&(Se=Pe.return)&&Se.call(Pe)}finally{if($)throw $.error}}return L}var R,F=Et(676),H=Et(279),K=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["only-available-in-window"]="This method is available in a Window context.",R["only-available-in-sw"]="This method is available in a service worker context.",R["permission-default"]="The notification permission was not granted and dismissed instead.",R["permission-blocked"]="The notification permission was not granted and blocked instead.",R["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",R["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",R["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",R["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",R["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",R["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",R["token-update-no-token"]="FCM returned no token when updating the user to push.",R["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",R["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",R["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",R["invalid-vapid-key"]="The public VAPID key must be a string.",R["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",R),le=new re.ErrorFactory("messaging","Messaging",K),Ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xe="FCM_MSG",ke="google.c.a.c_id",nn=(()=>{return(ye=nn||(nn={})).PUSH_RECEIVED="push-received",ye.NOTIFICATION_CLICKED="notification-clicked",nn;var ye})();function dn(ye){var de=new Uint8Array(ye);return btoa(String.fromCharCode.apply(String,function(){for(var ye=[],de=0;de<arguments.length;de++)ye=ye.concat(kt(arguments[de]));return ye}(de))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ct(ye){for(var Se=(ye+"=".repeat((4-ye.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pe=atob(Se),ie=new Uint8Array(Pe.length),L=0;L<Pe.length;++L)ie[L]=Pe.charCodeAt(L);return ie}var jn="fcm_token_details_db",pn="fcm_token_object_Store";function Ht(ye){return nt(this,void 0,void 0,function(){var Pe,L=this;return st(this,function($){switch($.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!$.sent().map(function(ue){return ue.name}).includes(jn))return[2,null];$.label=2;case 2:return Pe=null,[4,(0,F.openDb)(jn,5,function(ue){return nt(L,void 0,void 0,function(){var Ce,we,ze,At;return st(this,function(qt){switch(qt.label){case 0:return ue.oldVersion<2?[2]:ue.objectStoreNames.contains(pn)?[4,(Ce=ue.transaction.objectStore(pn)).index("fcmSenderId").get(ye)]:[2];case 1:return we=qt.sent(),[4,Ce.clear()];case 2:if(qt.sent(),!we)return[2];if(2===ue.oldVersion){if(!(ze=we).auth||!ze.p256dh||!ze.endpoint)return[2];Pe={token:ze.fcmToken,createTime:null!==(At=ze.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:dn(ze.vapidKey)}}}else(3===ue.oldVersion||4===ue.oldVersion)&&(Pe={token:(ze=we).fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:dn(ze.auth),p256dh:dn(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:dn(ze.vapidKey)}});return[2]}})})})];case 3:return $.sent().close(),[4,(0,F.deleteDb)(jn)];case 4:return $.sent(),[4,(0,F.deleteDb)("fcm_vapid_details_db")];case 5:return $.sent(),[4,(0,F.deleteDb)("undefined")];case 6:return $.sent(),[2,En(Pe)?Pe:null]}})})}function En(ye){if(!ye||!ye.subscriptionOptions)return!1;var de=ye.subscriptionOptions;return"number"==typeof ye.createTime&&ye.createTime>0&&"string"==typeof ye.token&&ye.token.length>0&&"string"==typeof de.auth&&de.auth.length>0&&"string"==typeof de.p256dh&&de.p256dh.length>0&&"string"==typeof de.endpoint&&de.endpoint.length>0&&"string"==typeof de.swScope&&de.swScope.length>0&&"string"==typeof de.vapidKey&&de.vapidKey.length>0}var kn="firebase-messaging-store",nr=null;function Nr(){return nr||(nr=(0,F.openDb)("firebase-messaging-database",1,function(ye){switch(ye.oldVersion){case 0:ye.createObjectStore(kn)}})),nr}function sr(ye){return nt(this,void 0,void 0,function(){var de,Pe,ie;return st(this,function(L){switch(L.label){case 0:return de=Or(ye),[4,Nr()];case 1:return[4,L.sent().transaction(kn).objectStore(kn).get(de)];case 2:return(Pe=L.sent())?[2,Pe]:[3,3];case 3:return[4,Ht(ye.appConfig.senderId)];case 4:return(ie=L.sent())?[4,Hn(ye,ie)]:[3,6];case 5:return L.sent(),[2,ie];case 6:return[2]}})})}function Hn(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe,ie;return st(this,function(L){switch(L.label){case 0:return Se=Or(ye),[4,Nr()];case 1:return Pe=L.sent(),[4,(ie=Pe.transaction(kn,"readwrite")).objectStore(kn).put(de,Se)];case 2:return L.sent(),[4,ie.complete];case 3:return L.sent(),[2,de]}})})}function si(ye){return nt(this,void 0,void 0,function(){var de,Se,Pe;return st(this,function(ie){switch(ie.label){case 0:return de=Or(ye),[4,Nr()];case 1:return Se=ie.sent(),[4,(Pe=Se.transaction(kn,"readwrite")).objectStore(kn).delete(de)];case 2:return ie.sent(),[4,Pe.complete];case 3:return ie.sent(),[2]}})})}function Or(ye){return ye.appConfig.appId}function Qn(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe,ie,L,ue;return st(this,function(we){switch(we.label){case 0:return[4,me(ye)];case 1:Se=we.sent(),Pe=qe(de),ie={method:"POST",headers:Se,body:JSON.stringify(Pe)},we.label=2;case 2:return we.trys.push([2,5,,6]),[4,fetch(je(ye.appConfig),ie)];case 3:return[4,we.sent().json()];case 4:return L=we.sent(),[3,6];case 5:throw ue=we.sent(),le.create("token-subscribe-failed",{errorInfo:ue});case 6:if(L.error)throw le.create("token-subscribe-failed",{errorInfo:L.error.message});if(!L.token)throw le.create("token-subscribe-no-token");return[2,L.token]}})})}function xn(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe,ie,L,ue;return st(this,function(we){switch(we.label){case 0:return[4,me(ye)];case 1:Se=we.sent(),Pe=qe(de.subscriptionOptions),ie={method:"PATCH",headers:Se,body:JSON.stringify(Pe)},we.label=2;case 2:return we.trys.push([2,5,,6]),[4,fetch(je(ye.appConfig)+"/"+de.token,ie)];case 3:return[4,we.sent().json()];case 4:return L=we.sent(),[3,6];case 5:throw ue=we.sent(),le.create("token-update-failed",{errorInfo:ue});case 6:if(L.error)throw le.create("token-update-failed",{errorInfo:L.error.message});if(!L.token)throw le.create("token-update-no-token");return[2,L.token]}})})}function hi(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe,L,ue;return st(this,function(Ce){switch(Ce.label){case 0:return[4,me(ye)];case 1:Se=Ce.sent(),Pe={method:"DELETE",headers:Se},Ce.label=2;case 2:return Ce.trys.push([2,5,,6]),[4,fetch(je(ye.appConfig)+"/"+de,Pe)];case 3:return[4,Ce.sent().json()];case 4:if((L=Ce.sent()).error)throw le.create("token-unsubscribe-failed",{errorInfo:L.error.message});return[3,6];case 5:throw ue=Ce.sent(),le.create("token-unsubscribe-failed",{errorInfo:ue});case 6:return[2]}})})}function je(ye){return"https://fcmregistrations.googleapis.com/v1/projects/"+ye.projectId+"/registrations"}function me(ye){var de=ye.appConfig,Se=ye.installations;return nt(this,void 0,void 0,function(){var Pe;return st(this,function(ie){switch(ie.label){case 0:return[4,Se.getToken()];case 1:return Pe=ie.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de.apiKey,"x-goog-firebase-installations-auth":"FIS "+Pe})]}})})}function qe(ye){var ie=ye.vapidKey,L={web:{endpoint:ye.endpoint,auth:ye.auth,p256dh:ye.p256dh}};return ie!==Ve&&(L.web.applicationPubKey=ie),L}function Ue(ye,de,Se){return nt(this,void 0,void 0,function(){var Pe,ie,L,$;return st(this,function(ue){switch(ue.label){case 0:if("granted"!==Notification.permission)throw le.create("permission-blocked");return[4,sn(de,Se)];case 1:return Pe=ue.sent(),[4,sr(ye)];case 2:return ie=ue.sent(),L={vapidKey:Se,swScope:de.scope,endpoint:Pe.endpoint,auth:dn(Pe.getKey("auth")),p256dh:dn(Pe.getKey("p256dh"))},ie?[3,3]:[2,gn(ye,L)];case 3:if(function(ye,de){return de.vapidKey===ye.vapidKey&&de.endpoint===ye.endpoint&&de.auth===ye.auth&&de.p256dh===ye.p256dh}(ie.subscriptionOptions,L))return[3,8];ue.label=4;case 4:return ue.trys.push([4,6,,7]),[4,hi(ye,ie.token)];case 5:return ue.sent(),[3,7];case 6:return $=ue.sent(),console.warn($),[3,7];case 7:return[2,gn(ye,L)];case 8:return Date.now()>=ie.createTime+6048e5?[2,zt({token:ie.token,createTime:Date.now(),subscriptionOptions:L},ye,de)]:[2,ie.token];case 9:return[2]}})})}function Wt(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe;return st(this,function(ie){switch(ie.label){case 0:return[4,sr(ye)];case 1:return(Se=ie.sent())?[4,hi(ye,Se.token)]:[3,4];case 2:return ie.sent(),[4,si(ye)];case 3:ie.sent(),ie.label=4;case 4:return[4,de.pushManager.getSubscription()];case 5:return(Pe=ie.sent())?[2,Pe.unsubscribe()]:[2,!0]}})})}function zt(ye,de,Se){return nt(this,void 0,void 0,function(){var Pe,ie,L;return st(this,function($){switch($.label){case 0:return $.trys.push([0,3,,5]),[4,xn(de,ye)];case 1:return Pe=$.sent(),ie=Dn(Dn({},ye),{token:Pe,createTime:Date.now()}),[4,Hn(de,ie)];case 2:return $.sent(),[2,Pe];case 3:return L=$.sent(),[4,Wt(de,Se)];case 4:throw $.sent(),L;case 5:return[2]}})})}function gn(ye,de){return nt(this,void 0,void 0,function(){var Se,Pe;return st(this,function(ie){switch(ie.label){case 0:return[4,Qn(ye,de)];case 1:return Se=ie.sent(),Pe={token:Se,createTime:Date.now(),subscriptionOptions:de},[4,Hn(ye,Pe)];case 2:return ie.sent(),[2,Pe.token]}})})}function sn(ye,de){return nt(this,void 0,void 0,function(){var Se;return st(this,function(Pe){switch(Pe.label){case 0:return[4,ye.pushManager.getSubscription()];case 1:return(Se=Pe.sent())?[2,Se]:[2,ye.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ct(de)})]}})})}function fi(ye){return"object"==typeof ye&&!!ye&&ke in ye}function rn(ye){return new Promise(function(de){setTimeout(de,ye)})}var Tr=function(){function ye(de){var Se=this;this.firebaseDependencies=de,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(Pe){Pe.waitUntil(Se.onPush(Pe))}),self.addEventListener("pushsubscriptionchange",function(Pe){Pe.waitUntil(Se.onSubChange(Pe))}),self.addEventListener("notificationclick",function(Pe){Pe.waitUntil(Se.onNotificationClick(Pe))})}return Object.defineProperty(ye.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ye.prototype.setBackgroundMessageHandler=function(de){if(this.isOnBackgroundMessageUsed=!1,!de||"function"!=typeof de)throw le.create("invalid-bg-handler");this.bgMessageHandler=de},ye.prototype.onBackgroundMessage=function(de){var Se=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=de,function(){Se.bgMessageHandler=null}},ye.prototype.getToken=function(){var de,Se;return nt(this,void 0,void 0,function(){var Pe;return st(this,function(ie){switch(ie.label){case 0:return this.vapidKey?[3,2]:[4,sr(this.firebaseDependencies)];case 1:Pe=ie.sent(),this.vapidKey=null!==(Se=null===(de=null==Pe?void 0:Pe.subscriptionOptions)||void 0===de?void 0:de.vapidKey)&&void 0!==Se?Se:Ve,ie.label=2;case 2:return[2,Ue(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},ye.prototype.deleteToken=function(){return Wt(this.firebaseDependencies,self.registration)},ye.prototype.requestPermission=function(){throw le.create("only-available-in-window")},ye.prototype.usePublicVapidKey=function(de){if(null!==this.vapidKey)throw le.create("use-vapid-key-after-get-token");if("string"!=typeof de||0===de.length)throw le.create("invalid-vapid-key");this.vapidKey=de},ye.prototype.useServiceWorker=function(){throw le.create("only-available-in-window")},ye.prototype.onMessage=function(){throw le.create("only-available-in-window")},ye.prototype.onTokenRefresh=function(){throw le.create("only-available-in-window")},ye.prototype.onPush=function(de){return nt(this,void 0,void 0,function(){var Se,Pe,ie,L;return st(this,function($){switch($.label){case 0:return(Se=function(ye){var de=ye.data;if(!de)return null;try{return de.json()}catch(Se){return null}}(de))?[4,Be()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(ye){return ye.some(function(de){return"visible"===de.visibilityState&&!de.url.startsWith("chrome-extension://")})}(Pe=$.sent())?[2,ve(Pe,Se)]:(ie=!1,Se.notification?[4,Qe(co(Se))]:[3,3]);case 2:$.sent(),ie=!0,$.label=3;case 3:return!0===ie&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(L=function(ye){var de={from:ye.from,collapseKey:ye.collapse_key};return function(ye,de){if(de.notification){ye.notification={};var Se=de.notification.title;Se&&(ye.notification.title=Se);var Pe=de.notification.body;Pe&&(ye.notification.body=Pe);var ie=de.notification.image;ie&&(ye.notification.image=ie)}}(de,ye),function(ye,de){!de.data||(ye.data=de.data)}(de,ye),function(ye,de){if(de.fcmOptions){ye.fcmOptions={};var Se=de.fcmOptions.link;Se&&(ye.fcmOptions.link=Se);var Pe=de.fcmOptions.analytics_label;Pe&&(ye.fcmOptions.analyticsLabel=Pe)}}(de,ye),de}(Se),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(L):this.bgMessageHandler.next(L)),[2]}})})},ye.prototype.onSubChange=function(de){var Se,Pe;return nt(this,void 0,void 0,function(){var L;return st(this,function($){switch($.label){case 0:return de.newSubscription?[3,2]:[4,Wt(this.firebaseDependencies,self.registration)];case 1:return $.sent(),[2];case 2:return[4,sr(this.firebaseDependencies)];case 3:return L=$.sent(),[4,Wt(this.firebaseDependencies,self.registration)];case 4:return $.sent(),[4,Ue(this.firebaseDependencies,self.registration,null!==(Pe=null===(Se=null==L?void 0:L.subscriptionOptions)||void 0===Se?void 0:Se.vapidKey)&&void 0!==Pe?Pe:Ve)];case 5:return $.sent(),[2]}})})},ye.prototype.onNotificationClick=function(de){var Se,Pe;return nt(this,void 0,void 0,function(){var ie,L,$,ue,Ce;return st(this,function(we){switch(we.label){case 0:return(ie=null===(Pe=null===(Se=de.notification)||void 0===Se?void 0:Se.data)||void 0===Pe?void 0:Pe[xe])?de.action?[2]:(de.stopImmediatePropagation(),de.notification.close(),(L=function(ye){var de,Se,Pe;return(null!==(Se=null===(de=ye.fcmOptions)||void 0===de?void 0:de.link)&&void 0!==Se?Se:null===(Pe=ye.notification)||void 0===Pe?void 0:Pe.click_action)||(fi(ye.data)?self.location.origin:null)}(ie))?($=new URL(L,self.location.href),ue=new URL(self.location.origin),$.host!==ue.host?[2]:[4,un($)]):[2]):[2];case 1:return(Ce=we.sent())?[3,4]:[4,self.clients.openWindow(L)];case 2:return Ce=we.sent(),[4,rn(3e3)];case 3:return we.sent(),[3,6];case 4:return[4,Ce.focus()];case 5:Ce=we.sent(),we.label=6;case 6:return Ce?(ie.messageType=nn.NOTIFICATION_CLICKED,ie.isFirebaseMessaging=!0,[2,Ce.postMessage(ie)]):[2]}})})},ye}();function co(ye){var de,Se=Dn({},ye.notification);return Se.data=((de={})[xe]=ye,de),Se}function un(ye){return nt(this,void 0,void 0,function(){var de,Se,Pe,ie,L,$,ue;return st(this,function(Ce){switch(Ce.label){case 0:return[4,Be()];case 1:de=Ce.sent();try{for(Se=wn(de),Pe=Se.next();!Pe.done;Pe=Se.next())if(ie=Pe.value,L=new URL(ie.url,self.location.href),ye.host===L.host)return[2,ie]}catch(we){$={error:we}}finally{try{Pe&&!Pe.done&&(ue=Se.return)&&ue.call(Se)}finally{if($)throw $.error}}return[2,null]}})})}function ve(ye,de){var Se,Pe;de.isFirebaseMessaging=!0,de.messageType=nn.PUSH_RECEIVED;try{for(var ie=wn(ye),L=ie.next();!L.done;L=ie.next())L.value.postMessage(de)}catch(ue){Se={error:ue}}finally{try{L&&!L.done&&(Pe=ie.return)&&Pe.call(ie)}finally{if(Se)throw Se.error}}}function Be(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Qe(ye){var de,Se=ye.actions,Pe=Notification.maxActions;return Se&&Pe&&Se.length>Pe&&console.warn("This browser only supports "+Pe+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(de=ye.title)&&void 0!==de?de:"",ye)}var Fe=function(){function ye(de){var Se=this;this.firebaseDependencies=de,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(Pe){return Se.messageEventListener(Pe)})}return Object.defineProperty(ye.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ye.prototype.messageEventListener=function(de){return nt(this,void 0,void 0,function(){var Se,Pe;return st(this,function(ie){switch(ie.label){case 0:return(Se=de.data).isFirebaseMessaging?(this.onMessageCallback&&Se.messageType===nn.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(ye){return delete ye.messageType,delete ye.isFirebaseMessaging,ye}(Object.assign({},Se))):this.onMessageCallback.next(Object.assign({},Se))),fi(Pe=Se.data)&&"1"===Pe["google.c.a.e"]?[4,this.logEvent(Se.messageType,Pe)]:[3,2]):[2];case 1:ie.sent(),ie.label=2;case 2:return[2]}})})},ye.prototype.getVapidKey=function(){return this.vapidKey},ye.prototype.getSwReg=function(){return this.swRegistration},ye.prototype.getToken=function(de){return nt(this,void 0,void 0,function(){return st(this,function(Se){switch(Se.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:Se.sent(),Se.label=2;case 2:if("granted"!==Notification.permission)throw le.create("permission-blocked");return[4,this.updateVapidKey(null==de?void 0:de.vapidKey)];case 3:return Se.sent(),[4,this.updateSwReg(null==de?void 0:de.serviceWorkerRegistration)];case 4:return Se.sent(),[2,Ue(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},ye.prototype.updateVapidKey=function(de){return nt(this,void 0,void 0,function(){return st(this,function(Se){return de?this.vapidKey=de:this.vapidKey||(this.vapidKey=Ve),[2]})})},ye.prototype.updateSwReg=function(de){return nt(this,void 0,void 0,function(){return st(this,function(Se){switch(Se.label){case 0:return de||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:Se.sent(),Se.label=2;case 2:if(!de&&this.swRegistration)return[2];if(!(de instanceof ServiceWorkerRegistration))throw le.create("invalid-sw-registration");return this.swRegistration=de,[2]}})})},ye.prototype.registerDefaultSw=function(){return nt(this,void 0,void 0,function(){var de,Se;return st(this,function(Pe){switch(Pe.label){case 0:return Pe.trys.push([0,2,,3]),de=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return de.swRegistration=Pe.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw Se=Pe.sent(),le.create("failed-service-worker-registration",{browserErrorMessage:Se.message});case 3:return[2]}})})},ye.prototype.deleteToken=function(){return nt(this,void 0,void 0,function(){return st(this,function(de){switch(de.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:de.sent(),de.label=2;case 2:return[2,Wt(this.firebaseDependencies,this.swRegistration)]}})})},ye.prototype.requestPermission=function(){return nt(this,void 0,void 0,function(){var de;return st(this,function(Se){switch(Se.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(de=Se.sent()))return[2];throw le.create("denied"===de?"permission-blocked":"permission-default")}})})},ye.prototype.usePublicVapidKey=function(de){if(null!==this.vapidKey)throw le.create("use-vapid-key-after-get-token");if("string"!=typeof de||0===de.length)throw le.create("invalid-vapid-key");this.vapidKey=de},ye.prototype.useServiceWorker=function(de){if(!(de instanceof ServiceWorkerRegistration))throw le.create("invalid-sw-registration");if(this.swRegistration)throw le.create("use-sw-after-get-token");this.swRegistration=de},ye.prototype.onMessage=function(de){var Se=this;return this.onMessageCallback=de,function(){Se.onMessageCallback=null}},ye.prototype.setBackgroundMessageHandler=function(){throw le.create("only-available-in-sw")},ye.prototype.onBackgroundMessage=function(){throw le.create("only-available-in-sw")},ye.prototype.onTokenRefresh=function(){return function(){}},ye.prototype.logEvent=function(de,Se){return nt(this,void 0,void 0,function(){var Pe;return st(this,function(L){switch(L.label){case 0:return Pe=function(ye){switch(ye){case nn.NOTIFICATION_CLICKED:return"notification_open";case nn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(de),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return L.sent().logEvent(Pe,{message_id:Se[ke],message_name:Se["google.c.a.c_l"],message_time:Se["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},ye}();function yn(ye){return le.create("missing-app-config-values",{valueName:ye})}var xr={isSupported:ar};function ar(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}H.default.INTERNAL.registerComponent(new Z.Component("messaging",function(ye){var de=ye.getProvider("app").getImmediate(),Se=function(ye){var de,Se;if(!ye||!ye.options)throw yn("App Configuration Object");if(!ye.name)throw yn("App Name");var ie=ye.options;try{for(var L=wn(["projectId","apiKey","appId","messagingSenderId"]),$=L.next();!$.done;$=L.next()){var ue=$.value;if(!ie[ue])throw yn(ue)}}catch(Ce){de={error:Ce}}finally{try{$&&!$.done&&(Se=L.return)&&Se.call(L)}finally{if(de)throw de.error}}return{appName:ye.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(de),L={app:de,appConfig:Se,installations:ye.getProvider("installations").getImmediate(),analyticsProvider:ye.getProvider("analytics-internal")};if(!ar())throw le.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Tr(L):new Fe(L)},"PUBLIC").setServiceProps(xr))},62:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Et(279);Et(918);var Z=Et(9),re=Et(704),Nt=Et(300),ot=Et(100);function Dn(ie){return ie&&"object"==typeof ie&&"default"in ie?ie:{default:ie}}var at,Lt=Dn(te),Y="0.4.2",Ne="FB-PERF-TRACE-MEASURE",dt="@firebase/performance/config",et="@firebase/performance/configexpire",Ft="Performance",Je=((at={})["trace started"]="Trace {$traceName} was started before.",at["trace stopped"]="Trace {$traceName} is not running.",at["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",at["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",at["no window"]="Window is not available.",at["no app id"]="App id is not available.",at["no project id"]="Project id is not available.",at["no api key"]="Api key is not available.",at["invalid cc log"]="Attempted to queue invalid cc event",at["FB not default"]="Performance can only start when Firebase app instance is the default one.",at["RC response not ok"]="RC response is not ok",at["invalid attribute name"]="Attribute name {$attributeName} is invalid.",at["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",at["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",at["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",at),pt=new re.ErrorFactory("performance",Ft,Je),M=new Nt.Logger(Ft);M.logLevel=Nt.LogLevel.INFO;var O,I,F=function(){function ie(L){if(this.window=L,!L)throw pt.create("no window");this.performance=L.performance,this.PerformanceObserver=L.PerformanceObserver,this.windowLocation=L.location,this.navigator=L.navigator,this.document=L.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=L.localStorage),L.perfMetrics&&L.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=L.perfMetrics.onFirstInputDelay)}return ie.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ie.prototype.mark=function(L){!this.performance||!this.performance.mark||this.performance.mark(L)},ie.prototype.measure=function(L,$,ue){!this.performance||!this.performance.measure||this.performance.measure(L,$,ue)},ie.prototype.getEntriesByType=function(L){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(L):[]},ie.prototype.getEntriesByName=function(L){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(L):[]},ie.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ie.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!re.isIndexedDBAvailable()||(M.info("IndexedDB is not supported by current browswer"),!1):(M.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ie.prototype.setupObserver=function(L,$){this.PerformanceObserver&&new this.PerformanceObserver(function(Ce){for(var we=0,ze=Ce.getEntries();we<ze.length;we++)$(ze[we])}).observe({entryTypes:[L]})},ie.getInstance=function(){return void 0===O&&(O=new ie(I)),O},ie}();function R(ie,L){var $=ie.length-L.length;if($<0||$>1)throw pt.create("invalid String merger input");for(var ue=[],Ce=0;Ce<ie.length;Ce++)ue.push(ie.charAt(Ce)),L.length>Ce&&ue.push(L.charAt(Ce));return ue.join("")}var K,Tt,le=function(){function ie(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=R("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=R("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return ie.prototype.getAppId=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!L)throw pt.create("no app id");return L},ie.prototype.getProjectId=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!L)throw pt.create("no project id");return L},ie.prototype.getApiKey=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!L)throw pt.create("no api key");return L},ie.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ie.getInstance=function(){return void 0===K&&(K=new ie),K},ie}();function Ve(){return Tt}var xe=(()=>{return(ie=xe||(xe={}))[ie.UNKNOWN=0]="UNKNOWN",ie[ie.VISIBLE=1]="VISIBLE",ie[ie.HIDDEN=2]="HIDDEN",xe;var ie})(),ke=["firebase_","google_","ga_"],Ge=new RegExp("^[a-zA-Z]\\w*$");function nn(){switch(F.getInstance().document.visibilityState){case"visible":return xe.VISIBLE;case"hidden":return xe.HIDDEN;default:return xe.UNKNOWN}}function dn(){var L=F.getInstance().navigator.connection;switch(L&&L.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var kn="Could not fetch config, will use default configs";function Nr(ie){if(!ie)return ie;var L=le.getInstance(),$=ie.entries||{};return L.loggingEnabled=void 0===$.fpr_enabled||"true"===String($.fpr_enabled),$.fpr_log_source&&(L.logSource=Number($.fpr_log_source)),$.fpr_log_endpoint_url&&(L.logEndPointUrl=$.fpr_log_endpoint_url),$.fpr_log_transport_key&&(L.transportKey=$.fpr_log_transport_key),void 0!==$.fpr_vc_network_request_sampling_rate&&(L.networkRequestsSamplingRate=Number($.fpr_vc_network_request_sampling_rate)),void 0!==$.fpr_vc_trace_sampling_rate&&(L.tracesSamplingRate=Number($.fpr_vc_trace_sampling_rate)),L.logTraceAfterSampling=Hn(L.tracesSamplingRate),L.logNetworkAfterSampling=Hn(L.networkRequestsSamplingRate),ie}function Hn(ie){return Math.random()<=ie}var Or,si=1;function Qn(){return si=2,Or=Or||(ie=F.getInstance().document,new Promise(function(L){if(ie&&"complete"!==ie.readyState){var $=function(){"complete"===ie.readyState&&(ie.removeEventListener("readystatechange",$),L())};ie.addEventListener("readystatechange",$)}else L()})).then(function(){return function(){var ie=le.getInstance().installationsService.getId();return ie.then(function(L){Tt=L}),ie}()}).then(function(ie){return function(ie){var L=function(){var ie=F.getInstance().localStorage;if(ie){var L=ie.getItem(et);if(L&&function(ie){return Number(ie)>Date.now()}(L)){var $=ie.getItem(dt);if($)try{return JSON.parse($)}catch(Ce){return}}}}();return L?(Nr(L),Promise.resolve()):function(ie){return function(){var ie=le.getInstance().installationsService.getToken();return ie.then(function(L){}),ie}().then(function(L){var ue="https://firebaseremoteconfig.googleapis.com/v1/projects/"+le.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+le.getInstance().getApiKey(),Ce=new Request(ue,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+L},body:JSON.stringify({app_instance_id:ie,app_instance_id_token:L,app_id:le.getInstance().getAppId(),app_version:Y,sdk_version:"0.0.1"})});return fetch(Ce).then(function(we){if(we.ok)return we.json();throw pt.create("RC response not ok")})}).catch(function(){M.info(kn)})}(ie).then(Nr).then(function($){return function(ie){var L=F.getInstance().localStorage;!ie||!L||(L.setItem(dt,JSON.stringify(ie)),L.setItem(et,String(Date.now()+60*le.getInstance().configTimeToLive*60*1e3)))}($)},function(){})}(ie)}).then(function(){return me()},function(){return me()});var ie}function me(){si=3}var rn,Wt=3,zt=[],gn=!1;function Mn(ie){setTimeout(function(){if(0!==Wt){if(!zt.length)return Mn(1e4);!function(){var ie=Z.__spreadArrays(zt);zt=[];var L=ie.map(function(ue){return{source_extension_json_proto3:ue.message,event_time_ms:String(ue.eventTime)}});(function(ie,L){return function(ie){var L=le.getInstance().getFlTransportFullUrl();return fetch(L,{method:"POST",body:JSON.stringify(ie)})}(ie).then(function($){return $.ok||M.info("Call to Firebase backend failed."),$.json()}).then(function($){var ue=Number($.nextRequestWaitMillis),Ce=1e4;isNaN(ue)||(Ce=Math.max(ue,Ce));var we=$.logResponseDetails;Array.isArray(we)&&we.length>0&&"RETRY_REQUEST_LATER"===we[0].responseAction&&(zt=Z.__spreadArrays(L,zt),M.info("Retry transport request later.")),Wt=3,Mn(Ce)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:le.getInstance().logSource,log_event:L},ie).catch(function(){zt=Z.__spreadArrays(ie,zt),Wt--,M.info("Tries left: "+Wt+"."),Mn(1e4)})}()}},ie)}function an(ie){if(!ie.eventTime||!ie.message)throw pt.create("invalid cc log");zt=Z.__spreadArrays(zt,[ie])}function Tr(ie,L){rn||(rn=function(ie){return function(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];an({message:ie.apply(void 0,L),eventTime:Date.now()})}}(Gi)),rn(ie,L)}function co(ie){var L=le.getInstance();!L.instrumentationEnabled&&ie.isAuto||!L.dataCollectionEnabled&&!ie.isAuto||!F.getInstance().requiredApisAvailable()||ie.isAuto&&nn()!==xe.VISIBLE||(3===si?Ln(ie):Qn().then(function(){return Ln(ie)},function(){return Ln(ie)}))}function Ln(ie){if(Ve()){var L=le.getInstance();!L.loggingEnabled||!L.logTraceAfterSampling||setTimeout(function(){return Tr(ie,1)},0)}}function Gi(ie,L){return 0===L?function(ie){var L={url:ie.url,http_method:ie.httpMethod||0,http_response_code:200,response_payload_bytes:ie.responsePayloadBytes,client_start_time_us:ie.startTimeUs,time_to_response_initiated_us:ie.timeToResponseInitiatedUs,time_to_response_completed_us:ie.timeToResponseCompletedUs},$={application_info:Qe(),network_request_metric:L};return JSON.stringify($)}(ie):function(ie){var L={name:ie.name,is_auto:ie.isAuto,client_start_time_us:ie.startTimeUs,duration_us:ie.durationUs};0!==Object.keys(ie.counters).length&&(L.counters=ie.counters);var $=ie.getAttributes();0!==Object.keys($).length&&(L.custom_attributes=$);var ue={application_info:Qe(),trace_metric:L};return JSON.stringify(ue)}(ie)}function Qe(){return{google_app_id:le.getInstance().getAppId(),app_instance_id:Ve(),web_app_info:{sdk_version:Y,page_url:F.getInstance().getUrl(),service_worker_status:(ie=F.getInstance().navigator,"serviceWorker"in ie?ie.serviceWorker.controller?2:3:1),visibility_state:nn(),effective_connection_type:dn()},application_process_state:0};var ie}var rt=["_fp","_fcp","_fid"],yn=function(){function ie(L,$,ue){void 0===$&&($=!1),this.name=L,this.isAuto=$,this.state=1,this.customAttributes={},this.counters={},this.api=F.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=ue||Ne+"-"+this.randomId+"-"+this.name,ue&&this.calculateTraceMetrics())}return ie.prototype.start=function(){if(1!==this.state)throw pt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},ie.prototype.stop=function(){if(2!==this.state)throw pt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),co(this)},ie.prototype.record=function(L,$,ue){if(L<=0)throw pt.create("nonpositive trace startTime",{traceName:this.name});if($<=0)throw pt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*$),this.startTimeUs=Math.floor(1e3*L),ue&&ue.attributes&&(this.customAttributes=Z.__assign({},ue.attributes)),ue&&ue.metrics)for(var Ce=0,we=Object.keys(ue.metrics);Ce<we.length;Ce++){var ze=we[Ce];isNaN(Number(ue.metrics[ze]))||(this.counters[ze]=Number(Math.floor(ue.metrics[ze])))}co(this)},ie.prototype.incrementMetric=function(L,$){void 0===$&&($=1),this.putMetric(L,void 0===this.counters[L]?$:this.counters[L]+$)},ie.prototype.putMetric=function(L,$){if(!function(ie,L){return!(0===ie.length||ie.length>100)&&(L&&L.startsWith("_wt_")&&rt.indexOf(ie)>-1||!ie.startsWith("_"))}(L,this.name))throw pt.create("invalid custom metric name",{customMetricName:L});this.counters[L]=function(ie){var L=Math.floor(ie);return L<ie&&M.info("Metric value should be an Integer, setting the value as : "+L+"."),L}($)},ie.prototype.getMetric=function(L){return this.counters[L]||0},ie.prototype.putAttribute=function(L,$){var ue=function(ie){return!(0===ie.length||ie.length>40||ke.some(function($){return ie.startsWith($)})||!ie.match(Ge))}(L),Ce=function(ie){return 0!==ie.length&&ie.length<=100}($);if(ue&&Ce)this.customAttributes[L]=$;else{if(!ue)throw pt.create("invalid attribute name",{attributeName:L});if(!Ce)throw pt.create("invalid attribute value",{attributeValue:$})}},ie.prototype.getAttribute=function(L){return this.customAttributes[L]},ie.prototype.removeAttribute=function(L){void 0!==this.customAttributes[L]&&delete this.customAttributes[L]},ie.prototype.getAttributes=function(){return Z.__assign({},this.customAttributes)},ie.prototype.setStartTime=function(L){this.startTimeUs=L},ie.prototype.setDuration=function(L){this.durationUs=L},ie.prototype.calculateTraceMetrics=function(){var L=this.api.getEntriesByName(this.traceMeasure),$=L&&L[0];$&&(this.durationUs=Math.floor(1e3*$.duration),this.startTimeUs=Math.floor(1e3*($.startTime+this.api.getTimeOrigin())))},ie.createOobTrace=function(L,$,ue){var Ce=F.getInstance().getUrl();if(Ce){var we=new ie("_wt_"+Ce,!0),ze=Math.floor(1e3*F.getInstance().getTimeOrigin());if(we.setStartTime(ze),L&&L[0]&&(we.setDuration(Math.floor(1e3*L[0].duration)),we.putMetric("domInteractive",Math.floor(1e3*L[0].domInteractive)),we.putMetric("domContentLoadedEventEnd",Math.floor(1e3*L[0].domContentLoadedEventEnd)),we.putMetric("loadEventEnd",Math.floor(1e3*L[0].loadEventEnd))),$){var lt=$.find(function(vt){return"first-paint"===vt.name});lt&&lt.startTime&&we.putMetric("_fp",Math.floor(1e3*lt.startTime));var mn=$.find(function(vt){return"first-contentful-paint"===vt.name});mn&&mn.startTime&&we.putMetric("_fcp",Math.floor(1e3*mn.startTime)),ue&&we.putMetric("_fid",Math.floor(1e3*ue))}co(we)}},ie.createUserTimingTrace=function(L){co(new ie(L,!1,L))},ie}();function Mt(ie){var L=ie;if(L&&void 0!==L.responseStart){var $=F.getInstance().getTimeOrigin(),ue=Math.floor(1e3*(L.startTime+$)),Ce=L.responseStart?Math.floor(1e3*(L.responseStart-L.startTime)):void 0,we=Math.floor(1e3*(L.responseEnd-L.startTime));!function(ie){var L=le.getInstance();if(L.instrumentationEnabled){var $=ie.url,ue=L.logEndPointUrl.split("?")[0],Ce=L.flTransportEndpointUrl.split("?")[0];$===ue||$===Ce||!L.loggingEnabled||!L.logNetworkAfterSampling||setTimeout(function(){return Tr(ie,0)},0)}}({url:L.name&&L.name.split("?")[0],responsePayloadBytes:L.transferSize,startTimeUs:ue,timeToResponseInitiatedUs:Ce,timeToResponseCompletedUs:we})}}function xr(){!Ve()||(setTimeout(function(){return function(){var ie=F.getInstance(),L=ie.getEntriesByType("navigation"),$=ie.getEntriesByType("paint");if(ie.onFirstInputDelay){var ue=setTimeout(function(){yn.createOobTrace(L,$),ue=void 0},5e3);ie.onFirstInputDelay(function(Ce){ue&&(clearTimeout(ue),yn.createOobTrace(L,$,Ce))})}else yn.createOobTrace(L,$)}()},0),setTimeout(function(){return function(){for(var ie=F.getInstance(),$=0,ue=ie.getEntriesByType("resource");$<ue.length;$++)Mt(ue[$]);ie.setupObserver("resource",Mt)}()},0),setTimeout(function(){return function(){for(var ie=F.getInstance(),$=0,ue=ie.getEntriesByType("measure");$<ue.length;$++)ye(ue[$]);ie.setupObserver("measure",ye)}()},0))}function ye(ie){var L=ie.name;L.substring(0,Ne.length)!==Ne&&yn.createUserTimingTrace(L)}var de=function(){function ie(L){this.app=L,F.getInstance().requiredApisAvailable()&&re.validateIndexedDBOpenable().then(function($){$&&(gn||(Mn(5500),gn=!0),Qn().then(xr,xr))}).catch(function($){M.info("Environment doesn't support IndexedDB: "+$)})}return ie.prototype.trace=function(L){return new yn(L)},Object.defineProperty(ie.prototype,"instrumentationEnabled",{get:function(){return le.getInstance().instrumentationEnabled},set:function(L){le.getInstance().instrumentationEnabled=L},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dataCollectionEnabled",{get:function(){return le.getInstance().dataCollectionEnabled},set:function(L){le.getInstance().dataCollectionEnabled=L},enumerable:!1,configurable:!0}),ie}();function Pe(ie){ie.INTERNAL.registerComponent(new ot.Component("performance",function($){return function($,ue){if("[DEFAULT]"!==$.name)throw pt.create("FB not default");if("undefined"==typeof window)throw pt.create("no window");return function(ie){I=ie}(window),le.getInstance().firebaseAppInstance=$,le.getInstance().installationsService=ue,new de($)}($.getProvider("app").getImmediate(),$.getProvider("installations").getImmediate())},"PUBLIC")),ie.registerVersion("@firebase/performance","0.4.2")}Pe(Lt.default),bt.registerPerformance=Pe},136:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Et(279);Et(918);var Z=Et(698),re=Et(704),Nt=Et(300),ot=Et(100);function Dn(ke){return ke&&"object"==typeof ke&&"default"in ke?ke:{default:ke}}var be,Lt=Dn(te),In=function(){function ke(Ge,wt,tn,Rt){this.client=Ge,this.storage=wt,this.storageCache=tn,this.logger=Rt}return ke.prototype.isCachedDataFresh=function(Ge,wt){if(!wt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var tn=Date.now()-wt,Rt=tn<=Ge;return this.logger.debug("Config fetch cache check. Cache age millis: "+tn+". Cache max age millis (minimumFetchIntervalMillis setting): "+Ge+". Is cache hit: "+Rt+"."),Rt},ke.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,tn,Rt,nn,dn;return Z.__generator(this,function(ct){switch(ct.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return wt=ct.sent(),tn=wt[0],(Rt=wt[1])&&this.isCachedDataFresh(Ge.cacheMaxAgeMillis,tn)?[2,Rt]:(Ge.eTag=Rt&&Rt.eTag,[4,this.client.fetch(Ge)]);case 2:return nn=ct.sent(),dn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===nn.status&&dn.push(this.storage.setLastSuccessfulFetchResponse(nn)),[4,Promise.all(dn)];case 3:return ct.sent(),[2,nn]}})})},ke}(),Y=((be={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",be["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",be["registration-api-key"]="Undefined API key. Check Firebase app initialization.",be["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",be["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",be["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",be["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",be["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",be["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",be["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',be["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',be["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",be["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",be),nt=new re.ErrorFactory("remoteconfig","Remote Config",Y);function Ne(ke){return void 0===ke&&(ke=navigator),ke.languages&&ke.languages[0]||ke.language}var ft=function(){function ke(Ge,wt,tn,Rt,nn,dn){this.firebaseInstallations=Ge,this.sdkVersion=wt,this.namespace=tn,this.projectId=Rt,this.apiKey=nn,this.appId=dn}return ke.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,nn,dn,ct,jn,jr,pn,Ht,En,on,Kt,kn,nr,Nr,sr,Hn,si;return Z.__generator(this,function(Or){switch(Or.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:wt=Or.sent(),nn=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",dn=nn+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ge.eTag||"*"},jn={sdk_version:this.sdkVersion,app_instance_id:wt[0],app_instance_id_token:wt[1],app_id:this.appId,language_code:Ne()},jr={method:"POST",headers:ct,body:JSON.stringify(jn)},pn=fetch(dn,jr),Ht=new Promise(function(Qn,xn){Ge.signal.addEventListener(function(){var hi=new Error("The operation was aborted.");hi.name="AbortError",xn(hi)})}),Or.label=2;case 2:return Or.trys.push([2,5,,6]),[4,Promise.race([pn,Ht])];case 3:return Or.sent(),[4,pn];case 4:return En=Or.sent(),[3,6];case 5:throw on=Or.sent(),Kt="fetch-client-network","AbortError"===on.name&&(Kt="fetch-timeout"),nt.create(Kt,{originalErrorMessage:on.message});case 6:if(kn=En.status,nr=En.headers.get("ETag")||void 0,200!==En.status)return[3,11];Hn=void 0,Or.label=7;case 7:return Or.trys.push([7,9,,10]),[4,En.json()];case 8:return Hn=Or.sent(),[3,10];case 9:throw si=Or.sent(),nt.create("fetch-client-parse",{originalErrorMessage:si.message});case 10:Nr=Hn.entries,sr=Hn.state,Or.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===sr?kn=500:"NO_CHANGE"===sr?kn=304:("NO_TEMPLATE"===sr||"EMPTY_CONFIG"===sr)&&(Nr={}),304!==kn&&200!==kn)throw nt.create("fetch-status",{httpStatus:kn});return[2,{status:kn,eTag:nr,config:Nr}]}})})},ke}(),wn=function(){function ke(){this.listeners=[]}return ke.prototype.addEventListener=function(Ge){this.listeners.push(Ge)},ke.prototype.abort=function(){this.listeners.forEach(function(Ge){return Ge()})},ke}(),et=["1","true","t","yes","y","on"],Bt=function(){function ke(Ge,wt){void 0===wt&&(wt=""),this._source=Ge,this._value=wt}return ke.prototype.asString=function(){return this._value},ke.prototype.asBoolean=function(){return"static"!==this._source&&et.indexOf(this._value.toLowerCase())>=0},ke.prototype.asNumber=function(){if("static"===this._source)return 0;var Ge=Number(this._value);return isNaN(Ge)&&(Ge=0),Ge},ke.prototype.getSource=function(){return this._source},ke}(),Je=function(){function ke(Ge,wt,tn,Rt,nn){this.app=Ge,this._client=wt,this._storageCache=tn,this._storage=Rt,this._logger=nn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return ke.prototype.setLogLevel=function(Ge){switch(Ge){case"debug":this._logger.logLevel=Nt.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Nt.LogLevel.SILENT;break;default:this._logger.logLevel=Nt.LogLevel.ERROR}},Object.defineProperty(ke.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),ke.prototype.activate=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,tn;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return Ge=Rt.sent(),tn=Ge[1],(wt=Ge[0])&&wt.config&&wt.eTag&&wt.eTag!==tn?[4,Promise.all([this._storageCache.setActiveConfig(wt.config),this._storage.setActiveConfigEtag(wt.eTag)])]:[2,!1];case 2:return Rt.sent(),[2,!0]}})})},ke.prototype.ensureInitialized=function(){var Ge=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){Ge._isInitializationComplete=!0})),this._initializePromise},ke.prototype.fetch=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,tn,Rt=this;return Z.__generator(this,function(nn){switch(nn.label){case 0:Ge=new wn,setTimeout(function(){return Z.__awaiter(Rt,void 0,void 0,function(){return Z.__generator(this,function(dn){return Ge.abort(),[2]})})},this.settings.fetchTimeoutMillis),nn.label=1;case 1:return nn.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:Ge})];case 2:return nn.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return nn.sent(),[3,6];case 4:return wt=nn.sent(),tn=function(ke,Ge){return ke instanceof re.FirebaseError&&-1!==ke.code.indexOf("fetch-throttle")}(wt)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(tn)];case 5:throw nn.sent(),wt;case 6:return[2]}})})},ke.prototype.fetchAndActivate=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(Ge){switch(Ge.label){case 0:return[4,this.fetch()];case 1:return Ge.sent(),[2,this.activate()]}})})},ke.prototype.getAll=function(){var Ge=this;return function(ke,Ge){return void 0===ke&&(ke={}),void 0===Ge&&(Ge={}),Object.keys(Z.__assign(Z.__assign({},ke),Ge))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(wt,tn){return wt[tn]=Ge.getValue(tn),wt},{})},ke.prototype.getBoolean=function(Ge){return this.getValue(Ge).asBoolean()},ke.prototype.getNumber=function(Ge){return this.getValue(Ge).asNumber()},ke.prototype.getString=function(Ge){return this.getValue(Ge).asString()},ke.prototype.getValue=function(Ge){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+Ge+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var wt=this._storageCache.getActiveConfig();return wt&&void 0!==wt[Ge]?new Bt("remote",wt[Ge]):this.defaultConfig&&void 0!==this.defaultConfig[Ge]?new Bt("default",String(this.defaultConfig[Ge])):(this._logger.debug('Returning static value for key "'+Ge+'". Define a default or remote value if this is unintentional.'),new Bt("static"))},ke}();function M(ke,Ge){var wt=ke.target.error||void 0;return nt.create(Ge,{originalErrorMessage:wt&&wt.message})}var O="app_namespace_store",R=function(){function ke(Ge,wt,tn,Rt){void 0===Rt&&(Rt=new Promise(function(ke,Ge){var wt=indexedDB.open("firebase_remote_config",1);wt.onerror=function(tn){Ge(M(tn,"storage-open"))},wt.onsuccess=function(tn){ke(tn.target.result)},wt.onupgradeneeded=function(tn){var Rt=tn.target.result;switch(tn.oldVersion){case 0:Rt.createObjectStore(O,{keyPath:"compositeKey"})}}})),this.appId=Ge,this.appName=wt,this.namespace=tn,this.openDbPromise=Rt}return ke.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},ke.prototype.setLastFetchStatus=function(Ge){return this.set("last_fetch_status",Ge)},ke.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},ke.prototype.setLastSuccessfulFetchTimestampMillis=function(Ge){return this.set("last_successful_fetch_timestamp_millis",Ge)},ke.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},ke.prototype.setLastSuccessfulFetchResponse=function(Ge){return this.set("last_successful_fetch_response",Ge)},ke.prototype.getActiveConfig=function(){return this.get("active_config")},ke.prototype.setActiveConfig=function(Ge){return this.set("active_config",Ge)},ke.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},ke.prototype.setActiveConfigEtag=function(Ge){return this.set("active_config_etag",Ge)},ke.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},ke.prototype.setThrottleMetadata=function(Ge){return this.set("throttle_metadata",Ge)},ke.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},ke.prototype.get=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,tn=this;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,this.openDbPromise];case 1:return wt=Rt.sent(),[2,new Promise(function(nn,dn){var jn=wt.transaction([O],"readonly").objectStore(O),jr=tn.createCompositeKey(Ge);try{var pn=jn.get(jr);pn.onerror=function(Ht){dn(M(Ht,"storage-get"))},pn.onsuccess=function(Ht){var En=Ht.target.result;nn(En?En.value:void 0)}}catch(Ht){dn(nt.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})]}})})},ke.prototype.set=function(Ge,wt){return Z.__awaiter(this,void 0,void 0,function(){var tn,Rt=this;return Z.__generator(this,function(nn){switch(nn.label){case 0:return[4,this.openDbPromise];case 1:return tn=nn.sent(),[2,new Promise(function(dn,ct){var jr=tn.transaction([O],"readwrite").objectStore(O),pn=Rt.createCompositeKey(Ge);try{var Ht=jr.put({compositeKey:pn,value:wt});Ht.onerror=function(En){ct(M(En,"storage-set"))},Ht.onsuccess=function(){dn()}}catch(En){ct(nt.create("storage-set",{originalErrorMessage:En&&En.message}))}})]}})})},ke.prototype.delete=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,tn=this;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,this.openDbPromise];case 1:return wt=Rt.sent(),[2,new Promise(function(nn,dn){var jn=wt.transaction([O],"readwrite").objectStore(O),jr=tn.createCompositeKey(Ge);try{var pn=jn.delete(jr);pn.onerror=function(Ht){dn(M(Ht,"storage-delete"))},pn.onsuccess=function(){nn()}}catch(Ht){dn(nt.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})]}})})},ke.prototype.createCompositeKey=function(Ge){return[this.appId,this.appName,this.namespace,Ge].join()},ke}(),K=function(){function ke(Ge){this.storage=Ge}return ke.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},ke.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},ke.prototype.getActiveConfig=function(){return this.activeConfig},ke.prototype.loadFromStorage=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,tn,Rt,nn,dn;return Z.__generator(this,function(ct){switch(ct.label){case 0:return Ge=this.storage.getLastFetchStatus(),wt=this.storage.getLastSuccessfulFetchTimestampMillis(),tn=this.storage.getActiveConfig(),[4,Ge];case 1:return(Rt=ct.sent())&&(this.lastFetchStatus=Rt),[4,wt];case 2:return(nn=ct.sent())&&(this.lastSuccessfulFetchTimestampMillis=nn),[4,tn];case 3:return(dn=ct.sent())&&(this.activeConfig=dn),[2]}})})},ke.prototype.setLastFetchStatus=function(Ge){return this.lastFetchStatus=Ge,this.storage.setLastFetchStatus(Ge)},ke.prototype.setLastSuccessfulFetchTimestampMillis=function(Ge){return this.lastSuccessfulFetchTimestampMillis=Ge,this.storage.setLastSuccessfulFetchTimestampMillis(Ge)},ke.prototype.setActiveConfig=function(Ge){return this.activeConfig=Ge,this.storage.setActiveConfig(Ge)},ke}();function le(ke,Ge){return new Promise(function(wt,tn){var Rt=Math.max(Ge-Date.now(),0),nn=setTimeout(wt,Rt);ke.addEventListener(function(){clearTimeout(nn),tn(nt.create("fetch-throttle",{throttleEndTimeMillis:Ge}))})})}var se=function(){function ke(Ge,wt){this.client=Ge,this.storage=wt}return ke.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt;return Z.__generator(this,function(tn){switch(tn.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return wt=tn.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(Ge,wt)]}})})},ke.prototype.attemptFetch=function(Ge,wt){var tn=wt.throttleEndTimeMillis,Rt=wt.backoffCount;return Z.__awaiter(this,void 0,void 0,function(){var nn,dn,ct;return Z.__generator(this,function(jn){switch(jn.label){case 0:return[4,le(Ge.signal,tn)];case 1:jn.sent(),jn.label=2;case 2:return jn.trys.push([2,5,,7]),[4,this.client.fetch(Ge)];case 3:return nn=jn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return jn.sent(),[2,nn];case 5:if(!function(ke){if(!(ke instanceof re.FirebaseError))return!1;var Ge=Number(ke.httpStatus);return 429===Ge||500===Ge||503===Ge||504===Ge}(dn=jn.sent()))throw dn;return ct={throttleEndTimeMillis:Date.now()+re.calculateBackoffMillis(Rt),backoffCount:Rt+1},[4,this.storage.setThrottleMetadata(ct)];case 6:return jn.sent(),[2,this.attemptFetch(Ge,ct)];case 7:return[2]}})})},ke}(),Ve="@firebase/remote-config";function xe(ke){ke.INTERNAL.registerComponent(new ot.Component("remoteConfig",function(wt,tn){var Rt=wt.getProvider("app").getImmediate(),nn=wt.getProvider("installations").getImmediate();if("undefined"==typeof window)throw nt.create("registration-window");var dn=Rt.options,ct=dn.projectId,jn=dn.apiKey,jr=dn.appId;if(!ct)throw nt.create("registration-project-id");if(!jn)throw nt.create("registration-api-key");if(!jr)throw nt.create("registration-app-id");var pn=new R(jr,Rt.name,tn=tn||"firebase"),Ht=new K(pn),En=new Nt.Logger(Ve);En.logLevel=Nt.LogLevel.ERROR;var on=new ft(nn,ke.SDK_VERSION,tn,ct,jn,jr),Kt=new se(on,pn),kn=new In(Kt,pn,Ht,En),nr=new Je(Rt,kn,Ht,pn,En);return nr.ensureInitialized(),nr},"PUBLIC").setMultipleInstances(!0)),ke.registerVersion(Ve,"0.1.28")}xe(Lt.default),bt.registerRemoteConfig=xe},35:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{registerStorage:()=>Xr});var te=Et(279);function be(B,V,X,pe){return new(X||(X=Promise))(function(_e,$e){function gt(Vt){try{Pt(pe.next(Vt))}catch(Yn){$e(Yn)}}function yt(Vt){try{Pt(pe.throw(Vt))}catch(Yn){$e(Yn)}}function Pt(Vt){Vt.done?_e(Vt.value):function(_e){return _e instanceof X?_e:new X(function($e){$e(_e)})}(Vt.value).then(gt,yt)}Pt((pe=pe.apply(B,V||[])).next())})}function Y(B,V){var pe,Ee,_e,$e,X={label:0,sent:function(){if(1&_e[0])throw _e[1];return _e[1]},trys:[],ops:[]};return $e={next:gt(0),throw:gt(1),return:gt(2)},"function"==typeof Symbol&&($e[Symbol.iterator]=function(){return this}),$e;function gt(Pt){return function(Vt){return function(Pt){if(pe)throw new TypeError("Generator is already executing.");for(;X;)try{if(pe=1,Ee&&(_e=2&Pt[0]?Ee.return:Pt[0]?Ee.throw||((_e=Ee.return)&&_e.call(Ee),0):Ee.next)&&!(_e=_e.call(Ee,Pt[1])).done)return _e;switch(Ee=0,_e&&(Pt=[2&Pt[0],_e.value]),Pt[0]){case 0:case 1:_e=Pt;break;case 4:return X.label++,{value:Pt[1],done:!1};case 5:X.label++,Ee=Pt[1],Pt=[0];continue;case 7:Pt=X.ops.pop(),X.trys.pop();continue;default:if(!(_e=(_e=X.trys).length>0&&_e[_e.length-1])&&(6===Pt[0]||2===Pt[0])){X=0;continue}if(3===Pt[0]&&(!_e||Pt[1]>_e[0]&&Pt[1]<_e[3])){X.label=Pt[1];break}if(6===Pt[0]&&X.label<_e[1]){X.label=_e[1],_e=Pt;break}if(_e&&X.label<_e[2]){X.label=_e[2],X.ops.push(Pt);break}_e[2]&&X.ops.pop(),X.trys.pop();continue}Pt=V.call(B,X)}catch(Vt){Pt=[6,Vt],Ee=0}finally{pe=_e=0}if(5&Pt[0])throw Pt[1];return{value:Pt[0]?Pt[1]:void 0,done:!0}}([Pt,Vt])}}}function kt(){for(var B=0,V=0,X=arguments.length;V<X;V++)B+=arguments[V].length;var pe=Array(B),Ee=0;for(V=0;V<X;V++)for(var _e=arguments[V],$e=0,gt=_e.length;$e<gt;$e++,Ee++)pe[Ee]=_e[$e];return pe}var O=Et(100),I="firebasestorage.googleapis.com",K=function(){function B(V,X){this.code_=Tt(V),this.message_="Firebase Storage: "+X,this.serverResponse_=null,this.name_="FirebaseError"}return B.prototype.codeProp=function(){return this.code},B.prototype.codeEquals=function(V){return Tt(V)===this.codeProp()},B.prototype.serverResponseProp=function(){return this.serverResponse_},B.prototype.setServerResponseProp=function(V){this.serverResponse_=V},Object.defineProperty(B.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),B}();function Tt(B){return"storage/"+B}function se(){return new K("unknown","An unknown error occurred, please check the error payload for server response.")}function wt(){return new K("canceled","User canceled the upload/download.")}function nn(){return new K("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ct(){return new K("no-download-url","The given file does not have any download URLs.")}function jn(B,V,X){return new K("invalid-argument","Invalid argument in `"+V+"` at index "+B+": "+X)}function pn(){return new K("app-deleted","The Firebase app was deleted.")}function En(B,V){return new K("invalid-format","String does not match format '"+B+"': "+V)}function on(B){throw new K("internal-error","Internal error: "+B)}var Kt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function kn(B){switch(B){case Kt.RAW:case Kt.BASE64:case Kt.BASE64URL:case Kt.DATA_URL:return;default:throw"Expected one of the event types: ["+Kt.RAW+", "+Kt.BASE64+", "+Kt.BASE64URL+", "+Kt.DATA_URL+"]."}}var nr=function(V,X){this.data=V,this.contentType=X||null};function Nr(B,V){switch(B){case Kt.RAW:return new nr(sr(V));case Kt.BASE64:case Kt.BASE64URL:return new nr(si(B,V));case Kt.DATA_URL:return new nr(function(B){var V=new Or(B);return V.base64?si(Kt.BASE64,V.rest):function(B){var V;try{V=decodeURIComponent(B)}catch(X){throw En(Kt.DATA_URL,"Malformed data URL.")}return sr(V)}(V.rest)}(V),function(B){return new Or(B).contentType}(V))}throw se()}function sr(B){for(var V=[],X=0;X<B.length;X++){var pe=B.charCodeAt(X);if(pe<=127)V.push(pe);else if(pe<=2047)V.push(192|pe>>6,128|63&pe);else if(55296==(64512&pe))if(X<B.length-1&&56320==(64512&B.charCodeAt(X+1))){var _e=pe,$e=B.charCodeAt(++X);V.push(240|(pe=65536|(1023&_e)<<10|1023&$e)>>18,128|pe>>12&63,128|pe>>6&63,128|63&pe)}else V.push(239,191,189);else 56320==(64512&pe)?V.push(239,191,189):V.push(224|pe>>12,128|pe>>6&63,128|63&pe)}return new Uint8Array(V)}function si(B,V){switch(B){case Kt.BASE64:var X=-1!==V.indexOf("-"),pe=-1!==V.indexOf("_");if(X||pe)throw En(B,"Invalid character '"+(X?"-":"_")+"' found: is it base64url encoded?");break;case Kt.BASE64URL:var _e=-1!==V.indexOf("+"),$e=-1!==V.indexOf("/");if(_e||$e)throw En(B,"Invalid character '"+(_e?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/")}var gt;try{gt=atob(V)}catch(Vt){throw En(B,"Invalid character found")}for(var yt=new Uint8Array(gt.length),Pt=0;Pt<gt.length;Pt++)yt[Pt]=gt.charCodeAt(Pt);return yt}var Or=function(V){this.base64=!1,this.contentType=null;var X=V.match(/^data:([^,]+)?,/);if(null===X)throw En(Kt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var pe=X[1]||null;null!=pe&&(this.base64=function(B,V){return B.length>=V.length&&B.substring(B.length-V.length)===V}(pe,";base64"),this.contentType=this.base64?pe.substring(0,pe.length-";base64".length):pe),this.rest=V.substring(V.indexOf(",")+1)},je={STATE_CHANGED:"state_changed"},qe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xe(B){switch(B){case"running":case"pausing":case"canceling":return qe.RUNNING;case"paused":return qe.PAUSED;case"success":return qe.SUCCESS;case"canceled":return qe.CANCELED;case"error":default:return qe.ERROR}}function Ue(B){return null!=B}function Wt(B){return void 0!==B}function zt(B){return"function"==typeof B}function gn(B){return"object"==typeof B}function sn(B){return gn(B)&&null!==B}function Er(B){return"string"==typeof B||B instanceof String}function Xn(B){return Ir(B)&&Number.isInteger(B)}function Ir(B){return"number"==typeof B||B instanceof Number}function an(B){return fi()&&B instanceof Blob}function fi(){return"undefined"!=typeof Blob}var rn=(()=>{return(B=rn||(rn={}))[B.NO_ERROR=0]="NO_ERROR",B[B.NETWORK_ERROR=1]="NETWORK_ERROR",B[B.ABORT=2]="ABORT",rn;var B})(),Tr=function(){function B(){var V=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=rn.NO_ERROR,this.sendPromise_=new Promise(function(X){V.xhr_.addEventListener("abort",function(){V.errorCode_=rn.ABORT,X(V)}),V.xhr_.addEventListener("error",function(){V.errorCode_=rn.NETWORK_ERROR,X(V)}),V.xhr_.addEventListener("load",function(){X(V)})})}return B.prototype.send=function(V,X,pe,Ee){if(this.sent_)throw on("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(X,V,!0),Ue(Ee))for(var _e in Ee)Ee.hasOwnProperty(_e)&&this.xhr_.setRequestHeader(_e,Ee[_e].toString());return Ue(pe)?this.xhr_.send(pe):this.xhr_.send(),this.sendPromise_},B.prototype.getErrorCode=function(){if(!this.sent_)throw on("cannot .getErrorCode() before sending");return this.errorCode_},B.prototype.getStatus=function(){if(!this.sent_)throw on("cannot .getStatus() before sending");try{return this.xhr_.status}catch(V){return-1}},B.prototype.getResponseText=function(){if(!this.sent_)throw on("cannot .getResponseText() before sending");return this.xhr_.responseText},B.prototype.abort=function(){this.xhr_.abort()},B.prototype.getResponseHeader=function(V){return this.xhr_.getResponseHeader(V)},B.prototype.addUploadProgressListener=function(V){Ue(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",V)},B.prototype.removeUploadProgressListener=function(V){Ue(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",V)},B}(),co=function(){function B(){}return B.prototype.createXhrIo=function(){return new Tr},B}();function Ln(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function un(){for(var B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];var X=Ln();if(void 0!==X){for(var pe=new X,Ee=0;Ee<B.length;Ee++)pe.append(B[Ee]);return pe.getBlob()}if(fi())return new Blob(B);throw Error("This browser doesn't seem to support creating Blobs")}var ve=function(){function B(V,X){var pe=0,Ee="";an(V)?(this.data_=V,pe=V.size,Ee=V.type):V instanceof ArrayBuffer?(X?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),pe=this.data_.length):V instanceof Uint8Array&&(X?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),pe=V.length),this.size_=pe,this.type_=Ee}return B.prototype.size=function(){return this.size_},B.prototype.type=function(){return this.type_},B.prototype.slice=function(V,X){if(an(this.data_)){var Ee=function(B,V,X){return B.webkitSlice?B.webkitSlice(V,X):B.mozSlice?B.mozSlice(V,X):B.slice?B.slice(V,X):null}(this.data_,V,X);return null===Ee?null:new B(Ee)}return new B(new Uint8Array(this.data_.buffer,V,X-V),!0)},B.getBlob=function(){for(var V=[],X=0;X<arguments.length;X++)V[X]=arguments[X];if(fi()){var pe=V.map(function(yt){return yt instanceof B?yt.data_:yt});return new B(un.apply(null,pe))}var Ee=V.map(function(yt){return Er(yt)?Nr(Kt.RAW,yt).data:yt.data_}),_e=0;Ee.forEach(function(yt){_e+=yt.byteLength});var $e=new Uint8Array(_e),gt=0;return Ee.forEach(function(yt){for(var Pt=0;Pt<yt.length;Pt++)$e[gt++]=yt[Pt]}),new B($e,!0)},B.prototype.uploadData=function(){return this.data_},B}(),Be=function(){function B(V,X){this.bucket=V,this.path_=X}return Object.defineProperty(B.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),B.prototype.fullServerUrl=function(){var V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)},B.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},B.makeFromBucketSpec=function(V){var X;try{X=B.makeFromUrl(V)}catch(pe){return new B(V,"")}if(""===X.path)return X;throw function(B){return new K("invalid-default-bucket","Invalid default bucket '"+B+"'.")}(V)},B.makeFromUrl=function(V){var X=null,pe="([A-Za-z0-9.\\-_]+)",$e=new RegExp("^gs://"+pe+"(/(.*))?$","i");function yt(dr){dr.path_=decodeURIComponent(dr.path)}for(var Vt=I.replace(/[.]/g,"\\."),ri=[{regex:$e,indices:{bucket:1,path:3},postModify:function(dr){"/"===dr.path.charAt(dr.path.length-1)&&(dr.path_=dr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+Vt+"/v[A-Za-z0-9_]+/b/"+pe+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:yt},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+pe+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:yt}],fr=0;fr<ri.length;fr++){var Jr=ri[fr],Fi=Jr.regex.exec(V);if(Fi){var Hr=Fi[Jr.indices.path];Hr||(Hr=""),X=new B(Fi[Jr.indices.bucket],Hr),Jr.postModify(X);break}}if(null==X)throw function(B){return new K("invalid-url","Invalid URL '"+B+"'.")}(V);return X},B}();function Qe(B){var V;try{V=JSON.parse(B)}catch(X){return null}return function(B){return gn(B)&&!Array.isArray(B)}(V)?V:null}function Fe(B,V){var X=V.split("/").filter(function(pe){return pe.length>0}).join("/");return 0===B.length?X:B+"/"+X}function rt(B){var V=B.lastIndexOf("/",B.length-2);return-1===V?B:B.slice(V+1)}function Ot(B){return"https://"+I+"/v0"+B}function Qt(B){var V=encodeURIComponent,X="?";for(var pe in B)B.hasOwnProperty(pe)&&(X=X+(V(pe)+"=")+V(B[pe])+"&");return X.slice(0,-1)}function yn(B,V){return V}var Mt=function(V,X,pe,Ee){this.server=V,this.local=X||V,this.writable=!!pe,this.xform=Ee||yn},Jt=null;function ye(B,V,X){var pe=Qe(V);return null===pe?null:function(B,V,X){for(var pe={type:"file"},Ee=X.length,_e=0;_e<Ee;_e++){var $e=X[_e];pe[$e.local]=$e.xform(pe,V[$e.server])}return function(B,V){Object.defineProperty(B,"ref",{get:function(){var _e=new Be(B.bucket,B.fullPath);return V.makeStorageReference(_e)}})}(pe,B),pe}(B,pe,X)}function Se(B,V){for(var X={},pe=V.length,Ee=0;Ee<pe;Ee++){var _e=V[Ee];_e.writable&&(X[_e.server]=B[_e.local])}return JSON.stringify(X)}function Pe(B){if(!gn(B)||!B)throw"Expected Metadata object.";for(var V in B)if(B.hasOwnProperty(V)){var X=B[V];if("customMetadata"===V){if(!gn(X))throw"Expected object for 'customMetadata' mapping."}else if(sn(X))throw"Mapping for '"+V+"' cannot be an object."}}var ie="maxResults",$="pageToken",ue="prefixes";function At(B){if(!gn(B)||!B)throw"Expected ListOptions object.";for(var V in B)if(V===ie){if(!Xn(B[ie])||B[ie]<=0)throw"Expected maxResults to be a positive number.";if(B[ie]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(V!==$)throw"Unknown option: "+V;if(B[$]&&!Er(B[$]))throw"Expected pageToken to be string."}}var qt=function(V,X,pe,Ee){this.url=V,this.method=X,this.handler=pe,this.timeout=Ee,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function lt(B){if(!B)throw se()}function mn(B,V){return function(pe,Ee){var _e=ye(B,Ee,V);return lt(null!==_e),_e}}function rr(B){return function(X,pe){var Ee;return(Ee=401===X.getStatus()?new K("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===X.getStatus()?function(B){return new K("quota-exceeded","Quota for bucket '"+B+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(B.bucket):403===X.getStatus()?function(B){return new K("unauthorized","User does not have permission to access '"+B+"'.")}(B.path):pe).setServerResponseProp(pe.serverResponseProp()),Ee}}function Zi(B){var V=rr(B);return function(pe,Ee){var _e=V(pe,Ee);return 404===pe.getStatus()&&(_e=function(B){return new K("object-not-found","Object '"+B+"' does not exist.")}(B.path)),_e.setServerResponseProp(Ee.serverResponseProp()),_e}}function Bn(B,V,X){var Ee=Ot(V.fullServerUrl()),$e=B.maxOperationRetryTime,gt=new qt(Ee,"GET",mn(B,X),$e);return gt.errorHandler=Zi(V),gt}function js(B,V,X,pe,Ee){var _e={};_e.prefix=V.isRoot?"":V.path+"/",X&&X.length>0&&(_e.delimiter=X),pe&&(_e.pageToken=pe),Ee&&(_e.maxResults=Ee);var gt=Ot(V.bucketOnlyServerUrl()),Pt=B.maxOperationRetryTime,Vt=new qt(gt,"GET",function(B,V){return function(pe,Ee){var _e=function(B,V,X){var pe=Qe(X);return null===pe?null:function(B,V,X){var pe={prefixes:[],items:[],nextPageToken:X.nextPageToken};if(X[ue])for(var Ee=0,_e=X[ue];Ee<_e.length;Ee++){var gt=_e[Ee].replace(/\/$/,""),yt=B.makeStorageReference(new Be(V,gt));pe.prefixes.push(yt)}if(X.items)for(var Pt=0,Vt=X.items;Pt<Vt.length;Pt++)yt=B.makeStorageReference(new Be(V,Vt[Pt].name)),pe.items.push(yt);return pe}(B,V,pe)}(B,V,Ee);return lt(null!==_e),_e}}(B,V.bucket),Pt);return Vt.urlParams=_e,Vt.errorHandler=rr(V),Vt}function eo(B,V,X){var Ee=Ot(V.fullServerUrl()),$e=B.maxOperationRetryTime,gt=new qt(Ee,"GET",function(B,V){return function(pe,Ee){var _e=ye(B,Ee,V);return lt(null!==_e),function(B,V){var X=Qe(V);if(null===X||!Er(X.downloadTokens))return null;var pe=X.downloadTokens;if(0===pe.length)return null;var Ee=encodeURIComponent;return pe.split(",").map(function(gt){var Pt=B.fullPath;return Ot("/b/"+Ee(B.bucket)+"/o/"+Ee(Pt))+Qt({alt:"media",token:gt})})[0]}(_e,Ee)}}(B,X),$e);return gt.errorHandler=Zi(V),gt}function jo(B,V,X,pe){var _e=Ot(V.fullServerUrl()),gt=Se(X,pe),Pt=B.maxOperationRetryTime,Vt=new qt(_e,"PATCH",mn(B,pe),Pt);return Vt.headers={"Content-Type":"application/json; charset=utf-8"},Vt.body=gt,Vt.errorHandler=Zi(V),Vt}function ko(B,V){var pe=Ot(V.fullServerUrl()),gt=new qt(pe,"DELETE",function(yt,Pt){},B.maxOperationRetryTime);return gt.successCodes=[200,204],gt.errorHandler=Zi(V),gt}function Rn(B,V,X){var pe=Object.assign({},X);return pe.fullPath=B.path,pe.size=V.size(),pe.contentType||(pe.contentType=function(B,V){return V&&V.type()||"application/octet-stream"}(0,V)),pe}var ts=function(V,X,pe,Ee){this.current=V,this.total=X,this.finalized=!!pe,this.metadata=Ee||null};function to(B,V){var X=null;try{X=B.getResponseHeader("X-Goog-Upload-Status")}catch(Ee){lt(!1)}return lt(!!X&&-1!==(V||["active"]).indexOf(X)),X}var Ho=function(V,X,pe){if(zt(V)||Ue(X)||Ue(pe))this.next=V,this.error=X||null,this.complete=pe||null;else{var _e=V;this.next=_e.next||null,this.error=_e.error||null,this.complete=_e.complete||null}},La=function(V,X,pe,Ee,_e,$e){this.bytesTransferred=V,this.totalBytes=X,this.state=pe,this.metadata=Ee,this.task=_e,this.ref=$e};function ir(B,V,X){for(var pe=V.length,Ee=V.length,_e=0;_e<V.length;_e++)if(V[_e].optional){pe=_e;break}if(!(pe<=X.length&&X.length<=Ee))throw function(B,V,X,pe){var Ee,_e;return B===V?(Ee=B,_e=1===B?"argument":"arguments"):(Ee="between "+B+" and "+V,_e="arguments"),new K("invalid-argument-count","Invalid argument count in `"+X+"`: Expected "+Ee+" "+_e+", received "+pe+".")}(pe,Ee,B,X.length);for(_e=0;_e<X.length;_e++)try{V[_e].validator(X[_e])}catch(yt){throw yt instanceof Error?jn(_e,B,yt.message):jn(_e,B,yt)}}var no=function(V,X){var pe=this;this.validator=function(Ee){pe.optional&&!Wt(Ee)||V(Ee)},this.optional=!!X};function Wi(B,V){function X(Ee){if(!Er(Ee))throw"Expected string."}var pe;return pe=B?function(B,V){return function(X){B(X),V(X)}}(X,B):X,new no(pe,V)}function Hs(){return new no(function(V){if(!(V instanceof Uint8Array||V instanceof ArrayBuffer||fi()&&V instanceof Blob))throw"Expected Blob or File."})}function Tn(B){return new no(Pe,B)}function zo(B){return new no(At,B)}function pa(){return new no(function(V){if(!(Ir(V)&&V>=0))throw"Expected a number 0 or greater."})}function Hi(B,V){return new no(function(pe){if(!(null===pe||Ue(pe)&&pe instanceof Object))throw"Expected an Object.";null!=B&&B(pe)},V)}function $t(B){return new no(function(X){if(null!==X&&!zt(X))throw"Expected a Function."},B)}function Gn(B){return function(){for(var V=[],X=0;X<arguments.length;X++)V[X]=arguments[X];Promise.resolve().then(function(){return B.apply(void 0,V)})}}var zs=function(){function B(V,X,pe,Ee,_e,$e){var gt=this;void 0===$e&&($e=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=V,this.service_=X,this.location_=pe,this.blob_=_e,this.metadata_=$e,this.mappings_=Ee,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(yt){gt.request_=null,gt.chunkMultiplier_=1,yt.codeEquals("canceled")?(gt.needToFetchStatus_=!0,gt.completeTransitions_()):(gt.error_=yt,gt.transition_("error"))},this.metadataErrorHandler_=function(yt){gt.request_=null,yt.codeEquals("canceled")?gt.completeTransitions_():(gt.error_=yt,gt.transition_("error"))},this.promise_=new Promise(function(yt,Pt){gt.resolve_=yt,gt.reject_=Pt,gt.start_()}),this.promise_.then(null,function(){})}return B.prototype.makeProgressCallback_=function(){var V=this,X=this.transferred_;return function(pe){return V.updateProgress_(X+pe)}},B.prototype.shouldDoResumable_=function(V){return V.size()>262144},B.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},B.prototype.resolveToken_=function(V){var X=this;this.service_.getAuthToken().then(function(pe){switch(X.state_){case"running":V(pe);break;case"canceling":X.transition_("canceled");break;case"pausing":X.transition_("paused")}})},B.prototype.createResumable_=function(){var V=this;this.resolveToken_(function(X){var pe=function(B,V,X,pe,Ee){var _e=V.bucketOnlyServerUrl(),$e=Rn(V,pe,Ee),gt={name:$e.fullPath},yt=Ot(_e),Vt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":pe.size(),"X-Goog-Upload-Header-Content-Type":$e.contentType,"Content-Type":"application/json; charset=utf-8"},Yn=Se($e,X),lr=new qt(yt,"POST",function(bn){var Lr;to(bn);try{Lr=bn.getResponseHeader("X-Goog-Upload-URL")}catch(wi){lt(!1)}return lt(Er(Lr)),Lr},B.maxUploadRetryTime);return lr.urlParams=gt,lr.headers=Vt,lr.body=Yn,lr.errorHandler=rr(V),lr}(V.service_,V.location_,V.mappings_,V.blob_,V.metadata_),Ee=V.service_.makeRequest(pe,X);V.request_=Ee,Ee.getPromise().then(function(_e){V.request_=null,V.uploadUrl_=_e,V.needToFetchStatus_=!1,V.completeTransitions_()},V.errorHandler_)})},B.prototype.fetchStatus_=function(){var V=this,X=this.uploadUrl_;this.resolveToken_(function(pe){var Ee=function(B,V,X,pe){var yt=new qt(X,"POST",function(Pt){var Vt=to(Pt,["active","final"]),Yn=null;try{Yn=Pt.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Yr){lt(!1)}Yn||lt(!1);var cn=Number(Yn);return lt(!isNaN(cn)),new ts(cn,pe.size(),"final"===Vt)},B.maxUploadRetryTime);return yt.headers={"X-Goog-Upload-Command":"query"},yt.errorHandler=rr(V),yt}(V.service_,V.location_,X,V.blob_),_e=V.service_.makeRequest(Ee,pe);V.request_=_e,_e.getPromise().then(function($e){$e=$e,V.request_=null,V.updateProgress_($e.current),V.needToFetchStatus_=!1,$e.finalized&&(V.needToFetchMetadata_=!0),V.completeTransitions_()},V.errorHandler_)})},B.prototype.continueUpload_=function(){var V=this,X=262144*this.chunkMultiplier_,pe=new ts(this.transferred_,this.blob_.size()),Ee=this.uploadUrl_;this.resolveToken_(function(_e){var $e;try{$e=function(B,V,X,pe,Ee,_e,$e,gt){var yt=new ts(0,0);if($e?(yt.current=$e.current,yt.total=$e.total):(yt.current=0,yt.total=pe.size()),pe.size()!==yt.total)throw new K("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var Pt=yt.total-yt.current,Vt=Pt;Ee>0&&(Vt=Math.min(Vt,Ee));var Yn=yt.current,lr={"X-Goog-Upload-Command":Vt===Pt?"upload, finalize":"upload","X-Goog-Upload-Offset":yt.current},bn=pe.slice(Yn,Yn+Vt);if(null===bn)throw nn();var fr=new qt(X,"POST",function(Jr,Fi){var ma,po=to(Jr,["active","final"]),Hr=yt.current+Vt,dr=pe.size();return ma="final"===po?mn(V,_e)(Jr,Fi):null,new ts(Hr,dr,"final"===po,ma)},V.maxUploadRetryTime);return fr.headers=lr,fr.body=bn.uploadData(),fr.progressCallback=gt||null,fr.errorHandler=rr(B),fr}(V.location_,V.service_,Ee,V.blob_,X,V.mappings_,pe,V.makeProgressCallback_())}catch(yt){return V.error_=yt,void V.transition_("error")}var gt=V.service_.makeRequest($e,_e);V.request_=gt,gt.getPromise().then(function(yt){V.increaseMultiplier_(),V.request_=null,V.updateProgress_(yt.current),yt.finalized?(V.metadata_=yt.metadata,V.transition_("success")):V.completeTransitions_()},V.errorHandler_)})},B.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},B.prototype.fetchMetadata_=function(){var V=this;this.resolveToken_(function(X){var pe=Bn(V.service_,V.location_,V.mappings_),Ee=V.service_.makeRequest(pe,X);V.request_=Ee,Ee.getPromise().then(function(_e){V.request_=null,V.metadata_=_e,V.transition_("success")},V.metadataErrorHandler_)})},B.prototype.oneShotUpload_=function(){var V=this;this.resolveToken_(function(X){var pe=function(B,V,X,pe,Ee){var _e=V.bucketOnlyServerUrl(),$e={"X-Goog-Upload-Protocol":"multipart"},yt=function(){for(var fr="",Jr=0;Jr<2;Jr++)fr+=Math.random().toString().slice(2);return fr}();$e["Content-Type"]="multipart/related; boundary="+yt;var Pt=Rn(V,pe,Ee),Vt=Se(Pt,X),Yr=ve.getBlob("--"+yt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Vt+"\r\n--"+yt+"\r\nContent-Type: "+Pt.contentType+"\r\n\r\n",pe,"\r\n--"+yt+"--");if(null===Yr)throw nn();var lr={name:Pt.fullPath},bn=Ot(_e),wi=B.maxUploadRetryTime,ri=new qt(bn,"POST",mn(B,X),wi);return ri.urlParams=lr,ri.headers=$e,ri.body=Yr.uploadData(),ri.errorHandler=rr(V),ri}(V.service_,V.location_,V.mappings_,V.blob_,V.metadata_),Ee=V.service_.makeRequest(pe,X);V.request_=Ee,Ee.getPromise().then(function(_e){V.request_=null,V.metadata_=_e,V.updateProgress_(V.blob_.size()),V.transition_("success")},V.errorHandler_)})},B.prototype.updateProgress_=function(V){var X=this.transferred_;this.transferred_=V,this.transferred_!==X&&this.notifyObservers_()},B.prototype.transition_=function(V){if(this.state_!==V)switch(V){case"canceling":case"pausing":this.state_=V,null!==this.request_&&this.request_.cancel();break;case"running":var X="paused"===this.state_;this.state_=V,X&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=V,this.notifyObservers_();break;case"canceled":this.error_=wt(),this.state_=V,this.notifyObservers_();break;case"error":case"success":this.state_=V,this.notifyObservers_()}},B.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(B.prototype,"snapshot",{get:function(){var V=Xe(this.state_);return new La(this.transferred_,this.blob_.size(),V,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),B.prototype.on=function(V,X,pe,Ee){function _e(){if(V!==je.STATE_CHANGED)throw"Expected one of the event types: ["+je.STATE_CHANGED+"]."}var $e="Expected a function or an Object with one of `next`, `error`, `complete` properties.",gt=$t(!0).validator,yt=Hi(null,!0).validator;function Pt(Lr){try{return void gt(Lr)}catch(ri){}try{if(yt(Lr),!(Wt(Lr.next)||Wt(Lr.error)||Wt(Lr.complete)))throw"";return}catch(ri){throw $e}}var Vt=[Wi(_e),Hi(Pt,!0),$t(!0),$t(!0)];ir("on",Vt,arguments);var Yn=this;function cn(Lr){return function(ri,fr,Jr){null!==Lr&&ir("on",Lr,arguments);var Fi=new Ho(ri,fr,Ee);return Yn.addObserver_(Fi),function(){Yn.removeObserver_(Fi)}}}function Yr(Lr){if(null===Lr)throw $e;Pt(Lr)}var lr=[Hi(Yr),$t(!0),$t(!0)],bn=!(Wt(X)||Wt(pe)||Wt(Ee));return bn?cn(lr):cn(null)(X,pe,Ee)},B.prototype.then=function(V,X){return this.promise_.then(V,X)},B.prototype.catch=function(V){return this.then(null,V)},B.prototype.addObserver_=function(V){this.observers_.push(V),this.notifyObserver_(V)},B.prototype.removeObserver_=function(V){var X=this.observers_.indexOf(V);-1!==X&&this.observers_.splice(X,1)},B.prototype.notifyObservers_=function(){var V=this;this.finishPromise_(),this.observers_.slice().forEach(function(pe){V.notifyObserver_(pe)})},B.prototype.finishPromise_=function(){if(null!==this.resolve_){var V=!0;switch(Xe(this.state_)){case qe.SUCCESS:Gn(this.resolve_.bind(null,this.snapshot))();break;case qe.CANCELED:case qe.ERROR:Gn(this.reject_.bind(null,this.error_))();break;default:V=!1}V&&(this.resolve_=null,this.reject_=null)}},B.prototype.notifyObserver_=function(V){switch(Xe(this.state_)){case qe.RUNNING:case qe.PAUSED:V.next&&Gn(V.next.bind(V,this.snapshot))();break;case qe.SUCCESS:V.complete&&Gn(V.complete.bind(V))();break;case qe.CANCELED:case qe.ERROR:V.error&&Gn(V.error.bind(V,this.error_))();break;default:V.error&&Gn(V.error.bind(V,this.error_))()}},B.prototype.resume=function(){ir("resume",[],arguments);var V="paused"===this.state_||"pausing"===this.state_;return V&&this.transition_("running"),V},B.prototype.pause=function(){ir("pause",[],arguments);var V="running"===this.state_;return V&&this.transition_("pausing"),V},B.prototype.cancel=function(){ir("cancel",[],arguments);var V="running"===this.state_||"pausing"===this.state_;return V&&this.transition_("canceling"),V},B}(),qo=function(){function B(V,X){this.service=V,this.location=X instanceof Be?X:Be.makeFromUrl(X)}return B.prototype.toString=function(){return ir("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},B.prototype.newRef=function(V,X){return new B(V,X)},B.prototype.mappings=function(){return function(){if(Jt)return Jt;var B=[];B.push(new Mt("bucket")),B.push(new Mt("generation")),B.push(new Mt("metageneration")),B.push(new Mt("name","fullPath",!0));var X=new Mt("name");X.xform=function(_e,$e){return function(B){return!Er(B)||B.length<2?B:rt(B)}($e)},B.push(X);var Ee=new Mt("size");return Ee.xform=function(_e,$e){return Ue($e)?Number($e):$e},B.push(Ee),B.push(new Mt("timeCreated")),B.push(new Mt("updated")),B.push(new Mt("md5Hash",null,!0)),B.push(new Mt("cacheControl",null,!0)),B.push(new Mt("contentDisposition",null,!0)),B.push(new Mt("contentEncoding",null,!0)),B.push(new Mt("contentLanguage",null,!0)),B.push(new Mt("contentType",null,!0)),B.push(new Mt("metadata","customMetadata",!0)),Jt=B}()},B.prototype.child=function(V){ir("child",[Wi()],arguments);var X=Fe(this.location.path,V),pe=new Be(this.location.bucket,X);return this.newRef(this.service,pe)},Object.defineProperty(B.prototype,"parent",{get:function(){var V=function(B){if(0===B.length)return null;var V=B.lastIndexOf("/");return-1===V?"":B.slice(0,V)}(this.location.path);if(null===V)return null;var X=new Be(this.location.bucket,V);return this.newRef(this.service,X)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){var V=new Be(this.location.bucket,"");return this.newRef(this.service,V)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"name",{get:function(){return rt(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),B.prototype.put=function(V,X){return void 0===X&&(X=null),ir("put",[Hs(),Tn(!0)],arguments),this.throwIfRoot_("put"),new zs(this,this.service,this.location,this.mappings(),new ve(V),X)},B.prototype.putString=function(V,X,pe){void 0===X&&(X=Kt.RAW),ir("putString",[Wi(),Wi(kn,!0),Tn(!0)],arguments),this.throwIfRoot_("putString");var Ee=Nr(X,V),_e=Object.assign({},pe);return!Ue(_e.contentType)&&Ue(Ee.contentType)&&(_e.contentType=Ee.contentType),new zs(this,this.service,this.location,this.mappings(),new ve(Ee.data,!0),_e)},B.prototype.delete=function(){var V=this;return ir("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(X){var pe=ko(V.service,V.location);return V.service.makeRequest(pe,X).getPromise()})},B.prototype.listAll=function(){ir("listAll",[],arguments);var V={prefixes:[],items:[]};return this.listAllHelper(V).then(function(){return V})},B.prototype.listAllHelper=function(V,X){return be(this,void 0,void 0,function(){var Ee,_e,$e;return Y(this,function(gt){switch(gt.label){case 0:return[4,this.list({pageToken:X})];case 1:return Ee=gt.sent(),(_e=V.prefixes).push.apply(_e,Ee.prefixes),($e=V.items).push.apply($e,Ee.items),null==Ee.nextPageToken?[3,3]:[4,this.listAllHelper(V,Ee.nextPageToken)];case 2:gt.sent(),gt.label=3;case 3:return[2]}})})},B.prototype.list=function(V){ir("list",[zo(!0)],arguments);var X=this;return this.service.getAuthToken().then(function(pe){var Ee=V||{},_e=js(X.service,X.location,"/",Ee.pageToken,Ee.maxResults);return X.service.makeRequest(_e,pe).getPromise()})},B.prototype.getMetadata=function(){var V=this;return ir("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(X){var pe=Bn(V.service,V.location,V.mappings());return V.service.makeRequest(pe,X).getPromise()})},B.prototype.updateMetadata=function(V){var X=this;return ir("updateMetadata",[Tn()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(pe){var Ee=jo(X.service,X.location,V,X.mappings());return X.service.makeRequest(Ee,pe).getPromise()})},B.prototype.getDownloadURL=function(){var V=this;return ir("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(X){var pe=eo(V.service,V.location,V.mappings());return V.service.makeRequest(pe,X).getPromise().then(function(Ee){if(null===Ee)throw ct();return Ee})})},B.prototype.throwIfRoot_=function(V){if(""===this.location.path)throw function(B){return new K("invalid-root-operation","The operation '"+B+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)},B}(),Go=function(){function B(V){this.promise_=Promise.reject(V)}return B.prototype.getPromise=function(){return this.promise_},B.prototype.cancel=function(V){},B}(),Jn=function(){function B(V,X,pe,Ee,_e,$e,gt,yt,Pt,Vt,Yn){var cn=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=V,this.method_=X,this.headers_=pe,this.body_=Ee,this.successCodes_=_e.slice(),this.additionalRetryCodes_=$e.slice(),this.callback_=gt,this.errorCallback_=yt,this.progressCallback_=Vt,this.timeout_=Pt,this.pool_=Yn,this.promise_=new Promise(function(Yr,lr){cn.resolve_=Yr,cn.reject_=lr,cn.start_()})}return B.prototype.start_=function(){var V=this;function pe(Ee,_e){var $e=V.resolve_,gt=V.reject_,yt=_e.xhr;if(_e.wasSuccessCode)try{var Pt=V.callback_(yt,yt.getResponseText());Wt(Pt)?$e(Pt):$e()}catch(Yn){gt(Yn)}else if(null!==yt)(Vt=se()).setServerResponseProp(yt.getResponseText()),gt(V.errorCallback_?V.errorCallback_(yt,Vt):Vt);else if(_e.canceled)gt(Vt=V.appDelete_?pn():wt());else{var Vt;gt(Vt=new K("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?pe(0,new No(!1,null,!0)):this.backoffId_=function(B,V,X){var pe=1,Ee=null,_e=!1,$e=0;function gt(){return 2===$e}var yt=!1;function Pt(){for(var lr=[],bn=0;bn<arguments.length;bn++)lr[bn]=arguments[bn];yt||(yt=!0,V.apply(null,lr))}function Vt(lr){Ee=setTimeout(function(){Ee=null,B(Yn,gt())},lr)}function Yn(lr){for(var bn=[],Lr=1;Lr<arguments.length;Lr++)bn[Lr-1]=arguments[Lr];if(!yt){if(lr)return void Pt.call.apply(Pt,kt([null,lr],bn));var ri;if(gt()||_e)return void Pt.call.apply(Pt,kt([null,lr],bn));pe<64&&(pe*=2),1===$e?($e=2,ri=0):ri=1e3*(pe+Math.random()),Vt(ri)}}var cn=!1;function Yr(lr){cn||(cn=!0,!yt&&(null!==Ee?(lr||($e=2),clearTimeout(Ee),Vt(0)):lr||($e=1)))}return Vt(0),setTimeout(function(){_e=!0,Yr(!0)},X),Yr}(function(Ee,_e){if(_e)Ee(!1,new No(!1,null,!0));else{var $e=V.pool_.createXhrIo();V.pendingXhr_=$e,null!==V.progressCallback_&&$e.addUploadProgressListener(gt),$e.send(V.url_,V.method_,V.body_,V.headers_).then(function(yt){null!==V.progressCallback_&&yt.removeUploadProgressListener(gt),V.pendingXhr_=null;var Pt=(yt=yt).getErrorCode()===rn.NO_ERROR,Vt=yt.getStatus();if(Pt&&!V.isRetryStatusCode_(Vt)){var cn=-1!==V.successCodes_.indexOf(Vt);Ee(!0,new No(cn,yt))}else{var Yn=yt.getErrorCode()===rn.ABORT;Ee(!1,new No(!1,null,Yn))}})}function gt(yt){null!==V.progressCallback_&&V.progressCallback_(yt.loaded,yt.lengthComputable?yt.total:-1)}},pe,this.timeout_)},B.prototype.getPromise=function(){return this.promise_},B.prototype.cancel=function(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function(B){B(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},B.prototype.isRetryStatusCode_=function(V){var X=V>=500&&V<600,Ee=-1!==[408,429].indexOf(V),_e=-1!==this.additionalRetryCodes_.indexOf(V);return X||Ee||_e},B}(),No=function(V,X,pe){this.wasSuccessCode=V,this.xhr=X,this.canceled=!!pe};var Gs=function(){function B(V,X,pe,Ee){var _e;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=V,this.authProvider_=X,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=pe,this.bucket_=null!=Ee?Be.makeFromBucketSpec(Ee):B.extractBucket_(null===(_e=this.app_)||void 0===_e?void 0:_e.options),this.internals_=new Vn(this)}return B.extractBucket_=function(V){var X=null==V?void 0:V.storageBucket;return null==X?null:Be.makeFromBucketSpec(X)},B.prototype.getAuthToken=function(){return be(this,void 0,void 0,function(){var V,X;return Y(this,function(pe){switch(pe.label){case 0:return(V=this.authProvider_.getImmediate({optional:!0}))?[4,V.getToken()]:[3,2];case 1:if(null!==(X=pe.sent()))return[2,X.accessToken];pe.label=2;case 2:return[2,null]}})})},B.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(V){return V.cancel()}),this.requests_.clear()},B.prototype.makeStorageReference=function(V){return new qo(this,V)},B.prototype.makeRequest=function(V,X){var pe=this;if(this.deleted_)return new Go(pn());var Ee=function(B,V,X,pe){var Ee=Qt(B.urlParams),_e=B.url+Ee,$e=Object.assign({},B.headers);return function(B,V){V&&(B["X-Firebase-GMPID"]=V)}($e,V),function(B,V){null!==V&&V.length>0&&(B.Authorization="Firebase "+V)}($e,X),function(B){B["X-Firebase-Storage-Version"]="webjs/"+(void 0!==te.default?te.default.SDK_VERSION:"AppManager")}($e),new Jn(_e,B.method,$e,B.body,B.successCodes,B.additionalRetryCodes,B.handler,B.errorHandler,B.timeout,B.progressCallback,pe)}(V,this.appId_,X,this.pool_);return this.requests_.add(Ee),Ee.getPromise().then(function(){return pe.requests_.delete(Ee)},function(){return pe.requests_.delete(Ee)}),Ee},B.prototype.ref=function(V){function X(Ee){if("string"!=typeof Ee)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(Ee))throw"Expected child path but got a URL, use refFromURL instead."}if(ir("ref",[Wi(X,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var pe=new qo(this,this.bucket_);return null!=V?pe.child(V):pe},B.prototype.refFromURL=function(V){function X(pe){if("string"!=typeof pe)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(pe))throw"Expected full URL but got a child path, use ref instead.";try{Be.makeFromUrl(pe)}catch(Ee){throw"Expected valid full URL but got an invalid one."}}return ir("refFromURL",[Wi(X,!1)],arguments),new qo(this,V)},Object.defineProperty(B.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),B.prototype.setMaxUploadRetryTime=function(V){ir("setMaxUploadRetryTime",[pa()],arguments),this.maxUploadRetryTime_=V},Object.defineProperty(B.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),B.prototype.setMaxOperationRetryTime=function(V){ir("setMaxOperationRetryTime",[pa()],arguments),this.maxOperationRetryTime_=V},Object.defineProperty(B.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),B}(),Vn=function(){function B(V){this.service_=V}return B.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},B}();function Ni(B,V){var X=B.getProvider("app").getImmediate(),pe=B.getProvider("auth-internal");return new Gs(X,pe,new co,V)}function Xr(B){var V={TaskState:qe,TaskEvent:je,StringFormat:Kt,Storage:Gs,Reference:qo};B.INTERNAL.registerComponent(new O.Component("storage",Ni,"PUBLIC").setServiceProps(V).setMultipleInstances(!0)),B.registerVersion("@firebase/storage","0.3.43")}Xr(te.default)},704:(ci,bt,Et)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Et(57),Z={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},re=function(je,me){if(!je)throw Nt(me)},Nt=function(je){return new Error("Firebase Database ("+Z.SDK_VERSION+") INTERNAL ASSERT FAILED: "+je)},ot=function(je){for(var me=[],qe=0,Xe=0;Xe<je.length;Xe++){var Ue=je.charCodeAt(Xe);Ue<128?me[qe++]=Ue:Ue<2048?(me[qe++]=Ue>>6|192,me[qe++]=63&Ue|128):55296==(64512&Ue)&&Xe+1<je.length&&56320==(64512&je.charCodeAt(Xe+1))?(Ue=65536+((1023&Ue)<<10)+(1023&je.charCodeAt(++Xe)),me[qe++]=Ue>>18|240,me[qe++]=Ue>>12&63|128,me[qe++]=Ue>>6&63|128,me[qe++]=63&Ue|128):(me[qe++]=Ue>>12|224,me[qe++]=Ue>>6&63|128,me[qe++]=63&Ue|128)}return me},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(je,me){if(!Array.isArray(je))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var qe=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[],Ue=0;Ue<je.length;Ue+=3){var Wt=je[Ue],zt=Ue+1<je.length,gn=zt?je[Ue+1]:0,sn=Ue+2<je.length,Mn=sn?je[Ue+2]:0,Ir=(15&gn)<<2|Mn>>6,an=63&Mn;sn||(an=64,zt||(Ir=64)),Xe.push(qe[Wt>>2],qe[(3&Wt)<<4|gn>>4],qe[Ir],qe[an])}return Xe.join("")},encodeString:function(je,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(je):this.encodeByteArray(ot(je),me)},decodeString:function(je,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(je):function(je){for(var me=[],qe=0,Xe=0;qe<je.length;){var Ue=je[qe++];if(Ue<128)me[Xe++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){var Wt=je[qe++];me[Xe++]=String.fromCharCode((31&Ue)<<6|63&Wt)}else if(Ue>239&&Ue<365){var sn=((7&Ue)<<18|(63&(Wt=je[qe++]))<<12|(63&(zt=je[qe++]))<<6|63&je[qe++])-65536;me[Xe++]=String.fromCharCode(55296+(sn>>10)),me[Xe++]=String.fromCharCode(56320+(1023&sn))}else{Wt=je[qe++];var zt=je[qe++];me[Xe++]=String.fromCharCode((15&Ue)<<12|(63&Wt)<<6|63&zt)}}return me.join("")}(this.decodeStringToByteArray(je,me))},decodeStringToByteArray:function(je,me){this.init_();for(var qe=me?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[],Ue=0;Ue<je.length;){var Wt=qe[je.charAt(Ue++)],gn=Ue<je.length?qe[je.charAt(Ue)]:0,Mn=++Ue<je.length?qe[je.charAt(Ue)]:64,Xn=++Ue<je.length?qe[je.charAt(Ue)]:64;if(++Ue,null==Wt||null==gn||null==Mn||null==Xn)throw Error();Xe.push(Wt<<2|gn>>4),64!==Mn&&(Xe.push(gn<<4&240|Mn>>2),64!==Xn&&Xe.push(Mn<<6&192|Xn))}return Xe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var je=0;je<this.ENCODED_VALS.length;je++)this.byteToCharMap_[je]=this.ENCODED_VALS.charAt(je),this.charToByteMap_[this.byteToCharMap_[je]]=je,this.byteToCharMapWebSafe_[je]=this.ENCODED_VALS_WEBSAFE.charAt(je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[je]]=je,je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(je)]=je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(je)]=je)}}},be=function(je){try{return Lt.decodeString(je,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function nt(je,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===je&&(je={});break;case Array:je=[];break;default:return me}for(var Xe in me)!me.hasOwnProperty(Xe)||(je[Xe]=nt(je[Xe],me[Xe]));return je}var st=function(){function je(){var me=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(qe,Xe){me.resolve=qe,me.reject=Xe})}return je.prototype.wrapCallback=function(me){var qe=this;return function(Xe,Ue){Xe?qe.reject(Xe):qe.resolve(Ue),"function"==typeof me&&(qe.promise.catch(function(){}),1===me.length?me(Xe):me(Xe,Ue))}},je}();function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(je){return!1}}var F=function(je){function me(qe,Xe){var Ue=je.call(this,Xe)||this;return Ue.code=qe,Ue.name="FirebaseError",Object.setPrototypeOf(Ue,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ue,H.prototype.create),Ue}return te.__extends(me,je),me}(Error),H=function(){function je(me,qe,Xe){this.service=me,this.serviceName=qe,this.errors=Xe}return je.prototype.create=function(me){for(var qe=[],Xe=1;Xe<arguments.length;Xe++)qe[Xe-1]=arguments[Xe];for(var Ue=qe[0]||{},Wt=this.service+"/"+me,zt=this.errors[me],gn=zt?R(zt,Ue):"Error",sn=this.serviceName+": "+gn+" ("+Wt+").",Mn=new F(Wt,sn),Er=0,Xn=Object.keys(Ue);Er<Xn.length;Er++){var Ir=Xn[Er];"_"!==Ir.slice(-1)&&(Ir in Mn&&console.warn('Overwriting FirebaseError base field "'+Ir+'" can cause unexpected behavior.'),Mn[Ir]=Ue[Ir])}return Mn},je}();function R(je,me){return je.replace(K,function(qe,Xe){var Ue=me[Xe];return null!=Ue?String(Ue):"<"+Xe+"?>"})}var K=/\{\$([^}]+)}/g;function le(je){return JSON.parse(je)}var se=function(je){var me={},qe={},Xe={},Ue="";try{var Wt=je.split(".");me=le(be(Wt[0])||""),qe=le(be(Wt[1])||""),Ue=Wt[2],Xe=qe.d||{},delete qe.d}catch(zt){}return{header:me,claims:qe,data:Xe,signature:Ue}},ct=function(){function je(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}return je.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},je.prototype.compress_=function(me,qe){qe||(qe=0);var Xe=this.W_;if("string"==typeof me)for(var Ue=0;Ue<16;Ue++)Xe[Ue]=me.charCodeAt(qe)<<24|me.charCodeAt(qe+1)<<16|me.charCodeAt(qe+2)<<8|me.charCodeAt(qe+3),qe+=4;else for(Ue=0;Ue<16;Ue++)Xe[Ue]=me[qe]<<24|me[qe+1]<<16|me[qe+2]<<8|me[qe+3],qe+=4;for(Ue=16;Ue<80;Ue++)Xe[Ue]=4294967295&((Wt=Xe[Ue-3]^Xe[Ue-8]^Xe[Ue-14]^Xe[Ue-16])<<1|Wt>>>31);var Xn,Ir,zt=this.chain_[0],gn=this.chain_[1],sn=this.chain_[2],Mn=this.chain_[3],Er=this.chain_[4];for(Ue=0;Ue<80;Ue++){Ue<40?Ue<20?(Xn=Mn^gn&(sn^Mn),Ir=1518500249):(Xn=gn^sn^Mn,Ir=1859775393):Ue<60?(Xn=gn&sn|Mn&(gn|sn),Ir=2400959708):(Xn=gn^sn^Mn,Ir=3395469782);var Wt=(zt<<5|zt>>>27)+Xn+Er+Ir+Xe[Ue]&4294967295;Er=Mn,Mn=sn,sn=4294967295&(gn<<30|gn>>>2),gn=zt,zt=Wt}this.chain_[0]=this.chain_[0]+zt&4294967295,this.chain_[1]=this.chain_[1]+gn&4294967295,this.chain_[2]=this.chain_[2]+sn&4294967295,this.chain_[3]=this.chain_[3]+Mn&4294967295,this.chain_[4]=this.chain_[4]+Er&4294967295},je.prototype.update=function(me,qe){if(null!=me){void 0===qe&&(qe=me.length);for(var Xe=qe-this.blockSize,Ue=0,Wt=this.buf_,zt=this.inbuf_;Ue<qe;){if(0===zt)for(;Ue<=Xe;)this.compress_(me,Ue),Ue+=this.blockSize;if("string"==typeof me){for(;Ue<qe;)if(Wt[zt]=me.charCodeAt(Ue),++Ue,++zt===this.blockSize){this.compress_(Wt),zt=0;break}}else for(;Ue<qe;)if(Wt[zt]=me[Ue],++Ue,++zt===this.blockSize){this.compress_(Wt),zt=0;break}}this.inbuf_=zt,this.total_+=qe}},je.prototype.digest=function(){var me=[],qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Xe=this.blockSize-1;Xe>=56;Xe--)this.buf_[Xe]=255&qe,qe/=256;this.compress_(this.buf_);var Ue=0;for(Xe=0;Xe<5;Xe++)for(var Wt=24;Wt>=0;Wt-=8)me[Ue]=this.chain_[Xe]>>Wt&255,++Ue;return me},je}(),jr=function(){function je(me,qe){var Xe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(function(){me(Xe)}).catch(function(Ue){Xe.error(Ue)})}return je.prototype.next=function(me){this.forEachObserver(function(qe){qe.next(me)})},je.prototype.error=function(me){this.forEachObserver(function(qe){qe.error(me)}),this.close(me)},je.prototype.complete=function(){this.forEachObserver(function(me){me.complete()}),this.close()},je.prototype.subscribe=function(me,qe,Xe){var Wt,Ue=this;if(void 0===me&&void 0===qe&&void 0===Xe)throw new Error("Missing Observer.");void 0===(Wt=function(je,me){if("object"!=typeof je||null===je)return!1;for(var qe=0,Xe=["next","error","complete"];qe<Xe.length;qe++){var Ue=Xe[qe];if(Ue in je&&"function"==typeof je[Ue])return!0}return!1}(me)?me:{next:me,error:qe,complete:Xe}).next&&(Wt.next=En),void 0===Wt.error&&(Wt.error=En),void 0===Wt.complete&&(Wt.complete=En);var zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ue.finalError?Wt.error(Ue.finalError):Wt.complete()}catch(gn){}}),this.observers.push(Wt),zt},je.prototype.unsubscribeOne=function(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},je.prototype.forEachObserver=function(me){if(!this.finalized)for(var qe=0;qe<this.observers.length;qe++)this.sendOne(qe,me)},je.prototype.sendOne=function(me,qe){var Xe=this;this.task.then(function(){if(void 0!==Xe.observers&&void 0!==Xe.observers[me])try{qe(Xe.observers[me])}catch(Ue){"undefined"!=typeof console&&console.error&&console.error(Ue)}})},je.prototype.close=function(me){var qe=this;this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(function(){qe.observers=void 0,qe.onNoObservers=void 0}))},je}();function En(){}function Kt(je,me,qe){var Xe="";switch(me){case 1:Xe=qe?"first":"First";break;case 2:Xe=qe?"second":"Second";break;case 3:Xe=qe?"third":"Third";break;case 4:Xe=qe?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return je+" failed: "+(Xe+" argument ")}bt.CONSTANTS=Z,bt.Deferred=st,bt.ErrorFactory=H,bt.FirebaseError=F,bt.MAX_VALUE_MILLIS=144e5,bt.RANDOM_FACTOR=.5,bt.Sha1=ct,bt.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},bt.assert=re,bt.assertionError=Nt,bt.async=function(je,me){return function(){for(var qe=[],Xe=0;Xe<arguments.length;Xe++)qe[Xe]=arguments[Xe];Promise.resolve(!0).then(function(){je.apply(void 0,qe)}).catch(function(Ue){me&&me(Ue)})}},bt.base64=Lt,bt.base64Decode=be,bt.base64Encode=function(je){var me=ot(je);return Lt.encodeByteArray(me,!0)},bt.calculateBackoffMillis=function(je,me,qe){void 0===me&&(me=1e3),void 0===qe&&(qe=2);var Xe=me*Math.pow(qe,je),Ue=Math.round(.5*Xe*(Math.random()-.5)*2);return Math.min(144e5,Xe+Ue)},bt.contains=function(je,me){return Object.prototype.hasOwnProperty.call(je,me)},bt.createSubscribe=function(je,me){var qe=new jr(je,me);return qe.subscribe.bind(qe)},bt.decode=se,bt.deepCopy=function(je){return nt(void 0,je)},bt.deepExtend=nt,bt.errorPrefix=Kt,bt.getUA=Ne,bt.isAdmin=function(je){var me=se(je).claims;return"object"==typeof me&&!0===me.admin},bt.isBrowser=function(){return"object"==typeof self&&self.self===self},bt.isBrowserExtension=function(){var je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof je&&void 0!==je.id},bt.isElectron=function(){return Ne().indexOf("Electron/")>=0},bt.isEmpty=function(je){for(var me in je)if(Object.prototype.hasOwnProperty.call(je,me))return!1;return!0},bt.isIE=function(){var je=Ne();return je.indexOf("MSIE ")>=0||je.indexOf("Trident/")>=0},bt.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},bt.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},bt.isNode=wn,bt.isNodeSdk=function(){return!0===Z.NODE_CLIENT||!0===Z.NODE_ADMIN},bt.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},bt.isSafari=function(){return!wn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},bt.isUWP=function(){return Ne().indexOf("MSAppHost/")>=0},bt.isValidFormat=function(je){var qe=se(je).claims;return!!qe&&"object"==typeof qe&&qe.hasOwnProperty("iat")},bt.isValidTimestamp=function(je){var me=se(je).claims,qe=Math.floor((new Date).getTime()/1e3),Xe=0,Ue=0;return"object"==typeof me&&(me.hasOwnProperty("nbf")?Xe=me.nbf:me.hasOwnProperty("iat")&&(Xe=me.iat),Ue=me.hasOwnProperty("exp")?me.exp:Xe+86400),!!qe&&!!Xe&&!!Ue&&qe>=Xe&&qe<=Ue},bt.issuedAtTime=function(je){var me=se(je).claims;return"object"==typeof me&&me.hasOwnProperty("iat")?me.iat:null},bt.jsonEval=le,bt.map=function(je,me,qe){var Xe={};for(var Ue in je)Object.prototype.hasOwnProperty.call(je,Ue)&&(Xe[Ue]=me.call(qe,je[Ue],Ue,je));return Xe},bt.querystring=function(je){for(var me=[],qe=function(sn,Mn){Array.isArray(Mn)?Mn.forEach(function(Er){me.push(encodeURIComponent(sn)+"="+encodeURIComponent(Er))}):me.push(encodeURIComponent(sn)+"="+encodeURIComponent(Mn))},Xe=0,Ue=Object.entries(je);Xe<Ue.length;Xe++){var Wt=Ue[Xe];qe(Wt[0],Wt[1])}return me.length?"&"+me.join("&"):""},bt.querystringDecode=function(je){var me={};return je.replace(/^\?/,"").split("&").forEach(function(Xe){if(Xe){var Ue=Xe.split("=");me[Ue[0]]=Ue[1]}}),me},bt.safeGet=function(je,me){if(Object.prototype.hasOwnProperty.call(je,me))return je[me]},bt.stringLength=function(je){for(var me=0,qe=0;qe<je.length;qe++){var Xe=je.charCodeAt(qe);Xe<128?me++:Xe<2048?me+=2:Xe>=55296&&Xe<=56319?(me+=4,qe++):me+=3}return me},bt.stringToByteArray=function(je){for(var me=[],qe=0,Xe=0;Xe<je.length;Xe++){var Ue=je.charCodeAt(Xe);if(Ue>=55296&&Ue<=56319){var Wt=Ue-55296;Xe++,re(Xe<je.length,"Surrogate pair missing trail surrogate."),Ue=65536+(Wt<<10)+(je.charCodeAt(Xe)-56320)}Ue<128?me[qe++]=Ue:Ue<2048?(me[qe++]=Ue>>6|192,me[qe++]=63&Ue|128):Ue<65536?(me[qe++]=Ue>>12|224,me[qe++]=Ue>>6&63|128,me[qe++]=63&Ue|128):(me[qe++]=Ue>>18|240,me[qe++]=Ue>>12&63|128,me[qe++]=Ue>>6&63|128,me[qe++]=63&Ue|128)}return me},bt.stringify=function(je){return JSON.stringify(je)},bt.validateArgCount=function(je,me,qe,Xe){var Ue;if(Xe<me?Ue="at least "+me:Xe>qe&&(Ue=0===qe?"none":"no more than "+qe),Ue)throw new Error(je+" failed: Was called with "+Xe+(1===Xe?" argument.":" arguments.")+" Expects "+Ue+".")},bt.validateCallback=function(je,me,qe,Xe){if((!Xe||qe)&&"function"!=typeof qe)throw new Error(Kt(je,me,Xe)+"must be a valid function.")},bt.validateContextObject=function(je,me,qe,Xe){if((!Xe||qe)&&("object"!=typeof qe||null===qe))throw new Error(Kt(je,me,Xe)+"must be a valid context object.")},bt.validateIndexedDBOpenable=function(){return new Promise(function(je,me){try{var qe=!0,Xe="validate-browser-context-for-indexeddb-analytics-module",Ue=window.indexedDB.open(Xe);Ue.onsuccess=function(){Ue.result.close(),qe||window.indexedDB.deleteDatabase(Xe),je(!0)},Ue.onupgradeneeded=function(){qe=!1},Ue.onerror=function(){var Wt;me((null===(Wt=Ue.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(Wt){me(Wt)}})},bt.validateNamespace=function(je,me,qe,Xe){if((!Xe||qe)&&"string"!=typeof qe)throw new Error(Kt(je,me,Xe)+"must be a valid firebase namespace.")}},870:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{default:()=>di,ErrorCode:()=>va,EventType:()=>As,WebChannel:()=>yi,XhrIo:()=>$u,createWebChannelTransport:()=>Wu});var te=function(w,k){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,oe){q.__proto__=oe}||function(q,oe){for(var Re in oe)Object.prototype.hasOwnProperty.call(oe,Re)&&(q[Re]=oe[Re])})(w,k)};function re(w){var k="function"==typeof Symbol&&Symbol.iterator,q=k&&w[k],oe=0;if(q)return q.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&oe>=w.length&&(w=void 0),{value:w&&w[oe++],done:!w}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}var ot,Nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Dn=Dn||{},Lt=Nt||self;function In(){}function be(w){var k=typeof w;return"object"!=k?k:w?Array.isArray(w)?"array":k:"null"}function Y(w){var k=be(w);return"array"==k||"object"==k&&"number"==typeof w.length}function nt(w){var k=typeof w;return"object"==k&&null!=w||"function"==k}var Ne="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function wn(w,k,q){return w.call.apply(w.bind,arguments)}function kt(w,k,q){if(!w)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,oe),w.apply(k,Re)}}return function(){return w.apply(k,arguments)}}function Le(w,k,q){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wn:kt).apply(null,arguments)}function dt(w,k){var q=Array.prototype.slice.call(arguments,1);return function(){var oe=q.slice();return oe.push.apply(oe,arguments),w.apply(this,oe)}}var et=Date.now;function Bt(w,k){function q(){}q.prototype=k.prototype,w.S=k.prototype,w.prototype=new q,w.prototype.constructor=w}function Ft(){this.j=this.j,this.i=this.i}Ft.prototype.j=!1,Ft.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(w){Object.prototype.hasOwnProperty.call(w,Ne)&&w[Ne]||(w[Ne]=++ft)}(this)},Ft.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Je=Array.prototype.indexOf?function(w,k){return Array.prototype.indexOf.call(w,k,void 0)}:function(w,k){if("string"==typeof w)return"string"!=typeof k||1!=k.length?-1:w.indexOf(k,0);for(var q=0;q<w.length;q++)if(q in w&&w[q]===k)return q;return-1},pt=Array.prototype.forEach?function(w,k,q){Array.prototype.forEach.call(w,k,q)}:function(w,k,q){for(var oe=w.length,Re="string"==typeof w?w.split(""):w,Ze=0;Ze<oe;Ze++)Ze in Re&&k.call(q,Re[Ze],Ze,w)};function O(w){return Array.prototype.concat.apply([],arguments)}function I(w){var k=w.length;if(0<k){for(var q=Array(k),oe=0;oe<k;oe++)q[oe]=w[oe];return q}return[]}function F(w){return/^[\s\xa0]*$/.test(w)}var le,H=String.prototype.trim?function(w){return w.trim()}:function(w){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(w)[1]};function R(w,k){return-1!=w.indexOf(k)}function K(w,k){return w<k?-1:w>k?1:0}e:{var Tt=Lt.navigator;if(Tt){var se=Tt.userAgent;if(se){le=se;break e}}le=""}function Ve(w,k,q){for(var oe in w)k.call(q,w[oe],oe,w)}function It(w){var k={};for(var q in w)k[q]=w[q];return k}var xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(w,k){for(var q,oe,Re=1;Re<arguments.length;Re++){for(q in oe=arguments[Re])w[q]=oe[q];for(var Ze=0;Ze<xe.length;Ze++)q=xe[Ze],Object.prototype.hasOwnProperty.call(oe,q)&&(w[q]=oe[q])}}function Ge(w){return Ge[" "](w),w}Ge[" "]=In;var pn,w,tn=R(le,"Opera"),Rt=R(le,"Trident")||R(le,"MSIE"),nn=R(le,"Edge"),dn=nn||Rt,ct=R(le,"Gecko")&&!(R(le.toLowerCase(),"webkit")&&!R(le,"Edge"))&&!(R(le,"Trident")||R(le,"MSIE"))&&!R(le,"Edge"),jn=R(le.toLowerCase(),"webkit")&&!R(le,"Edge");function jr(){var w=Lt.document;return w?w.documentMode:void 0}e:{var Ht="",En=(w=le,ct?/rv:([^\);]+)(\)|;)/.exec(w):nn?/Edge\/([\d\.]+)/.exec(w):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(w):jn?/WebKit\/(\S+)/.exec(w):tn?/(?:Version)[ \/]?(\S+)/.exec(w):void 0);if(En&&(Ht=En?En[1]:""),Rt){var on=jr();if(null!=on&&on>parseFloat(Ht)){pn=String(on);break e}}pn=Ht}var Kt={};function kn(w){return function(w,k){var q=Kt;return Object.prototype.hasOwnProperty.call(q,w)?q[w]:q[w]=k()}(w,function(){for(var k=0,q=H(String(pn)).split("."),oe=H(String(w)).split("."),Re=Math.max(q.length,oe.length),Ze=0;0==k&&Ze<Re;Ze++){var hn=q[Ze]||"",Nn=oe[Ze]||"";do{if(hn=/(\d*)(\D*)(.*)/.exec(hn)||["","","",""],Nn=/(\d*)(\D*)(.*)/.exec(Nn)||["","","",""],0==hn[0].length&&0==Nn[0].length)break;k=K(0==hn[1].length?0:parseInt(hn[1],10),0==Nn[1].length?0:parseInt(Nn[1],10))||K(0==hn[2].length,0==Nn[2].length)||K(hn[2],Nn[2]),hn=hn[3],Nn=Nn[3]}while(0==k)}return 0<=k})}var sr=Lt.document&&Rt&&(jr()||parseInt(pn,10))||void 0,Hn=!Rt||9<=Number(sr),si=Rt&&!kn("9"),Or=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var w=!1,k=Object.defineProperty({},"passive",{get:function(){w=!0}});try{Lt.addEventListener("test",In,k),Lt.removeEventListener("test",In,k)}catch(q){}return w}();function Qn(w,k){this.type=w,this.a=this.target=k,this.defaultPrevented=!1}function xn(w,k){if(Qn.call(this,w?w.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,w){var q=this.type=w.type,oe=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.a=k,k=w.relatedTarget){if(ct){e:{try{Ge(k.nodeName);var Re=!0;break e}catch(Ze){}Re=!1}Re||(k=null)}}else"mouseover"==q?k=w.fromElement:"mouseout"==q&&(k=w.toElement);this.relatedTarget=k,oe?(this.clientX=void 0!==oe.clientX?oe.clientX:oe.pageX,this.clientY=void 0!==oe.clientY?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType="string"==typeof w.pointerType?w.pointerType:hi[w.pointerType]||"",this.c=w,w.defaultPrevented&&this.b()}}Qn.prototype.b=function(){this.defaultPrevented=!0},Bt(xn,Qn);var hi={2:"touch",3:"pen",4:"mouse"};xn.prototype.b=function(){xn.S.b.call(this);var w=this.c;if(w.preventDefault)w.preventDefault();else if(w.returnValue=!1,si)try{(w.ctrlKey||112<=w.keyCode&&123>=w.keyCode)&&(w.keyCode=-1)}catch(k){}};var je="closure_listenable_"+(1e6*Math.random()|0),me=0;function qe(w,k,q,oe,Re){this.listener=w,this.proxy=null,this.src=k,this.type=q,this.capture=!!oe,this.ca=Re,this.key=++me,this.Y=this.Z=!1}function Xe(w){w.Y=!0,w.listener=null,w.proxy=null,w.src=null,w.ca=null}function Ue(w){this.src=w,this.a={},this.b=0}function Wt(w,k){var q=k.type;if(q in w.a){var Ze,oe=w.a[q],Re=Je(oe,k);(Ze=0<=Re)&&Array.prototype.splice.call(oe,Re,1),Ze&&(Xe(k),0==w.a[q].length&&(delete w.a[q],w.b--))}}function zt(w,k,q,oe){for(var Re=0;Re<w.length;++Re){var Ze=w[Re];if(!Ze.Y&&Ze.listener==k&&Ze.capture==!!q&&Ze.ca==oe)return Re}return-1}Ue.prototype.add=function(w,k,q,oe,Re){var Ze=w.toString();(w=this.a[Ze])||(w=this.a[Ze]=[],this.b++);var hn=zt(w,k,oe,Re);return-1<hn?(k=w[hn],q||(k.Z=!1)):((k=new qe(k,this.src,Ze,!!oe,Re)).Z=q,w.push(k)),k};var gn="closure_lm_"+(1e6*Math.random()|0),sn={};function Mn(w,k,q,oe,Re){if(oe&&oe.once)return Ir(w,k,q,oe,Re);if(Array.isArray(k)){for(var Ze=0;Ze<k.length;Ze++)Mn(w,k[Ze],q,oe,Re);return null}return q=Gi(q),w&&w[je]?w.va(k,q,nt(oe)?!!oe.capture:!!oe,Re):Er(w,k,q,!1,oe,Re)}function Er(w,k,q,oe,Re,Ze){if(!k)throw Error("Invalid event type");var hn=nt(Re)?!!Re.capture:!!Re;if(hn&&!Hn)return null;var Nn=Ln(w);if(Nn||(w[gn]=Nn=new Ue(w)),(q=Nn.add(k,q,oe,hn,Ze)).proxy)return q;if(oe=function(){var w=co,k=Hn?function(q){return w.call(k.src,k.listener,q)}:function(q){if(!(q=w.call(k.src,k.listener,q)))return q};return k}(),q.proxy=oe,oe.src=w,oe.listener=q,w.addEventListener)Or||(Re=hn),void 0===Re&&(Re=!1),w.addEventListener(k.toString(),oe,Re);else if(w.attachEvent)w.attachEvent(rn(k.toString()),oe);else{if(!w.addListener||!w.removeListener)throw Error("addEventListener and attachEvent are unavailable.");w.addListener(oe)}return q}function Ir(w,k,q,oe,Re){if(Array.isArray(k)){for(var Ze=0;Ze<k.length;Ze++)Ir(w,k[Ze],q,oe,Re);return null}return q=Gi(q),w&&w[je]?w.wa(k,q,nt(oe)?!!oe.capture:!!oe,Re):Er(w,k,q,!0,oe,Re)}function an(w,k,q,oe,Re){if(Array.isArray(k))for(var Ze=0;Ze<k.length;Ze++)an(w,k[Ze],q,oe,Re);else oe=nt(oe)?!!oe.capture:!!oe,q=Gi(q),w&&w[je]?(w=w.c,(k=String(k).toString())in w.a&&-1<(q=zt(Ze=w.a[k],q,oe,Re))&&(Xe(Ze[q]),Array.prototype.splice.call(Ze,q,1),0==Ze.length&&(delete w.a[k],w.b--))):w&&(w=Ln(w))&&(k=w.a[k.toString()],w=-1,k&&(w=zt(k,q,oe,Re)),(q=-1<w?k[w]:null)&&fi(q))}function fi(w){if("number"!=typeof w&&w&&!w.Y){var k=w.src;if(k&&k[je])Wt(k.c,w);else{var q=w.type,oe=w.proxy;k.removeEventListener?k.removeEventListener(q,oe,w.capture):k.detachEvent?k.detachEvent(rn(q),oe):k.addListener&&k.removeListener&&k.removeListener(oe),(q=Ln(k))?(Wt(q,w),0==q.b&&(q.src=null,k[gn]=null)):Xe(w)}}}function rn(w){return w in sn?sn[w]:sn[w]="on"+w}function Tr(w,k){var q=w.listener,oe=w.ca||w.src;return w.Z&&fi(w),q.call(oe,k)}function co(w,k){if(w.Y)return!0;if(!Hn){if(!k)e:{k=["window","event"];for(var q=Lt,oe=0;oe<k.length;oe++)if(null==(q=q[k[oe]])){k=null;break e}k=q}return Tr(w,k=new xn(k,this))}return Tr(w,new xn(k,this))}function Ln(w){return(w=w[gn])instanceof Ue?w:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(w){return"function"==be(w)?w:(w[un]||(w[un]=function(k){return w.handleEvent(k)}),w[un])}function ve(){Ft.call(this),this.c=new Ue(this),this.J=this,this.C=null}function Be(w,k,q,oe){if(!(k=w.c.a[String(k)]))return!0;k=k.concat();for(var Re=!0,Ze=0;Ze<k.length;++Ze){var hn=k[Ze];if(hn&&!hn.Y&&hn.capture==q){var Nn=hn.listener,Dr=hn.ca||hn.src;hn.Z&&Wt(w.c,hn),Re=!1!==Nn.call(Dr,oe)&&Re}}return Re&&!oe.defaultPrevented}Bt(ve,Ft),ve.prototype[je]=!0,(ot=ve.prototype).addEventListener=function(w,k,q,oe){Mn(this,w,k,q,oe)},ot.removeEventListener=function(w,k,q,oe){an(this,w,k,q,oe)},ot.dispatchEvent=function(w){var k,q=this.C;if(q)for(k=[];q;q=q.C)k.push(q);q=this.J;var oe=w.type||w;if("string"==typeof w)w=new Qn(w,q);else if(w instanceof Qn)w.target=w.target||q;else{var Re=w;ke(w=new Qn(oe,q),Re)}if(Re=!0,k)for(var Ze=k.length-1;0<=Ze;Ze--){var hn=w.a=k[Ze];Re=Be(hn,oe,!0,w)&&Re}if(Re=Be(hn=w.a=q,oe,!0,w)&&Re,Re=Be(hn,oe,!1,w)&&Re,k)for(Ze=0;Ze<k.length;Ze++)Re=Be(hn=w.a=k[Ze],oe,!1,w)&&Re;return Re},ot.G=function(){if(ve.S.G.call(this),this.c){var k,w=this.c;for(k in w.a){for(var q=w.a[k],oe=0;oe<q.length;oe++)Xe(q[oe]);delete w.a[k],w.b--}}this.C=null},ot.va=function(w,k,q,oe){return this.c.add(String(w),k,!1,q,oe)},ot.wa=function(w,k,q,oe){return this.c.add(String(w),k,!0,q,oe)};var Qe=Lt.JSON.stringify;function mt(){this.b=this.a=null}var Mt,Fe=new(function(){function w(k,q,oe){this.f=oe,this.c=k,this.g=q,this.b=0,this.a=null}return w.prototype.get=function(){var k;return 0<this.b?(this.b--,this.a=(k=this.a).next,k.next=null):k=this.c(),k},w}())(function(){return new Ot},function(w){w.reset()},100);function rt(){var w=ar,k=null;return w.a&&(k=w.a,w.a=w.a.next,w.a||(w.b=null),k.next=null),k}function Ot(){this.next=this.b=this.a=null}function Qt(w){Lt.setTimeout(function(){throw w},0)}function yn(w,k){Mt||function(){var w=Lt.Promise.resolve(void 0);Mt=function(){w.then(br)}}(),xr||(Mt(),xr=!0),ar.add(w,k)}mt.prototype.add=function(w,k){var q=Fe.get();q.set(w,k),this.b?this.b.next=q:this.a=q,this.b=q},Ot.prototype.set=function(w,k){this.a=w,this.b=k,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var xr=!1,ar=new mt;function br(){for(var w;w=rt();){try{w.a.call(w.b)}catch(q){Qt(q)}var k=Fe;k.g(w),k.b<k.f&&(k.b++,w.next=k.a,k.a=w)}xr=!1}function Kr(w,k){ve.call(this),this.b=w||1,this.a=k||Lt,this.f=Le(this.Ya,this),this.g=et()}function ye(w){w.aa=!1,w.M&&(w.a.clearTimeout(w.M),w.M=null)}function de(w,k,q){if("function"==be(w))q&&(w=Le(w,q));else{if(!w||"function"!=typeof w.handleEvent)throw Error("Invalid listener argument");w=Le(w.handleEvent,w)}return 2147483647<Number(k)?-1:Lt.setTimeout(w,k||0)}function Se(w){w.a=de(function(){w.a=null,w.c&&(w.c=!1,Se(w))},w.h);var k=w.b;w.b=null,w.g.apply(null,k)}Bt(Kr,ve),(ot=Kr.prototype).aa=!1,ot.M=null,ot.Ya=function(){if(this.aa){var w=et()-this.g;0<w&&w<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-w):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(ye(this),this.start()))}},ot.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=et())},ot.G=function(){Kr.S.G.call(this),ye(this),delete this.a};var Pe=function(w){function k(q,oe,Re){var Ze=w.call(this)||this;return Ze.g=null!=Re?q.bind(Re):q,Ze.h=oe,Ze.b=null,Ze.c=!1,Ze.a=null,Ze}return function(w,k){function q(){this.constructor=w}te(w,k),w.prototype=null===k?Object.create(k):(q.prototype=k.prototype,new q)}(k,w),k.prototype.f=function(q){this.b=arguments,this.a?this.c=!0:Se(this)},k.prototype.G=function(){w.prototype.G.call(this),this.a&&(Lt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},k}(Ft);function ie(w){Ft.call(this),this.b=w,this.a={}}Bt(ie,Ft);var L=[];function $(w,k,q,oe){Array.isArray(q)||(q&&(L[0]=q.toString()),q=L);for(var Re=0;Re<q.length;Re++){var Ze=Mn(k,q[Re],oe||w.handleEvent,!1,w.b||w);if(!Ze)break;w.a[Ze.key]=Ze}}function ue(w){Ve(w.a,function(k,q){this.a.hasOwnProperty(q)&&fi(k)},w),w.a={}}function Ce(){this.a=!0}function At(w,k,q,oe){w.info(function(){return"XMLHTTP TEXT ("+k+"): "+function(w,k){if(!w.a)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(w=0;w<q.length;w++)if(Array.isArray(q[w])){var oe=q[w];if(!(2>oe.length)){var Re=oe[1];if(Array.isArray(Re)&&!(1>Re.length)){var Ze=Re[0];if("noop"!=Ze&&"stop"!=Ze&&"close"!=Ze)for(var hn=1;hn<Re.length;hn++)Re[hn]=""}}}return Qe(q)}catch(Nn){return k}}(w,q)+(oe?" "+oe:"")})}ie.prototype.G=function(){ie.S.G.call(this),ue(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ce.prototype.info=function(){};var mn=null;function vt(){return mn=mn||new ve}function ur(w){Qn.call(this,"serverreachability",w)}function rr(w){var k=vt();k.dispatchEvent(new ur(k,w))}function Zi(w){Qn.call(this,"statevent",w)}function Bn(w){var k=vt();k.dispatchEvent(new Zi(k,w))}function js(w){Qn.call(this,"timingevent",w)}function eo(w,k){if("function"!=be(w))throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){w()},k)}Bt(ur,Qn),Bt(Zi,Qn),Bt(js,Qn);var jo={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ko={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Cu(){}function Cs(){}Cu.prototype.a=null;var ru,ts={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function to(){Qn.call(this,"d")}function ns(){Qn.call(this,"c")}function ho(){}function Pi(w,k,q,oe){this.g=w,this.c=k,this.f=q,this.T=oe||1,this.J=new ie(this),this.P=Ho,this.R=new Kr(w=dn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Bt(to,Qn),Bt(ns,Qn),Bt(ho,Cu),ru=new ho;var Ho=45e3,La={},ir={};function no(w,k,q){w.H=1,w.i=ga(fo(k)),w.j=q,w.I=!0,zn(w,null)}function zn(w,k){w.u=et(),Tn(w),w.l=fo(w.i);var q=w.l,oe=w.T;Array.isArray(oe)||(oe=[String(oe)]),Yn(q.b,"t",oe),w.D=0,w.a=Xs(w.g,w.g.C?k:null),0<w.O&&(w.F=new Pe(Le(w.Ca,w,w.a),w.O)),$(w.J,w.a,"readystatechange",w.Wa),k=w.B?It(w.B):{},w.j?(w.m||(w.m="POST"),k["Content-Type"]="application/x-www-form-urlencoded",w.a.ba(w.l,w.m,w.j,k)):(w.m="GET",w.a.ba(w.l,w.m,null,k)),rr(1),function(w,k,q,oe,Re,Ze){w.info(function(){if(w.a)if(Ze)for(var hn="",Nn=Ze.split("&"),Dr=0;Dr<Nn.length;Dr++){var oo=Nn[Dr].split("=");if(1<oo.length){var so=oo[0];oo=oo[1];var Ci=so.split("_");hn=2<=Ci.length&&"type"==Ci[1]?hn+(so+"=")+oo+"&":hn+(so+"=redacted&")}}else hn=null;else hn=Ze;return"XMLHTTP REQ ("+oe+") [attempt "+Re+"]: "+k+"\n"+q+"\n"+hn})}(w.c,w.m,w.l,w.f,w.T,w.j)}function Wi(w,k,q){for(var oe=!0;!w.A&&w.D<q.length;){var Re=Hs(w,q);if(Re==ir){4==k&&(w.h=4,Bn(14),oe=!1),At(w.c,w.f,null,"[Incomplete Response]");break}if(Re==La){w.h=4,Bn(15),At(w.c,w.f,q,"[Invalid Chunk]"),oe=!1;break}At(w.c,w.f,Re,null),Gn(w,Re)}4==k&&0==q.length&&(w.h=1,Bn(16),oe=!1),w.b=w.b&&oe,oe?0<q.length&&!w.W&&(w.W=!0,(k=w.g).a==w&&k.V&&!k.F&&(k.c.info("Great, no buffering proxy detected. Bytes received: "+q.length),Il(k),k.F=!0)):(At(w.c,w.f,q,"[Invalid Chunked Response]"),$t(w),Hi(w))}function Hs(w,k){var q=w.D,oe=k.indexOf("\n",q);return-1==oe?ir:(q=Number(k.substring(q,oe)),isNaN(q)?La:(oe+=1)+q>k.length?ir:(k=k.substr(oe,q),w.D=oe+q,k))}function Tn(w){w.U=et()+w.P,zo(w,w.P)}function zo(w,k){if(null!=w.o)throw Error("WatchDog timer not null");w.o=eo(Le(w.Ua,w),k)}function pa(w){w.o&&(Lt.clearTimeout(w.o),w.o=null)}function Hi(w){0==w.g.v||w.A||Su(w.g,w)}function $t(w){pa(w);var k=w.F;k&&"function"==typeof k.ja&&k.ja(),w.F=null,ye(w.R),ue(w.J),w.a&&(k=w.a,w.a=null,k.abort(),k.ja())}function Gn(w,k){try{var q=w.g;if(0!=q.v&&(q.a==w||fr(q.b,w)))if(q.I=w.N,!w.C&&fr(q.b,w)&&3==q.v){try{var oe=q.ka.a.parse(k)}catch(Tu){oe=null}if(Array.isArray(oe)&&3==oe.length){var Re=oe;if(0==Re[0])e:if(q.j)q.oa=Re[1],0<q.oa-q.P&&37500>Re[2]&&q.H&&0==q.o&&!q.m&&(q.m=eo(Le(q.Ra,q),6e3));else{if(q.a){if(!(q.a.u+3e3<w.u))break e;su(q),Io(q)}_a(q),Bn(18)}if(1>=ri(q.b)&&q.ea){try{q.ea()}catch(Tu){}q.ea=void 0}}else Ys(q,11)}else if((w.C||q.a==w)&&su(q),!F(k))for(k=oe=q.ka.a.parse(k),oe=0;oe<k.length;oe++)if(q.P=(Re=k[oe])[0],Re=Re[1],2==q.v)if("c"==Re[0]){q.J=Re[1],q.ga=Re[2];var Ze=Re[3];null!=Ze&&(q.ha=Ze,q.c.info("VER="+q.ha));var hn=Re[4];null!=hn&&(q.pa=hn,q.c.info("SVER="+q.pa));var Nn=Re[5];if(null!=Nn&&"number"==typeof Nn&&0<Nn){var Dr=1.5*Nn;q.D=Dr,q.c.info("backChannelRequestTimeoutMs_="+Dr)}Dr=q;var oo=w.a;if(oo){var so=oo.a?oo.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var Ci=Dr.b;!Ci.a&&(R(so,"spdy")||R(so,"quic")||R(so,"h2"))&&(Ci.f=Ci.g,Ci.a=new Set,Ci.b&&(Jr(Ci,Ci.b),Ci.b=null))}if(Dr.A){var Ua=oo.a?oo.a.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(Dr.na=Ua,ni(Dr.B,Dr.A,Ua))}}q.v=3,q.f&&q.f.ta(),q.V&&(q.N=et()-w.u,q.c.info("Handshake RTT: "+q.N+"ms"));var Os=w;if((Dr=q).la=mo(Dr,Dr.C?Dr.ga:null,Dr.fa),Os.C){Fi(Dr.b,Os);var Zr=Os,Vr=Dr.D;Vr&&Zr.setTimeout(Vr),Zr.o&&(pa(Zr),Tn(Zr)),Dr.a=Os}else ou(Dr);0<q.g.length&&Ms(q)}else"stop"!=Re[0]&&"close"!=Re[0]||Ys(q,7);else 3==q.v&&("stop"==Re[0]||"close"==Re[0]?"stop"==Re[0]?Ys(q,7):Sl(q):"noop"!=Re[0]&&q.f&&q.f.sa(Re),q.o=0);rr(4)}catch(Tu){}}function qo(w,k){if(w.forEach&&"function"==typeof w.forEach)w.forEach(k,void 0);else if(Y(w)||"string"==typeof w)pt(w,k,void 0);else{if(w.L&&"function"==typeof w.L)var q=w.L();else if(w.K&&"function"==typeof w.K)q=void 0;else if(Y(w)||"string"==typeof w){q=[];for(var oe=w.length,Re=0;Re<oe;Re++)q.push(Re)}else for(Re in q=[],oe=0,w)q[oe++]=Re;Re=(oe=function(w){if(w.K&&"function"==typeof w.K)return w.K();if("string"==typeof w)return w.split("");if(Y(w)){for(var k=[],q=w.length,oe=0;oe<q;oe++)k.push(w[oe]);return k}for(oe in k=[],q=0,w)k[q++]=w[oe];return k}(w)).length;for(var Ze=0;Ze<Re;Ze++)k.call(void 0,oe[Ze],q&&q[Ze],w)}}function Go(w,k){this.b={},this.a=[],this.c=0;var q=arguments.length;if(1<q){if(q%2)throw Error("Uneven number of arguments");for(var oe=0;oe<q;oe+=2)this.set(arguments[oe],arguments[oe+1])}else if(w)if(w instanceof Go)for(q=w.L(),oe=0;oe<q.length;oe++)this.set(q[oe],w.get(q[oe]));else for(oe in w)this.set(oe,w[oe])}function Co(w){if(w.c!=w.a.length){for(var k=0,q=0;k<w.a.length;){var oe=w.a[k];ki(w.b,oe)&&(w.a[q++]=oe),k++}w.a.length=q}if(w.c!=w.a.length){var Re={};for(q=k=0;k<w.a.length;)ki(Re,oe=w.a[k])||(w.a[q++]=oe,Re[oe]=1),k++;w.a.length=q}}function ki(w,k){return Object.prototype.hasOwnProperty.call(w,k)}(ot=Pi.prototype).setTimeout=function(w){this.P=w},ot.Wa=function(w){w=w.target;var k=this.F;k&&3==Ts(w)?k.f():this.Ca(w)},ot.Ca=function(w){try{if(w==this.a)e:{var k=Ts(this.a),q=this.a.ua(),oe=this.a.X();if(!(3>k||3==k&&!dn&&!this.a.$())){this.A||4!=k||7==q||rr(8==q||0>=oe?3:2),pa(this);var Re=this.a.X();this.N=Re;var Ze=this.a.$();if(this.b=200==Re,function(w,k,q,oe,Re,Ze,hn){w.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Re+"]: "+k+"\n"+q+"\n"+Ze+" "+hn})}(this.c,this.m,this.l,this.f,this.T,k,Re),this.b){if(this.V&&!this.C){t:{if(this.a){var hn,Nn=this.a;if((hn=Nn.a?Nn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(hn)){var Dr=hn;break t}}Dr=null}if(!Dr){this.b=!1,this.h=3,Bn(12),$t(this),Hi(this);break e}At(this.c,this.f,Dr,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gn(this,Dr)}this.I?(Wi(this,k,Ze),dn&&this.b&&3==k&&($(this.J,this.R,"tick",this.Va),this.R.start())):(At(this.c,this.f,Ze,null),Gn(this,Ze)),4==k&&$t(this),this.b&&!this.A&&(4==k?Su(this.g,this):(this.b=!1,Tn(this)))}else 400==Re&&0<Ze.indexOf("Unknown SID")?(this.h=3,Bn(12)):(this.h=0,Bn(13)),$t(this),Hi(this)}}}catch(oo){}},ot.Va=function(){if(this.a){var w=Ts(this.a),k=this.a.$();this.D<k.length&&(pa(this),Wi(this,w,k),this.b&&4!=w&&Tn(this))}},ot.cancel=function(){this.A=!0,$t(this)},ot.Ua=function(){this.o=null;var w=et();0<=w-this.U?(function(w,k){w.info(function(){return"TIMEOUT: "+k})}(this.c,this.l),2!=this.H&&(rr(3),Bn(17)),$t(this),this.h=2,Hi(this)):zo(this,this.U-w)},(ot=Go.prototype).K=function(){Co(this);for(var w=[],k=0;k<this.a.length;k++)w.push(this.b[this.a[k]]);return w},ot.L=function(){return Co(this),this.a.concat()},ot.get=function(w,k){return ki(this.b,w)?this.b[w]:k},ot.set=function(w,k){ki(this.b,w)||(this.c++,this.a.push(w)),this.b[w]=k},ot.forEach=function(w,k){for(var q=this.L(),oe=0;oe<q.length;oe++){var Re=q[oe],Ze=this.get(Re);w.call(k,Ze,Re,this)}};var Jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mr(w,k){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,w instanceof mr){this.a=void 0!==k?k:w.a,qs(this,w.f),this.j=w.j,Es(this,w.c),Gs(this,w.h),this.g=w.g,k=w.b;var q=new gt;q.c=k.c,k.a&&(q.a=new Go(k.a),q.b=k.b),Vn(this,q),this.i=w.i}else w&&(q=String(w).match(Jn))?(this.a=!!k,qs(this,q[1]||"",!0),this.j=Xr(q[2]||""),Es(this,q[3]||"",!0),Gs(this,q[4]),this.g=Xr(q[5]||"",!0),Vn(this,q[6]||"",!0),this.i=Xr(q[7]||"")):(this.a=!!k,this.b=new gt(null,this.a))}function fo(w){return new mr(w)}function qs(w,k,q){w.f=q?Xr(k,!0):k,w.f&&(w.f=w.f.replace(/:$/,""))}function Es(w,k,q){w.c=q?Xr(k,!0):k}function Gs(w,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);w.h=k}else w.h=null}function Vn(w,k,q){k instanceof gt?(w.b=k,function(w,k){k&&!w.f&&(yt(w),w.c=null,w.a.forEach(function(q,oe){var Re=oe.toLowerCase();oe!=Re&&(Pt(this,oe),Yn(this,Re,q))},w)),w.f=k}(w.b,w.a)):(q||(k=B(k,_e)),w.b=new gt(k,w.a))}function ni(w,k,q){w.b.set(k,q)}function ga(w){return ni(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^et()).toString(36)),w}function Xr(w,k){return w?k?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function B(w,k,q){return"string"==typeof w?(w=encodeURI(w).replace(k,V),q&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function V(w){return"%"+((w=w.charCodeAt(0))>>4&15).toString(16)+(15&w).toString(16)}mr.prototype.toString=function(){var w=[],k=this.f;k&&w.push(B(k,X,!0),":");var q=this.c;return(q||"file"==k)&&(w.push("//"),(k=this.j)&&w.push(B(k,X,!0),"@"),w.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.h)&&w.push(":",String(q))),(q=this.g)&&(this.c&&"/"!=q.charAt(0)&&w.push("/"),w.push(B(q,"/"==q.charAt(0)?Ee:pe,!0))),(q=this.b.toString())&&w.push("?",q),(q=this.i)&&w.push("#",B(q,$e)),w.join("")};var X=/[#\/\?@]/g,pe=/[#\?:]/g,Ee=/[#\?]/g,_e=/[#\?@]/g,$e=/#/g;function gt(w,k){this.b=this.a=null,this.c=w||null,this.f=!!k}function yt(w){w.a||(w.a=new Go,w.b=0,w.c&&function(w,k){if(w){w=w.split("&");for(var q=0;q<w.length;q++){var oe=w[q].indexOf("="),Re=null;if(0<=oe){var Ze=w[q].substring(0,oe);Re=w[q].substring(oe+1)}else Ze=w[q];k(Ze,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}(w.c,function(k,q){w.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function Pt(w,k){yt(w),k=cn(w,k),ki(w.a.b,k)&&(w.c=null,w.b-=w.a.get(k).length,ki((w=w.a).b,k)&&(delete w.b[k],w.c--,w.a.length>2*w.c&&Co(w)))}function Vt(w,k){return yt(w),k=cn(w,k),ki(w.a.b,k)}function Yn(w,k,q){Pt(w,k),0<q.length&&(w.c=null,w.a.set(cn(w,k),I(q)),w.b+=q.length)}function cn(w,k){return k=String(k),w.f&&(k=k.toLowerCase()),k}function lr(w,k){this.b=w,this.a=k}function bn(w){this.g=w||Lr,w=Lt.PerformanceNavigationTiming?0<(w=Lt.performance.getEntriesByType("navigation")).length&&("hq"==w[0].nextHopProtocol||"h2"==w[0].nextHopProtocol):!!(Lt.ia&&Lt.ia.ya&&Lt.ia.ya()&&Lt.ia.ya().qb),this.f=w?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ot=gt.prototype).add=function(w,k){yt(this),this.c=null,w=cn(this,w);var q=this.a.get(w);return q||this.a.set(w,q=[]),q.push(k),this.b+=1,this},ot.forEach=function(w,k){yt(this),this.a.forEach(function(q,oe){pt(q,function(Re){w.call(k,Re,oe,this)},this)},this)},ot.L=function(){yt(this);for(var w=this.a.K(),k=this.a.L(),q=[],oe=0;oe<k.length;oe++)for(var Re=w[oe],Ze=0;Ze<Re.length;Ze++)q.push(k[oe]);return q},ot.K=function(w){yt(this);var k=[];if("string"==typeof w)Vt(this,w)&&(k=O(k,this.a.get(cn(this,w))));else{w=this.a.K();for(var q=0;q<w.length;q++)k=O(k,w[q])}return k},ot.set=function(w,k){return yt(this),this.c=null,Vt(this,w=cn(this,w))&&(this.b-=this.a.get(w).length),this.a.set(w,[k]),this.b+=1,this},ot.get=function(w,k){return w&&0<(w=this.K(w)).length?String(w[0]):k},ot.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var w=[],k=this.a.L(),q=0;q<k.length;q++){var oe=k[q],Re=encodeURIComponent(String(oe));oe=this.K(oe);for(var Ze=0;Ze<oe.length;Ze++){var hn=Re;""!==oe[Ze]&&(hn+="="+encodeURIComponent(String(oe[Ze]))),w.push(hn)}}return this.c=w.join("&")};var Lr=10;function wi(w){return!!w.b||!!w.a&&w.a.size>=w.f}function ri(w){return w.b?1:w.a?w.a.size:0}function fr(w,k){return w.b?w.b==k:!!w.a&&w.a.has(k)}function Jr(w,k){w.a?w.a.add(k):w.b=k}function Fi(w,k){w.b&&w.b==k?w.b=null:w.a&&w.a.has(k)&&w.a.delete(k)}function po(w){var k,q;if(null!=w.b)return w.c.concat(w.b.s);if(null!=w.a&&0!==w.a.size){var oe=w.c;try{for(var Re=re(w.a.values()),Ze=Re.next();!Ze.done;Ze=Re.next())oe=oe.concat(Ze.value.s)}catch(Nn){k={error:Nn}}finally{try{Ze&&!Ze.done&&(q=Re.return)&&q.call(Re)}finally{if(k)throw k.error}}return oe}return I(w.c)}function Hr(){}function dr(){this.a=new Hr}function ma(w,k,q){var oe=q||"";try{qo(w,function(Re,Ze){var hn=Re;nt(Re)&&(hn=Qe(Re)),k.push(oe+Ze+"="+encodeURIComponent(hn))})}catch(Re){throw k.push(oe+"type="+encodeURIComponent("_badmap")),Re}}function rs(w,k,q,oe,Re){try{k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null,Re(oe)}catch(Ze){}}bn.prototype.cancel=function(){var w,k;if(this.c=po(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var q=re(this.a.values()),oe=q.next();!oe.done;oe=q.next())oe.value.cancel()}catch(Ze){w={error:Ze}}finally{try{oe&&!oe.done&&(k=q.return)&&k.call(q)}finally{if(w)throw w.error}}this.a.clear()}},Hr.prototype.stringify=function(w){return Lt.JSON.stringify(w,void 0)},Hr.prototype.parse=function(w){return Lt.JSON.parse(w,void 0)};var Gu=Lt.JSON.parse;function ai(w){ve.call(this),this.headers=new Go,this.H=w||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rr,this.D=this.F=!1}Bt(ai,ve);var Rr="",li=/^https?$/i,zr=["POST","PUT"];function Wo(w){return"content-type"==w.toLowerCase()}function Li(w,k){w.b=!1,w.a&&(w.g=!0,w.a.abort(),w.g=!1),w.f=k,w.h=5,$s(w),Is(w)}function $s(w){w.u||(w.u=!0,w.dispatchEvent("complete"),w.dispatchEvent("error"))}function Eo(w){if(w.b&&void 0!==Dn&&(!w.s[1]||4!=Ts(w)||2!=w.X()))if(w.l&&4==Ts(w))de(w.za,0,w);else if(w.dispatchEvent("readystatechange"),4==Ts(w)){w.b=!1;try{var oe,k=w.X();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}if(!(oe=q)){var Re;if(Re=0===k){var Ze=String(w.B).match(Jn)[1]||null;if(!Ze&&Lt.self&&Lt.self.location){var hn=Lt.self.location.protocol;Ze=hn.substr(0,hn.length-1)}Re=!li.test(Ze?Ze.toLowerCase():"")}oe=Re}if(oe)w.dispatchEvent("complete"),w.dispatchEvent("success");else{w.h=6;try{var Nn=2<Ts(w)?w.a.statusText:""}catch(Dr){Nn=""}w.f=Nn+" ["+w.X()+"]",$s(w)}}finally{Is(w)}}}function Is(w,k){if(w.a){So(w);var q=w.a,oe=w.s[0]?In:null;w.a=null,w.s=null,k||w.dispatchEvent("ready");try{q.onreadystatechange=oe}catch(Re){}}}function So(w){w.a&&w.D&&(w.a.ontimeout=null),w.m&&(Lt.clearTimeout(w.m),w.m=null)}function Ts(w){return w.a?w.a.readyState:0}function zi(w,k,q){e:{for(oe in q){var oe=!1;break e}oe=!0}oe||(q=function(w){var k="";return Ve(w,function(q,oe){k+=oe,k+=":",k+=q,k+="\r\n"}),k}(q),"string"==typeof w?null!=q&&encodeURIComponent(String(q)):ni(w,k,q))}function is(w,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[w]||k}function El(w){this.pa=0,this.g=[],this.c=new Ce,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=is("failFast",!1,w),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=is("baseRetryDelayMs",5e3,w),this.Ma=is("retryDelaySeedMs",1e4,w),this.Ja=is("forwardChannelMaxRetries",2,w),this.ma=is("forwardChannelRequestTimeoutMs",2e4,w),this.Ka=w&&w.g||void 0,this.D=void 0,this.C=w&&w.supportsCrossDomainXhr||!1,this.J="",this.b=new bn(w&&w.concurrentRequestLimit),this.ka=new dr,this.da=w&&w.fastHandshake||!1,this.Ga=w&&w.b||!1,w&&w.f&&(this.c.a=!1),w&&w.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&w&&w.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Sl(w){if(iu(w),3==w.v){var k=w.R++,q=fo(w.B);ni(q,"SID",w.J),ni(q,"RID",k),ni(q,"TYPE","terminate"),go(w,q),(k=new Pi(w,w.c,k,void 0)).H=2,k.i=ga(fo(q)),q=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(q=Lt.navigator.sendBeacon(k.i.toString(),"")),!q&&Lt.Image&&((new Image).src=k.i,q=!0),q||(k.a=Xs(k.g,null),k.a.ba(k.i)),k.u=et(),Tn(k)}Qs(w)}function Io(w){w.a&&(Il(w),w.a.cancel(),w.a=null)}function iu(w){Io(w),w.j&&(Lt.clearTimeout(w.j),w.j=null),su(w),w.b.cancel(),w.h&&("number"==typeof w.h&&Lt.clearTimeout(w.h),w.h=null)}function Ds(w,k){w.g.push(new lr(w.La++,k)),3==w.v&&Ms(w)}function Ms(w){wi(w.b)||w.h||(w.h=!0,yn(w.Ba,w),w.u=0)}function mi(w,k){var q;q=k?k.f:w.R++;var oe=fo(w.B);ni(oe,"SID",w.J),ni(oe,"RID",q),ni(oe,"AID",w.P),go(w,oe),w.i&&w.l&&zi(oe,w.i,w.l),q=new Pi(w,w.c,q,w.u+1),null===w.i&&(q.B=w.l),k&&(w.g=k.s.concat(w.g)),k=Eu(w,q,1e3),q.setTimeout(Math.round(.5*w.ma)+Math.round(.5*w.ma*Math.random())),Jr(w.b,q),no(q,oe,k)}function go(w,k){w.f&&qo({},function(q,oe){ni(k,oe,q)})}function Eu(w,k,q){q=Math.min(w.g.length,q);var oe=w.f?Le(w.f.Ha,w.f,w):null;e:for(var Re=w.g,Ze=-1;;){var hn=["count="+q];-1==Ze?0<q?hn.push("ofs="+(Ze=Re[0].b)):Ze=0:hn.push("ofs="+Ze);for(var Nn=!0,Dr=0;Dr<q;Dr++){var oo=Re[Dr].b,so=Re[Dr].a;if(0>(oo-=Ze))Ze=Math.max(0,Re[Dr].b-100),Nn=!1;else try{ma(so,hn,"req"+oo+"_")}catch(Ci){oe&&oe(so)}}if(Nn){oe=hn.join("&");break e}}return w=w.g.splice(0,q),k.s=w,oe}function ou(w){w.a||w.j||(w.U=1,yn(w.Aa,w),w.o=0)}function _a(w){return!(w.a||w.j||3<=w.o||(w.U++,w.j=eo(Le(w.Aa,w),Ks(w,w.o)),w.o++,0))}function Il(w){null!=w.s&&(Lt.clearTimeout(w.s),w.s=null)}function lc(w){w.a=new Pi(w,w.c,"rpc",w.U),null===w.i&&(w.a.B=w.l),w.a.O=0;var k=fo(w.la);ni(k,"RID","rpc"),ni(k,"SID",w.J),ni(k,"CI",w.H?"0":"1"),ni(k,"AID",w.P),go(w,k),ni(k,"TYPE","xmlhttp"),w.i&&w.l&&zi(k,w.i,w.l),w.D&&w.a.setTimeout(w.D);var q=w.a;w=w.ga,q.H=1,q.i=ga(fo(k)),q.j=null,q.I=!0,zn(q,w)}function su(w){null!=w.m&&(Lt.clearTimeout(w.m),w.m=null)}function Su(w,k){var q=null;if(w.a==k){su(w),Il(w),w.a=null;var oe=2}else{if(!fr(w.b,k))return;q=k.s,Fi(w.b,k),oe=1}if(w.I=k.N,0!=w.v)if(k.b)if(1==oe){q=k.j?k.j.length:0,k=et()-k.u;var Re=w.u;(oe=vt()).dispatchEvent(new js(oe,q,k,Re)),Ms(w)}else ou(w);else if(3==(Re=k.h)||0==Re&&0<w.I||!(1==oe&&function(w,k){return!(ri(w.b)>=w.b.f-(w.h?1:0)||(w.h?(w.g=k.s.concat(w.g),0):1==w.v||2==w.v||w.u>=(w.Ia?0:w.Ja)||(w.h=eo(Le(w.Ba,w,k),Ks(w,w.u)),w.u++,0)))}(w,k)||2==oe&&_a(w)))switch(q&&0<q.length&&(k=w.b,k.c=k.c.concat(q)),Re){case 1:Ys(w,5);break;case 4:Ys(w,10);break;case 3:Ys(w,6);break;default:Ys(w,2)}}function Ks(w,k){var q=w.Fa+Math.floor(Math.random()*w.Ma);return w.f||(q*=2),q*k}function Ys(w,k){if(w.c.info("Error code "+k),2==k){var q=null;w.f&&(q=null);var oe=Le(w.Xa,w);q||(q=new mr("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||qs(q,"https"),ga(q)),function(w,k){var q=new Ce;if(Lt.Image){var oe=new Image;oe.onload=dt(rs,q,oe,"TestLoadImage: loaded",!0,k),oe.onerror=dt(rs,q,oe,"TestLoadImage: error",!1,k),oe.onabort=dt(rs,q,oe,"TestLoadImage: abort",!1,k),oe.ontimeout=dt(rs,q,oe,"TestLoadImage: timeout",!1,k),Lt.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=w}else k(!1)}(q.toString(),oe)}else Bn(2);w.v=0,w.f&&w.f.ra(k),Qs(w),iu(w)}function Qs(w){w.v=0,w.I=-1,w.f&&((0!=po(w.b).length||0!=w.g.length)&&(w.b.c.length=0,I(w.g),w.g.length=0),w.f.qa())}function mo(w,k,q){var oe=function(w){return w instanceof mr?fo(w):new mr(w,void 0)}(q);if(""!=oe.c)k&&Es(oe,k+"."+oe.c),Gs(oe,oe.h);else{var Re=Lt.location;oe=function(w,k,q,oe){var Re=new mr(null,void 0);return w&&qs(Re,w),k&&Es(Re,k),q&&Gs(Re,q),oe&&(Re.g=oe),Re}(Re.protocol,k?k+"."+Re.hostname:Re.hostname,+Re.port,q)}return w.W&&Ve(w.W,function(Ze,hn){ni(oe,hn,Ze)}),q=w.na,(k=w.A)&&q&&ni(oe,k,q),ni(oe,"VER",w.ha),go(w,oe),oe}function Xs(w,k){if(k&&!w.C)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new ai(w.Ka)).F=w.C,k}function qr(){}function Va(){if(Rt&&!(10<=Number(sr)))throw Error("Environmental error: no available transport.")}function Qr(w,k){ve.call(this),this.a=new El(k),this.l=w,this.b=k&&k.messageUrlParams||null,w=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.a.l=w,w=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(w?w["X-WebChannel-Content-Type"]=k.messageContentType:w={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.a&&(w?w["X-WebChannel-Client-Profile"]=k.a:w={"X-WebChannel-Client-Profile":k.a}),this.a.O=w,(w=k&&k.httpHeadersOverwriteParam)&&!F(w)&&(this.a.i=w),this.h=k&&k.supportsCrossDomainXhr||!1,this.g=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!F(k)&&(this.a.A=k,null!==(w=this.b)&&k in w&&k in(w=this.b)&&delete w[k]),this.f=new ii(this)}function Iu(w){to.call(this);var k=w.__sm__;if(k){e:{for(var q in k){w=q;break e}w=void 0}(this.c=w)?(w=this.c,this.data=null!==k&&w in k?k[w]:void 0):this.data=k}else this.data=w}function jt(){ns.call(this),this.status=1}function ii(w){this.a=w}(ot=ai.prototype).ba=function(w,k,q,oe){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+w);k=k?k.toUpperCase():"GET",this.B=w,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(w){var k;return(k=w.a)||(k=w.a={}),k}(this.H?this.H:ru),this.a.onreadystatechange=Le(this.za,this);try{this.A=!0,this.a.open(k,String(w),!0),this.A=!1}catch(Ze){return void Li(this,Ze)}w=q||"";var Re=new Go(this.headers);oe&&qo(oe,function(Ze,hn){Re.set(hn,Ze)}),oe=function(w){e:{for(var k=Wo,q=w.length,oe="string"==typeof w?w.split(""):w,Re=0;Re<q;Re++)if(Re in oe&&k.call(void 0,oe[Re],Re,w)){k=Re;break e}k=-1}return 0>k?null:"string"==typeof w?w.charAt(k):w[k]}(Re.L()),q=Lt.FormData&&w instanceof Lt.FormData,!(0<=Je(zr,k))||oe||q||Re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Re.forEach(function(Ze,hn){this.a.setRequestHeader(hn,Ze)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{So(this),0<this.o&&((this.D=function(w){return Rt&&kn(9)&&"number"==typeof w.timeout&&void 0!==w.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Le(this.xa,this)):this.m=de(this.xa,this.o,this)),this.l=!0,this.a.send(w),this.l=!1}catch(Ze){Li(this,Ze)}},ot.xa=function(){void 0!==Dn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ot.abort=function(w){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=w||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Is(this))},ot.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Is(this,!0)),ai.S.G.call(this)},ot.za=function(){this.j||(this.A||this.l||this.g?Eo(this):this.Ta())},ot.Ta=function(){Eo(this)},ot.X=function(){try{return 2<Ts(this)?this.a.status:-1}catch(w){return-1}},ot.$=function(){try{return this.a?this.a.responseText:""}catch(w){return""}},ot.Na=function(w){if(this.a){var k=this.a.responseText;return w&&0==k.indexOf(w)&&(k=k.substring(w.length)),Gu(k)}},ot.ua=function(){return this.h},ot.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ot=El.prototype).ha=8,ot.v=1,ot.Ba=function(w){if(this.h)if(this.h=null,1==this.v){if(!w){this.R=Math.floor(1e5*Math.random()),w=this.R++;var oe,k=new Pi(this,this.c,w,void 0),q=this.l;if(this.O&&(q?ke(q=It(q),this.O):q=this.O),null===this.i&&(k.B=q),this.da)e:{for(var Re=oe=0;Re<this.g.length;Re++){var Ze=this.g[Re];if(void 0===(Ze="__data__"in Ze.a&&"string"==typeof(Ze=Ze.a.__data__)?Ze.length:void 0))break;if(4096<(oe+=Ze)){oe=Re;break e}if(4096===oe||Re===this.g.length-1){oe=Re+1;break e}}oe=1e3}else oe=1e3;oe=Eu(this,k,oe),ni(Re=fo(this.B),"RID",w),ni(Re,"CVER",22),this.A&&ni(Re,"X-HTTP-Session-Id",this.A),go(this,Re),this.i&&q&&zi(Re,this.i,q),Jr(this.b,k),this.Ga&&ni(Re,"TYPE","init"),this.da?(ni(Re,"$req",oe),ni(Re,"SID","null"),k.V=!0,no(k,Re,null)):no(k,Re,oe),this.v=2}}else 3==this.v&&(w?mi(this,w):0==this.g.length||wi(this.b)||mi(this))},ot.Aa=function(){if(this.j=null,lc(this),this.V&&!(this.F||null==this.a||0>=this.N)){var w=2*this.N;this.c.info("BP detection timer enabled: "+w),this.s=eo(Le(this.Sa,this),w)}},ot.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Io(this),lc(this))},ot.Ra=function(){null!=this.m&&(this.m=null,Io(this),_a(this),Bn(19))},ot.Xa=function(w){w?(this.c.info("Successfully pinged google.com"),Bn(2)):(this.c.info("Failed to ping google.com"),Bn(1))},(ot=qr.prototype).ta=function(){},ot.sa=function(){},ot.ra=function(){},ot.qa=function(){},ot.Ha=function(){},Va.prototype.a=function(w,k){return new Qr(w,k)},Bt(Qr,ve),(ot=Qr.prototype).addEventListener=function(w,k,q,oe){Qr.S.addEventListener.call(this,w,k,q,oe)},ot.removeEventListener=function(w,k,q,oe){Qr.S.removeEventListener.call(this,w,k,q,oe)},ot.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var w=this.a,k=this.l,q=this.b||void 0;Bn(0),w.fa=k,w.W=q||{},w.H=w.T,w.B=mo(w,null,w.fa),Ms(w)},ot.close=function(){Sl(this.a)},ot.Pa=function(w){if("string"==typeof w){var k={};k.__data__=w,Ds(this.a,k)}else this.g?((k={}).__data__=Qe(w),Ds(this.a,k)):Ds(this.a,w)},ot.G=function(){this.a.f=null,delete this.f,Sl(this.a),delete this.a,Qr.S.G.call(this)},Bt(Iu,to),Bt(jt,ns),Bt(ii,qr),ii.prototype.ta=function(){this.a.dispatchEvent("a")},ii.prototype.sa=function(w){this.a.dispatchEvent(new Iu(w))},ii.prototype.ra=function(w){this.a.dispatchEvent(new jt(w))},ii.prototype.qa=function(){this.a.dispatchEvent("b")},Va.prototype.createWebChannel=Va.prototype.a,Qr.prototype.send=Qr.prototype.Pa,Qr.prototype.open=Qr.prototype.Oa,Qr.prototype.close=Qr.prototype.close,jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,ko.COMPLETE="complete",Cs.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",ve.prototype.listen=ve.prototype.va,ai.prototype.listenOnce=ai.prototype.wa,ai.prototype.getLastError=ai.prototype.Qa,ai.prototype.getLastErrorCode=ai.prototype.ua,ai.prototype.getStatus=ai.prototype.X,ai.prototype.getResponseJson=ai.prototype.Na,ai.prototype.getResponseText=ai.prototype.$,ai.prototype.send=ai.prototype.ba;var Wu=function(){return new Va},va=jo,As=ko,yi=Cs,$u=ai;const di={createWebChannelTransport:Wu,ErrorCode:jo,EventType:ko,WebChannel:Cs,XhrIo:ai}},395:(ci,bt,Et)=>{"use strict";function Z(Dn){return Dn&&"object"==typeof Dn&&"default"in Dn?Dn:{default:Dn}}var re=Z(Et(279));re.default.registerVersion("firebase","7.24.0","app"),ci.exports=re.default},117:(ci,bt,Et)=>{"use strict";var te=Et(279);function Z(In){return In&&"object"==typeof In&&"default"in In?In:{default:In}}Et(3),Et(614),Et(910),Et(800),Et(450),Et(35),Et(62),Et(51),Et(136);var re=Z(te);re.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),re.default.registerVersion("firebase","7.24.0"),ci.exports=re.default},676:function(ci,bt){!function(Et){"use strict";function te(Le){return Array.prototype.slice.call(Le)}function Z(Le){return new Promise(function(dt,et){Le.onsuccess=function(){dt(Le.result)},Le.onerror=function(){et(Le.error)}})}function re(Le,dt,et){var Bt,Ft=new Promise(function(at,Je){Z(Bt=Le[dt].apply(Le,et)).then(at,Je)});return Ft.request=Bt,Ft}function Nt(Le,dt,et){var Bt=re(Le,dt,et);return Bt.then(function(Ft){if(Ft)return new Y(Ft,Bt.request)})}function ot(Le,dt,et){et.forEach(function(Bt){Object.defineProperty(Le.prototype,Bt,{get:function(){return this[dt][Bt]},set:function(Ft){this[dt][Bt]=Ft}})})}function Dn(Le,dt,et,Bt){Bt.forEach(function(Ft){Ft in et.prototype&&(Le.prototype[Ft]=function(){return re(this[dt],Ft,arguments)})})}function Lt(Le,dt,et,Bt){Bt.forEach(function(Ft){Ft in et.prototype&&(Le.prototype[Ft]=function(){return this[dt][Ft].apply(this[dt],arguments)})})}function In(Le,dt,et,Bt){Bt.forEach(function(Ft){Ft in et.prototype&&(Le.prototype[Ft]=function(){return Nt(this[dt],Ft,arguments)})})}function be(Le){this._index=Le}function Y(Le,dt){this._cursor=Le,this._request=dt}function nt(Le){this._store=Le}function st(Le){this._tx=Le,this.complete=new Promise(function(dt,et){Le.oncomplete=function(){dt()},Le.onerror=function(){et(Le.error)},Le.onabort=function(){et(Le.error)}})}function Ne(Le,dt,et){this._db=Le,this.oldVersion=dt,this.transaction=new st(et)}function ft(Le){this._db=Le}ot(be,"_index",["name","keyPath","multiEntry","unique"]),Dn(be,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),In(be,"_index",IDBIndex,["openCursor","openKeyCursor"]),ot(Y,"_cursor",["direction","key","primaryKey","value"]),Dn(Y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Le){Le in IDBCursor.prototype&&(Y.prototype[Le]=function(){var dt=this,et=arguments;return Promise.resolve().then(function(){return dt._cursor[Le].apply(dt._cursor,et),Z(dt._request).then(function(Bt){if(Bt)return new Y(Bt,dt._request)})})})}),nt.prototype.createIndex=function(){return new be(this._store.createIndex.apply(this._store,arguments))},nt.prototype.index=function(){return new be(this._store.index.apply(this._store,arguments))},ot(nt,"_store",["name","keyPath","indexNames","autoIncrement"]),Dn(nt,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),In(nt,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Lt(nt,"_store",IDBObjectStore,["deleteIndex"]),st.prototype.objectStore=function(){return new nt(this._tx.objectStore.apply(this._tx,arguments))},ot(st,"_tx",["objectStoreNames","mode"]),Lt(st,"_tx",IDBTransaction,["abort"]),Ne.prototype.createObjectStore=function(){return new nt(this._db.createObjectStore.apply(this._db,arguments))},ot(Ne,"_db",["name","version","objectStoreNames"]),Lt(Ne,"_db",IDBDatabase,["deleteObjectStore","close"]),ft.prototype.transaction=function(){return new st(this._db.transaction.apply(this._db,arguments))},ot(ft,"_db",["name","version","objectStoreNames"]),Lt(ft,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Le){[nt,be].forEach(function(dt){Le in dt.prototype&&(dt.prototype[Le.replace("open","iterate")]=function(){var et=te(arguments),Bt=et[et.length-1],Ft=this._store||this._index,at=Ft[Le].apply(Ft,et.slice(0,-1));at.onsuccess=function(){Bt(at.result)}})})}),[be,nt].forEach(function(Le){Le.prototype.getAll||(Le.prototype.getAll=function(dt,et){var Bt=this,Ft=[];return new Promise(function(at){Bt.iterateCursor(dt,function(Je){Je?(Ft.push(Je.value),void 0===et||Ft.length!=et?Je.continue():at(Ft)):at(Ft)})})})}),Et.openDb=function(Le,dt,et){var Bt=re(indexedDB,"open",[Le,dt]),Ft=Bt.request;return Ft&&(Ft.onupgradeneeded=function(at){et&&et(new Ne(Ft.result,at.oldVersion,Ft.transaction))}),Bt.then(function(at){return new ft(at)})},Et.deleteDb=function(Le){return re(indexedDB,"deleteDatabase",[Le])},Object.defineProperty(Et,"__esModule",{value:!0})}(bt)},246:(ci,bt,Et)=>{"use strict";function te(n){return"function"==typeof n}let Z=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Z&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Z=n},get useDeprecatedSynchronousErrorHandling(){return Z}};function Nt(n){setTimeout(()=>{throw n},0)}const ot={closed:!0,next(n){},error(n){if(re.useDeprecatedSynchronousErrorHandling)throw n;Nt(n)},complete(){}},Dn=Array.isArray||(n=>n&&"number"==typeof n.length);function Lt(n){return null!==n&&"object"==typeof n}const be=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Y{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Y)e.remove(this);else if(null!==e)for(let l=0;l<e.length;++l)e[l].remove(this);if(te(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){t=l instanceof be?nt(l.errors):[l]}}if(Dn(s)){let l=-1,p=s.length;for(;++l<p;){const v=s[l];if(Lt(v))try{v.unsubscribe()}catch(E){t=t||[],E instanceof be?t=t.concat(nt(E.errors)):t.push(E)}}}if(t)throw new be(t)}add(t){let e=t;if(!t)return Y.EMPTY;switch(typeof t){case"function":e=new Y(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Y)){const s=e;e=new Y,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=e;if(null===r)e._parentOrParents=this;else if(r instanceof Y){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}}}var n;function nt(n){return n.reduce((t,e)=>t.concat(e instanceof be?e.errors:e),[])}Y.EMPTY=((n=new Y).closed=!0,n);const st="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ft extends Y{constructor(t,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ot;break;case 1:if(!t){this.destination=ot;break}if("object"==typeof t){t instanceof ft?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new wn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new wn(this,t,e,r)}}[st](){return this}static create(t,e,r){const i=new ft(t,e,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class wn extends ft{constructor(t,e,r,i){super(),this._parentSubscriber=t;let s,l=this;te(e)?s=e:e&&(s=e.next,r=e.error,i=e.complete,e!==ot&&(l=Object.create(e),te(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=s,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;re.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=re;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Nt(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Nt(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);re.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),re.useDeprecatedSynchronousErrorHandling)throw r;Nt(r)}}__tryOrSetError(t,e,r){if(!re.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(i){return re.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Nt(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const dt="function"==typeof Symbol&&Symbol.observable||"@@observable";function et(n){return n}let at=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const{operator:s}=this,l=function(n,t,e){if(n){if(n instanceof ft)return n;if(n[st])return n[st]()}return n||t||e?new ft(n,t,e):new ft(ot)}(e,r,i);if(l.add(s?s.call(l,this.source):this.source||re.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),re.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(e){try{return this._subscribe(e)}catch(r){re.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function(n){for(;n;){const{closed:t,destination:e,isStopped:r}=n;if(t||r)return!1;n=e&&e instanceof ft?e:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=Je(r))((i,s)=>{let l;l=this.subscribe(p=>{try{e(p)}catch(v){s(v),l&&l.unsubscribe()}},s,i)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[dt](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?et:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=Je(e))((r,i)=>{let s;this.subscribe(l=>s=l,l=>i(l),()=>r(s))})}}return n.create=t=>new n(t),n})();function Je(n){if(n||(n=re.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const M=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class O extends Y{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class I extends ft{constructor(t){super(t),this.destination=t}}let F=(()=>{class n extends at{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[st](){return new I(this)}lift(e){const r=new H(this,this);return r.operator=e,r}next(e){if(this.closed)throw new M;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let l=0;l<i;l++)s[l].next(e)}}error(e){if(this.closed)throw new M;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let l=0;l<i;l++)s[l].error(e);this.observers.length=0}complete(){if(this.closed)throw new M;this.isStopped=!0;const{observers:e}=this,r=e.length,i=e.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new M;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new M;return this.hasError?(e.error(this.thrownError),Y.EMPTY):this.isStopped?(e.complete(),Y.EMPTY):(this.observers.push(e),new O(this,e))}asObservable(){const e=new at;return e.source=this,e}}return n.create=(t,e)=>new H(t,e),n})();class H extends F{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Y.EMPTY}}function R(n){return n&&"function"==typeof n.schedule}function K(n,t){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new le(n,t))}}class le{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Tt(t,this.project,this.thisArg))}}class Tt extends ft{constructor(t,e,r){super(t),this.project=e,this.count=0,this.thisArg=r||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const se=n=>t=>{for(let e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()},xe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",tn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Rt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const nn=n=>{if(n&&"function"==typeof n[dt])return(n=>t=>{const e=n[dt]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(tn(n))return se(n);if(Rt(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Nt),t))(n);if(n&&"function"==typeof n[xe])return(n=>t=>{const e=n[xe]();for(;;){let r;try{r=e.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Lt(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function jn(n,t){return new at(e=>{const r=new Y;let i=0;return r.add(t.schedule(function(){i!==n.length?(e.next(n[i++]),e.closed||r.add(this.schedule())):e.complete()})),r})}function on(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[dt]}(n))return function(n,t){return new at(e=>{const r=new Y;return r.add(t.schedule(()=>{const i=n[dt]();r.add(i.subscribe({next(s){r.add(t.schedule(()=>e.next(s)))},error(s){r.add(t.schedule(()=>e.error(s)))},complete(){r.add(t.schedule(()=>e.complete()))}}))})),r})}(n,t);if(Rt(n))return function(n,t){return new at(e=>{const r=new Y;return r.add(t.schedule(()=>n.then(i=>{r.add(t.schedule(()=>{e.next(i),r.add(t.schedule(()=>e.complete()))}))},i=>{r.add(t.schedule(()=>e.error(i)))}))),r})}(n,t);if(tn(n))return jn(n,t);if(function(n){return n&&"function"==typeof n[xe]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new at(e=>{const r=new Y;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=n[xe](),r.add(t.schedule(function(){if(e.closed)return;let s,l;try{const p=i.next();s=p.value,l=p.done}catch(p){return void e.error(p)}l?e.complete():(e.next(s),this.schedule())}))})),r})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof at?n:new at(nn(n))}class Kt extends ft{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class nr extends ft{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function sr(n,t){if(t.closed)return;if(n instanceof at)return n.subscribe(t);let e;try{e=nn(n)(t)}catch(r){t.error(r)}return e}function Hn(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Hn((i,s)=>on(n(i,s)).pipe(K((l,p)=>t(i,l,s,p))),e)):("number"==typeof t&&(e=t),r=>r.lift(new si(n,e)))}class si{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Or(t,this.project,this.concurrent))}}class Or extends nr{constructor(t,e,r=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Kt(this),r=this.destination;r.add(e);const i=sr(t,e);i!==e&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function xn(n=Number.POSITIVE_INFINITY){return Hn(et,n)}function hi(n,t){return t?jn(n,t):new at(se(n))}function je(...n){let t=Number.POSITIVE_INFINITY,e=null,r=n[n.length-1];return R(r)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof r&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof at?n[0]:xn(t)(hi(n,e))}function me(){return function(t){return t.lift(new qe(t))}}class qe{constructor(t){this.connectable=t}call(t,e){const{connectable:r}=this;r._refCount++;const i=new Xe(t,r),s=e.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class Xe extends ft{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,i=t._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Ue extends at{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Y,t.add(this.source.subscribe(new zt(this.getSubject(),this))),t.closed&&(this._connection=null,t=Y.EMPTY)),t}refCount(){return me()(this)}}const Wt=(()=>{const n=Ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class zt extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Xn(){return new F}function Ir(){return n=>me()(function(n,t){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,Wt);return s.source=r,s.subjectFactory=i,s}}(Xn)(n))}function an(n){for(let t in n)if(n[t]===an)return t;throw Error("Could not find renamed property on target object.")}function fi(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function rn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(rn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Tr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const co=an({__forward_ref__:an});function Ln(n){return n.__forward_ref__=Ln,n.toString=function(){return rn(this())},n}function un(n){return Gi(n)?n():n}function Gi(n){return"function"==typeof n&&n.hasOwnProperty(co)&&n.__forward_ref__===Ln}class Be extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function Mt(n,t){const e=t?` in ${t}`:"";throw new Be("201",`No provider for ${rt(n)} found${e}`)}function Ce(n,t){null==n&&function(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ur(n){return rr(n,eo)||rr(n,ko)}function rr(n,t){return n.hasOwnProperty(t)?n[t]:null}function js(n){return n&&(n.hasOwnProperty(jo)||n.hasOwnProperty(Cu))?n[jo]:null}const eo=an({\u0275prov:an}),jo=an({\u0275inj:an}),ko=an({ngInjectableDef:an}),Cu=an({ngInjectorDef:an});var Rn=(()=>((Rn=Rn||{})[Rn.Default=0]="Default",Rn[Rn.Host=1]="Host",Rn[Rn.Self=2]="Self",Rn[Rn.SkipSelf=4]="SkipSelf",Rn[Rn.Optional=8]="Optional",Rn))();let Cs;function to(n){const t=Cs;return Cs=n,t}function ns(n,t,e){const r=ur(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Rn.Optional?null:void 0!==t?t:void Mt(rn(n),"Injector")}function ho(n){return{toString:n}.toString()}var Pi=(()=>((Pi=Pi||{})[Pi.OnPush=0]="OnPush",Pi[Pi.Default=1]="Default",Pi))(),ir=(()=>((ir=ir||{})[ir.Emulated=0]="Emulated",ir[ir.None=2]="None",ir[ir.ShadowDom=3]="ShadowDom",ir))();const no="undefined"!=typeof globalThis&&globalThis,zn="undefined"!=typeof window&&window,Wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tn=no||"undefined"!=typeof global&&global||zn||Wi,Hi={},$t=[],Gn=an({\u0275cmp:an}),zs=an({\u0275dir:an}),qo=an({\u0275pipe:an}),Go=an({\u0275mod:an}),Co=an({\u0275loc:an}),ki=an({\u0275fac:an}),Jn=an({__NG_ELEMENT_ID__:an});let No=0;function mr(n){return ho(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,id:"c",styles:n.styles||$t,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,l=n.pipes;return r.id+=No++,r.inputs=ga(n.inputs,e),r.outputs=ga(n.outputs),s&&s.forEach(p=>p(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(qs):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(Es):null,r})}function qs(n){return Xr(n)||function(n){return n[zs]||null}(n)}function Es(n){return function(n){return n[qo]||null}(n)}const Gs={};function Vn(n){return ho(()=>{const t={type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Gs[n.id]=n.type),t})}function ga(n,t){if(null==n)return Hi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}const Dt=mr;function Ni(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xr(n){return n[Gn]||null}function X(n,t){const e=n[Go]||null;if(!e&&!0===t)throw new Error(`Type ${rn(n)} does not have '\u0275mod' property.`);return e}function Wo(n){return Array.isArray(n)&&"object"==typeof n[1]}function Li(n){return Array.isArray(n)&&!0===n[1]}function $s(n){return 0!=(8&n.flags)}function Eo(n){return 2==(2&n.flags)}function Is(n){return 1==(1&n.flags)}function So(n){return null!==n.template}function Ts(n){return 0!=(512&n[2])}function mo(n,t){return n.hasOwnProperty(ki)?n[ki]:null}class Xs{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function qr(){return Va}function Va(n){return n.type.prototype.ngOnChanges&&(n.setInput=Iu),Qr}function Qr(){const n=ii(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Hi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Iu(n,t,e,r){const i=ii(n)||function(n,t){return n[jt]=t}(n,{previous:Hi,current:null}),s=i.current||(i.current={}),l=i.previous,p=this.declaredInputs[e],v=l[p];s[p]=new Xs(v&&v.currentValue,t,l===Hi),n[r]=t}qr.ngInherit=!0;const jt="__ngSimpleChanges__";function ii(n){return n[jt]||null}const $u="http://www.w3.org/2000/svg";let di;function oe(n){return!!n.listen}const Ze={createRenderer:(n,t)=>void 0!==di?di:"undefined"!=typeof document?document:void 0};function Nn(n){for(;Array.isArray(n);)n=n[0];return n}function so(n,t){return Nn(t[n])}function Ci(n,t){return Nn(t[n.index])}function Os(n,t){return n.data[t]}function Zr(n,t){return n[t]}function Vr(n,t){const e=t[n];return Wo(e)?e:e[0]}function Tu(n){return 4==(4&n[2])}function cc(n){return 128==(128&n[2])}function ya(n,t){return null==t?null:n[t]}function Ba(n){n[18]=0}function Dl(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Wn={lFrame:fc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function y(){return Wn.bindingsEnabled}function b(){return Wn.lFrame.lView}function D(){return Wn.lFrame.tView}function x(n){return Wn.lFrame.contextLView=n,n[8]}function z(){let n=Q();for(;null!==n&&64===n.type;)n=n.parent;return n}function Q(){return Wn.lFrame.currentTNode}function ae(n,t){const e=Wn.lFrame;e.currentTNode=n,e.isParent=t}function He(){return Wn.lFrame.isParent}function it(){Wn.lFrame.isParent=!1}function Zt(){return Wn.isInCheckNoChangesMode}function ln(n){Wn.isInCheckNoChangesMode=n}function $n(){const n=Wn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function $i(){return Wn.lFrame.bindingIndex++}function fs(n,t){const e=Wn.lFrame;e.bindingIndex=e.bindingRootIndex=n,tf(t)}function tf(n){Wn.lFrame.currentDirectiveIndex=n}function ah(n){const t=Wn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function uh(){return Wn.lFrame.currentQueryIndex}function hc(n){Wn.lFrame.currentQueryIndex=n}function Du(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Mu(n,t,e){if(e&Rn.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&Rn.Host||(i=Du(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,n=s}const r=Wn.lFrame=nf();return r.currentTNode=t,r.lView=n,!0}function Ml(n){const t=nf(),e=n[1];Wn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function nf(){const n=Wn.lFrame,t=null===n?null:n.child;return null===t?fc(n):t}function fc(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function rd(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ja=rd;function au(){const n=rd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $o(){return Wn.lFrame.selectedIndex}function Qu(n){Wn.lFrame.selectedIndex=n}function ro(){const n=Wn.lFrame;return Os(n.tView,n.selectedIndex)}function Ko(){Wn.lFrame.currentNamespace=$u}function Ei(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:A}=s;l&&(n.contentHooks||(n.contentHooks=[])).push(-e,l),p&&((n.contentHooks||(n.contentHooks=[])).push(e,p),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,p)),v&&(n.viewHooks||(n.viewHooks=[])).push(-e,v),E&&((n.viewHooks||(n.viewHooks=[])).push(e,E),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,E)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(e,A)}}function xs(n,t,e){Rs(n,t,3,e)}function Lo(n,t,e,r){(3&n[2])===e&&Rs(n,t,e,r)}function To(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Rs(n,t,e,r){const s=null!=r?r:-1,l=t.length-1;let p=0;for(let v=void 0!==r?65535&n[18]:0;v<l;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(n[18]+=65536),(p<s||-1==s)&&(Xu(n,e,t,v),n[18]=(4294901760&n[18])+v+2),v++}function Xu(n,t,e,r){const i=e[r]<0,s=e[r+1],p=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(p)}finally{}}}else try{s.call(p)}finally{}}class Zs{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Rl(n,t,e){const r=oe(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const l=e[i++],p=e[i++],v=e[i++];r?n.setAttribute(t,p,v,l):t.setAttributeNS(l,p,v)}else{const l=s,p=e[++i];ds(l)?r&&n.setProperty(t,l,p):r?n.setAttribute(t,l,p):t.setAttribute(l,p),i++}}return i}function lh(n){return 3===n||4===n||6===n}function ds(n){return 64===n.charCodeAt(0)}function Ha(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||ch(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function ch(n,t,e,r,i){let s=0,l=n.length;if(-1===t)l=-1;else for(;s<n.length;){const p=n[s++];if("number"==typeof p){if(p===t){l=-1;break}if(p>t){l=s-1;break}}}for(;s<n.length;){const p=n[s];if("number"==typeof p)break;if(p===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==l&&(n.splice(l,0,t),s=l+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function dc(n){return-1!==n}function xu(n){return 32767&n}function pc(n,t){let e=function(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let gc=!0;function Zu(n){const t=gc;return gc=n,t}let tl=0;function Pl(n,t){const e=of(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,hh(r.data,n),hh(t,null),hh(r.blueprint,null));const i=wa(n,t),s=n.injectorIndex;if(dc(i)){const l=xu(i),p=pc(i,t),v=p[1].data;for(let E=0;E<8;E++)t[s+E]=p[l+E]|v[l+E]}return t[s+8]=i,s}function hh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function of(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function wa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const s=i[1],l=s.type;if(r=2===l?s.declTNode:1===l?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function ps(n,t,e){!function(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Jn)&&(r=e[Jn]),null==r&&(r=e[Jn]=tl++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function ad(n,t,e){if(e&Rn.Optional)return n;Mt(t,"NodeInjector")}function sf(n,t,e,r){if(e&Rn.Optional&&void 0===r&&(r=null),0==(e&(Rn.Self|Rn.Host))){const i=n[9],s=to(void 0);try{return i?i.get(t,r,e&Rn.Optional):ns(t,r,e&Rn.Optional)}finally{to(s)}}return ad(r,t,e)}function ud(n,t,e,r=Rn.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Jn)?n[Jn]:void 0;return"number"==typeof t?t>=0?255&t:af:t}(e);if("function"==typeof s){if(!Mu(t,n,r))return r&Rn.Host?ad(i,e,r):sf(t,e,r,i);try{const l=s(r);if(null!=l||r&Rn.Optional)return l;Mt(e)}finally{ja()}}else if("number"==typeof s){let l=null,p=of(n,t),v=-1,E=r&Rn.Host?t[16][6]:null;for((-1===p||r&Rn.SkipSelf)&&(v=-1===p?wa(n,t):t[p+8],-1!==v&&uf(r,!1)?(l=t[1],p=xu(v),t=pc(v,t)):p=-1);-1!==p;){const A=t[1];if(nl(s,p,A.data)){const U=_c(p,t,e,l,r,E);if(U!==ld)return U}v=t[p+8],-1!==v&&uf(r,t[1].data[p+8]===E)&&nl(s,p,t)?(l=A,p=xu(v),t=pc(v,t)):p=-1}}}return sf(t,e,r,i)}const ld={};function af(){return new lu(z(),b())}function _c(n,t,e,r,i,s){const l=t[1],p=l.data[n+8],A=kl(p,l,e,null==r?Eo(p)&&gc:r!=l&&0!=(3&p.type),i&Rn.Host&&s===p);return null!==A?uu(t,l,A,p):ld}function kl(n,t,e,r,i){const s=n.providerIndexes,l=t.data,p=1048575&s,v=n.directiveStart,A=s>>20,G=i?p+A:n.directiveEnd;for(let J=r?p:p+A;J<G;J++){const he=l[J];if(J<v&&e===he||J>=v&&he.type===e)return J}if(i){const J=l[v];if(J&&So(J)&&J.type===e)return v}return null}function uu(n,t,e,r){let i=n[e];const s=t.data;if(function(n){return n instanceof Zs}(i)){const l=i;l.resolving&&function(n,t){throw new Be("200",`Circular dependency in DI detected for ${n}`)}(rt(s[e]));const p=Zu(l.canSeeViewProviders);l.resolving=!0;const v=l.injectImpl?to(l.injectImpl):null;Mu(n,r,Rn.Default);try{i=n[e]=l.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const l=Va(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==v&&to(v),Zu(p),l.resolving=!1,ja()}}return i}function nl(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function uf(n,t){return!(n&Rn.Self||n&Rn.Host&&t)}class lu{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return ud(this._tNode,this._lView,t,r,e)}}function ei(n){return ho(()=>{const t=n.prototype.constructor,e=t[ki]||yc(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ki]||yc(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yc(n){return Gi(n)?()=>{const t=yc(un(n));return t&&t()}:mo(n)}function Ca(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(lh(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(z(),n)}const Ru="__parameters__";function bo(n,t,e){return ho(()=>{const r=function(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const l=new i(...s);return p.annotation=l,p;function p(v,E,A){const U=v.hasOwnProperty(Ru)?v[Ru]:Object.defineProperty(v,Ru,{value:[]})[Ru];for(;U.length<=A;)U.push(null);return(U[A]=U[A]||[]).push(l),v}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cc=new Xt("AnalyzeForEntryComponents"),rl=Function;function gs(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),gs(r,t)):t!==n&&t.push(r)}return t}function ms(n,t){n.forEach(e=>Array.isArray(e)?ms(e,t):t(e))}function Sc(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ku(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function za(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function _s(n,t,e){let r=ta(n,t);return r>=0?n[1|r]=e:(r=~r,function(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Nu(n,t){const e=ta(n,t);if(e>=0)return n[1|e]}function ta(n,t){return function(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),l=n[s<<e];if(t===l)return s<<e;l>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const il={},Vl="__NG_DI_FLAG__",hu="ngTempTokenPath",Pp=/\n/gm,pd="__source",gd=an({provide:String,useValue:an});let mh;function Ul(n){const t=mh;return mh=n,t}function kp(n,t=Rn.Default){if(void 0===mh)throw new Error("inject() must be called from an injection context");return null===mh?ns(n,void 0,t):mh.get(n,t&Rn.Optional?null:void 0,t)}function Ae(n,t=Rn.Default){return(Cs||kp)(un(n),t)}const Mc=Ae;function Ea(n){const t=[];for(let e=0;e<n.length;e++){const r=un(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=Rn.Default;for(let l=0;l<r.length;l++){const p=r[l],v=Mm(p);"number"==typeof v?-1===v?i=p.token:s|=v:i=p}t.push(Ae(i,s))}else t.push(Ae(r))}return t}function qa(n,t){return n[Vl]=t,n.prototype[Vl]=t,n}function Mm(n){return n[Vl]}function na(n,t,e,r){const i=n[hu];throw t[pd]&&i.unshift(t[pd]),n.message=function(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=rn(t);if(Array.isArray(t))i=t.map(rn).join(" -> ");else if("object"==typeof t){let s=[];for(let l in t)if(t.hasOwnProperty(l)){let p=t[l];s.push(l+":"+("string"==typeof p?JSON.stringify(p):rn(p)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Pp,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[hu]=null,n}const Ui=qa(bo("Inject",n=>({token:n})),-1),Yi=qa(bo("Optional"),8),ks=qa(bo("SkipSelf"),4);let Sh;function jl(n){var t;return(null===(t=function(){if(void 0===Sh&&(Sh=null,Tn.trustedTypes))try{Sh=Tn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Sh}())||void 0===t?void 0:t.createHTML(n))||n}class zl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kc extends zl{getTypeName(){return"HTML"}}class sl extends zl{getTypeName(){return"Style"}}class wd extends zl{getTypeName(){return"Script"}}class Fp extends zl{getTypeName(){return"URL"}}class Cd extends zl{getTypeName(){return"ResourceURL"}}function Si(n){return n instanceof zl?n.changingThisBreaksApplicationSecurity:n}function ia(n,t){const e=Lu(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Lu(n){return n instanceof zl&&n.getTypeName()||null}class _f{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ed{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jl(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=jl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const l=e.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&t.removeAttribute(l)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Nc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gl(n){return(n=String(n)).match(Nc)||n.match(Fc)?n:"unsafe:"+n}function Sd(n){return(n=String(n)).split(",").map(t=>Gl(t.trim())).join(", ")}function Wa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function oa(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Vp=Wa("area,br,col,hr,img,wbr"),bf=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Up=Wa("rp,rt"),a=oa(Vp,oa(bf,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oa(Up,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oa(Up,bf)),u=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d=Wa("srcset"),T=oa(u,d,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),P=Wa("script,style,template");class j{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!a.hasOwnProperty(e))return this.sanitizedSomething=!0,!P.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),l=s.name,p=l.toLowerCase();if(!T.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let v=s.value;u[p]&&(v=Gl(v)),d[p]&&(v=Sd(v)),this.buf.push(" ",l,'="',Te(v),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();a.hasOwnProperty(e)&&!Vp.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Te(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fe=/([^\#-~ |!])/g;function Te(n){return n.replace(/&/g,"&amp;").replace(ne,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let De;function We(n,t){let e=null;try{De=De||function(n){const t=new Ed(n);return function(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch(n){return!1}}()?new _f(t):t}(n);let r=t?String(t):"";e=De.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=De.getInertBodyElement(r)}while(r!==s);return jl((new j).sanitizeChildren(ut(e)||e))}finally{if(e){const r=ut(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ut(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();const Ta="__ngContext__";function Qi(n,t){n[Ta]=t}function km(n){const t=function(n){return n[Ta]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Td(n){return n.ngOriginalError}function jm(n,...t){n.error(...t)}class gu{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=this._findContext(t),i=function(n){return n&&n.ngErrorLogger||jm}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Td(t)):null}_findOriginalError(t){let e=t&&Td(t);for(;e&&Td(e);)e=Td(e);return e||null}}const qm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tn))();function Ah(n){return n.ownerDocument.defaultView}function mu(n){return n instanceof Function?n():n}var sa=(()=>((sa=sa||{})[sa.Important=1]="Important",sa[sa.DashCase=2]="DashCase",sa))();function Wm(n,t){return undefined(n,t)}function al(n){const t=n[3];return Li(t)?t[3]:t}function Dd(n){return Uc(n[13])}function Oh(n){return Uc(n[4])}function Uc(n){for(;null!==n&&!Li(n);)n=n[4];return n}function Ef(n,t,e,r,i){if(null!=r){let s,l=!1;Li(r)?s=r:Wo(r)&&(l=!0,r=r[0]);const p=Nn(r);0===n&&null!==e?null==i?hy(t,e,p):jc(t,e,p,i||null,!0):1===n&&null!==e?jc(t,e,p,i||null,!0):2===n?function(n,t,e){const r=Yp(n,t);r&&function(n,t,e,r){oe(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,p,l):3===n&&t.destroyNode(p),null!=s&&function(n,t,e,r,i){const s=e[7];s!==Nn(e)&&Ef(t,n,r,s,i);for(let p=10;p<e.length;p++){const v=e[p];Tf(v[1],v,n,t,r,s)}}(t,n,s,e,i)}}function Ym(n,t,e){return oe(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Xm(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Dl(i,-1)),e.splice(r,1)}function Jm(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&Xm(i,r),t>0&&(n[e-1][4]=r[4]);const s=ku(n,10+t);!function(n,t){Tf(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=s[19];null!==l&&l.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Zm(n,t){if(!(256&t[2])){const e=t[11];oe(e)&&e.destroyNode&&Tf(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Ad(n[1],n);for(;t;){let e=null;if(Wo(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Wo(t)&&Ad(t[1],t),t=t[3];null===t&&(t=n),Wo(t)&&Ad(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ad(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Zs)){const s=e[r+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const p=i[s[l]],v=s[l+1];try{v.call(p)}finally{}}else try{s.call(i)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const l=e[s+1],p="function"==typeof l?l(t):Nn(t[l]),v=r[i=e[s+2]],E=e[s+3];"boolean"==typeof E?p.removeEventListener(e[s],v,E):E>=0?r[i=E]():r[i=-E].unsubscribe(),s+=2}else{const l=r[i=e[s+1]];e[s].call(l)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(n,t),1===t[1].type&&oe(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Li(t[3])){e!==t[3]&&Xm(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function $p(n,t,e){return function(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ir.None||i===ir.Emulated)return null}return Ci(r,e)}(n,t.parent,e)}function jc(n,t,e,r,i){oe(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function hy(n,t,e){oe(n)?n.appendChild(t,e):t.appendChild(e)}function n_(n,t,e,r,i){null!==r?jc(n,t,e,r,i):hy(n,t,e)}function Yp(n,t){return oe(n)?n.parentNode(t):t.parentNode}function fy(n,t,e){return i_(n,t,e)}let i_=function(n,t,e){return 40&n.type?Ci(n,e):null};function Qp(n,t,e,r){const i=$p(n,r,t),s=t[11],p=fy(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let v=0;v<e.length;v++)n_(s,i,e[v],p,!1);else n_(s,i,e,p,!1)}function Sf(n,t){if(null!==t){const e=t.type;if(3&e)return Ci(t,n);if(4&e)return xd(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Sf(n,r);{const i=n[t.index];return Li(i)?xd(-1,i):Nn(i)}}if(32&e)return Wm(t,n)()||Nn(n[t.index]);{const r=py(n,t);return null!==r?Array.isArray(r)?r[0]:Sf(al(n[16]),r):Sf(n,t.next)}}return null}function py(n,t){return null!==t?n[16][6].projection[t.projection]:null}function xd(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Sf(r,i)}return t[7]}function If(n,t,e,r,i,s,l){for(;null!=e;){const p=r[e.index],v=e.type;if(l&&0===t&&(p&&Qi(Nn(p),r),e.flags|=4),64!=(64&e.flags))if(8&v)If(n,t,e.child,r,i,s,!1),Ef(t,n,i,p,s);else if(32&v){const E=Wm(e,r);let A;for(;A=E();)Ef(t,n,i,A,s);Ef(t,n,i,p,s)}else 16&v?o_(n,t,r,e,i,s):Ef(t,n,i,p,s);e=l?e.projectionNext:e.next}}function Tf(n,t,e,r,i,s){If(e,r,n.firstChild,t,i,s,!1)}function o_(n,t,e,r,i,s){const l=e[16],v=l[6].projection[r.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)Ef(t,n,i,v[E],s);else If(n,t,v,l[3],i,s,!0)}function vy(n,t,e){oe(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function a_(n,t,e){oe(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function u_(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}const l_="ng-template";function by(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==u_(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Xp(n){return 4===n.type&&n.value!==l_}function wy(n,t,e){return t===(4!==n.type||e?n.value:l_)}function Cy(n,t,e){let r=4;const i=n.attrs||[],s=function(n){for(let t=0;t<n.length;t++)if(lh(n[t]))return t;return n.length}(i);let l=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!l)if(4&r){if(r=2|1&r,""!==v&&!wy(n,v,e)||""===v&&1===t.length){if(Da(r))return!1;l=!0}}else{const E=8&r?v:t[++p];if(8&r&&null!==n.attrs){if(!by(n.attrs,E,e)){if(Da(r))return!1;l=!0}continue}const U=Ey(8&r?"class":v,i,Xp(n),e);if(-1===U){if(Da(r))return!1;l=!0;continue}if(""!==E){let G;G=U>s?"":i[U+1].toLowerCase();const J=8&r?G:null;if(J&&-1!==u_(J,E,0)||2&r&&E!==G){if(Da(r))return!1;l=!0}}}}else{if(!l&&!Da(r)&&!Da(v))return!1;if(l&&Da(v))continue;l=!1,r=v|1&r}}return Da(r)||l}function Da(n){return 0==(1&n)}function Ey(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)s=!0;else{if(1===l||2===l){let p=t[++i];for(;"string"==typeof p;)p=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=s?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Rd(n,t,e=!1){for(let r=0;r<t.length;r++)if(Cy(n,t[r],e))return!0;return!1}function xh(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Iy(n,t){return n?":not("+t.trim()+")":t}function Ty(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const p=n[++e];i+="["+l+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!Da(l)&&(t+=Iy(s,i),i=""),r=l,s=s||!Da(r);e++}return""!==i&&(t+=Iy(s,i)),t}const _r={};function en(n){My(D(),b(),$o()+n,Zt())}function My(n,t,e,r){if(!r)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&xs(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Lo(t,s,0,e)}Qu(e)}function Df(n,t){return n<<17|t<<2}function _u(n){return n>>17&32767}function Jp(n){return 2|n}function ul(n){return(131068&n)>>2}function f_(n,t){return-131069&n|t<<2}function Pd(n){return 1|n}function Of(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const l=n.data[s];hc(i),l.contentQueries(2,t[s],s)}}}function xf(n,t,e,r,i,s,l,p,v,E){const A=t.blueprint.slice();return A[0]=i,A[2]=140|r,Ba(A),A[3]=A[15]=n,A[8]=e,A[10]=l||n&&n[10],A[11]=p||n&&n[11],A[12]=v||n&&n[12]||null,A[9]=E||n&&n[9]||null,A[6]=s,A[16]=2==t.type?n[16]:A,A}function kh(n,t,e,r,i){let s=n.data[t];if(null===s)s=function(n,t,e,r,i){const s=Q(),l=He(),v=n.data[t]=function(n,t,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=v),null!==s&&(l?null==s.child&&null!==v.parent&&(s.child=v):null===s.next&&(s.next=v)),v}(n,t,e,r,i),Wn.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const l=function(){const n=Wn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===l?-1:l.injectorIndex}return ae(s,!0),s}function Rf(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Pf(n,t,e){Ml(t);try{const r=n.viewQuery;null!==r&&jd(1,r,e);const i=n.template;null!==i&&Hy(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Of(n,t),n.staticViewQueries&&jd(2,n.viewQuery,e);const s=n.components;null!==s&&function(n,t){for(let e=0;e<t.length;e++)r0(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,au()}}function kf(n,t,e,r){const i=t[2];if(256==(256&i))return;Ml(t);const s=Zt();try{Ba(t),function(n){Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Hy(n,t,e,2,r);const l=3==(3&i);if(!s)if(l){const E=n.preOrderCheckHooks;null!==E&&xs(t,E,null)}else{const E=n.preOrderHooks;null!==E&&Lo(t,E,0,null),To(t,0)}if(function(n){for(let t=Dd(n);null!==t;t=Oh(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&Dl(s,1),i[2]|=1024}}}(t),function(n){for(let t=Dd(n);null!==t;t=Oh(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];cc(r)&&kf(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Of(n,t),!s)if(l){const E=n.contentCheckHooks;null!==E&&xs(t,E)}else{const E=n.contentHooks;null!==E&&Lo(t,E,1),To(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Qu(~i);else{const s=i,l=e[++r],p=e[++r];fs(l,s),p(2,t[s])}}}finally{Qu(-1)}}(n,t);const p=n.components;null!==p&&function(n,t){for(let e=0;e<t.length;e++)S_(n,t[e])}(t,p);const v=n.viewQuery;if(null!==v&&jd(2,v,r),!s)if(l){const E=n.viewCheckHooks;null!==E&&xs(t,E)}else{const E=n.viewHooks;null!==E&&Lo(t,E,2),To(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Dl(t[3],-1))}finally{au()}}function JC(n,t,e,r){const i=t[10],s=!Zt(),l=Tu(t);try{s&&!l&&i.begin&&i.begin(),l&&Pf(n,t,r),kf(n,t,e,r)}finally{s&&!l&&i.end&&i.end()}}function Hy(n,t,e,r,i){const s=$o(),l=2&r;try{Qu(-1),l&&t.length>20&&My(n,t,20,Zt()),e(r,i)}finally{Qu(s)}}function ag(n,t,e){if($s(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const l=n.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}}function ug(n,t,e){!y()||(function(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Pl(e,t),Qi(r,t);const l=e.initialInputs;for(let p=i;p<s;p++){const v=n.data[p],E=So(v);E&&Ld(t,e,v);const A=uu(t,n,p,e);Qi(A,t),null!==l&&b_(0,p-i,A,v,0,l),E&&(Vr(e.index,t)[8]=A)}}(n,t,e,Ci(e,t)),128==(128&e.flags)&&function(n,t,e){const r=e.directiveStart,i=e.directiveEnd,l=e.index,p=Wn.lFrame.currentDirectiveIndex;try{Qu(l);for(let v=r;v<i;v++){const E=n.data[v],A=t[v];tf(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&zc(E,A)}}finally{Qu(-1),tf(p)}}(n,t,e))}function m_(n,t,e=Ci){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const l=r[s+1],p=-1===l?e(t,n):n[l];n[i++]=p}}}function lg(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Nf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Nf(n,t,e,r,i,s,l,p,v,E){const A=20+r,U=A+i,G=function(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:_r);return e}(A,U),J="function"==typeof E?E():E;return G[1]={type:n,blueprint:G,template:e,queries:null,viewQuery:p,declTNode:t,data:G.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:J,incompleteFirstPass:!1}}function __(n,t,e,r){const i=D_(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&M_(n).push(r,i.length-1))}function v_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function Ma(n,t,e,r,i,s,l,p){const v=Ci(t,e);let A,E=t.inputs;!p&&null!=E&&(A=E[r])?(Vo(n,e,A,r,i),Eo(t)&&function(n,t){const e=Vr(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,oe(s)?s.setProperty(v,r,i):ds(r)||(v.setProperty?v.setProperty(r,i):v[r]=i))}function y_(n,t,e,r){let i=!1;if(y()){const s=function(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const l=r[s];Rd(e,l.selectors,!1)&&(i||(i=[]),ps(Pl(e,t),n,l.type),So(l)?(Fr(n,e),i.unshift(l)):i.push(l))}return i}(n,t,e),l=null===r?null:{"":-1};if(null!==s){i=!0,Ky(e,n.data.length,s.length);for(let A=0;A<s.length;A++){const U=s[A];U.providersResolver&&U.providersResolver(U)}let p=!1,v=!1,E=Rf(n,t,s.length,null);for(let A=0;A<s.length;A++){const U=s[A];e.mergedAttrs=Ha(e.mergedAttrs,U.hostAttrs),ao(n,e,t,E,U),Fd(E,U,l),null!==U.contentQueries&&(e.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=128);const G=U.type.prototype;!p&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),p=!0),!v&&(G.ngOnChanges||G.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),v=!0),E++}!function(n,t){const r=t.directiveEnd,i=n.data,s=t.attrs,l=[];let p=null,v=null;for(let E=t.directiveStart;E<r;E++){const A=i[E],U=A.inputs,G=null===s||Xp(t)?null:Yy(U,s);l.push(G),p=v_(U,E,p),v=v_(A.outputs,E,v)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=16),p.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=p,t.outputs=v}(n,e)}l&&function(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new Be("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(e,r,l)}return e.mergedAttrs=Ha(e.mergedAttrs,e.attrs),i}function Nh(n,t,e,r,i,s){const l=s.hostBindings;if(l){let p=n.hostBindingOpCodes;null===p&&(p=n.hostBindingOpCodes=[]);const v=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(p)!=v&&p.push(v),p.push(r,i,l)}}function zc(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Fr(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Fd(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;So(t)&&(e[""]=n)}}function Ky(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ao(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=mo(i.type)),l=new Zs(s,So(i),null);n.blueprint[r]=l,e[r]=l,Nh(n,t,0,r,Rf(n,e,i.hostVars,_r),i)}function Ld(n,t,e){const r=Ci(t,n),i=lg(e),s=n[10],l=Lf(n,xf(n,i,null,e.onPush?64:16,r,t,s,s.createRenderer(r,e),null,null));n[t.index]=l}function ua(n,t,e,r,i,s){const l=Ci(n,t);!function(n,t,e,r,i,s,l){if(null==s)oe(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const p=null==l?Fe(s):l(s,r||"",i);oe(n)?n.setAttribute(t,i,p,e):e?t.setAttributeNS(e,i,p):t.setAttribute(i,p)}}(t[11],l,s,n.value,e,r,i)}function b_(n,t,e,r,i,s){const l=s[t];if(null!==l){const p=r.setInput;for(let v=0;v<l.length;){const E=l[v++],A=l[v++],U=l[v++];null!==p?r.setInput(e,U,E,A):e[A]=U}}}function Yy(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function dg(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function S_(n,t){const e=Vr(t,n);if(cc(e)){const r=e[1];80&e[2]?kf(r,e,r.template,e[8]):e[5]>0&&Ud(e)}}function Ud(n){for(let r=Dd(n);null!==r;r=Oh(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const l=s[1];kf(l,s,l.template,s[8])}else s[5]>0&&Ud(s)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Vr(e[r],n);cc(i)&&i[5]>0&&Ud(i)}}function r0(n,t){const e=Vr(t,n),r=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Pf(r,e,e[8])}function Lf(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Bd(n){for(;n;){n[2]|=64;const t=al(n);if(Ts(n)&&!t)return n;n=t}return null}function gg(n,t,e){const r=t[10];r.begin&&r.begin();try{kf(n,t,n.template,e)}catch(i){throw mg(t,i),i}finally{r.end&&r.end()}}function Xy(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=km(e),i=r[1];JC(i,r,i.template,e)}}(n[8])}function jd(n,t,e){hc(0),t(n,e)}const T_=(()=>Promise.resolve(null))();function D_(n){return n[7]||(n[7]=[])}function M_(n){return n.cleanup||(n.cleanup=[])}function An(n,t,e){return(null===n||So(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function mg(n,t){const e=n[9],r=e?e.get(gu,null):null;r&&r.handleError(t)}function Vo(n,t,e,r,i){for(let s=0;s<e.length;){const l=e[s++],p=e[s++],v=t[l],E=n.data[l];null!==E.setInput?E.setInput(v,i,r,p):v[p]=i}}function Aa(n,t,e){const r=so(t,n);!function(n,t,e){oe(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function $a(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let l=0;l<t.length;l++){const p=t[l];"number"==typeof p?s=p:1==s?i=Tr(i,p):2==s&&(r=Tr(r,p+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const Ka=new Xt("INJECTOR",-1);class A_{get(t,e=il){if(e===il){const r=new Error(`NullInjectorError: No provider for ${rn(t)}!`);throw r.name="NullInjectorError",r}return e}}const cl=new Xt("Set Injector scope."),Fh={},Zy={};let Vf;function wo(){return void 0===Vf&&(Vf=new A_),Vf}function O_(n,t=null,e=null,r){return new xo(n,e,t||wo(),r)}class xo{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&ms(e,p=>this.processProvider(p,t,e)),ms([t],p=>this.processInjectorType(p,[],s)),this.records.set(Ka,_(void 0,this));const l=this.records.get(cl);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof t?null:rn(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=il,r=Rn.Default){this.assertNotDestroyed();const i=Ul(this),s=to(void 0);try{if(!(r&Rn.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xt}(t)&&ur(t);p=v&&this.injectableDefInScope(v)?_(_g(t),Fh):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&Rn.Self?wo():this.parent).get(t,e=r&Rn.Optional&&e===il?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[hu]=l[hu]||[]).unshift(rn(t)),i)throw l;return na(l,t,"R3InjectorError",this.source)}throw l}finally{to(s),Ul(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(rn(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,r){if(!(t=un(t)))return!1;let i=js(t);const s=null==i&&t.ngModule||void 0,l=void 0===s?t:s,p=-1!==r.indexOf(l);if(void 0!==s&&(i=js(s)),null==i)return!1;if(null!=i.imports&&!p){let A;r.push(l);try{ms(i.imports,U=>{this.processInjectorType(U,e,r)&&(void 0===A&&(A=[]),A.push(U))})}finally{}if(void 0!==A)for(let U=0;U<A.length;U++){const{ngModule:G,providers:J}=A[U];ms(J,he=>this.processProvider(he,G,J||$t))}}this.injectorDefTypes.add(l);const v=mo(l)||(()=>new l);this.records.set(l,_(v,Fh));const E=i.providers;if(null!=E&&!p){const A=t;ms(E,U=>this.processProvider(U,A,E))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,r){let i=ee(t=un(t))?t:un(t&&t.provide);const s=function(n,t,e){return S(n)?_(void 0,n.useValue):_(h(n),Fh)}(t);if(ee(t)||!0!==t.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=_(void 0,Fh,!0),l.factory=()=>Ea(l.multi),this.records.set(i,l)),i=t,l.multi.push(t)}this.records.set(i,s)}hydrate(t,e){return e.value===Fh&&(e.value=Zy,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=un(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function _g(n){const t=ur(n),e=null!==t?t.factory:mo(n);if(null!==e)return e;if(n instanceof Xt)throw new Error(`Token ${rn(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const r=za(t,"?");throw new Error(`Can't resolve all parameters for ${rn(n)}: (${r.join(", ")}).`)}const e=function(n){const t=n&&(n[eo]||n[ko]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function h(n,t,e){let r;if(ee(n)){const i=un(n);return mo(i)||_g(i)}if(S(n))r=()=>un(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ea(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Ae(un(n.useExisting));else{const i=un(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return mo(i)||_g(i);r=()=>new i(...Ea(n.deps))}return r}function _(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function S(n){return null!==n&&"object"==typeof n&&gd in n}function ee(n){return"function"==typeof n}const Xo=function(n,t,e){return function(n,t=null,e=null,r){const i=O_(n,t,e,r);return i._resolveInjectorDefTypes(),i}({name:e},t,n,e)};let Mr=(()=>{class n{static create(e,r){return Array.isArray(e)?Xo(e,r,""):Xo(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=il,n.NULL=new A_,n.\u0275prov=lt({token:n,providedIn:"any",factory:()=>Ae(Ka)}),n.__NG_ELEMENT_ID__=-1,n})();function BN(n,t){Ei(km(n)[1],z())}function pr(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(So(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=p0(n.inputs),l.declaredInputs=p0(n.declaredInputs),l.outputs=p0(n.outputs);const p=i.hostBindings;p&&qN(n,p);const v=i.viewQuery,E=i.contentQueries;if(v&&HN(n,v),E&&zN(n,E),fi(n.inputs,i.inputs),fi(n.declaredInputs,i.declaredInputs),fi(n.outputs,i.outputs),So(i)&&i.data.animation){const A=n.data;A.animation=(A.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let l=0;l<s.length;l++){const p=s[l];p&&p.ngInherit&&p(n),p===pr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ha(i.hostAttrs,e=Ha(e,i.hostAttrs))}}(r)}function p0(n){return n===Hi?{}:n===$t?[]:n}function HN(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function zN(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function qN(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let eb=null;function vg(){if(!eb){const n=Tn.Symbol;if(n&&n.iterator)eb=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(eb=r)}}}return eb}class Ql{constructor(t){this.wrapped=t}static wrap(t){return new Ql(t)}static unwrap(t){return Ql.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ql}}function R_(n){return!!g0(n)&&(Array.isArray(n)||!(n instanceof Map)&&vg()in n)}function g0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qc(n,t,e){return n[t]=e}function Oa(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function gi(n,t,e,r){const i=b();return Oa(i,$i(),t)&&(D(),ua(ro(),i,n,t,e,r)),gi}function Ur(n,t,e,r,i,s,l,p){const v=b(),E=D(),A=n+20,U=E.firstCreatePass?function(n,t,e,r,i,s,l,p,v){const E=t.consts,A=kh(t,n,4,l||null,ya(E,p));y_(t,e,A,ya(E,v)),Ei(t,A);const U=A.tViews=Nf(2,A,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E);return null!==t.queries&&(t.queries.template(t,A),U.queries=t.queries.embeddedTView(A)),A}(A,E,v,t,e,r,i,s,l):E.data[A];ae(U,!1);const G=v[11].createComment("");Qp(E,v,G,U),Qi(G,v),Lf(v,v[A]=dg(G,v,G,U)),Is(U)&&ug(E,v,U),null!=l&&m_(v,U,p)}function Mg(n){return Zr(Wn.lFrame.contextLView,20+n)}function ge(n,t=Rn.Default){const e=b();return null===e?Ae(n,t):ud(z(),e,un(n),t)}function Cn(n,t,e){const r=b();return Oa(r,$i(),t)&&Ma(D(),ro(),r,n,t,r[11],e,!1),Cn}function b0(n,t,e,r,i){const l=i?"class":"style";Vo(n,e,t.inputs[l],l,r)}function Ke(n,t,e,r){const i=b(),s=D(),l=20+n,p=i[11],v=i[l]=Ym(p,t,Wn.lFrame.currentNamespace),E=s.firstCreatePass?function(n,t,e,r,i,s,l){const p=t.consts,E=kh(t,n,2,i,ya(p,s));return y_(t,e,E,ya(p,l)),null!==E.attrs&&$a(E,E.attrs,!1),null!==E.mergedAttrs&&$a(E,E.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,E),E}(l,s,i,0,t,e,r):s.data[l];ae(E,!0);const A=E.mergedAttrs;null!==A&&Rl(p,v,A);const U=E.classes;null!==U&&a_(p,v,U);const G=E.styles;null!==G&&vy(p,v,G),64!=(64&E.flags)&&Qp(s,i,v,E),0===Wn.lFrame.elementDepthCount&&Qi(v,i),Wn.lFrame.elementDepthCount++,Is(E)&&(ug(s,i,E),ag(s,E,i)),null!==r&&m_(i,E)}function Ye(){let n=z();He()?it():(n=n.parent,ae(n,!1));const t=n;Wn.lFrame.elementDepthCount--;const e=D();e.firstCreatePass&&(Ei(e,n),$s(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&b0(e,t,b(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&b0(e,t,b(),t.stylesWithoutHost,!1)}function er(n,t,e,r){Ke(n,t,e,r),Ye()}function rb(n,t,e){const r=b(),i=D(),s=n+20,l=i.firstCreatePass?function(n,t,e,r,i){const s=t.consts,l=ya(s,r),p=kh(t,n,8,"ng-container",l);return null!==l&&$a(p,l,!0),y_(t,e,p,ya(s,i)),null!==t.queries&&t.queries.elementStart(t,p),p}(s,i,r,t,e):i.data[s];ae(l,!0);const p=r[s]=r[11].createComment("");Qp(i,r,p,l),Qi(p,r),Is(l)&&(ug(i,r,l),ag(i,l,r)),null!=e&&m_(r,l)}function ib(){let n=z();const t=D();He()?it():(n=n.parent,ae(n,!1)),t.firstCreatePass&&(Ei(t,n),$s(n)&&t.queries.elementEnd(n))}function fl(){return b()}function k_(n){return!!n&&"function"==typeof n.then}const ob=function(n){return!!n&&"function"==typeof n.subscribe};function or(n,t,e,r){const i=b(),s=D(),l=z();return iD(s,i,i[11],l,n,t,!!e,r),or}function w0(n,t){const e=z(),r=b(),i=D();return iD(i,r,An(ah(i.data),e,r),e,n,t,!1),w0}function iD(n,t,e,r,i,s,l,p){const v=Is(r),A=n.firstCreatePass&&M_(n),U=t[8],G=D_(t);let J=!0;if(3&r.type||p){const Me=Ci(r,t),ht=p?p(Me):Me,tt=G.length,Yt=p?fn=>p(Nn(fn[r.index])):r.index;if(oe(e)){let fn=null;if(!p&&v&&(fn=function(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const l=i[s];if(l===e&&i[s+1]===r){const p=t[7],v=i[s+2];return p.length>v?p[v]:null}"string"==typeof l&&(s+=2)}return null}(n,t,i,r.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=s,fn.__ngLastListenerFn__=s,J=!1;else{s=C0(r,t,U,s,!1);const Sr=e.listen(ht,i,s);G.push(s,Sr),A&&A.push(i,Yt,tt,tt+1)}}else s=C0(r,t,U,s,!0),ht.addEventListener(i,s,l),G.push(s),A&&A.push(i,Yt,tt,l)}else s=C0(r,t,U,s,!1);const he=r.outputs;let Oe;if(J&&null!==he&&(Oe=he[i])){const Me=Oe.length;if(Me)for(let ht=0;ht<Me;ht+=2){const Ri=t[Oe[ht]][Oe[ht+1]].subscribe(s),qi=G.length;G.push(s,Ri),A&&A.push(i,r.index,qi,-(qi+1))}}}function oD(n,t,e,r){try{return!1!==e(r)}catch(i){return mg(n,i),!1}}function C0(n,t,e,r,i){return function s(l){if(l===Function)return r;const p=2&n.flags?Vr(n.index,t):t;0==(32&t[2])&&Bd(p);let v=oD(t,0,r,l),E=s.__ngNextListenerFn__;for(;E;)v=oD(t,0,E,l)&&v,E=E.__ngNextListenerFn__;return i&&!1===v&&(l.preventDefault(),l.returnValue=!1),v}}function vr(n=1){return function(n){return(Wn.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Wn.lFrame.contextLView))[8]}(n)}function IF(n,t){let e=null;const r=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?Rd(n,s,!0):xh(r,s))return i}else e=i}return e}function Ya(n){const t=b()[16][6];if(!t.projection){const r=t.projection=za(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const l=n?IF(s,n):0;null!==l&&(i[l]?i[l].projectionNext=s:r[l]=s,i[l]=s),s=s.next}}}function ji(n,t=0,e){const r=b(),i=D(),s=kh(i,20+n,16,null,e||null);null===s.projection&&(s.projection=t),it(),64!=(64&s.flags)&&function(n,t,e){o_(t[11],0,t,e,$p(n,e,t),fy(e.parent||t[6],e,t))}(i,r,s)}function gD(n,t,e,r,i){const s=n[e+1],l=null===t;let p=r?_u(s):ul(s),v=!1;for(;0!==p&&(!1===v||l);){const A=n[p+1];MF(n[p],t)&&(v=!0,n[p+1]=r?Pd(A):Jp(A)),p=r?_u(A):ul(A)}v&&(n[e+1]=r?Jp(s):Pd(s))}function MF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ta(n,t)>=0}function Xi(n,t){return function(n,t,e,r){const i=b(),s=D(),l=function(n){const t=Wn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[$o()],l=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(s,r)&&null===t&&!l&&(t=!1),t=function(n,t,e,r){const i=ah(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=N_(e=S0(null,n,t,e,r),t.attrs,r),s=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=S0(i,n,t,e,r),null===s){let v=function(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ul(r))return n[_u(r)]}(n,t,r);void 0!==v&&Array.isArray(v)&&(v=S0(null,n,t,v[1],r),v=N_(v,t.attrs,r),function(n,t,e,r){n[_u(e?t.classBindings:t.styleBindings)]=r}(n,t,r,v))}else s=function(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=N_(r,n[s].hostAttrs,e);return N_(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function(n,t,e,r,i,s){let l=s?t.classBindings:t.styleBindings,p=_u(l),v=ul(l);n[r]=e;let A,E=!1;if(Array.isArray(e)){const U=e;A=U[1],(null===A||ta(U,A)>0)&&(E=!0)}else A=e;if(i)if(0!==v){const G=_u(n[p+1]);n[r+1]=Df(G,p),0!==G&&(n[G+1]=f_(n[G+1],r)),n[p+1]=function(n,t){return 131071&n|t<<17}(n[p+1],r)}else n[r+1]=Df(p,0),0!==p&&(n[p+1]=f_(n[p+1],r)),p=r;else n[r+1]=Df(v,0),0===p?p=r:n[v+1]=f_(n[v+1],r),v=r;E&&(n[r+1]=Jp(n[r+1])),gD(n,A,r,!0),gD(n,A,r,!1),function(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ta(s,t)>=0&&(e[r+1]=Pd(e[r+1]))}(t,A,n,r,s),l=Df(p,v),s?t.classBindings=l:t.styleBindings=l}(i,s,t,e,l,r)}}(s,n,l,r),t!==_r&&Oa(i,l,t)&&function(n,t,e,r,i,s,l,p){if(!(3&t.type))return;const v=n.data,E=v[p+1];ab(function(n){return 1==(1&n)}(E)?TD(v,t,e,i,ul(E),l):void 0)||(ab(s)||function(n){return 2==(2&n)}(E)&&(s=TD(v,null,e,i,p,l)),function(n,t,e,r,i){const s=oe(n);if(t)i?s?n.addClass(e,r):e.classList.add(r):s?n.removeClass(e,r):e.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:sa.DashCase;if(null==i)s?n.removeStyle(e,r,l):e.style.removeProperty(r);else{const p="string"==typeof i&&i.endsWith("!important");p&&(i=i.slice(0,-10),l|=sa.Important),s?n.setStyle(e,r,i,l):e.style.setProperty(r,i,p?"important":"")}}}(r,l,so($o(),e),i,s))}(s,s.data[$o()],i,i[11],n,i[l+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=rn(Si(n)))),n}(t,e),r,l)}(n,t,null,!0),Xi}function S0(n,t,e,r,i){let s=null;const l=e.directiveEnd;let p=e.directiveStylingLast;for(-1===p?p=e.directiveStart:p++;p<l&&(s=t[p],r=N_(r,s.hostAttrs,i),s!==n);)p++;return null!==n&&(e.directiveStylingLast=p),r}function N_(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_s(n,l,!!e||t[++s]))}return void 0===n?null:n}function TD(n,t,e,r,i,s){const l=null===t;let p;for(;i>0;){const v=n[i],E=Array.isArray(v),A=E?v[1]:v,U=null===A;let G=e[i+1];G===_r&&(G=U?$t:void 0);let J=U?Nu(G,r):A===r?G:void 0;if(E&&!ab(J)&&(J=Nu(v,r)),ab(J)&&(p=J,l))return p;const he=n[i+1];i=l?_u(he):ul(he)}if(null!==t){let v=s?t.residualClasses:t.residualStyles;null!=v&&(p=Nu(v,r))}return p}function ab(n){return void 0!==n}function Pn(n,t=""){const e=b(),r=D(),i=n+20,s=r.firstCreatePass?kh(r,i,1,t,null):r.data[i],l=e[i]=function(n,t){return oe(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Qp(r,e,l,s),ae(s,!1)}function Jo(n){return xg("",n,""),Jo}function xg(n,t,e){const r=b(),i=function(n,t,e,r){return Oa(n,$i(),e)?t+Fe(e)+r:_r}(r,n,t,e);return i!==_r&&Aa(r,$o(),i),xg}function Uf(n,t,e){const r=b();return Oa(r,$i(),t)&&Ma(D(),ro(),r,n,t,r[11],e,!0),Uf}function I0(n,t,e){const r=b();if(Oa(r,$i(),t)){const s=D(),l=ro();Ma(s,l,r,n,t,An(ah(s.data),l,r),e,!0)}return I0}const qd=void 0;var uL=["en",[["a","p"],["AM","PM"],qd],[["AM","PM"],qd,qd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qd,"{1} 'at' {0}",qd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Rg={};function Qa(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=$D(t);if(e)return e;const r=t.split("-")[0];if(e=$D(r),e)return e;if("en"===r)return uL;throw new Error(`Missing locale data for the locale "${n}".`)}function $D(n){return n in Rg||(Rg[n]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[n]),Rg[n]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const ub="en-US";let KD=ub;function T0(n){Ce(n,"Expected localeId to be defined"),"string"==typeof n&&(KD=n.toLowerCase().replace(/_/g,"-"))}function A0(n,t,e,r,i){if(n=un(n),Array.isArray(n))for(let s=0;s<n.length;s++)A0(n[s],t,e,r,i);else{const s=D(),l=b();let p=ee(n)?n:un(n.provide),v=h(n);const E=z(),A=1048575&E.providerIndexes,U=E.directiveStart,G=E.providerIndexes>>20;if(ee(n)||!n.multi){const J=new Zs(v,i,ge),he=x0(p,t,i?A:A+G,U);-1===he?(ps(Pl(E,l),s,p),O0(s,n,t.length),t.push(p),E.directiveStart++,E.directiveEnd++,i&&(E.providerIndexes+=1048576),e.push(J),l.push(J)):(e[he]=J,l[he]=J)}else{const J=x0(p,t,A+G,U),he=x0(p,t,A,A+G),Oe=J>=0&&e[J],Me=he>=0&&e[he];if(i&&!Me||!i&&!Oe){ps(Pl(E,l),s,p);const ht=function(n,t,e,r,i){const s=new Zs(n,e,ge);return s.multi=[],s.index=t,s.componentProviders=0,vM(s,i,r&&!e),s}(i?oV:iV,e.length,i,r,v);!i&&Me&&(e[he].providerFactory=ht),O0(s,n,t.length,0),t.push(p),E.directiveStart++,E.directiveEnd++,i&&(E.providerIndexes+=1048576),e.push(ht),l.push(ht)}else O0(s,n,J>-1?J:he,vM(e[i?he:J],v,!i&&r));!i&&r&&Me&&e[he].componentProviders++}}}function O0(n,t,e,r){const i=ee(t);if(i||function(n){return!!n.useClass}(t)){const l=(t.useClass||t).prototype.ngOnDestroy;if(l){const p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const v=p.indexOf(e);-1===v?p.push(e,[r,l]):p[v+1].push(r,l)}else p.push(e,l)}}}function vM(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function x0(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function iV(n,t,e,r){return R0(this.multi,[])}function oV(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const l=this.providerFactory.componentProviders,p=uu(e,e[1],this.providerFactory.index,r);s=p.slice(0,l),R0(i,s);for(let v=l;v<p.length;v++)s.push(p[v])}else s=[],R0(i,s);return s}function R0(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Br(n,t=[]){return e=>{e.providersResolver=(r,i)=>function(n,t,e){const r=D();if(r.firstCreatePass){const i=So(n);A0(e,r.data,r.blueprint,i,!0),A0(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class yM{}const wM="ngComponent";class uV{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${rn(n)}. Did you add it to @NgModule.entryComponents?`);return t[wM]=n,t}(t)}}let $c=(()=>{class n{}return n.NULL=new uV,n})();function db(...n){}function kg(n,t){return new gr(Ci(n,t))}const hV=function(){return kg(z(),b())};let gr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=hV,n})();function CM(n){return n instanceof gr?n.nativeElement:n}class Gd{}let Bu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>dV(),n})();const dV=function(){const n=b(),e=Vr(z().index,n);return function(n){return n[11]}(Wo(e)?e:n)};let k0=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>null}),n})();class Vh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const N0=new Vh("12.2.16");class EM{constructor(){}supports(t){return R_(t)}create(t){return new _V(t)}}const mV=(n,t)=>t;class _V{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mV}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const l=!r||e&&e.currentIndex<IM(r,i,s)?e:r,p=IM(l,i,s),v=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{s||(s=[]);const E=p-i,A=v-i;if(E!=A){for(let G=0;G<E;G++){const J=G<s.length?s[G]:s[G]=0,he=J+G;A<=he&&he<E&&(s[G]=J+1)}s[l.previousIndex]=A-E}}p!==v&&t(l,p,v)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!R_(t))throw new Error(`Error trying to diff '${rn(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)s=t[p],l=this._trackByFn(p,s),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,s,l,p)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,l,p),r=!0),e=e._next}else i=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[vg()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,p=>{l=this._trackByFn(i,p),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,p,l,i)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new vV(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new SM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class vV{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yV{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class SM{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new yV,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IM(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class TM{constructor(){}supports(t){return t instanceof Map||g0(t)}create(){return new bV}}class bV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||g0(t)))throw new Error(`Error trying to diff '${rn(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const s=i._prev,l=i._next;return s&&(s._next=l),l&&(l._prev=s),i._next=null,i._prev=null,i}const r=new wV(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class wV{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DM(){return new Ng([new EM])}let Ng=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||DM()),deps:[[n,new ks,new Yi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:DM}),n})();function MM(){return new Fg([new TM])}let Fg=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||MM()),deps:[[n,new ks,new Yi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:MM}),n})();function pb(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(Nn(s)),Li(s))for(let p=10;p<s.length;p++){const v=s[p],E=v[1].firstChild;null!==E&&pb(v[1],v,E,r)}const l=e.type;if(8&l)pb(n,t,e.child,r);else if(32&l){const p=Wm(e,t);let v;for(;v=p();)r.push(v)}else if(16&l){const p=py(t,e);if(Array.isArray(p))r.push(...p);else{const v=al(t[16]);pb(v[1],v,p,r,!0)}}e=i?e.projectionNext:e.next}return r}class B_{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return pb(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Li(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Jm(t,r),ku(e,r))}this._attachedToViewContainer=!1}Zm(this._lView[1],this._lView)}onDestroy(t){__(this._lView[1],this._lView,null,t)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){ln(!0);try{gg(n,t,e)}finally{ln(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Tf(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class EV extends B_{constructor(t){super(t),this._view=t}detectChanges(){Xy(this._view)}checkNoChanges(){!function(n){ln(!0);try{Xy(n)}finally{ln(!1)}}(this._view)}get context(){return null}}const IV=function(n){return function(n,t,e){if(Eo(n)&&!e){const r=Vr(n.index,t);return new B_(r,r)}return 47&n.type?new B_(t[16],t):null}(z(),b(),16==(16&n))};let dl=(()=>{class n{}return n.__NG_ELEMENT_ID__=IV,n})();const MV=[new TM],OV=new Ng([new EM]),xV=new Fg(MV),PV=function(){return gb(z(),b())};let Xa=(()=>{class n{}return n.__NG_ELEMENT_ID__=PV,n})();const kV=Xa,NV=class extends kV{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=xf(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),Pf(e,r,t),new B_(r)}};function gb(n,t){return 4&n.type?new NV(t,n,kg(n,t)):null}class Kc{}class AM{}const VV=function(){return RM(z(),b())};let la=(()=>{class n{}return n.__NG_ELEMENT_ID__=VV,n})();const BV=la,OM=class extends BV{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return kg(this._hostTNode,this._hostLView)}get injector(){return new lu(this._hostTNode,this._hostLView)}get parentInjector(){const t=wa(this._hostTNode,this._hostLView);if(dc(t)){const e=pc(t,this._hostLView),r=xu(t);return new lu(e[1].data[r+8],e)}return new lu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,s){const l=r||this.parentInjector;if(!s&&null==t.ngModule&&l){const v=l.get(Kc,null);v&&(s=v)}const p=t.create(l,i,void 0,s);return this.insert(p.hostView,e),p}insert(t,e){const r=t._lView,i=r[1];if(function(n){return Li(n[3])}(r)){const A=this.indexOf(t);if(-1!==A)this.detach(A);else{const U=r[3],G=new OM(U,U[6],U[3]);G.detach(G.indexOf(t))}}const s=this._adjustIndex(e),l=this._lContainer;!function(n,t,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=t),r<s-10?(t[4]=e[i],Sc(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const l=t[17];null!==l&&e!==l&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(l,t);const p=t[19];null!==p&&p.insertView(n),t[2]|=128}(i,r,l,s);const p=xd(s,l),v=r[11],E=Yp(v,l[7]);return null!==E&&function(n,t,e,r,i,s){r[0]=i,r[6]=t,Tf(n,r,e,1,i,s)}(i,l[6],v,r,E,p),t.attachToViewContainerRef(),Sc(F0(l),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Jm(this._lContainer,e);r&&(ku(F0(this._lContainer),e),Zm(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Jm(this._lContainer,e);return r&&null!=ku(F0(this._lContainer),e)?new B_(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xM(n){return n[8]}function F0(n){return n[8]||(n[8]=[])}function RM(n,t){let e;const r=t[n.index];if(Li(r))e=r;else{let i;if(8&n.type)i=Nn(r);else{const s=t[11];i=s.createComment("");const l=Ci(n,t);jc(s,Yp(s,l),i,function(n,t){return oe(n)?n.nextSibling(t):t.nextSibling}(s,l),!1)}t[n.index]=e=dg(r,t,i,n),Lf(t,e)}return new OM(e,n,t)}const Bg={};class JM extends $c{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xr(t);return new eA(e,this.ngModule)}}function ZM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const L2=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qm});class eA extends yM{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(Ty).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ZM(this.componentDef.inputs)}get outputs(){return ZM(this.componentDef.outputs)}create(t,e,r,i){const s=(i=i||this.ngModule)?function(n,t){return{get:(e,r,i)=>{const s=n.get(e,Bg,i);return s!==Bg||r===Bg?s:t.get(e,r,i)}}}(t,i.injector):t,l=s.get(Gd,Ze),p=s.get(k0,null),v=l.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=r?function(n,t,e){if(oe(n))return n.selectRootElement(t,e===ir.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(v,r,this.componentDef.encapsulation):Ym(l.createRenderer(null,this.componentDef),E,function(n){const t=n.toLowerCase();return"svg"===t?$u:"math"===t?"http://www.w3.org/1998/MathML/":null}(E)),U=this.componentDef.onPush?576:528,G=function(n,t){return{components:[],scheduler:n||qm,clean:T_,playerHandler:t||null,flags:0}}(),J=Nf(0,null,null,1,0,null,null,null,null,null),he=xf(null,J,G,U,null,null,l,v,p,s);let Oe,Me;Ml(he);try{const ht=function(n,t,e,r,i,s){const l=e[1];e[20]=n;const v=kh(l,20,2,"#host",null),E=v.mergedAttrs=t.hostAttrs;null!==E&&($a(v,E,!0),null!==n&&(Rl(i,n,E),null!==v.classes&&a_(i,n,v.classes),null!==v.styles&&vy(i,n,v.styles)));const A=r.createRenderer(n,t),U=xf(e,lg(t),null,t.onPush?64:16,e[20],v,r,A,s||null,null);return l.firstCreatePass&&(ps(Pl(v,e),l,t.type),Fr(l,v),Ky(v,e.length,1)),Lf(e,U),e[20]=U}(A,this.componentDef,he,l,v);if(A)if(r)Rl(v,A,["ng-version",N0.full]);else{const{attrs:tt,classes:Yt}=function(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!Da(i))break;i=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);tt&&Rl(v,A,tt),Yt&&Yt.length>0&&a_(v,A,Yt.join(" "))}if(Me=Os(J,20),void 0!==e){const tt=Me.projection=[];for(let Yt=0;Yt<this.ngContentSelectors.length;Yt++){const fn=e[Yt];tt.push(null!=fn?Array.from(fn):null)}}Oe=function(n,t,e,r,i){const s=e[1],l=function(n,t,e){const r=z();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),ao(n,r,t,Rf(n,t,1,null),e));const i=uu(t,n,r.directiveStart,r);Qi(i,t);const s=Ci(r,t);return s&&Qi(s,t),i}(s,e,t);if(r.components.push(l),n[8]=l,i&&i.forEach(v=>v(l,t)),t.contentQueries){const v=z();t.contentQueries(1,l,v.directiveStart)}const p=z();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Qu(p.index),Nh(e[1],p,0,p.directiveStart,p.directiveEnd,t),zc(t,l)),l}(ht,this.componentDef,he,G,[BN]),Pf(J,he,null)}finally{au()}return new B2(this.componentType,Oe,kg(Me,he),he,Me)}}class B2 extends class{}{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new EV(i),this.componentType=t}get injector(){return new lu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const jg=new Map;class z2 extends Kc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new JM(this);const r=X(t),i=function(n){return n[Co]||null}(t);i&&T0(i),this._bootstrapComponents=mu(r.bootstrap),this._r3Injector=O_(t,e,[{provide:Kc,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],rn(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Mr.THROW_IF_NOT_FOUND,r=Rn.Default){return t===Mr||t===Kc||t===Ka?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Y0 extends AM{constructor(t){super(),this.moduleType=t,null!==X(t)&&function(n){const t=new Set;!function e(r){const i=X(r,!0),s=i.id;null!==s&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${rn(t)} vs ${rn(t.name)}`)}(s,jg.get(s),r),jg.set(s,r));const l=mu(i.imports);for(const p of l)t.has(p)||(t.add(p),e(p))}(n)}(t)}create(t){return new z2(this.moduleType,t)}}function Hg(n,t,e,r){return function(n,t,e,r,i,s){const l=t+e;return Oa(n,l,i)?qc(n,l+1,s?r.call(s,i):r(i)):K_(n,l+1)}(b(),$n(),n,t,e,r)}function K_(n,t){const e=n[t];return e===_r?void 0:e}function iA(n,t,e,r,i,s,l){const p=t+e;return function(n,t,e,r){const i=Oa(n,t,e);return Oa(n,t+1,r)||i}(n,p,i,s)?qc(n,p+2,l?r.call(l,i,s):r(i,s)):K_(n,p+2)}function Y_(n,t){const e=D();let r;const i=n+20;e.firstCreatePass?(r=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}throw new Be("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=mo(r.type)),l=to(ge);try{const p=Zu(!1),v=s();return Zu(p),function(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,b(),i,v),v}finally{to(l)}}function Q_(n,t,e,r){const i=n+20,s=b(),l=Zr(s,i);return function(n,t){Ql.isWrapped(t)&&(t=Ql.unwrap(t),n[Wn.lFrame.bindingIndex]=_r);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?iA(s,$n(),t,l.transform,e,r,l):l.transform(e,r))}function Q0(n){return t=>{setTimeout(n,void 0,t)}}const Wr=class extends F{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,s,l;let p=t,v=e||(()=>null),E=r;if(t&&"object"==typeof t){const U=t;p=null===(i=U.next)||void 0===i?void 0:i.bind(U),v=null===(s=U.error)||void 0===s?void 0:s.bind(U),E=null===(l=U.complete)||void 0===l?void 0:l.bind(U)}this.__isAsync&&(v=Q0(v),p&&(p=Q0(p)),E&&(E=Q0(E)));const A=super.subscribe({next:p,error:v,complete:E});return t instanceof Y&&t.add(A),A}};function oU(){return this._results[vg()]()}class Kd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=vg(),r=Kd.prototype;r[e]||(r[e]=oU)}get changes(){return this._changes||(this._changes=new Wr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=gs(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class X0{constructor(t){this.queryList=t,this.matches=null}clone(){return new X0(this.queryList)}setDirty(){this.queryList.setDirty()}}class J0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const l=e.getByIndex(s);i.push(this.queries[l.indexInDeclarationView].clone())}return new J0(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fA(t,e).matches&&this.queries[e].setDirty()}}class uA{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class Z0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new Z0(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eE{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,uU(e,s)),this.matchTNodeWithReadOption(t,e,kl(e,t,s,!1,!1))}else r===Xa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,kl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===gr||i===la||i===Xa&&4&e.type)this.addMatch(e.index,-2);else{const s=kl(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function uU(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function cU(n,t,e,r){return-1===e?function(n,t){return 11&n.type?kg(n,t):4&n.type?gb(n,t):null}(t,n):-2===e?function(n,t,e){return e===gr?kg(t,n):e===Xa?gb(t,n):e===la?RM(t,n):void 0}(n,t,r):uu(n,n[1],e,t)}function lA(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const s=n.data,l=e.matches,p=[];for(let v=0;v<l.length;v+=2){const E=l[v];p.push(E<0?null:cU(t,s[E],l[v+1],e.metadata.read))}i.matches=p}return i.matches}function tE(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const l=lA(n,t,i,e);for(let p=0;p<s.length;p+=2){const v=s[p];if(v>0)r.push(l[p/2]);else{const E=s[p+1],A=t[-v];for(let U=10;U<A.length;U++){const G=A[U];G[17]===G[3]&&tE(G[1],G,E,r)}if(null!==A[9]){const U=A[9];for(let G=0;G<U.length;G++){const J=U[G];tE(J[1],J,E,r)}}}}}return r}function Ii(n){const t=b(),e=D(),r=uh();hc(r+1);const i=fA(e,r);if(n.dirty&&Tu(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?tE(e,t,r,[]):lA(e,t,i,r);n.reset(s,CM),n.notifyOnChanges()}return!0}return!1}function yu(n,t,e){const r=D();r.firstCreatePass&&(hA(r,new uA(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),cA(r,b(),t)}function Fs(n,t,e,r){const i=D();if(i.firstCreatePass){const s=z();hA(i,new uA(t,e,r),s.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}cA(i,b(),e)}function Ti(){return function(n,t){return n[19].queries[t].queryList}(b(),uh())}function cA(n,t,e){const r=new Kd(4==(4&e));__(n,t,r,r.destroy),null===t[19]&&(t[19]=new J0),t[19].queries.push(new X0(r))}function hA(n,t,e){null===n.queries&&(n.queries=new Z0),n.queries.track(new eE(t,e))}function fA(n,t){return n.queries.getByIndex(t)}const ev=new Xt("Application Initializer");let qg=(()=>{class n{constructor(e){this.appInits=e,this.resolve=db,this.reject=db,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(k_(s))e.push(s);else if(ob(s)){const l=new Promise((p,v)=>{s.subscribe({complete:p,error:v})});e.push(l)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Ae(ev,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const tv=new Xt("AppId"),jU={provide:tv,useFactory:function(){return`${aE()}${aE()}${aE()}`},deps:[]};function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OA=new Xt("Platform Initializer"),ml=new Xt("Platform ID"),xA=new Xt("appBootstrapListener");let Cb=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Uh=new Xt("LocaleId"),RA=new Xt("DefaultCurrencyCode");class zU{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const uE=function(n){return new Y0(n)},qU=uE,GU=function(n){return Promise.resolve(uE(n))},PA=function(n){const t=uE(n),r=mu(X(n).declarations).reduce((i,s)=>{const l=Xr(s);return l&&i.push(new eA(l)),i},[]);return new zU(t,r)},WU=PA,$U=function(n){return Promise.resolve(PA(n))};let Yd=(()=>{class n{constructor(){this.compileModuleSync=qU,this.compileModuleAsync=GU,this.compileModuleAndAllComponentsSync=WU,this.compileModuleAndAllComponentsAsync=$U}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const QU=(()=>Promise.resolve(0))();function lE(n){"undefined"==typeof Zone?QU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class qn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wr(!1),this.onMicrotaskEmpty=new Wr(!1),this.onStable=new Wr(!1),this.onError=new Wr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Tn.requestAnimationFrame,t=Tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Tn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hE(n),n.isCheckStableRunning=!0,cE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,l,p)=>{try{return kA(n),e.invokeTask(i,s,l,p)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),NA(n)}},onInvoke:(e,r,i,s,l,p,v)=>{try{return kA(n),e.invoke(i,s,l,p,v)}finally{n.shouldCoalesceRunChangeDetection&&t(),NA(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,hE(n),cE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,t,JU,db,db);try{return s.runTask(l,e,r)}finally{s.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const JU={};function cE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NA(n){n._nesting--,cE(n)}class tB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wr,this.onMicrotaskEmpty=new Wr,this.onStable=new Wr,this.onError=new Wr}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let fE=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qn.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(Ae(qn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),FA=(()=>{class n{constructor(){this._applications=new Map,dE.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return dE.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class nB{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let dE=new nB,LA=!0,VA=!1;function pE(){return VA=!0,LA}let tc;const UA=new Xt("AllowMultipleToken");class gE{constructor(t,e){this.name=t,this.token=e}}function BA(n,t,e=[]){const r=`Platform: ${t}`,i=new Xt(r);return(s=[])=>{let l=jA();if(!l||l.injector.get(UA,!1))if(n)n(e.concat(s).concat({provide:i,useValue:!0}));else{const p=e.concat(s).concat({provide:i,useValue:!0},{provide:cl,useValue:"platform"});!function(n){if(tc&&!tc.destroyed&&!tc.injector.get(UA,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tc=n.get(HA);const t=n.get(OA,null);t&&t.forEach(e=>e())}(Mr.create({providers:p,name:r}))}return function(n){const t=jA();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function jA(){return tc&&!tc.destroyed?tc:null}let HA=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const p=function(n,t){let e;return e="noop"===n?new tB:("zone.js"===n?void 0:n)||new qn({enableLongStackTrace:pE(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),v=[{provide:qn,useValue:p}];return p.run(()=>{const E=Mr.create({providers:v,parent:this.injector,name:e.moduleType.name}),A=e.create(E),U=A.injector.get(gu,null);if(!U)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return p.runOutsideAngular(()=>{const G=p.onError.subscribe({next:J=>{U.handleError(J)}});A.onDestroy(()=>{mE(this._modules,A),G.unsubscribe()})}),function(n,t,e){try{const r=e();return k_(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(U,p,()=>{const G=A.injector.get(qg);return G.runInitializers(),G.donePromise.then(()=>(T0(A.injector.get(Uh,ub)||ub),this._moduleDoBootstrap(A),A))})})}bootstrapModule(e,r=[]){const i=zA({},r);return function(n,t,e){const r=new Y0(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(jf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${rn(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Ae(Mr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function zA(n,t){return Array.isArray(t)?t.reduce(zA,n):Object.assign(Object.assign({},n),t)}let jf=(()=>{class n{constructor(e,r,i,s,l){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new at(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new at(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{qn.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{qn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),U.unsubscribe()}});this.isStable=je(p,v.pipe(Ir()))}bootstrap(e,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof yM?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Kc),p=i.create(Mr.NULL,[],r||i.selector,s),v=p.location.nativeElement,E=p.injector.get(fE,null),A=E&&p.injector.get(FA);return E&&A&&A.registerApplication(v,E),p.onDestroy(()=>{this.detachView(p.hostView),mE(this.components,p),A&&A.unregisterApplication(v)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;mE(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(xA,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Ae(qn),Ae(Mr),Ae(gu),Ae($c),Ae(qg))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function mE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class Sb{}class _B{}const vB={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yB=(()=>{class n{constructor(e,r){this._compiler=e,this._config=r||vB}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[r,i]=e.split("#");return void 0===i&&(i="default"),Et(255)(r).then(s=>s[i]).then(s=>$A(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(e){let[r,i]=e.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),Et(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(l=>l[i+s]).then(l=>$A(l,r,i))}}return n.\u0275fac=function(e){return new(e||n)(Ae(Yd),Ae(_B,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function $A(n,t,e){if(!n)throw new Error(`Cannot find '${e}' in '${t}'`);return n}const AB=BA(null,"core",[{provide:ml,useValue:"unknown"},{provide:HA,deps:[Mr]},{provide:FA,deps:[]},{provide:Cb,deps:[]}]),kB=[{provide:jf,useClass:jf,deps:[qn,Mr,gu,$c,qg]},{provide:L2,deps:[qn],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:qg,useClass:qg,deps:[[new Yi,ev]]},{provide:Yd,useClass:Yd,deps:[]},jU,{provide:Ng,useFactory:function(){return OV},deps:[]},{provide:Fg,useFactory:function(){return xV},deps:[]},{provide:Uh,useFactory:function(n){return T0(n=n||"undefined"!=typeof $localize&&$localize.locale||ub),n},deps:[[new Ui(Uh),new Yi,new ks]]},{provide:RA,useValue:"USD"}];let FB=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Ae(jf))},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:kB}),n})(),kb=null;function Yc(){return kb}const Fn=new Xt("DocumentToken");let Jd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:Nj,token:n,providedIn:"platform"}),n})();function Nj(){return Ae(_O)}const Fj=new Xt("Location Initialized");let _O=(()=>{class n extends Jd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yc().getBaseHref(this._doc)}onPopState(e){const r=Yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){vO()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){vO()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({factory:Lj,token:n,providedIn:"platform"}),n})();function vO(){return!!window.history.pushState}function Lj(){return new _O(Ae(Fn))}function xE(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function yO(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function jh(n){return n&&"?"!==n[0]?"?"+n:n}let $g=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:Vj,token:n,providedIn:"root"}),n})();function Vj(n){const t=Ae(Fn).location;return new bO(Ae(Jd),t&&t.origin||"")}const RE=new Xt("appBaseHref");let bO=(()=>{class n extends $g{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xE(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+jh(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const l=this.prepareExternalUrl(i+jh(s));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){const l=this.prepareExternalUrl(i+jh(s));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Jd),Ae(RE,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Uj=(()=>{class n extends $g{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=xE(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let l=this.prepareExternalUrl(i+jh(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){let l=this.prepareExternalUrl(i+jh(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Jd),Ae(RE,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Kg=(()=>{class n{constructor(e,r){this._subject=new Wr,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=yO(wO(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+jh(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,wO(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jh(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jh(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.\u0275fac=function(e){return new(e||n)(Ae($g),Ae(Jd))},n.normalizeQueryParams=jh,n.joinWithSlash=xE,n.stripTrailingSlash=yO,n.\u0275prov=lt({factory:Bj,token:n,providedIn:"root"}),n})();function Bj(){return new Kg(Ae($g),Ae(Jd))}function wO(n){return n.replace(/\/index.html$/,"")}var us=(()=>((us=us||{})[us.Zero=0]="Zero",us[us.One=1]="One",us[us.Two=2]="Two",us[us.Few=3]="Few",us[us.Many=4]="Many",us[us.Other=5]="Other",us))(),Zo=(()=>((Zo=Zo||{})[Zo.Format=0]="Format",Zo[Zo.Standalone=1]="Standalone",Zo))(),oi=(()=>((oi=oi||{})[oi.Narrow=0]="Narrow",oi[oi.Abbreviated=1]="Abbreviated",oi[oi.Wide=2]="Wide",oi[oi.Short=3]="Short",oi))(),Po=(()=>((Po=Po||{})[Po.Short=0]="Short",Po[Po.Medium=1]="Medium",Po[Po.Long=2]="Long",Po[Po.Full=3]="Full",Po))(),hr=(()=>((hr=hr||{})[hr.Decimal=0]="Decimal",hr[hr.Group=1]="Group",hr[hr.List=2]="List",hr[hr.PercentSign=3]="PercentSign",hr[hr.PlusSign=4]="PlusSign",hr[hr.MinusSign=5]="MinusSign",hr[hr.Exponential=6]="Exponential",hr[hr.SuperscriptingExponent=7]="SuperscriptingExponent",hr[hr.PerMille=8]="PerMille",hr[hr.Infinity=9]="Infinity",hr[hr.NaN=10]="NaN",hr[hr.TimeSeparator=11]="TimeSeparator",hr[hr.CurrencyDecimal=12]="CurrencyDecimal",hr[hr.CurrencyGroup=13]="CurrencyGroup",hr))();function Nb(n,t){return vl(Qa(n)[Sn.DateFormat],t)}function Fb(n,t){return vl(Qa(n)[Sn.TimeFormat],t)}function Lb(n,t){return vl(Qa(n)[Sn.DateTimeFormat],t)}function _l(n,t){const e=Qa(n),r=e[Sn.NumberSymbols][t];if(void 0===r){if(t===hr.CurrencyDecimal)return e[Sn.NumberSymbols][hr.Decimal];if(t===hr.CurrencyGroup)return e[Sn.NumberSymbols][hr.Group]}return r}const Kj=function(n){return Qa(n)[Sn.PluralCase]};function EO(n){if(!n[Sn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Sn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vl(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function kE(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const e3=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sv={},t3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ys=(()=>((ys=ys||{})[ys.Short=0]="Short",ys[ys.ShortGMT=1]="ShortGMT",ys[ys.Long=2]="Long",ys[ys.Extended=3]="Extended",ys))(),yr=(()=>((yr=yr||{})[yr.FullYear=0]="FullYear",yr[yr.Month=1]="Month",yr[yr.Date=2]="Date",yr[yr.Hours=3]="Hours",yr[yr.Minutes=4]="Minutes",yr[yr.Seconds=5]="Seconds",yr[yr.FractionalSeconds=6]="FractionalSeconds",yr[yr.Day=7]="Day",yr))(),$r=(()=>(($r=$r||{})[$r.DayPeriods=0]="DayPeriods",$r[$r.Days=1]="Days",$r[$r.Months=2]="Months",$r[$r.Eras=3]="Eras",$r))();function n3(n,t,e,r){let i=function(n){if(TO(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,l=1]=n.split("-").map(p=>+p);return Vb(i,s-1,l)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(e3))return function(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-e,p=Number(n[5]||0)-r,v=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,l,p,v,E),t}(r)}const t=new Date(n);if(!TO(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Hh(e,t)||t;let p,l=[];for(;t;){if(p=t3.exec(t),!p){l.push(t);break}{l=l.concat(p.slice(1));const A=l.pop();if(!A)break;t=A}}let v=i.getTimezoneOffset();r&&(v=IO(r,v),i=function(n,t,e){const i=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(IO(t,i)-i))}(i,r));let E="";return l.forEach(A=>{const U=function(n){if(FE[n])return FE[n];let t;switch(n){case"G":case"GG":case"GGG":t=io($r.Eras,oi.Abbreviated);break;case"GGGG":t=io($r.Eras,oi.Wide);break;case"GGGGG":t=io($r.Eras,oi.Narrow);break;case"y":t=ls(yr.FullYear,1,0,!1,!0);break;case"yy":t=ls(yr.FullYear,2,0,!0,!0);break;case"yyy":t=ls(yr.FullYear,3,0,!1,!0);break;case"yyyy":t=ls(yr.FullYear,4,0,!1,!0);break;case"Y":t=Hb(1);break;case"YY":t=Hb(2,!0);break;case"YYY":t=Hb(3);break;case"YYYY":t=Hb(4);break;case"M":case"L":t=ls(yr.Month,1,1);break;case"MM":case"LL":t=ls(yr.Month,2,1);break;case"MMM":t=io($r.Months,oi.Abbreviated);break;case"MMMM":t=io($r.Months,oi.Wide);break;case"MMMMM":t=io($r.Months,oi.Narrow);break;case"LLL":t=io($r.Months,oi.Abbreviated,Zo.Standalone);break;case"LLLL":t=io($r.Months,oi.Wide,Zo.Standalone);break;case"LLLLL":t=io($r.Months,oi.Narrow,Zo.Standalone);break;case"w":t=NE(1);break;case"ww":t=NE(2);break;case"W":t=NE(1,!0);break;case"d":t=ls(yr.Date,1);break;case"dd":t=ls(yr.Date,2);break;case"c":case"cc":t=ls(yr.Day,1);break;case"ccc":t=io($r.Days,oi.Abbreviated,Zo.Standalone);break;case"cccc":t=io($r.Days,oi.Wide,Zo.Standalone);break;case"ccccc":t=io($r.Days,oi.Narrow,Zo.Standalone);break;case"cccccc":t=io($r.Days,oi.Short,Zo.Standalone);break;case"E":case"EE":case"EEE":t=io($r.Days,oi.Abbreviated);break;case"EEEE":t=io($r.Days,oi.Wide);break;case"EEEEE":t=io($r.Days,oi.Narrow);break;case"EEEEEE":t=io($r.Days,oi.Short);break;case"a":case"aa":case"aaa":t=io($r.DayPeriods,oi.Abbreviated);break;case"aaaa":t=io($r.DayPeriods,oi.Wide);break;case"aaaaa":t=io($r.DayPeriods,oi.Narrow);break;case"b":case"bb":case"bbb":t=io($r.DayPeriods,oi.Abbreviated,Zo.Standalone,!0);break;case"bbbb":t=io($r.DayPeriods,oi.Wide,Zo.Standalone,!0);break;case"bbbbb":t=io($r.DayPeriods,oi.Narrow,Zo.Standalone,!0);break;case"B":case"BB":case"BBB":t=io($r.DayPeriods,oi.Abbreviated,Zo.Format,!0);break;case"BBBB":t=io($r.DayPeriods,oi.Wide,Zo.Format,!0);break;case"BBBBB":t=io($r.DayPeriods,oi.Narrow,Zo.Format,!0);break;case"h":t=ls(yr.Hours,1,-12);break;case"hh":t=ls(yr.Hours,2,-12);break;case"H":t=ls(yr.Hours,1);break;case"HH":t=ls(yr.Hours,2);break;case"m":t=ls(yr.Minutes,1);break;case"mm":t=ls(yr.Minutes,2);break;case"s":t=ls(yr.Seconds,1);break;case"ss":t=ls(yr.Seconds,2);break;case"S":t=ls(yr.FractionalSeconds,1);break;case"SS":t=ls(yr.FractionalSeconds,2);break;case"SSS":t=ls(yr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Bb(ys.Short);break;case"ZZZZZ":t=Bb(ys.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bb(ys.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bb(ys.Long);break;default:return null}return FE[n]=t,t}(A);E+=U?U(i,e,v):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function Vb(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Hh(n,t){const e=function(n){return Qa(n)[Sn.LocaleId]}(n);if(sv[e]=sv[e]||{},sv[e][t])return sv[e][t];let r="";switch(t){case"shortDate":r=Nb(n,Po.Short);break;case"mediumDate":r=Nb(n,Po.Medium);break;case"longDate":r=Nb(n,Po.Long);break;case"fullDate":r=Nb(n,Po.Full);break;case"shortTime":r=Fb(n,Po.Short);break;case"mediumTime":r=Fb(n,Po.Medium);break;case"longTime":r=Fb(n,Po.Long);break;case"fullTime":r=Fb(n,Po.Full);break;case"short":const i=Hh(n,"shortTime"),s=Hh(n,"shortDate");r=Ub(Lb(n,Po.Short),[i,s]);break;case"medium":const l=Hh(n,"mediumTime"),p=Hh(n,"mediumDate");r=Ub(Lb(n,Po.Medium),[l,p]);break;case"long":const v=Hh(n,"longTime"),E=Hh(n,"longDate");r=Ub(Lb(n,Po.Long),[v,E]);break;case"full":const A=Hh(n,"fullTime"),U=Hh(n,"fullDate");r=Ub(Lb(n,Po.Full),[A,U])}return r&&(sv[e][t]=r),r}function Ub(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function ic(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let l=String(n);for(;l.length<t;)l="0"+l;return r&&(l=l.substr(l.length-t)),s+l}function ls(n,t,e=0,r=!1,i=!1){return function(s,l){let p=function(n,t){switch(n){case yr.FullYear:return t.getFullYear();case yr.Month:return t.getMonth();case yr.Date:return t.getDate();case yr.Hours:return t.getHours();case yr.Minutes:return t.getMinutes();case yr.Seconds:return t.getSeconds();case yr.FractionalSeconds:return t.getMilliseconds();case yr.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||p>-e)&&(p+=e),n===yr.Hours)0===p&&-12===e&&(p=12);else if(n===yr.FractionalSeconds)return function(n,t){return ic(n,3).substr(0,t)}(p,t);const v=_l(l,hr.MinusSign);return ic(p,t,v,r,i)}}function io(n,t,e=Zo.Format,r=!1){return function(i,s){return function(n,t,e,r,i,s){switch(e){case $r.Months:return function(n,t,e){const r=Qa(n),s=vl([r[Sn.MonthsFormat],r[Sn.MonthsStandalone]],t);return vl(s,e)}(t,i,r)[n.getMonth()];case $r.Days:return function(n,t,e){const r=Qa(n),s=vl([r[Sn.DaysFormat],r[Sn.DaysStandalone]],t);return vl(s,e)}(t,i,r)[n.getDay()];case $r.DayPeriods:const l=n.getHours(),p=n.getMinutes();if(s){const E=function(n){const t=Qa(n);return EO(t),(t[Sn.ExtraData][2]||[]).map(r=>"string"==typeof r?kE(r):[kE(r[0]),kE(r[1])])}(t),A=function(n,t,e){const r=Qa(n);EO(r);const s=vl([r[Sn.ExtraData][0],r[Sn.ExtraData][1]],t)||[];return vl(s,e)||[]}(t,i,r),U=E.findIndex(G=>{if(Array.isArray(G)){const[J,he]=G,Oe=l>=J.hours&&p>=J.minutes,Me=l<he.hours||l===he.hours&&p<he.minutes;if(J.hours<he.hours){if(Oe&&Me)return!0}else if(Oe||Me)return!0}else if(G.hours===l&&G.minutes===p)return!0;return!1});if(-1!==U)return A[U]}return function(n,t,e){const r=Qa(n),s=vl([r[Sn.DayPeriodsFormat],r[Sn.DayPeriodsStandalone]],t);return vl(s,e)}(t,i,r)[l<12?0:1];case $r.Eras:return function(n,t){return vl(Qa(n)[Sn.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Bb(n){return function(t,e,r){const i=-1*r,s=_l(e,hr.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case ys.Short:return(i>=0?"+":"")+ic(l,2,s)+ic(Math.abs(i%60),2,s);case ys.ShortGMT:return"GMT"+(i>=0?"+":"")+ic(l,1,s);case ys.Long:return"GMT"+(i>=0?"+":"")+ic(l,2,s)+":"+ic(Math.abs(i%60),2,s);case ys.Extended:return 0===r?"Z":(i>=0?"+":"")+ic(l,2,s)+":"+ic(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function SO(n){return Vb(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function NE(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();i=1+Math.floor((l+s)/7)}else{const s=SO(e),l=function(n){const t=Vb(n,0,1).getDay();return Vb(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),p=s.getTime()-l.getTime();i=1+Math.round(p/6048e5)}return ic(i,n,_l(r,hr.MinusSign))}}function Hb(n,t=!1){return function(e,r){return ic(SO(e).getFullYear(),n,_l(r,hr.MinusSign),t)}}const FE={};function IO(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function TO(n){return n instanceof Date&&!isNaN(n.valueOf())}class qb{}let E3=(()=>{class n extends qb{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Kj(r||this.locale)(e)){case us.Zero:return"zero";case us.One:return"one";case us.Two:return"two";case us.Few:return"few";case us.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(Ae(Uh))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();let uv=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(R_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${rn(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(ge(Ng),ge(Fg),ge(gr),ge(Bu))},n.\u0275dir=Dt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class I3{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gb=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((i,s,l)=>{if(null==i.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new I3(null,this._ngForOf,-1,-1),null===l?void 0:l),v=new xO(i,p);r.push(v)}else if(null==l)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const p=this._viewContainer.get(s);this._viewContainer.move(p,l);const v=new xO(i,p);r.push(v)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const l=this._viewContainer.get(i);l.context.index=i,l.context.count=s,l.context.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ge(la),ge(Xa),ge(Ng))},n.\u0275dir=Dt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class xO{constructor(t,e){this.record=t,this.view=e}}let zh=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new D3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ge(la),ge(Xa))},n.\u0275dir=Dt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class D3{constructor(){this.$implicit=null,this.ngIf=null}}function RO(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${rn(t)}'.`)}class jE{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let lv=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),HE=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new jE(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(ge(la),ge(Xa),ge(lv,9))},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();let Wb=(()=>{class n{constructor(e){this.locale=e}transform(e,r="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return n3(e,r,s||this.locale,i)}catch(l){throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${rn(n)}'`)}(n,l.message)}}}return n.\u0275fac=function(e){return new(e||n)(ge(Uh,16))},n.\u0275pipe=Ni({name:"date",type:n,pure:!0}),n})(),Yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[{provide:qb,useClass:E3}]}),n})();const FO="browser";function LO(n){return"server"===n}let VO=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>new eH(Ae(Fn),window)}),n})();class eH{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=UO(this.window.history)||UO(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function UO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class GE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){kb||(kb=n)}(new GE)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(cv=cv||document.querySelector("base"),cv?cv.getAttribute("href"):null);return null==e?null:function(n){$b=$b||document.createElement("a"),$b.setAttribute("href",n);const t=$b.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){cv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let $b,cv=null;const jO=new Xt("TRANSITION_ID"),sH=[{provide:ev,useFactory:function(n,t,e){return()=>{e.get(qg).donePromise.then(()=>{const r=Yc(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[jO,Fn,Mr],multi:!0}];class WE{static init(){!function(n){dE=n}(new WE)}addToWindow(t){Tn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Tn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tn.getAllAngularRootElements=()=>t.getAllRootElements(),Tn.frameworkStabilizers||(Tn.frameworkStabilizers=[]),Tn.frameworkStabilizers.push(r=>{const i=Tn.getAllAngularTestabilities();let s=i.length,l=!1;const p=function(v){l=l||v,s--,0==s&&r(l)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Yc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let aH=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const hv=new Xt("EventManagerPlugins");let Yb=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Ae(hv),Ae(qn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class $E{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Yc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let zO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),fv=(()=>{class n extends zO{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qO),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qO))}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function qO(n){Yc().remove(n)}const KE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},YE=/%COMP%/g;function Qb(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Qb(n,i,e):(i=i.replace(YE,n),e.push(i))}return e}function $O(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xb=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new QE(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ir.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new CH(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case ir.ShadowDom:return new EH(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Qb(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Ae(Yb),Ae(fv),Ae(tv))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class QE{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(KE[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=KE[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=KE[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(sa.DashCase|sa.Important)?t.style.setProperty(e,r,i&sa.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&sa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$O(r)):this.eventManager.addEventListener(t,e,$O(r))}}class CH extends QE{constructor(t,e,r,i){super(t),this.component=r;const s=Qb(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(YE,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(YE,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class EH extends QE{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qb(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const p=document.createElement("style");p.textContent=s[l],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let SH=(()=>{class n extends $E{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const QO=["alt","control","meta","shift"],xH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},RH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let PH=(()=>{class n extends $E{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yc().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="";if(QO.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),l+=v+".")}),l+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static getEventFullKey(e){let r="",i=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&XO.hasOwnProperty(t)&&(t=XO[t]))}return xH[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QO.forEach(s=>{s!=i&&RH[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:function(){return Ae(JE)},token:n,providedIn:"root"}),n})(),JE=(()=>{class n extends Qg{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Gt.NONE:return r;case Gt.HTML:return ia(r,"HTML")?Si(r):We(this._doc,String(r)).toString();case Gt.STYLE:return ia(r,"Style")?Si(r):r;case Gt.SCRIPT:if(ia(r,"Script"))return Si(r);throw new Error("unsafe value used in a script context");case Gt.URL:return Lu(r),ia(r,"URL")?Si(r):Gl(String(r));case Gt.RESOURCE_URL:if(ia(r,"ResourceURL"))return Si(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new kc(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new sl(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new wd(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new Fp(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new Cd(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({factory:function(){return function(n){return new JE(n.get(Fn))}(Ae(Ka))},token:n,providedIn:"root"}),n})();const jH=BA(AB,"browser",[{provide:ml,useValue:FO},{provide:OA,useValue:function(){GE.makeCurrent(),WE.init()},multi:!0},{provide:Fn,useFactory:function(){return function(n){di=n}(document),document},deps:[]}]),HH=[[],{provide:cl,useValue:"root"},{provide:gu,useFactory:function(){return new gu},deps:[]},{provide:hv,useClass:SH,multi:!0,deps:[Fn,qn,ml]},{provide:hv,useClass:PH,multi:!0,deps:[Fn]},[],{provide:Xb,useClass:Xb,deps:[Yb,fv,tv]},{provide:Gd,useExisting:Xb},{provide:zO,useExisting:fv},{provide:fv,useClass:fv,deps:[Fn]},{provide:fE,useClass:fE,deps:[qn]},{provide:Yb,useClass:Yb,deps:[hv,qn]},{provide:class{},useClass:aH,deps:[]},[]];let ZE=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:tv,useValue:e.appId},{provide:jO,useExisting:tv},sH]}}}return n.\u0275fac=function(e){return new(e||n)(Ae(n,12))},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:HH,imports:[Yg,FB]}),n})();function Un(...n){let t=n[n.length-1];return R(t)?(n.pop(),jn(n,t)):hi(n)}"undefined"!=typeof window&&window;class Pa extends F{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new M;return this._value}next(t){super.next(this._value=t)}}class QH extends ft{notifyNext(t,e,r,i,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class XH extends ft{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function JH(n,t,e,r,i=new XH(n,e,r)){if(!i.closed)return t instanceof at?t.subscribe(i):nn(t)(i)}const ZO={};class e4{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new t4(t,this.resultSelector))}}class t4 extends QH{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ZO),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(JH(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,l=this.toRespond?i[r]===ZO?--this.toRespond:this.toRespond:0;i[r]=e,0===l&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Jb=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function tS(...n){return xn(1)(Un(...n))}const Zd=new at(n=>n.complete());function Zb(n){return n?function(n){return new at(t=>n.schedule(()=>t.complete()))}(n):Zd}function ew(n){return new at(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?on(e):Zb()).subscribe(t)})}function eu(n,t){return"function"==typeof t?e=>e.pipe(eu((r,i)=>on(n(r,i)).pipe(K((s,l)=>t(r,s,i,l))))):e=>e.lift(new i4(n))}class i4{constructor(t){this.project=t}call(t,e){return e.subscribe(new o4(t,this.project))}}class o4 extends nr{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Kt(this),i=this.destination;i.add(r),this.innerSubscription=sr(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ex=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ka(n){return t=>0===n?Zb():t.lift(new s4(n))}class s4{constructor(t){if(this.total=t,this.total<0)throw new ex}call(t,e){return e.subscribe(new a4(t,this.total))}}class a4 extends ft{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function yl(...n){const t=n[n.length-1];return R(t)?(n.pop(),e=>tS(n,e,t)):e=>tS(n,e)}function dv(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new u4(n,t,e))}}class u4{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new l4(t,this.accumulator,this.seed,this.hasSeed))}}class l4 extends ft{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function es(n,t){return function(r){return r.lift(new c4(n,t))}}class c4{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new h4(t,this.predicate,this.thisArg))}}class h4 extends ft{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function qf(n){return function(e){const r=new f4(n),i=e.lift(r);return r.caught=i}}class f4{constructor(t){this.selector=t}call(t,e){return e.subscribe(new d4(t,this.selector,this.caught))}}class d4 extends nr{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Kt(this);this.add(r);const i=sr(e,r);i!==r&&this.add(i)}}}function Xg(n,t){return Hn(n,t,1)}function nS(n){return function(e){return 0===n?Zb():e.lift(new p4(n))}}class p4{constructor(t){if(this.total=t,this.total<0)throw new ex}call(t,e){return e.subscribe(new g4(t,this.total))}}class g4 extends ft{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const l=e++%r;t.next(i[l])}}t.complete()}}function tx(n=v4){return t=>t.lift(new m4(n))}class m4{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new _4(t,this.errorFactory))}}class _4 extends ft{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function v4(){return new Jb}function nx(n=null){return t=>t.lift(new y4(n))}class y4{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new b4(t,this.defaultValue))}}class b4 extends ft{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Jg(n,t){const e=arguments.length>=2;return r=>r.pipe(n?es((i,s)=>n(i,s,r)):et,ka(1),e?nx(t):tx(()=>new Jb))}function Gf(){}function Us(n,t,e){return function(i){return i.lift(new C4(n,t,e))}}class C4{constructor(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}call(t,e){return e.subscribe(new E4(t,this.nextOrObserver,this.error,this.complete))}}class E4 extends ft{constructor(t,e,r,i){super(t),this._tapNext=Gf,this._tapError=Gf,this._tapComplete=Gf,this._tapError=r||Gf,this._tapComplete=i||Gf,te(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Gf,this._tapError=e.error||Gf,this._tapComplete=e.complete||Gf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function rx(n){return t=>t.lift(new S4(n))}class S4{constructor(t){this.callback=t}call(t,e){return e.subscribe(new I4(t,this.callback))}}class I4 extends ft{constructor(t,e){super(t),this.add(new Y(e))}}class qh{constructor(t,e){this.id=t,this.url=e}}class rS extends qh{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pv extends qh{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ix extends qh{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class T4 extends qh{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D4 extends qh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M4 extends qh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A4 extends qh{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O4 extends qh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x4 extends qh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ox{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sx{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class R4{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P4{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k4{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N4{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ax{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ti="primary";class F4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zg(n){return new F4(n)}const ux="ngNavigationCancelingError";function iS(n){const t=Error("NavigationCancelingError: "+n);return t[ux]=!0,t}function V4(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],p=n[s];if(l.startsWith(":"))i[l.substring(1)]=p;else if(l!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qc(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!lx(n[i],t[i]))return!1;return!0}function lx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function cx(n){return Array.prototype.concat.apply([],n)}function hx(n){return n.length>0?n[n.length-1]:null}function ca(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Xc(n){return ob(n)?n:k_(n)?on(Promise.resolve(n)):Un(n)}const j4={exact:function px(n,t,e){if(!tp(n.segments,t.segments)||!tw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!px(n.children[r],t.children[r],e))return!1;return!0},subset:gx},fx={exact:function(n,t){return Qc(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>lx(n[e],t[e]))},ignored:()=>!0};function dx(n,t,e){return j4[e.paths](n.root,t.root,e.matrixParams)&&fx[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gx(n,t,e){return mx(n,t,t.segments,e)}function mx(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!tp(i,e)||t.hasChildren()||!tw(i,e,r))}if(n.segments.length===e.length){if(!tp(n.segments,e)||!tw(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!gx(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(tp(n.segments,i)&&tw(n.segments,i,r)&&n.children[ti])&&mx(n.children[ti],t,s,r)}}function tw(n,t,e){return t.every((r,i)=>fx[e](n[i].parameters,r.parameters))}class ep{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zg(this.queryParams)),this._queryParamMap}toString(){return W4.serialize(this)}}class ui{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ca(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nw(this)}}class gv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zg(this.parameters)),this._parameterMap}toString(){return bx(this)}}function tp(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class oS{}class _x{parse(t){const e=new tz(t);return new ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${mv(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${rw(e)}=${rw(i)}`).join("&"):`${rw(e)}=${rw(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const W4=new _x;function nw(n){return n.segments.map(t=>bx(t)).join("/")}function mv(n,t){if(!n.hasChildren())return nw(n);if(t){const e=n.children[ti]?mv(n.children[ti],!1):"",r=[];return ca(n.children,(i,s)=>{s!==ti&&r.push(`${s}:${mv(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return ca(n.children,(r,i)=>{i===ti&&(e=e.concat(t(r,i)))}),ca(n.children,(r,i)=>{i!==ti&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===ti?[mv(n.children[ti],!1)]:[`${i}:${mv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ti]?`${nw(n)}/${e[0]}`:`${nw(n)}/(${e.join("//")})`}}function vx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rw(n){return vx(n).replace(/%3B/gi,";")}function sS(n){return vx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iw(n){return decodeURIComponent(n)}function yx(n){return iw(n.replace(/\+/g,"%20"))}function bx(n){return`${sS(n.path)}${function(n){return Object.keys(n).map(t=>`;${sS(t)}=${sS(n[t])}`).join("")}(n.parameters)}`}const Q4=/^[^\/()?;=#]+/;function ow(n){const t=n.match(Q4);return t?t[0]:""}const X4=/^[^=?&#]+/,Z4=/^[^?&#]+/;class tz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ui([],{}):new ui([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ti]=new ui(t,e)),r}parseSegment(){const t=ow(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gv(iw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ow(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=ow(this.remaining);i&&(r=i,this.capture(r))}t[iw(e)]=iw(r)}parseQueryParam(t){const e=function(n){const t=n.match(X4);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function(n){const t=n.match(Z4);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=yx(e),s=yx(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ow(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ti);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[ti]:new ui([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=aS(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=aS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=uS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return uS(t,this._root).map(e=>e.value)}}function aS(n,t){if(n===t.value)return t;for(const e of t.children){const r=aS(n,e);if(r)return r}return null}function uS(n,t){if(n===t.value)return[t];for(const e of t.children){const r=uS(n,e);if(r.length)return r.unshift(t),r}return[]}class Gh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _v(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Cx extends wx{constructor(t,e){super(t),this.snapshot=e,lS(this,t)}toString(){return this.snapshot.toString()}}function Ex(n,t){const e=function(n,t){const l=new sw([],{},{},"",{},ti,t,null,n.root,-1,{});return new Ix("",new Gh(l,[]))}(n,t),r=new Pa([new gv("",{})]),i=new Pa({}),s=new Pa({}),l=new Pa({}),p=new Pa(""),v=new em(r,i,l,p,s,ti,t,e.root);return v.snapshot=e.root,new Cx(new Gh(v,[]),e)}class em{constructor(t,e,r,i,s,l,p,v){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(t=>Zg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(t=>Zg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sx(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class sw{constructor(t,e,r,i,s,l,p,v,E,A,U){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=p,this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=A,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ix extends wx{constructor(t,e){super(e),this.url=t,lS(this,e)}toString(){return Tx(this._root)}}function lS(n,t){t.value._routerState=n,t.children.forEach(e=>lS(n,e))}function Tx(n){const t=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${t}`}function cS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Qc(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Qc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hS(n,t){return Qc(n.params,t.params)&&function(n,t){return tp(n,t)&&n.every((e,r)=>Qc(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||hS(n.parent,t.parent))}function aw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return aw(n,r,i);return aw(n,r)})}(n,t,e);return new Gh(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return Dx(t,l),l}}const r=function(n){return new em(new Pa(n.url),new Pa(n.params),new Pa(n.queryParams),new Pa(n.fragment),new Pa(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>aw(n,s));return new Gh(r,i)}}function Dx(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Dx(n.children[e],t.children[e])}function uw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vv(n){return"object"==typeof n&&null!=n&&n.outlets}function fS(n,t,e,r,i){let s={};return r&&ca(r,(l,p)=>{s[p]=Array.isArray(l)?l.map(v=>`${v}`):`${l}`}),new ep(e.root===n?t:Mx(e.root,n,t),s,i)}function Mx(n,t,e){const r={};return ca(n.children,(i,s)=>{r[s]=i===t?e:Mx(i,t,e)}),new ui(n.segments,r)}class Ax{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&uw(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(vv);if(i&&i!==hx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dS{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Ox(n,t,e){if(n||(n=new ui([],{})),0===n.segments.length&&n.hasChildren())return lw(n,t,e);const r=function(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const l=n.segments[i],p=e[r];if(vv(p))break;const v=`${p}`,E=r<e.length-1?e[r+1]:null;if(i>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!Rx(v,E,l))return s;r+=2}else{if(!Rx(v,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ui(n.segments.slice(0,r.pathIndex),{});return s.children[ti]=new ui(n.segments.slice(r.pathIndex),n.children),lw(s,0,i)}return r.match&&0===i.length?new ui(n.segments,{}):r.match&&!n.hasChildren()?pS(n,t,e):r.match?lw(n,0,i):pS(n,t,e)}function lw(n,t,e){if(0===e.length)return new ui(n.segments,{});{const r=function(n){return vv(n[0])?n[0].outlets:{[ti]:n}}(e),i={};return ca(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=Ox(n.children[l],t,s))}),ca(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new ui(n.segments,i)}}function pS(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(vv(s)){const v=dz(s.outlets);return new ui(r,v)}if(0===i&&uw(e[0])){r.push(new gv(n.segments[t].path,xx(e[0]))),i++;continue}const l=vv(s)?s.outlets[ti]:`${s}`,p=i<e.length-1?e[i+1]:null;l&&p&&uw(p)?(r.push(new gv(l,xx(p))),i+=2):(r.push(new gv(l,{})),i++)}return new ui(r,{})}function dz(n){const t={};return ca(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=pS(new ui([],{}),0,e))}),t}function xx(n){const t={};return ca(n,(e,r)=>t[r]=`${e}`),t}function Rx(n,t,e){return n==e.path&&Qc(t,e.parameters)}class gz{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),cS(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=_v(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),ca(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=_v(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=_v(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new N4(s.value.snapshot))}),t.children.length&&this.forwardEvent(new P4(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(cS(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(p.contexts),l.attachRef=p.componentRef,l.route=p.route.value,l.outlet&&l.outlet.attach(p.componentRef,p.route.value),Px(p.route)}else{const p=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),v=p?p.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=v,l.outlet&&l.outlet.activateWith(i,v),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}function Px(n){cS(n.value),n.children.forEach(Px)}class gS{constructor(t,e){this.routes=t,this.module=e}}function Wf(n){return"function"==typeof n}function np(n){return n instanceof ep}const yv=Symbol("INITIAL_VALUE");function bv(){return eu(n=>function(...n){let t,e;return R(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Dn(n[0])&&(n=n[0]),hi(n,e).lift(new e4(t))}(n.map(t=>t.pipe(ka(1),yl(yv)))).pipe(dv((t,e)=>{let r=!1;return e.reduce((i,s,l)=>i!==yv?i:(s===yv&&(r=!0),r||!1!==s&&l!==e.length-1&&!np(s)?i:s),t)},yv),es(t=>t!==yv),K(t=>np(t)?t:!0===t),ka(1)))}let kx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=mr({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&er(0,"router-outlet")},directives:function(){return[CS]},encapsulation:2}),n})();function Nx(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Cz(r,Ez(t,r))}}function Cz(n,t){n.children&&Nx(n.children,t)}function Ez(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function mS(n){const t=n.children&&n.children.map(mS),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ti&&(e.component=kx),e}function bl(n){return n.outlet||ti}function Fx(n,t){const e=n.filter(r=>bl(r)===t);return e.push(...n.filter(r=>bl(r)!==t)),e}const Lx={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cw(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Lx):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||V4)(e,n,t);if(!s)return Object.assign({},Lx);const l={};ca(s.posParams,(v,E)=>{l[E]=v.path});const p=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:p,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function hw(n,t,e,r,i="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>fw(n,t,r)&&bl(r)!==ti)}(n,e,r)){const l=new ui(t,function(n,t,e,r){const i={};i[ti]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&bl(s)!==ti){const l=new ui([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,i[bl(s)]=l}return i}(n,t,r,new ui(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>fw(n,t,r))}(n,e,r)){const l=new ui(n.segments,function(n,t,e,r,i,s){const l={};for(const p of r)if(fw(n,e,p)&&!i[bl(p)]){const v=new ui([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[bl(p)]=v}return Object.assign(Object.assign({},i),l)}(n,t,e,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new ui(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function fw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vx(n,t,e,r){return!!(bl(n)===r||r!==ti&&fw(t,e,n))&&("**"===n.path||cw(t,n,e).matched)}function Ux(n,t,e){return 0===t.length&&!n.children[e]}class wv{constructor(t){this.segmentGroup=t||null}}class Bx{constructor(t){this.urlTree=t}}function dw(n){return new at(t=>t.error(new wv(n)))}function jx(n){return new at(t=>t.error(new Bx(n)))}function Mz(n){return new at(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class xz{constructor(t,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Kc)}apply(){const t=hw(this.urlTree.root,[],[],this.config).segmentGroup,e=new ui(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ti).pipe(K(s=>this.createUrlTree(_S(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qf(s=>{if(s instanceof Bx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof wv?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ti).pipe(K(i=>this.createUrlTree(_S(i),t.queryParams,t.fragment))).pipe(qf(i=>{throw i instanceof wv?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new ui([],{[ti]:t}):t;return new ep(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(K(s=>new ui([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return on(i).pipe(Xg(s=>{const l=r.children[s],p=Fx(e,s);return this.expandSegmentGroup(t,p,l,s).pipe(K(v=>({segment:v,outlet:s})))}),dv((s,l)=>(s[l.outlet]=l.segment,s),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?es((i,s)=>n(i,s,r)):et,nS(1),e?nx(t):tx(()=>new Jb))}())}expandSegment(t,e,r,i,s,l){return on(r).pipe(Xg(p=>this.expandSegmentAgainstRoute(t,e,r,p,i,s,l).pipe(qf(E=>{if(E instanceof wv)return Un(null);throw E}))),Jg(p=>!!p),qf((p,v)=>{if(p instanceof Jb||"EmptyError"===p.name){if(Ux(e,i,s))return Un(new ui([],{}));throw new wv(e)}throw p}))}expandSegmentAgainstRoute(t,e,r,i,s,l,p){return Vx(i,e,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,l):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l):dw(e):dw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jx(s):this.lineralizeSegments(r,s).pipe(Hn(l=>{const p=new ui(l,{});return this.expandSegment(t,p,e,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l){const{matched:p,consumedSegments:v,lastChild:E,positionalParamSegments:A}=cw(e,i,s);if(!p)return dw(e);const U=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?jx(U):this.lineralizeSegments(i,U).pipe(Hn(G=>this.expandSegment(t,e,r,G.concat(s.slice(E)),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Un(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(K(G=>(r._loadedConfig=G,new ui(i,{})))):Un(new ui(i,{}));const{matched:l,consumedSegments:p,lastChild:v}=cw(e,r,i);if(!l)return dw(e);const E=i.slice(v);return this.getChildConfig(t,r,i).pipe(Hn(U=>{const G=U.module,J=U.routes,{segmentGroup:he,slicedSegments:Oe}=hw(e,p,E,J),Me=new ui(he.segments,he.children);if(0===Oe.length&&Me.hasChildren())return this.expandChildren(G,J,Me).pipe(K(fn=>new ui(p,fn)));if(0===J.length&&0===Oe.length)return Un(new ui(p,{}));const ht=bl(r)===s;return this.expandSegment(G,Me,J,Oe,ht?ti:s,!0).pipe(K(Yt=>new ui(p.concat(Yt.segments),Yt.children)))}))}getChildConfig(t,e,r){return e.children?Un(new gS(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Un(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Hn(i=>i?this.configLoader.load(t.injector,e).pipe(K(s=>(e._loadedConfig=s,s))):function(n){return new at(t=>t.error(iS(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Un(new gS([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?Un(i.map(l=>{const p=t.get(l);let v;if(function(n){return n&&Wf(n.canLoad)}(p))v=p.canLoad(e,r);else{if(!Wf(p))throw new Error("Invalid CanLoad guard");v=p(e,r)}return Xc(v)})).pipe(bv(),Us(l=>{if(!np(l))return;const p=iS(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw p.url=l,p}),K(l=>!0===l)):Un(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Un(r);if(i.numberOfChildren>1||!i.children[ti])return Mz(t.redirectTo);i=i.children[ti]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new ep(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ca(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[s]=e[p]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let l={};return ca(e.children,(p,v)=>{l[v]=this.createSegmentGroup(t,p,r,i)}),new ui(s,l)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function _S(n){const t={};for(const r of Object.keys(n.children)){const s=_S(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[ti]){const t=n.children[ti];return new ui(n.segments.concat(t.segments),t.children)}return n}(new ui(n.segments,t))}class Hx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pw{constructor(t,e){this.component=t,this.route=e}}function kz(n,t,e){const r=n._root;return Cv(r,t?t._root:null,e,[r.value])}function gw(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Cv(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_v(t);return n.children.forEach(l=>{(function(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const v=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!tp(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tp(n.url,t.url)||!Qc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hS(n,t)||!Qc(n.queryParams,t.queryParams);case"paramsChange":default:return!hS(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Hx(r)):(s.data=l.data,s._resolvedData=l._resolvedData),Cv(n,t,s.component?p?p.children:null:e,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new pw(p.outlet.component,l))}else l&&Ev(t,p,i),i.canActivateChecks.push(new Hx(r)),Cv(n,null,s.component?p?p.children:null:e,r,i)})(l,s[l.value.outlet],e,r.concat([l.value]),i),delete s[l.value.outlet]}),ca(s,(l,p)=>Ev(l,e.getContext(p),i)),i}function Ev(n,t,e){const r=_v(n),i=n.value;ca(r,(s,l)=>{Ev(s,i.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new pw(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class $z{}function zx(n){return new at(t=>t.error(n))}class Yz{constructor(t,e,r,i,s,l){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const t=hw(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ti);if(null===e)return null;const r=new sw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ti,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gh(r,e),s=new Ix(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,r=Sx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const s of Object.keys(e.children)){const l=e.children[s],p=Fx(t,s),v=this.processSegmentGroup(p,l,s);if(null===v)return null;r.push(...v)}const i=qx(r);return function(n){n.sort((t,e)=>t.value.outlet===ti?-1:e.value.outlet===ti?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const s of t){const l=this.processSegmentAgainstRoute(s,e,r,i);if(null!==l)return l}return Ux(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!Vx(t,e,r,i))return null;let s,l=[],p=[];if("**"===t.path){const J=r.length>0?hx(r).parameters:{};s=new sw(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(t),bl(t),t.component,t,Gx(e),Wx(e)+r.length,Kx(t))}else{const J=cw(e,t,r);if(!J.matched)return null;l=J.consumedSegments,p=r.slice(J.lastChild),s=new sw(l,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(t),bl(t),t.component,t,Gx(e),Wx(e)+l.length,Kx(t))}const v=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:E,slicedSegments:A}=hw(e,l,p,v.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===A.length&&E.hasChildren()){const J=this.processChildren(v,E);return null===J?null:[new Gh(s,J)]}if(0===v.length&&0===A.length)return[new Gh(s,[])];const U=bl(t)===i,G=this.processSegment(v,E,A,U?ti:i);return null===G?null:[new Gh(s,G)]}}function Jz(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function qx(n){const t=[],e=new Set;for(const r of n){if(!Jz(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=qx(r.children);t.push(new Gh(r.value,i))}return t.filter(r=>!e.has(r))}function Gx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Wx(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function $x(n){return n.data||{}}function Kx(n){return n.resolve||{}}function vS(n){return eu(t=>{const e=n(t);return e?on(e).pipe(K(()=>t)):Un(t)})}class sq extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yS=new Xt("ROUTES");class Yx{constructor(t,e,r,i){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(K(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=s.create(t);return new gS(cx(l.injector.get(yS,void 0,Rn.Self|Rn.Optional)).map(mS),l)}),qf(s=>{throw e._loader$=void 0,s}));return e._loader$=new Ue(i,()=>new F).pipe(me()),e._loader$}loadModuleFactory(t){return"string"==typeof t?on(this.loader.load(t)):Xc(t()).pipe(Hn(e=>e instanceof AM?Un(e):on(this.compiler.compileModuleAsync(e))))}}class aq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tm,this.attachRef=null}}class tm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new aq,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class lq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cq(n){throw n}function hq(n,t,e){return t.parse("/")}function Qx(n,t){return Un(null)}const fq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bs=(()=>{class n{constructor(e,r,i,s,l,p,v,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=cq,this.malformedUriErrorHandler=hq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qx,afterPreactivation:Qx},this.urlHandlingStrategy=new lq,this.routeReuseStrategy=new sq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(Kc),this.console=l.get(Cb);const G=l.get(qn);this.isNgZoneEnabled=G instanceof qn&&qn.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new ep(new ui([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yx(p,v,J=>this.triggerEvent(new ox(J)),J=>this.triggerEvent(new sx(J))),this.routerState=Ex(this.currentUrlTree,this.rootComponentType),this.transitions=new Pa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(es(i=>0!==i.id),K(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),eu(i=>{let s=!1,l=!1;return Un(i).pipe(Us(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),eu(p=>{const v=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return mw(p.source)&&(this.browserUrlTree=p.extractedUrl),Un(p).pipe(eu(U=>{const G=this.transitions.getValue();return r.next(new rS(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),G!==this.transitions.getValue()?Zd:Promise.resolve(U)}),function(n,t,e,r){return eu(i=>function(n,t,e,r,i){return new xz(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(K(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Us(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function(n,t,e,r,i){return Hn(s=>function(n,t,e,r,i="emptyOnly",s="legacy"){try{const l=new Yz(n,t,e,r,i,s).recognize();return null===l?zx(new $z):Un(l)}catch(l){return zx(l)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(K(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),Us(U=>{"eager"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(U.urlAfterRedirects,U),this.browserUrlTree=U.urlAfterRedirects);const G=new D4(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(G)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:J,source:he,restoredState:Oe,extras:Me}=p,ht=new rS(G,this.serializeUrl(J),he,Oe);r.next(ht);const tt=Ex(J,this.rootComponentType).snapshot;return Un(Object.assign(Object.assign({},p),{targetSnapshot:tt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Zd}),vS(p=>{const{targetSnapshot:v,id:E,extractedUrl:A,rawUrl:U,extras:{skipLocationChange:G,replaceUrl:J}}=p;return this.hooks.beforePreactivation(v,{navigationId:E,appliedUrlTree:A,rawUrlTree:U,skipLocationChange:!!G,replaceUrl:!!J})}),Us(p=>{const v=new M4(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),K(p=>Object.assign(Object.assign({},p),{guards:kz(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,t){return Hn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?Un(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return on(n).pipe(Hn(i=>function(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Un(s.map(p=>{const v=gw(p,t,i);let E;if(function(n){return n&&Wf(n.canDeactivate)}(v))E=Xc(v.canDeactivate(n,t,e,r));else{if(!Wf(v))throw new Error("Invalid CanDeactivate guard");E=Xc(v(n,t,e,r))}return E.pipe(Jg())})).pipe(bv()):Un(!0)}(i.component,i.route,e,t,r)),Jg(i=>!0!==i,!0))}(l,r,i,n).pipe(Hn(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,t,e,r){return on(t).pipe(Xg(i=>tS(function(n,t){return null!==n&&t&&t(new R4(n)),Un(!0)}(i.route.parent,r),function(n,t){return null!==n&&t&&t(new k4(n)),Un(!0)}(i.route,r),function(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>ew(()=>Un(l.guards.map(v=>{const E=gw(v,l.node,e);let A;if(function(n){return n&&Wf(n.canActivateChild)}(E))A=Xc(E.canActivateChild(r,n));else{if(!Wf(E))throw new Error("Invalid CanActivateChild guard");A=Xc(E(r,n))}return A.pipe(Jg())})).pipe(bv())));return Un(s).pipe(bv())}(n,i.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Un(r.map(s=>ew(()=>{const l=gw(s,t,e);let p;if(function(n){return n&&Wf(n.canActivate)}(l))p=Xc(l.canActivate(t,n));else{if(!Wf(l))throw new Error("Invalid CanActivate guard");p=Xc(l(t,n))}return p.pipe(Jg())}))).pipe(bv()):Un(!0)}(n,i.route,e))),Jg(i=>!0!==i,!0))}(r,s,n,t):Un(p)),K(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),Us(p=>{if(np(p.guardsResult)){const E=iS(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw E.url=p.guardsResult,E}const v=new A4(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),es(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),vS(p=>{if(p.guards.canActivateChecks.length)return Un(p).pipe(Us(v=>{const E=new O4(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),eu(v=>{let E=!1;return Un(v).pipe(function(n,t){return Hn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Un(e);let s=0;return on(i).pipe(Xg(l=>function(n,t,e,r){return function(n,t,e,r){const i=Object.keys(n);if(0===i.length)return Un({});const s={};return on(i).pipe(Hn(l=>function(n,t,e,r){const i=gw(n,t,r);return Xc(i.resolve?i.resolve(t,e):i(t,e))}(n[l],t,e,r).pipe(Us(p=>{s[l]=p}))),nS(1),Hn(()=>Object.keys(s).length===i.length?Un(s):Zd))}(n._resolve,n,t,r).pipe(K(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Sx(n,e).resolve),null)))}(l.route,r,n,t)),Us(()=>s++),nS(1),Hn(l=>s===i.length?Un(e):Zd))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Us({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),Us(v=>{const E=new x4(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}))}),vS(p=>{const{targetSnapshot:v,id:E,extractedUrl:A,rawUrl:U,extras:{skipLocationChange:G,replaceUrl:J}}=p;return this.hooks.afterPreactivation(v,{navigationId:E,appliedUrlTree:A,rawUrlTree:U,skipLocationChange:!!G,replaceUrl:!!J})}),K(p=>{const v=function(n,t,e){const r=aw(n,t._root,e?e._root:void 0);return new Cx(r,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),Us(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>K(r=>(new gz(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),Us({next(){s=!0},complete(){s=!0}}),rx(()=>{var p;if(!s&&!l){const v=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,v)):this.cancelNavigationTransition(i,v)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),qf(p=>{if(l=!0,function(n){return n&&n[ux]}(p)){const v=np(p.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const E=new ix(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(E),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),U={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mw(i.source)};this.scheduleNavigation(A,"imperative",null,U,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new T4(i.id,this.serializeUrl(i.extractedUrl),p);r.next(v);try{i.resolve(this.errorHandler(p))}catch(E){i.reject(E)}}return Zd}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:l}=r,p={replaceUrl:!0};if(s){const v=Object.assign({},s);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(p.state=v)}this.scheduleNavigation(l,i,s,p)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const i=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!i||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nx(e),this.config=e.map(mS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:p,preserveFragment:v}=r,E=i||this.routerState.root,A=v?this.currentUrlTree.fragment:l;let U=null;switch(p){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}return null!==U&&(U=this.removeEmptyProps(U)),function(n,t,e,r,i){if(0===e.length)return fS(t.root,t.root,t,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ax(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return ca(s.outlets,(v,E)=>{p[E]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&i.push(p))}),i):[...i,s]},[]);return new Ax(e,t,r)}(e);if(s.toRoot())return fS(t.root,new ui([],{}),t,r,i);const l=function(n,t,e){if(n.isAbsolute)return new dS(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new dS(s,s===t.root,0)}const r=uw(n.commands[0])?0:1;return function(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new dS(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,t,n),p=l.processChildren?lw(l.segmentGroup,l.index,s.commands):Ox(l.segmentGroup,l.index,s.commands);return fS(l.segmentGroup,p,t,r,i)}(E,this.currentUrlTree,e,U,null!=A?A:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=np(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},fq):!1===r?Object.assign({},dq):r,np(e))return dx(this.currentUrlTree,e,i);const s=this.parseUrl(e);return dx(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new pv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,l){var p,v;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),A=mw(r)&&E&&!mw(E.source),J=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===e.toString();if(A&&J)return Promise.resolve(!0);let he,Oe,Me;l?(he=l.resolve,Oe=l.reject,Me=l.promise):Me=new Promise((Yt,fn)=>{he=Yt,Oe=fn});const ht=++this.navigationId;let tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),tt=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):tt=0,this.setTransition({id:ht,targetPageId:tt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:he,reject:Oe,promise:Me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Me.catch(Yt=>Promise.reject(Yt))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new ix(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(Ae(rl),Ae(oS),Ae(tm),Ae(Kg),Ae(Mr),Ae(Sb),Ae(Yd),Ae(void 0))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function mw(n){return"imperative"!==n}let CS=(()=>{class n{constructor(e,r,i,s,l){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new Wr,this.deactivateEvents=new Wr,this.name=s||ti,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const l=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new _q(e,p,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(ge(tm),ge(la),ge($c),Ca("name"),ge(dl))},n.\u0275dir=Dt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class _q{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===em?this.route:t===tm?this.childContexts:this.parent.get(t,e)}}class Xx{}class Jx{preload(t,e){return Un(null)}}let Zx=(()=>{class n{constructor(e,r,i,s,l){this.router=e,this.injector=s,this.preloadingStrategy=l,this.loader=new Yx(r,i,E=>e.triggerEvent(new ox(E)),E=>e.triggerEvent(new sx(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(es(e=>e instanceof pv),Xg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Kc);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return on(i).pipe(xn(),K(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Un(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Hn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Ae(bs),Ae(Sb),Ae(Yd),Ae(Mr),Ae(Xx))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),ES=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ax&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ax(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Ae(bs),Ae(VO),Ae(void 0))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const rp=new Xt("ROUTER_CONFIGURATION"),e1=new Xt("ROUTER_FORROOT_GUARD"),yq=[Kg,{provide:oS,useClass:_x},{provide:bs,useFactory:function(n,t,e,r,i,s,l,p={},v,E){const A=new bs(null,n,t,e,r,i,s,cx(l));return v&&(A.urlHandlingStrategy=v),E&&(A.routeReuseStrategy=E),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(p,A),p.enableTracing&&A.events.subscribe(U=>{var G,J;null===(G=console.group)||void 0===G||G.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(J=console.groupEnd)||void 0===J||J.call(console)}),A},deps:[oS,tm,Kg,Mr,Sb,Yd,yS,rp,[class{},new Yi],[class{},new Yi]]},tm,{provide:em,useFactory:function(n){return n.routerState.root},deps:[bs]},{provide:Sb,useClass:yB},Zx,Jx,class{preload(t,e){return e().pipe(qf(()=>Un(null)))}},{provide:rp,useValue:{enableTracing:!1}}];function bq(){return new gE("Router",bs)}let t1=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[yq,n1(e),{provide:e1,useFactory:Eq,deps:[[bs,new Yi,new ks]]},{provide:rp,useValue:r||{}},{provide:$g,useFactory:Cq,deps:[Jd,[new Ui(RE),new Yi],rp]},{provide:ES,useFactory:wq,deps:[bs,VO,rp]},{provide:Xx,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Jx},{provide:gE,multi:!0,useFactory:bq},[SS,{provide:ev,multi:!0,useFactory:Dq,deps:[SS]},{provide:r1,useFactory:Mq,deps:[SS]},{provide:xA,multi:!0,useExisting:r1}]]}}static forChild(e){return{ngModule:n,providers:[n1(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Ae(e1,8),Ae(bs,8))},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})();function wq(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ES(n,t,e)}function Cq(n,t,e={}){return e.useHash?new Uj(n,t):new bO(n,t)}function Eq(n){return"guarded"}function n1(n){return[{provide:Cc,multi:!0,useValue:n},{provide:yS,multi:!0,useValue:n}]}let SS=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new F}appInitializer(){return this.injector.get(Fj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),s=this.injector.get(bs),l=this.injector.get(rp);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Un(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(rp),i=this.injector.get(Zx),s=this.injector.get(ES),l=this.injector.get(bs),p=this.injector.get(jf);e===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Ae(Mr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function Dq(n){return n.appInitializer.bind(n)}function Mq(n){return n.bootstrapListener.bind(n)}const r1=new Xt("Router Initializer");function xi(n){return null!=n&&"false"!=`${n}`}function i1(n){return Array.isArray(n)?n:[n]}function cs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $h(n){return n instanceof gr?n.nativeElement:n}function Sv(n,t,e,r){return te(e)&&(r=e,e=void 0),r?Sv(n,t,e).pipe(K(i=>Dn(i)?r(...i):r(i))):new at(i=>{o1(n,t,function(l){i.next(arguments.length>1?Array.prototype.slice.call(arguments):l)},i,e)})}function o1(n,t,e,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const l=n;n.addEventListener(t,e,i),s=()=>l.removeEventListener(t,e,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const l=n;n.on(t,e),s=()=>l.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const l=n;n.addListener(t,e),s=()=>l.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let l=0,p=n.length;l<p;l++)o1(n[l],t,e,r,i)}r.add(s)}class kq extends Y{constructor(t,e){super()}schedule(t,e=0){return this}}class _w extends kq{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let s1=(()=>{class n{constructor(e,r=n.now){this.SchedulerAction=e,this.now=r}schedule(e,r=0,i){return new this.SchedulerAction(this,e).schedule(i,r)}}return n.now=()=>Date.now(),n})();class sc extends s1{constructor(t,e=s1.now){super(t,()=>sc.delegate&&sc.delegate!==this?sc.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,r){return sc.delegate&&sc.delegate!==this?sc.delegate.schedule(t,e,r):super.schedule(t,e,r)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class extends sc{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,s=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,r){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends _w{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Vq=1;const Uq=Promise.resolve(),vw={};function a1(n){return n in vw&&(delete vw[n],!0)}const u1={setImmediate(n){const t=Vq++;return vw[t]=!0,Uq.then(()=>a1(t)&&n()),t},clearImmediate(n){a1(n)}},yw=new class extends sc{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,s=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,r){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends _w{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=u1.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(u1.clearImmediate(e),t.scheduled=void 0)}}),IS=yw;class Hq{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new zq(t,this.compare,this.keySelector))}}class zq extends ft{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}const DS=new sc(_w),bw=DS;class Gq{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Wq(t,this.durationSelector))}}class Wq extends nr{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:i}=this;e=i(t)}catch(i){return this.destination.error(i)}const r=sr(e,new Kt(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function MS(n){return!Dn(n)&&n-parseFloat(n)+1>=0}function Kq(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function ww(n,t=bw){return function(n){return function(e){return e.lift(new Gq(n))}}(()=>function(n=0,t,e){let r=-1;return MS(t)?r=Number(t)<1?1:Number(t):R(t)&&(e=t),R(e)||(e=bw),new at(i=>{const s=MS(n)?n:+n-e.now();return e.schedule(Kq,s,{index:0,period:r,subscriber:i})})}(n,t))}function ws(n){return t=>t.lift(new Yq(n))}class Yq{constructor(t){this.notifier=t}call(t,e){const r=new Qq(t),i=sr(this.notifier,new Kt(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r}}class Qq extends nr{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const c1=new class extends sc{}(class extends _w{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,e,r):t.flush(this)}});function h1(n,t){return new at(t?e=>t.schedule(rG,0,{error:n,subscriber:e}):e=>e.error(n))}function rG({error:n,subscriber:t}){t.error(n)}class wu{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return Un(this.value);case"E":return h1(this.error);case"C":return Zb()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new wu("N",t):wu.undefinedValueNotification}static createError(t){return new wu("E",void 0,t)}static createComplete(){return wu.completeNotification}}function Cw(n,t=0){return function(r){return r.lift(new iG(n,t))}}wu.completeNotification=new wu("C"),wu.undefinedValueNotification=new wu("N",void 0);class iG{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Ew(t,this.scheduler,this.delay))}}class Ew extends ft{constructor(t,e,r=0){super(t),this.scheduler=e,this.delay=r}static dispatch(t){const{notification:e,destination:r}=t;e.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Ew.dispatch,this.delay,new oG(t,this.destination)))}_next(t){this.scheduleMessage(wu.createNext(t))}_error(t){this.scheduleMessage(wu.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(wu.createComplete()),this.unsubscribe()}}class oG{constructor(t,e){this.notification=t,this.destination=e}}let AS;try{AS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){AS=!1}let rm,lo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===FO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Ae(ml))},n.\u0275prov=lt({factory:function(){return new n(Ae(ml))},token:n,providedIn:"root"}),n})(),Iv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})();const f1=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d1(){if(rm)return rm;if("object"!=typeof document||!document)return rm=new Set(f1),rm;let n=document.createElement("input");return rm=new Set(f1.filter(t=>(n.setAttribute("type",t),n.type===t))),rm}let Tv,ip,OS;function Dv(n){return function(){if(null==Tv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tv=!0}))}finally{Tv=Tv||!1}return Tv}()?n:!!n.capture}function p1(){if(null==ip){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ip=!1,ip;if("scrollBehavior"in document.documentElement.style)ip=!0;else{const n=Element.prototype.scrollTo;ip=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ip}function Iw(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function op(n){return n.composedPath?n.composedPath()[0]:n.target}function xS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const g1=new Xt("cdk-dir-doc",{providedIn:"root",factory:function(){return Mc(Fn)}});let Jc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Wr,e){const i=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Ae(g1,8))},n.\u0275prov=lt({factory:function(){return new n(Ae(g1,8))},token:n,providedIn:"root"}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})(),Tw=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new at(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(ww(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Un()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(es(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=$h(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Sv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Ae(qn),Ae(lo),Ae(Fn,8))},n.\u0275prov=lt({factory:function(){return new n(Ae(qn),Ae(lo),Ae(Fn,8))},token:n,providedIn:"root"}),n})(),im=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new F,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ww(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Ae(lo),Ae(qn),Ae(Fn,8))},n.\u0275prov=lt({factory:function(){return new n(Ae(lo),Ae(qn),Ae(Fn,8))},token:n,providedIn:"root"}),n})(),Dw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})(),b1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Av,Iv,Dw],Av,Dw]}),n})();class RS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class PS extends RS{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class om extends RS{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class MG extends RS{constructor(t){super(),this.element=t instanceof gr?t.nativeElement:t}}class kS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof PS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof om?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof MG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class w1 extends kS{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const p=l.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Mw=(()=>{class n extends kS{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Wr,this.attachDomPortal=s=>{const l=s.element,p=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(p,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(l,p)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(ge($c),ge(la),ge(Fn))},n.\u0275dir=Dt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pr]}),n})(),E1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})();function sp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const I1=p1();class zG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cs(-this._previousScrollPosition.left),t.style.top=cs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),I1&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I1&&(r.scrollBehavior=s,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class qG{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class T1{enable(){}disable(){}attach(){}}function FS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function D1(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class GG{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();FS(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WG=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new T1,this.close=l=>new qG(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new zG(this._viewportRuler,this._document),this.reposition=l=>new GG(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(Ae(Tw),Ae(im),Ae(qn),Ae(Fn))},n.\u0275prov=lt({factory:function(){return new n(Ae(Tw),Ae(im),Ae(qn),Ae(Fn))},token:n,providedIn:"root"}),n})();class Nw{constructor(t){if(this.scrollStrategy=new T1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class $G{constructor(t,e,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class KG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let M1=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({factory:function(){return new n(Ae(Fn))},token:n,providedIn:"root"}),n})(),YG=(()=>{class n extends M1{constructor(e){super(e),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn))},n.\u0275prov=lt({factory:function(){return new n(Ae(Fn))},token:n,providedIn:"root"}),n})(),QG=(()=>{class n extends M1{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=op(i)},this._clickListener=i=>{const s=op(i),l="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const E=p[v];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(s)||E.overlayElement.contains(l))break;E._outsidePointerEvents.next(i)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn),Ae(lo))},n.\u0275prov=lt({factory:function(){return new n(Ae(Fn),Ae(lo))},token:n,providedIn:"root"}),n})(),Ov=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||xS()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s])}const r=this._document.createElement("div");r.classList.add(e),xS()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn),Ae(lo))},n.\u0275prov=lt({factory:function(){return new n(Ae(Fn),Ae(lo))},token:n,providedIn:"root"}),n})();class XG{constructor(t,e,r,i,s,l,p,v,E){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=p,this._location=v,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=Y.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._keydownEvents=new F,this._outsidePointerEvents=new F,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ka(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cs(this._config.width),t.height=cs(this._config.height),t.minWidth=cs(this._config.minWidth),t.minHeight=cs(this._config.minHeight),t.maxWidth=cs(this._config.maxWidth),t.maxHeight=cs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const i=t.classList;i1(e).forEach(s=>{s&&(r?i.add(s):i.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ws(je(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const A1="cdk-overlay-connected-position-bounding-box",JG=/([A-Za-z%]+)$/;class O1{constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=Y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(A1),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=[];let s;for(let l of this._preferredPositions){let p=this._getOriginPoint(t,l),v=this._getOverlayPoint(p,e,l),E=this._getOverlayFit(v,e,r,l);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,p);this._canFitWithFlexibleDimensions(E,v,r)?i.push({position:l,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,l)}):(!s||s.overlayFit.visibleArea<E.visibleArea)&&(s={overlayFit:E,overlayPoint:v,originPoint:p,position:l,overlayRect:e})}if(i.length){let l=null,p=-1;for(const v of i){const E=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);E>p&&(p=E,l=v)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ap(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(A1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,i;if("center"==e.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==e.originX?s:l}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:i}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=R1(e);let{x:l,y:p}=t,v=this._getOffset(i,"x"),E=this._getOffset(i,"y");v&&(l+=v),E&&(p+=E);let G=0-p,J=p+s.height-r.height,he=this._subtractOverflows(s.width,0-l,l+s.width-r.width),Oe=this._subtractOverflows(s.height,G,J),Me=he*Oe;return{visibleArea:Me,isCompletelyWithinViewport:s.width*s.height===Me,fitsInViewportVertically:Oe===s.height,fitsInViewportHorizontally:he==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,l=x1(this._overlayRef.getConfig().minHeight),p=x1(this._overlayRef.getConfig().minWidth),E=t.fitsInViewportHorizontally||null!=p&&p<=s;return(t.fitsInViewportVertically||null!=l&&l<=i)&&E}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=R1(e),s=this._viewportRect,l=Math.max(t.x+i.width-s.width,0),p=Math.max(t.y+i.height-s.height,0),v=Math.max(s.top-r.top-t.y,0),E=Math.max(s.left-r.left-t.x,0);let A=0,U=0;return A=i.width<=s.width?E||-l:t.x<this._viewportMargin?s.left-r.left-t.x:0,U=i.height<=s.height?v||-p:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:A,y:U},{x:t.x+A,y:t.y+U}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new KG(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,l,p,A,U,G;if("top"===e.overlayY)l=t.y,s=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)p=r.height-t.y+2*this._viewportMargin,s=r.height-p+this._viewportMargin;else{const J=Math.min(r.bottom-t.y+r.top,t.y),he=this._lastBoundingBoxSize.height;s=2*J,l=t.y-J,s>he&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-he/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)G=r.width-t.x+this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)U=t.x,A=r.right-t.x;else{const J=Math.min(r.right-t.x+r.left,t.x),he=this._lastBoundingBoxSize.width;A=2*J,U=t.x-J,A>he&&!this._isInitialRender&&!this._growAfterOpen&&(U=t.x-he/2)}return{top:l,left:U,bottom:p,right:G,width:A,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=cs(r.height),i.top=cs(r.top),i.bottom=cs(r.bottom),i.width=cs(r.width),i.left=cs(r.left),i.right=cs(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=cs(s)),l&&(i.maxWidth=cs(l))}this._lastBoundingBoxSize=r,ap(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ap(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ap(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const A=this._viewportRuler.getViewportScrollPosition();ap(r,this._getExactOverlayY(e,t,A)),ap(r,this._getExactOverlayX(e,t,A))}else r.position="static";let p="",v=this._getOffset(e,"x"),E=this._getOffset(e,"y");v&&(p+=`translateX(${v}px) `),E&&(p+=`translateY(${E}px)`),r.transform=p.trim(),l.maxHeight&&(i?r.maxHeight=cs(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=cs(l.maxWidth):s&&(r.maxWidth="")),ap(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let l=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=l,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=cs(s.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=cs(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D1(t,r),isOriginOutsideView:FS(t,r),isOverlayClipped:D1(e,r),isOverlayOutsideView:FS(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&i1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof gr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function ap(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function x1(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(JG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function R1(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class ZG{constructor(t,e,r,i,s,l,p){this._preferredPositions=[],this._positionStrategy=new O1(r,i,s,l,p).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,i){const s=new $G(t,e,r,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const P1="cdk-global-overlay-wrapper";class eW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(P1),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:p}=r,v=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),E=!("100%"!==s&&"100vh"!==s||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(P1),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let tW=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new eW}connectedTo(e,r,i){return new ZG(r,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new O1(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Ae(im),Ae(Fn),Ae(lo),Ae(Ov))},n.\u0275prov=lt({factory:function(){return new n(Ae(im),Ae(Fn),Ae(lo),Ae(Ov))},token:n,providedIn:"root"}),n})(),nW=0,Kh=(()=>{class n{constructor(e,r,i,s,l,p,v,E,A,U,G){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=p,this._ngZone=v,this._document=E,this._directionality=A,this._location=U,this._outsideClickDispatcher=G}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),l=new Nw(e);return l.direction=l.direction||this._directionality.value,new XG(s,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+nW++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(jf)),new w1(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Ae(WG),Ae(Ov),Ae($c),Ae(tW),Ae(YG),Ae(Mr),Ae(qn),Ae(Fn),Ae(Jc),Ae(Kg),Ae(QG))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const sW={provide:new Xt("cdk-connected-overlay-scroll-strategy"),deps:[Kh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let LS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[Kh,sW],imports:[[Av,E1,b1],b1]}),n})();function F1(n,t=bw){return e=>e.lift(new aW(n,t))}class aW{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uW(t,this.dueTime,this.scheduler))}}class uW extends ft{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lW,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function lW(n){n.debouncedNext()}class hW{constructor(t){this.total=t}call(t,e){return e.subscribe(new fW(t,this.total))}}class fW extends ft{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let VS=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:function(){return new n},token:n,providedIn:"root"}),n})(),L1=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=$h(e);return new at(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new F,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(Ae(VS))},n.\u0275prov=lt({factory:function(){return new n(Ae(VS))},token:n,providedIn:"root"}),n})(),V1=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new Wr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=xi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(F1(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(ge(L1),ge(gr),ge(qn))},n.\u0275dir=Dt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),US=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[VS]}),n})();class vW extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F,this._typeaheadSubscription=Y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new F,this.change=new F,t instanceof Kd&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Us(e=>this._pressedLetters.push(e)),F1(t),es(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,l=r[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||sp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),i=e[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Kd?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let q1=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===W1(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=W1(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||G1(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(Ae(lo))},n.\u0275prov=lt({factory:function(){return new n(Ae(lo))},token:n,providedIn:"root"}),n})();function G1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function W1(n){if(!G1(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class AW{constructor(t,e,r,i,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ka(1)).subscribe(t)}}let $1=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new AW(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(Ae(q1),Ae(qn),Ae(Fn))},n.\u0275prov=lt({factory:function(){return new n(Ae(q1),Ae(qn),Ae(Fn))},token:n,providedIn:"root"}),n})();function jS(n){return 0===n.offsetX&&0===n.offsetY}function HS(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const K1=new Xt("cdk-input-modality-detector-options"),kW={ignoreKeys:[18,17,224,91,16]},sm=Dv({passive:!0,capture:!0});let Q1=(()=>{class n{constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Pa(null),this._lastTouchMs=0,this._onKeydown=l=>{var p,v;(null===(v=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===v?void 0:v.some(E=>E===l.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=op(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jS(l)?"keyboard":"mouse"),this._mostRecentTarget=op(l))},this._onTouchstart=l=>{HS(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=op(l))},this._options=Object.assign(Object.assign({},kW),s),this.modalityDetected=this._modality.pipe(t=>t.lift(new hW(1))),this.modalityChanged=this.modalityDetected.pipe(function(n,t){return e=>e.lift(new Hq(n,t))}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,sm),i.addEventListener("mousedown",this._onMousedown,sm),i.addEventListener("touchstart",this._onTouchstart,sm)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sm),document.removeEventListener("mousedown",this._onMousedown,sm),document.removeEventListener("touchstart",this._onTouchstart,sm))}}return n.\u0275fac=function(e){return new(e||n)(Ae(lo),Ae(qn),Ae(Fn),Ae(K1,8))},n.\u0275prov=lt({factory:function(){return new n(Ae(lo),Ae(qn),Ae(Fn),Ae(K1,8))},token:n,providedIn:"root"}),n})();const eR=new Xt("cdk-focus-monitor-default-options"),Vw=Dv({passive:!0,capture:!0});let up=(()=>{class n{constructor(e,r,i,s,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F,this._rootNodeFocusAndBlurListener=p=>{const v=op(p),E="focus"===p.type?this._onFocus:this._onBlur;for(let A=v;A;A=A.parentElement)E.call(this,p,A)},this._document=s,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(e,r=!1){const i=$h(e);if(!this._platform.isBrowser||1!==i.nodeType)return Un(null);const s=function(n){if(function(){if(null==OS){const n="undefined"!=typeof document?document.head:null;OS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return OS}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const p={checkChildren:r,subject:new F,rootNode:s};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const r=$h(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=$h(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([p,v])=>this._originChanged(p,r,v)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,i){i?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=op(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vw),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vw)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ws(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vw),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vw),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}}return n.\u0275fac=function(e){return new(e||n)(Ae(qn),Ae(lo),Ae(Q1),Ae(Fn,8),Ae(eR,8))},n.\u0275prov=lt({factory:function(){return new n(Ae(qn),Ae(lo),Ae(Q1),Ae(Fn,8),Ae(eR,8))},token:n,providedIn:"root"}),n})();const tR="cdk-high-contrast-black-on-white",nR="cdk-high-contrast-white-on-black",zS="cdk-high-contrast-active";let rR=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zS),e.remove(tR),e.remove(nR),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(zS),e.add(tR)):2===r&&(e.add(zS),e.add(nR))}}}return n.\u0275fac=function(e){return new(e||n)(Ae(lo),Ae(Fn))},n.\u0275prov=lt({factory:function(){return new n(Ae(lo),Ae(Fn))},token:n,providedIn:"root"}),n})(),FW=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Ae(rR))},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Iv,US]]}),n})();const iR=new Vh("12.2.13");class oR{}const Yh="*";function am(n,t){return{type:7,name:n,definitions:t,options:{}}}function $f(n,t=null){return{type:4,styles:t,timings:n}}function sR(n,t=null){return{type:2,steps:n,options:t}}function fa(n){return{type:6,styles:n,offset:null}}function Kf(n,t,e){return{type:0,name:n,styles:t,options:e}}function Qh(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function aR(n){Promise.resolve(null).then(n)}class um{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class uR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?aR(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function lR(){return"undefined"!=typeof window&&void 0!==window.document}function GS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yf(n){switch(n.length){case 0:return new um;case 1:return n[0];default:return new uR(n)}}function cR(n,t,e,r,i={},s={}){const l=[],p=[];let v=-1,E=null;if(r.forEach(A=>{const U=A.offset,G=U==v,J=G&&E||{};Object.keys(A).forEach(he=>{let Oe=he,Me=A[he];if("offset"!==he)switch(Oe=t.normalizePropertyName(Oe,l),Me){case"!":Me=i[he];break;case Yh:Me=s[he];break;default:Me=t.normalizeStyleValue(he,Oe,Me,l)}J[Oe]=Me}),G||p.push(J),E=J,v=U}),l.length){const A="\n - ";throw new Error(`Unable to animate due to the following errors:${A}${l.join(A)}`)}return p}function WS(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&$S(e,"start",n)));break;case"done":n.onDone(()=>r(e&&$S(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&$S(e,"destroy",n)))}}function $S(n,t,e){const r=e.totalTime,s=KS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function KS(n,t,e,r,i="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function ju(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function hR(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let YS=(n,t)=>!1,QS=(n,t)=>!1,fR=(n,t,e)=>[];const dR=GS();(dR||"undefined"!=typeof Element)&&(YS=lR()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),QS=(()=>{if(dR||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):QS}})(),fR=(n,t,e)=>{let r=[];if(e){const i=n.querySelectorAll(t);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(t);i&&r.push(i)}return r});let lp=null,pR=!1;function XS(n){lp||(lp=("undefined"!=typeof document?document.body:null)||{},pR=!!lp.style&&"WebkitAppearance"in lp.style);let t=!0;return lp.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lp.style,!t&&pR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lp.style)),t}const JS=QS,ZS=YS,eI=fR;function gR(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let mR=(()=>{class n{validateStyleProperty(e){return XS(e)}matchesElement(e,r){return JS(e,r)}containsElement(e,r){return ZS(e,r)}query(e,r,i){return eI(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,l,p=[],v){return new um(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),tI=(()=>{class n{}return n.NOOP=new mR,n})();const nI="ng-enter",Uw="ng-leave",Bw="ng-trigger",jw=".ng-trigger",vR="ng-animating",rI=".ng-animating";function cp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iI(parseFloat(t[1]),t[2])}function iI(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Hw(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let i,s=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=iI(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(s=iI(parseFloat(v),p[4]));const E=p[5];E&&(l=E)}else i=n;if(!e){let p=!1,v=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),p=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&t.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:l}}(n,t,e)}function lm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Qf(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else lm(n,e);return e}function bR(n,t,e){return e?t+":"+e+";":""}function wR(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=bR(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bR(0,$W(e),n.style[e]));n.setAttribute("style",t)}function eh(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=sI(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),GS()&&wR(n))}function hp(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=sI(e);n.style[r]=""}),GS()&&wR(n))}function xv(n){return Array.isArray(n)?1==n.length?n[0]:sR(n):n}const oI=new RegExp("{{\\s*(.+?)\\s*}}","g");function CR(n){let t=[];if("string"==typeof n){let e;for(;e=oI.exec(n);)t.push(e[1]);oI.lastIndex=0}return t}function zw(n,t,e){const r=n.toString(),i=r.replace(oI,(s,l)=>{let p=t[l];return t.hasOwnProperty(l)||(e.push(`Please provide a value for the animation param ${l}`),p=""),p.toString()});return i==r?n:i}function qw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const WW=/-+([a-z0-9])/g;function sI(n){return n.replace(WW,(...t)=>t[1].toUpperCase())}function $W(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ER(n,t){return 0===n||0===t}function SR(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let s=t[0],l=[];if(r.forEach(p=>{s.hasOwnProperty(p)||l.push(p),s[p]=e[p]}),l.length)for(var i=1;i<t.length;i++){let p=t[i];l.forEach(function(v){p[v]=aI(n,v)})}}return t}function Hu(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function aI(n,t){return window.getComputedStyle(n)[t]}function KW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const v=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const i=r[1],s=r[2],l=r[3];t.push(IR(i,l));"<"==s[0]&&!("*"==i&&"*"==l)&&t.push(IR(l,i))}(r,e,t)):e.push(n),e}const Ww=new Set(["true","1"]),$w=new Set(["false","0"]);function IR(n,t){const e=Ww.has(n)||$w.has(n),r=Ww.has(t)||$w.has(t);return(i,s)=>{let l="*"==n||n==i,p="*"==t||t==s;return!l&&e&&"boolean"==typeof i&&(l=i?Ww.has(n):$w.has(n)),!p&&r&&"boolean"==typeof s&&(p=s?Ww.has(t):$w.has(t)),l&&p}}const XW=new RegExp("s*:selfs*,?","g");function uI(n,t,e){return new JW(n).build(t,e)}class JW{constructor(t){this._driver=t}build(t,e){const r=new t$(e);return this._resetContextStyleTimingState(r),Hu(this,xv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const v=p,E=v.name;E.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,s.push(this.visitState(v,e))}),v.name=E}else if(1==p.type){const v=this.visitTransition(p,e);r+=v.queryCount,i+=v.depCount,l.push(v)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};if(r.styles.forEach(p=>{if(Kw(p)){const v=p;Object.keys(v).forEach(E=>{CR(v[E]).forEach(A=>{l.hasOwnProperty(A)||s.add(A)})})}}),s.size){const p=qw(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Hu(this,xv(t.animation),e);return{type:1,matchers:KW(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:fp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Hu(this,r,e)),options:fp(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(l=>{e.currentTime=r;const p=Hu(this,l,e);return i=Math.max(i,e.currentTime),p});return e.currentTime=i,{type:3,steps:s,options:fp(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return lI(Hw(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lI(0,0,"");return s.dynamic=!0,s.strValue=r,s}return e=e||Hw(r,t),lI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:fa({});if(5==s.type)i=this.visitKeyframes(s,e);else{let l=t.styles,p=!1;if(!l){p=!0;const E={};r.easing&&(E.easing=r.easing),l=fa(E)}e.currentTime+=r.duration+r.delay;const v=this.visitStyle(l,e);v.isEmptyStep=p,i=v}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(l=>{"string"==typeof l?l==Yh?r.push(l):e.errors.push(`The provided style string value ${l} is not allowed.`):r.push(l)}):r.push(t.styles);let i=!1,s=null;return r.forEach(l=>{if(Kw(l)){const p=l,v=p.easing;if(v&&(s=v,delete p.easing),!i)for(let E in p)if(p[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void e.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const v=e.collectedStyles[e.currentQuerySelector],E=v[p];let A=!0;E&&(s!=i&&s>=E.startTime&&i<=E.endTime&&(e.errors.push(`The CSS property "${p}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),A=!1),s=E.startTime),A&&(v[p]={startTime:s,endTime:i}),e.options&&function(n,t,e){const r=t.params||{},i=CR(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(l[p],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const l=[];let p=!1,v=!1,E=0;const A=t.steps.map(ht=>{const tt=this._makeStyleAst(ht,e);let Yt=null!=tt.offset?tt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Kw(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Kw(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(tt.styles),fn=0;return null!=Yt&&(s++,fn=tt.offset=Yt),v=v||fn<0||fn>1,p=p||fn<E,E=fn,l.push(fn),tt});v&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&e.errors.push("Please ensure that all keyframe offsets are in order");const U=t.steps.length;let G=0;s>0&&s<U?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(G=1/(U-1));const J=U-1,he=e.currentTime,Oe=e.currentAnimateTimings,Me=Oe.duration;return A.forEach((ht,tt)=>{const Yt=G>0?tt==J?1:G*tt:l[tt],fn=Yt*Me;e.currentTime=he+Oe.delay+fn,Oe.duration=fn,this._validateStyleAst(ht,e),ht.offset=Yt,r.styles.push(ht)}),r}visitReference(t,e){return{type:8,animation:Hu(this,xv(t.animation),e),options:fp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fp(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(XW,"")),[n=n.replace(/@\*/g,jw).replace(/@\w+/g,e=>jw+"-"+e.substr(1)).replace(/:animating/g,rI),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,ju(e.collectedStyles,e.currentQuerySelector,{});const p=Hu(this,xv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:t.selector,options:fp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Hw(t.timings,e.errors,!0);return{type:12,animation:Hu(this,xv(t.animation),e),timings:r,options:null}}}class t${constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Kw(n){return!Array.isArray(n)&&"object"==typeof n}function fp(n){return n?(n=lm(n)).params&&(n.params=function(n){return n?lm(n):null}(n.params)):n={},n}function lI(n,t,e){return{duration:n,delay:t,easing:e}}function cI(n,t,e,r,i,s,l=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:p}}class Yw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const s$=new RegExp(":enter","g"),u$=new RegExp(":leave","g");function hI(n,t,e,r,i,s={},l={},p,v,E=[]){return(new l$).buildKeyframes(n,t,e,r,i,s,l,p,v,E)}class l${buildKeyframes(t,e,r,i,s,l,p,v,E,A=[]){E=E||new Yw;const U=new fI(t,e,E,i,s,A,[]);U.options=v,U.currentTimeline.setStyles([l],null,U.errors,v),Hu(this,r,U);const G=U.timelines.filter(J=>J.containsAnimation());if(G.length&&Object.keys(p).length){const J=G[G.length-1];J.allowOnlyTimelineStyles()||J.setStyles([p],null,U.errors,v)}return G.length?G.map(J=>J.buildKeyframes()):[cI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const l=null!=r.duration?cp(r.duration):null,p=null!=r.delay?cp(r.delay):null;return 0!==l&&t.forEach(v=>{const E=e.appendInstructionToTimeline(v,l,p);s=Math.max(s,E.duration+E.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Hu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qw);const l=cp(s.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Hu(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?cp(t.options.delay):0;t.steps.forEach(l=>{const p=e.createSubContext(t.options);s&&p.delayNextStep(s),Hu(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Hw(e.params?zw(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,p=e.createSubContext().currentTimeline;p.easing=r.easing,t.styles.forEach(v=>{p.forwardTime((v.offset||0)*s),p.setStyles(v.styles,v.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?cp(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qw);let l=r;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=p.length;let v=null;p.forEach((E,A)=>{e.currentQueryIndex=A;const U=e.createSubContext(t.options,E);s&&U.delayNextStep(s),E===e.element&&(v=U.currentTimeline),Hu(this,t.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),p=l*(e.currentQueryTotal-1);let v=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const A=e.currentTimeline;v&&A.delayNextStep(v);const U=A.currentTime;Hu(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-U+(i.startTime-r.currentTimeline.startTime)}}const Qw={};class fI{constructor(t,e,r,i,s,l,p,v){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Xw(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=cp(r.duration)),null!=r.delay&&(i.delay=cp(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(p=>{(!e||!l.hasOwnProperty(p))&&(l[p]=zw(s[p],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new fI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Qw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new c$(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,l){let p=[];if(i&&p.push(this.element),t.length>0){t=(t=t.replace(s$,"."+this._enterClassName)).replace(u$,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!s&&0==p.length&&l.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),p}}class Xw{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Yh,this._currentKeyframe[e]=Yh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},l=function(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{e[s]=Yh})):Qf(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(l).forEach(p=>{const v=zw(l[p],s,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Yh),this._updateStyle(p,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,v)=>{const E=Qf(p,!0);Object.keys(E).forEach(A=>{const U=E[A];"!"==U?t.add(A):U==Yh&&e.add(A)}),r||(E.offset=v/this.duration),i.push(E)});const s=t.size?qw(t.values()):[],l=e.size?qw(e.values()):[];if(r){const p=i[0],v=lm(p);p.offset=0,v.offset=1,i=[p,v]}return cI(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class c$ extends Xw{constructor(t,e,r,i,s,l,p=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=r+e,p=e/l,v=Qf(t[0],!1);v.offset=0,s.push(v);const E=Qf(t[0],!1);E.offset=MR(p),s.push(E);const A=t.length-1;for(let U=1;U<=A;U++){let G=Qf(t[U],!1);G.offset=MR((e+G.offset*r)/l),s.push(G)}r=l,e=0,i="",t=s}return cI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function MR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class dI{}class f$ extends dI{normalizePropertyName(t,e){return sI(t)}normalizeStyleValue(t,e,r,i){let s="";const l=r.toString().trim();if(d$[e]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(`Please provide a CSS unit value for ${t}:${r}`)}return l+s}}const d$=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function AR(n,t,e,r,i,s,l,p,v,E,A,U,G){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:l,timelines:p,queriedElements:v,preStyleProps:E,postStyleProps:A,totalTime:U,errors:G}}const pI={};class OR{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],s=this._stateStyles[t],l=i?i.buildStyles(e,r):{};return s?s.buildStyles(e,r):l}build(t,e,r,i,s,l,p,v,E,A){const U=[],G=this.ast.options&&this.ast.options.params||pI,he=this.buildStyles(r,p&&p.params||pI,U),Oe=v&&v.params||pI,Me=this.buildStyles(i,Oe,U),ht=new Set,tt=new Map,Yt=new Map,fn="void"===i,Sr={params:Object.assign(Object.assign({},G),Oe)},Ri=A?[]:hI(t,e,this.ast.animation,s,l,he,Me,Sr,E,U);let qi=0;if(Ri.forEach(Na=>{qi=Math.max(Na.duration+Na.delay,qi)}),U.length)return AR(e,this._triggerName,r,i,fn,he,Me,[],[],tt,Yt,qi,U);Ri.forEach(Na=>{const Fa=Na.element,Zh=ju(tt,Fa,{});Na.preStyleProps.forEach(uc=>Zh[uc]=!0);const ef=ju(Yt,Fa,{});Na.postStyleProps.forEach(uc=>ef[uc]=!0),Fa!==e&&ht.add(Fa)});const nu=qw(ht.values());return AR(e,this._triggerName,r,i,fn,he,Me,Ri,nu,tt,Yt,qi)}}class m${constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=lm(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!=l&&(i[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(p=>{let v=l[p];v.length>1&&(v=zw(v,i,e));const E=this.normalizer.normalizePropertyName(p,e);v=this.normalizer.normalizeStyleValue(p,E,v,e),r[E]=v})}}),r}}class v${constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new m$(i.style,i.options&&i.options.params||{},r)}),xR(this.states,"true","1"),xR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new OR(t,i,this.states))}),this.fallbackTransition=function(n,t,e){return new OR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function xR(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const b$=new Yw;class w${constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],i=uI(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,r){const i=t.element,s=cR(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations[t];let l;const p=new Map;if(s?(l=hI(this._driver,e,s,nI,Uw,{},{},r,b$,i),l.forEach(A=>{const U=ju(p,A.element,{});A.postStyleProps.forEach(G=>U[G]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);p.forEach((A,U)=>{Object.keys(A).forEach(G=>{A[G]=this._driver.computeStyle(U,G,Yh)})});const E=Yf(l.map(A=>{const U=p.get(A.element);return this._buildPlayer(A,{},U)}));return this._playersById[t]=E,E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,i){const s=KS(e,"","","");return WS(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const RR="ng-animate-queued",PR="ng-animate-disabled",kR=".ng-animate-disabled",I$=[],NR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wl="__ng_removed";class gI{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const s=lm(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Rv="void",mI=new gI(Rv);class D${constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cl(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const s=ju(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};s.push(l);const p=ju(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(Cl(t,Bw),Cl(t,Bw+"-"+e),p[e]=mI),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(l);v>=0&&s.splice(v,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),l=new _I(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Cl(t,Bw),Cl(t,Bw+"-"+e),this._engine.statesByElement.set(t,p={}));let v=p[e];const E=new gI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&E.absorbOptions(v.options),p[e]=E,v||(v=mI),E.value!==Rv&&v.value===E.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(v.params,E.params)){const Oe=[],Me=s.matchStyles(v.value,v.params,Oe),ht=s.matchStyles(E.value,E.params,Oe);Oe.length?this._engine.reportError(Oe):this._engine.afterFlush(()=>{hp(t,Me),eh(t,ht)})}return}const G=ju(this._engine.playersByElement,t,[]);G.forEach(Oe=>{Oe.namespaceId==this.id&&Oe.triggerName==e&&Oe.queued&&Oe.destroy()});let J=s.matchTransition(v.value,E.value,t,E.params),he=!1;if(!J){if(!i)return;J=s.fallbackTransition,he=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:J,fromState:v,toState:E,player:l,isFallbackTransition:he}),he||(Cl(t,RR),l.onStart(()=>{cm(t,RR)})),l.onDone(()=>{let Oe=this.players.indexOf(l);Oe>=0&&this.players.splice(Oe,1);const Me=this._engine.playersByElement.get(t);if(Me){let ht=Me.indexOf(l);ht>=0&&Me.splice(ht,1)}}),this.players.push(l),G.push(l),l}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,jw,!0);r.forEach(i=>{if(i[wl])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t);if(s){const l=[];if(Object.keys(s).forEach(p=>{if(this._triggers[p]){const v=this.trigger(t,p,Rv,i);v&&l.push(v)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Yf(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const v=this._triggers[l].fallbackTransition,E=r[l]||mI,A=new gI(Rv),U=new _I(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:v,fromState:E,toState:A,player:U,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[wl];(!s||s===NR)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Cl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(p=>{if(p.name==r.triggerName){const v=KS(s,r.triggerName,r.fromState.value,r.toState.value);v._data=t,WS(r.player,p.phase,v,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class M${constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new D$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=r[i[s]].namespaceId;if(l){const p=this._fetchNamespace(l);p&&e.add(p)}}}return e}trigger(t,e,r,i){if(Jw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Jw(e))return;const s=e[wl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cl(t,PR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cm(t,PR))}removeNode(t,e,r,i){if(Jw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i){this.collectedLeaveElements.push(e),e[wl]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,i,s){return Jw(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,jw,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rI,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[wl];if(e&&e.setForRemoval){if(t[wl]=NR,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,kR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,kR,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Cl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Yf(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Yw,i=[],s=new Map,l=[],p=new Map,v=new Map,E=new Map,A=new Set;this.disabledNodes.forEach(On=>{A.add(On);const tr=this.driver.query(On,".ng-animate-queued",!0);for(let kr=0;kr<tr.length;kr++)A.add(tr[kr])});const U=this.bodyNode,G=Array.from(this.statesByElement.keys()),J=VR(G,this.collectedEnterElements),he=new Map;let Oe=0;J.forEach((On,tr)=>{const kr=nI+Oe++;he.set(tr,kr),On.forEach(vi=>Cl(vi,kr))});const Me=[],ht=new Set,tt=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const tr=this.collectedLeaveElements[On],kr=tr[wl];kr&&kr.setForRemoval&&(Me.push(tr),ht.add(tr),kr.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(vi=>ht.add(vi)):tt.add(tr))}const Yt=new Map,fn=VR(G,Array.from(ht));fn.forEach((On,tr)=>{const kr=Uw+Oe++;Yt.set(tr,kr),On.forEach(vi=>Cl(vi,kr))}),t.push(()=>{J.forEach((On,tr)=>{const kr=he.get(tr);On.forEach(vi=>cm(vi,kr))}),fn.forEach((On,tr)=>{const kr=Yt.get(tr);On.forEach(vi=>cm(vi,kr))}),Me.forEach(On=>{this.processLeaveNode(On)})});const Sr=[],Ri=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(e).forEach(kr=>{const vi=kr.player,Bs=kr.element;if(Sr.push(vi),this.collectedEnterElements.length){const oh=Bs[wl];if(oh&&oh.setForMove)return void vi.destroy()}const ih=!U||!this.driver.containsElement(U,Bs),qu=Yt.get(Bs),nd=he.get(Bs),Bo=this._buildInstruction(kr,r,nd,qu,ih);if(Bo.errors&&Bo.errors.length)Ri.push(Bo);else{if(ih)return vi.onStart(()=>hp(Bs,Bo.fromStyles)),vi.onDestroy(()=>eh(Bs,Bo.toStyles)),void i.push(vi);if(kr.isFallbackTransition)return vi.onStart(()=>hp(Bs,Bo.fromStyles)),vi.onDestroy(()=>eh(Bs,Bo.toStyles)),void i.push(vi);Bo.timelines.forEach(oh=>oh.stretchStartingKeyframe=!0),r.append(Bs,Bo.timelines),l.push({instruction:Bo,player:vi,element:Bs}),Bo.queriedElements.forEach(oh=>ju(p,oh,[]).push(vi)),Bo.preStyleProps.forEach((oh,Wv)=>{const xC=Object.keys(oh);if(xC.length){let Cp=v.get(Wv);Cp||v.set(Wv,Cp=new Set),xC.forEach(cT=>Cp.add(cT))}}),Bo.postStyleProps.forEach((oh,Wv)=>{const xC=Object.keys(oh);let Cp=E.get(Wv);Cp||E.set(Wv,Cp=new Set),xC.forEach(cT=>Cp.add(cT))})}});if(Ri.length){const On=[];Ri.forEach(tr=>{On.push(`@${tr.triggerName} has failed due to:\n`),tr.errors.forEach(kr=>On.push(`- ${kr}\n`))}),Sr.forEach(tr=>tr.destroy()),this.reportError(On)}const qi=new Map,nu=new Map;l.forEach(On=>{const tr=On.element;r.has(tr)&&(nu.set(tr,tr),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,qi))}),i.forEach(On=>{const tr=On.element;this._getPreviousPlayers(tr,!1,On.namespaceId,On.triggerName,null).forEach(vi=>{ju(qi,tr,[]).push(vi),vi.destroy()})});const Na=Me.filter(On=>BR(On,v,E)),Fa=new Map;LR(Fa,this.driver,tt,E,Yh).forEach(On=>{BR(On,v,E)&&Na.push(On)});const ef=new Map;J.forEach((On,tr)=>{LR(ef,this.driver,new Set(On),v,"!")}),Na.forEach(On=>{const tr=Fa.get(On),kr=ef.get(On);Fa.set(On,Object.assign(Object.assign({},tr),kr))});const uc=[],ym=[],bm={};l.forEach(On=>{const{element:tr,player:kr,instruction:vi}=On;if(r.has(tr)){if(A.has(tr))return kr.onDestroy(()=>eh(tr,vi.toStyles)),kr.disabled=!0,kr.overrideTotalTime(vi.totalTime),void i.push(kr);let Bs=bm;if(nu.size>1){let qu=tr;const nd=[];for(;qu=qu.parentNode;){const Bo=nu.get(qu);if(Bo){Bs=Bo;break}nd.push(qu)}nd.forEach(Bo=>nu.set(Bo,Bs))}const ih=this._buildAnimation(kr.namespaceId,vi,qi,s,ef,Fa);if(kr.setRealPlayer(ih),Bs===bm)uc.push(kr);else{const qu=this.playersByElement.get(Bs);qu&&qu.length&&(kr.parentPlayer=Yf(qu)),i.push(kr)}}else hp(tr,vi.fromStyles),kr.onDestroy(()=>eh(tr,vi.toStyles)),ym.push(kr),A.has(tr)&&i.push(kr)}),ym.forEach(On=>{const tr=s.get(On.element);if(tr&&tr.length){const kr=Yf(tr);On.setRealPlayer(kr)}}),i.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<Me.length;On++){const tr=Me[On],kr=tr[wl];if(cm(tr,Uw),kr&&kr.hasAnimation)continue;let vi=[];if(p.size){let ih=p.get(tr);ih&&ih.length&&vi.push(...ih);let qu=this.driver.query(tr,rI,!0);for(let nd=0;nd<qu.length;nd++){let Bo=p.get(qu[nd]);Bo&&Bo.length&&vi.push(...Bo)}}const Bs=vi.filter(ih=>!ih.destroyed);Bs.length?R$(this,tr,Bs):this.processLeaveNode(tr)}return Me.length=0,uc.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const tr=this.players.indexOf(On);this.players.splice(tr,1)}),On.play()}),uc}elementContainsData(t,e){let r=!1;const i=e[wl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let l=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(l=p)}else{const p=this.playersByElement.get(t);if(p){const v=!s||s==Rv;p.forEach(E=>{E.queued||!v&&E.triggerName!=i||l.push(E)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(t,e,r){const s=e.element,l=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const E=v.element,A=E!==s,U=ju(r,E,[]);this._getPreviousPlayers(E,A,l,p,e.toState).forEach(J=>{const he=J.getRealPlayer();he.beforeDestroy&&he.beforeDestroy(),J.destroy(),U.push(J)})}hp(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,l){const p=e.triggerName,v=e.element,E=[],A=new Set,U=new Set,G=e.timelines.map(he=>{const Oe=he.element;A.add(Oe);const Me=Oe[wl];if(Me&&Me.removedBeforeQueried)return new um(he.duration,he.delay);const ht=Oe!==v,tt=function(n){const t=[];return UR(n,t),t}((r.get(Oe)||I$).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===Oe),Yt=s.get(Oe),fn=l.get(Oe),Sr=cR(0,this._normalizer,0,he.keyframes,Yt,fn),Ri=this._buildPlayer(he,Sr,tt);if(he.subTimeline&&i&&U.add(Oe),ht){const qi=new _I(t,p,Oe);qi.setRealPlayer(Ri),E.push(qi)}return Ri});E.forEach(he=>{ju(this.playersByQueriedElement,he.element,[]).push(he),he.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,he.element,he))}),A.forEach(he=>Cl(he,vR));const J=Yf(G);return J.onDestroy(()=>{A.forEach(he=>cm(he,vR)),eh(v,e.toStyles)}),U.forEach(he=>{ju(i,he,[]).push(J)}),J}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new um(t.duration,t.delay)}}class _I{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new um,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>WS(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ju(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Jw(n){return n&&1===n.nodeType}function FR(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function LR(n,t,e,r,i){const s=[];e.forEach(v=>s.push(FR(v)));const l=[];r.forEach((v,E)=>{const A={};v.forEach(U=>{const G=A[U]=t.computeStyle(E,U,i);(!G||0==G.length)&&(E[wl]=T$,l.push(E))}),n.set(E,A)});let p=0;return e.forEach(v=>FR(v,s[p++])),l}function VR(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const i=new Set(t),s=new Map;function l(p){if(!p)return 1;let v=s.get(p);if(v)return v;const E=p.parentNode;return v=e.has(E)?E:i.has(E)?1:l(E),s.set(p,v),v}return t.forEach(p=>{const v=l(p);1!==v&&e.get(v).push(p)}),e}const Zw="$$classes";function Cl(n,t){if(n.classList)n.classList.add(t);else{let e=n[Zw];e||(e=n[Zw]={}),e[t]=!0}}function cm(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Zw];e&&delete e[t]}}function R$(n,t,e){Yf(e).onDone(()=>n.processLeaveNode(t))}function UR(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof uR?UR(r.players,t):t.push(r)}}function BR(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class eC{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new M$(t,e,r),this._timelineEngine=new w$(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const l=t+"-"+i;let p=this._triggerCache[l];if(!p){const v=[],E=uI(this._driver,s,v);if(v.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);p=function(n,t,e){return new v$(n,t,e)}(i,E,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(e,i,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,l]=hR(r);this._timelineEngine.command(s,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[l,p]=hR(r);return this._timelineEngine.listen(l,e,p,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function jR(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=vI(t[0]),t.length>1&&(r=vI(t[t.length-1]))):t&&(e=vI(t)),e||r?new N$(n,e,r):null}let N$=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&eh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eh(this._element,this._initialStyles),this._endStyles&&(eh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hp(this._element,this._endStyles),this._endStyles=null),eh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vI(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];F$(i)&&(t=t||{},t[i]=n[i])}return t}function F$(n){return"display"===n||"position"===n}const HR="animation",zR="animationend";class U${constructor(t,e,r,i,s,l,p){this._element=t,this._name=e,this._duration=r,this._delay=i,this._easing=s,this._fillMode=l,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,t){const e=bI(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),tC(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),WR(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qR(this._element,this._name,"paused")}resume(){qR(this._element,this._name,"running")}setPosition(t){const e=GR(this._element,this._name);this._position=t*this._duration,tC(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),WR(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=bI(n,"").split(","),i=yI(r,t);i>=0&&(r.splice(i,1),tC(n,"",r.join(",")))}(this._element,this._name))}}function qR(n,t,e){tC(n,"PlayState",e,GR(n,t))}function GR(n,t){const e=bI(n,"");return e.indexOf(",")>0?yI(e.split(","),t):yI([e],t)}function yI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function WR(n,t,e){e?n.removeEventListener(zR,t):n.addEventListener(zR,t)}function tC(n,t,e,r){const i=HR+t;if(null!=r){const s=n.style[i];if(s.length){const l=s.split(",");l[r]=e,e=l.join(",")}}n.style[i]=e}function bI(n,t){return n.style[HR+t]||""}class $R{constructor(t,e,r,i,s,l,p,v){this.element=t,this.keyframes=e,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=p,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=i+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new U$(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:aI(this.element,r))})}this.currentSnapshot=t}}class G$ extends um{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=gR(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class YR{constructor(){this._count=0}validateStyleProperty(t){return XS(t)}matchesElement(t,e){return JS(t,e)}containsElement(t,e){return ZS(t,e)}query(t,e,r){return eI(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(p=>gR(p));let i=`@keyframes ${e} {\n`,s="";r.forEach(p=>{s=" ";const v=parseFloat(p.offset);i+=`${s}${100*v}% {\n`,s+=" ",Object.keys(p).forEach(E=>{const A=p[E];switch(E){case"offset":return;case"easing":return void(A&&(i+=`${s}animation-timing-function: ${A};\n`));default:return void(i+=`${s}${E}: ${A};\n`)}}),i+=`${s}}\n`}),i+="}\n";const l=document.createElement("style");return l.textContent=i,l}animate(t,e,r,i,s,l=[],p){const v=l.filter(Me=>Me instanceof $R),E={};ER(r,i)&&v.forEach(Me=>{let ht=Me.currentSnapshot;Object.keys(ht).forEach(tt=>E[tt]=ht[tt])});const A=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(t[i]=r[i])})}),t}(e=SR(t,e,E));if(0==r)return new G$(t,A);const U="gen_css_kf_"+this._count++,G=this.buildKeyframeElement(t,U,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(G);const he=jR(t,e),Oe=new $R(t,e,U,r,i,s,A,he);return Oe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(G)),Oe}}class XR{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:aI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Q${constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JR().toString()),this._cssKeyframesDriver=new YR}validateStyleProperty(t){return XS(t)}matchesElement(t,e){return JS(t,e)}containsElement(t,e){return ZS(t,e)}query(t,e,r){return eI(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,i,s,l=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,i,s,l);const A={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(A.easing=s);const U={},G=l.filter(he=>he instanceof XR);ER(r,i)&&G.forEach(he=>{let Oe=he.currentSnapshot;Object.keys(Oe).forEach(Me=>U[Me]=Oe[Me])});const J=jR(t,e=SR(t,e=e.map(he=>Qf(he,!1)),U));return new XR(t,e,A,J)}}function JR(){return lR()&&Element.prototype.animate||{}}let J$=(()=>{class n extends oR{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ir.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?sR(e):e;return ZR(this._renderer,null,r,"register",[i]),new Z$(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Gd),Ae(Fn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class Z$ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new e8(this._id,t,e||{},this._renderer)}}class e8{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ZR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ZR(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const eP="@.disabled";let t8=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{l&&l.parentNode(s)&&l.removeChild(s.parentNode,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(s);return A||(A=new tP("",s,this.engine),this._rendererCache.set(s,A)),A}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(l,p,e,A.name,A)};return r.data.animation.forEach(v),new n8(this,p,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,p]=s;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Ae(Gd),Ae(eC),Ae(qn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class tP{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==eP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class n8 extends tP{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==eP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(t,e,r)}}let o8=(()=>{class n extends eC{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Ae(Fn),Ae(tI),Ae(dI))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const th=new Xt("AnimationModuleType"),nP=[{provide:oR,useClass:J$},{provide:dI,useFactory:function(){return new f$}},{provide:eC,useClass:o8},{provide:Gd,useFactory:function(n,t,e){return new t8(n,t,e)},deps:[Xb,eC,qn]}],rP=[{provide:tI,useFactory:function(){return"function"==typeof JR()?new Q$:new YR}},{provide:th,useValue:"BrowserAnimations"},...nP],iP=[{provide:tI,useClass:mR},{provide:th,useValue:"NoopAnimations"},...nP];let l8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?iP:rP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:rP,imports:[ZE]}),n})();const oP=new Vh("12.2.13"),m8=new Xt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dp,Ji=(()=>{class n{constructor(e,r,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!pE()||xS())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&oP.full!==iR.full&&console.warn("The Angular Material version ("+oP.full+") does not match the Angular CDK version ("+iR.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(Ae(rR),Ae(m8,8),Ae(Fn))},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Av],Av]}),n})();function hm(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=xi(t)}}}function rC(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function iC(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=xi(t)}}}function aP(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new F,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}try{dp="undefined"!=typeof Intl}catch(n){dp=!1}let wI=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:function(){return new n},token:n,providedIn:"root"}),n})();class M8{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lP={enterDuration:225,exitDuration:150},CI=Dv({passive:!0}),cP=["mousedown","touchstart"],hP=["mouseup","mouseleave","touchend","touchcancel"];class O8{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=$h(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},lP),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),p=t-i.left,v=e-i.top,E=s.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=p-l+"px",A.style.top=v-l+"px",A.style.height=2*l+"px",A.style.width=2*l+"px",null!=r.color&&(A.style.backgroundColor=r.color),A.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(A),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(A),A.style.transform="scale(1)";const U=new M8(this,A,r);return U.state=0,this._activeRipples.add(U),r.persistent||(this._mostRecentTransientRipple=U),this._runTimeoutOutsideZone(()=>{const G=U===this._mostRecentTransientRipple;U.state=1,!r.persistent&&(!G||!this._isPointerDown)&&U.fadeOut()},E),U}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,i=Object.assign(Object.assign({},lP),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=$h(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(cP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hP),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=jS(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!HS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,CI)})})}_removeTriggerEvents(){this._triggerElement&&(cP.forEach(t=>{this._triggerElement.removeEventListener(t,this,CI)}),this._pointerUpEventsRegistered&&hP.forEach(t=>{this._triggerElement.removeEventListener(t,this,CI)}))}}const P8=new Xt("mat-ripple-global-options");let pp=(()=>{class n{constructor(e,r,i,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new O8(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(qn),ge(lo),ge(P8,8),ge(th,8))},n.\u0275dir=Dt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Xi("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Ji,Iv],Ji]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Ji]]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[sC,Yg,Ji,N8]]}),n})();function z8(n,t){}class II{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const q8={dialogContainer:am("dialogContainer",[Kf("void, exit",fa({opacity:0,transform:"scale(0.7)"})),Kf("enter",fa({transform:"none"})),Qh("* => enter",$f("150ms cubic-bezier(0, 0, 0.2, 1)",fa({transform:"none",opacity:1}))),Qh("* => void, * => exit",$f("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",fa({opacity:0})))])};let G8=(()=>{class n extends kS{constructor(e,r,i,s,l,p){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=l,this._focusMonitor=p,this._animationStateChanged=new Wr,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(v)),this._ariaLabelledBy=l.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=Iw(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Iw())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Iw();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge($1),ge(dl),ge(Fn,8),ge(II),ge(up))},n.\u0275dir=Dt({type:n,viewQuery:function(e,r){if(1&e&&yu(Mw,7),2&e){let i;Ii(i=Ti())&&(r._portalOutlet=i.first)}},features:[pr]}),n})(),W8=(()=>{class n extends G8{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ei(n)))(r||n)}}(),n.\u0275cmp=mr({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&w0("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&e&&(Uf("id",r._id),gi("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),I0("@dialogContainer",r._state))},features:[pr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&Ur(0,z8,0,0,"ng-template",0)},directives:[Mw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[q8.dialogContainer]}}),n})(),$8=0;class TI{constructor(t,e,r="mat-dialog-"+$8++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new F,this._afterClosed=new F,this._beforeClosed=new F,this._state=0,e._id=r,e._animationStateChanged.pipe(es(i=>"opened"===i.state),ka(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(es(i=>"closed"===i.state),ka(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(es(i=>27===i.keyCode&&!this.disableClose&&!sp(i))).subscribe(i=>{i.preventDefault(),DI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():DI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(es(e=>"closing"===e.state),ka(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function DI(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const gP=new Xt("MatDialogData"),K8=new Xt("mat-dialog-default-options"),mP=new Xt("mat-dialog-scroll-strategy"),Q8={provide:mP,deps:[Kh],useFactory:function(n){return()=>n.scrollStrategies.block()}};let X8=(()=>{class n{constructor(e,r,i,s,l,p,v,E,A){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=l,this._dialogRefConstructor=v,this._dialogContainerType=E,this._dialogDataToken=A,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=ew(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yl(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new II)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),l=this._attachDialogContent(e,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.afterClosed().subscribe(()=>this._removeOpenDialog(l)),this.afterOpened.next(l),s._initializeWithAttachedContent(),l}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new Nw({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const s=Mr.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:II,useValue:r}]}),l=new PS(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,r,i,s){const l=new this._dialogRefConstructor(i,r,s.id);if(e instanceof Xa)r.attachTemplatePortal(new om(e,null,{$implicit:s.data,dialogRef:l}));else{const p=this._createInjector(s,l,r),v=r.attachComponentPortal(new PS(e,s.viewContainerRef,p));l.componentInstance=v.instance}return l.updateSize(s.width,s.height).updatePosition(s.position),l}_createInjector(e,r,i){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!s||!s.get(Jc,null,Rn.Optional))&&l.push({provide:Jc,useValue:{value:e.direction,change:Un()}}),Mr.create({parent:s||this._injector,providers:l})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(ge(Kh),ge(Mr),ge(void 0),ge(void 0),ge(Ov),ge(void 0),ge(rl),ge(rl),ge(Xt))},n.\u0275dir=Dt({type:n}),n})(),Xh=(()=>{class n extends X8{constructor(e,r,i,s,l,p,v){super(e,r,s,p,v,l,TI,W8,gP)}}return n.\u0275fac=function(e){return new(e||n)(Ae(Kh),Ae(Mr),Ae(Kg,8),Ae(K8,8),Ae(mP),Ae(n,12),Ae(Ov))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[Xh,Q8],imports:[[LS,E1,Ji],Ji]}),n})();var vP=Et(117);Et(3);class aC extends at{constructor(t,e=0,r=IS){super(),this.source=t,this.delayTime=e,this.scheduler=r,(!MS(e)||e<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=IS)}static create(t,e=0,r=IS){return new aC(t,e,r)}static dispatch(t){const{source:e,subscriber:r}=t;return this.add(e.subscribe(r))}_subscribe(t){return this.scheduler.schedule(aC.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class n5{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new aC(e,this.delay,this.scheduler).subscribe(t)}}function MI(){}class yP{constructor(t,e=c1){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{t.apply(this,[l])})},e,r)}}class r5{constructor(t){this.zone=t,this.task=null}call(t,e){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",MI,{},MI,MI)),e.pipe(Us(r,r,r)).subscribe(t).add(r)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class bP{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yP(Zone.current)),this.insideAngular=t.run(()=>new yP(Zone.current,DS))}}function wP(n,t){return function(r){return LO(t)&&(r=r.lift(new r5(n.ngZone))),r.pipe(function(n,t=0){return function(r){return r.lift(new n5(n,t))}}(n.outsideAngular),Cw(n.insideAngular))}}var AI,s5=Et(395),gp=Et.n(s5);const fm=new Xt("angularfire2.app.options"),dm=new Xt("angularfire2.app.nameOrConfig"),d5=new Vh("5.4.2");function OI(n,t,e){const i="object"==typeof e&&e||{};return i.name=i.name||"string"==typeof e&&e||"[DEFAULT]",gp().apps.filter(l=>l&&l.name===i.name)[0]||t.runOutsideAngular(()=>gp().initializeApp(n,i))}const p5={provide:class{},useFactory:OI,deps:[fm,qn,[new Yi,dm]]};let Xf=AI=class{constructor(t){gp().registerVersion&&(gp().registerVersion("angularfire",d5.full,t.toString()),gp().registerVersion("angular",N0.full))}static initializeApp(t,e){return{ngModule:AI,providers:[{provide:fm,useValue:t},{provide:dm,useValue:e}]}}};var t;Xf.\u0275fac=function(t){return new(t||Xf)(Ae(ml))},Xf.\u0275mod=Vn({type:Xf}),Xf.\u0275inj=vt({providers:[p5]}),Xf=AI=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([(t=Ui(ml),function(e,r){t(e,r,0)}),function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],Xf);var m5=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},uC=function(n,t){return function(e,r){t(e,r,n)}};let xI=(()=>{let n=class{constructor(e,r,i,s){const l=wP(new bP(s),i);this.auth=s.runOutsideAngular(()=>OI(e,s,r).auth()),this.authState=new at(p=>s.runOutsideAngular(()=>this.auth.onAuthStateChanged(p))).pipe(l),this.user=new at(p=>s.runOutsideAngular(()=>this.auth.onIdTokenChanged(p))).pipe(l),this.idToken=this.user.pipe(eu(p=>p?on(p.getIdToken()):Un(null))),this.idTokenResult=this.user.pipe(eu(p=>p?on(p.getIdTokenResult()):Un(null)))}};return n.\u0275fac=function(e){return new(e||n)(Ae(fm),Ae(dm,8),Ae(ml),Ae(qn))},n.\u0275prov=lt({token:n,factory:function(t){return n.\u0275fac(t)}}),n=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([uC(0,Ui(fm)),uC(1,Yi()),uC(1,Ui(dm)),uC(2,Ui(ml)),m5("design:paramtypes",[Object,Object,Object,qn])],n),n})();function CP(n,t){return function(n,t=DS){return new at(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot(e)}):r=n.onSnapshot(e),function(){null!=r&&r()}})}(n,t)}function lC(n,t){return CP(n,t).pipe(K(e=>({payload:e,type:"query"})))}function cC(n,t){return lC(n,t).pipe(K(e=>e.payload.docChanges().map(r=>({type:r.type,payload:r}))))}function EP(n,t,e){return lC(n,e).pipe(K(r=>r.payload.docChanges()),dv((r,i)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":n[t.newIndex]&&n[t.newIndex].doc.ref.isEqual(t.doc.ref)||n.splice(t.newIndex,0,t);break;case"modified":(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t)):n.splice(t.newIndex,1,t));break;case"removed":n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&n.splice(t.oldIndex,1)}return n}(n,r))}),n}(r,i,t),[]),K(r=>r.map(i=>({type:i.type,payload:i}))))}function SP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}Et(910);class IP{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){return t&&0!==t.length?cC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.filter(r=>t.indexOf(r.type)>-1)),es(e=>e.length>0)):cC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(dv((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=SP(t);return EP(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return lC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.payload.docs.map(r=>t.idField?Object.assign({},r.data(),{[t.idField]:r.id}):r.data())))}get(t){return on(this.query.get(t)).pipe(Cw(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new TP(this.ref.doc(t),this.afs)}}class TP{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:s}=RP(r,e);return new IP(i,s,this.afs)}snapshotChanges(){return function(n,t){return CP(n,t).pipe(K(e=>({payload:e,type:"value"})))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(K(t=>t.payload.data()))}get(t){return on(this.ref.get(t)).pipe(Cw(this.afs.schedulers.insideAngular))}}class w5{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.filter(r=>t.indexOf(r.type)>-1)),es(e=>e.length>0)):cC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(dv((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=SP(t);return EP(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return lC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.payload.docs.map(r=>r.data())))}get(t){return on(this.query.get(t)).pipe(Cw(this.afs.schedulers.insideAngular))}}var E5=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},nh=function(n,t){return function(e,r){t(e,r,n)}};const DP=new Xt("angularfire2.enableFirestorePersistence"),MP=new Xt("angularfire2.firestore.persistenceSettings"),AP=DP,OP=MP,xP=new Xt("angularfire2.firestore.settings"),RI=parseInt(gp().SDK_VERSION.split(".")[0]),I5=parseInt(gp().SDK_VERSION.split(".")[1]),T5=RI<5||5==RI&&I5<8?{timestampsInSnapshots:!0}:{};function RP(n,t=(e=>e)){return{query:t(n),ref:n}}let kv=(()=>{let n=class{constructor(e,r,i,s,l,p,v){this.schedulers=new bP(p),this.keepUnstableUntilFirst=wP(this.schedulers,l),this.firestore=p.runOutsideAngular(()=>{const A=OI(e,p,r).firestore();return A.settings(s||T5),A}),this.persistenceEnabled$=i&&!LO(l)?p.runOutsideAngular(()=>{try{return on(this.firestore.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(A){return Un(!1)}}):Un(!1)}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=RP(i,r);return new IP(s,l,this)}collectionGroup(e,r){if(RI<6)throw"collection group queries require Firebase JS SDK >= 6.0";const i=r||(p=>p),l=this.firestore.collectionGroup(e);return new w5(i(l),this)}doc(e){let r;return r="string"==typeof e?this.firestore.doc(e):e,new TP(r,this)}createId(){return this.firestore.collection("_").doc().id}};return n.\u0275fac=function(e){return new(e||n)(Ae(fm),Ae(dm,8),Ae(AP,8),Ae(xP,8),Ae(ml),Ae(qn),Ae(OP,8))},n.\u0275prov=lt({token:n,factory:function(t){return n.\u0275fac(t)}}),n=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([nh(0,Ui(fm)),nh(1,Yi()),nh(1,Ui(dm)),nh(2,Yi()),nh(2,Ui(AP)),nh(3,Yi()),nh(3,Ui(xP)),nh(4,Ui(ml)),nh(6,Yi()),nh(6,Ui(OP)),E5("design:paramtypes",[Object,Object,Object,Object,Object,qn,Object])],n),n})(),mp=(()=>{class n{constructor(e,r,i,s){this.fireAuth=e,this.router=r,this.dialog=i,this.firestore=s,this.id=localStorage.getItem("auth_token")}createUser(e,r){return console.log(e),this.firestore.collection("users").doc(r).set(e,{merge:!0})}updateUserById(e,r){return this.firestore.collection("users").doc(e).set(r,{merge:!0})}getUsers(){return this.firestore.collection("users",e=>e.where("id","!=",this.id)).snapshotChanges()}getUserById(e){return this.firestore.collection("users").doc(e).get()}addUserToMyContact(e,r,i){return this.firestore.collection("users").doc(e).collection("contacts").doc(r).set(i).then(s=>this.firestore.collection("users").doc(r).collection("contacts").doc(e).set(i))}getMyContacts(e){return this.firestore.collection("users").doc(e).collection("contacts",r=>r.orderBy("lastMessageAt","desc")).snapshotChanges()}getMyContactById(e){return this.firestore.collection("users").doc(this.id).collection("contacts").doc(e).get()}sendMessage(e,r){return this.firestore.collection("chats").doc(e).collection("messages").add(r)}updateLastMessage(e,r){return this.firestore.collection("users").doc(this.id).collection("contacts").doc(e).set(r,{merge:!0})}getMessages(e){return this.firestore.collection("chats").doc(e).collection("messages",r=>r.orderBy("createdAt","asc")).snapshotChanges()}userOnline(e,r){return this.firestore.collection("users").doc(e).set({online:r},{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(Ae(xI),Ae(bs),Ae(Xh),Ae(kv))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_p=(()=>{class n{constructor(e,r,i){this.fireAuth=e,this.router=r,this.service=i}signup(e,r,i,s){return new Promise((l,p)=>{vP.auth().createUserWithEmailAndPassword(e,r).then(v=>{var E;console.log(v),null===(E=v.user)||void 0===E||E.updateProfile({displayName:s}).then(()=>{var A,U;l(v.user),console.log(v.user);var G=(null===(A=null==v?void 0:v.user)||void 0===A?void 0:A.uid)?null===(U=null==v?void 0:v.user)||void 0===U?void 0:U.uid:"";localStorage.setItem("auth_token",G)})},v=>{p(v),console.log(v)})})}login(e,r){return new Promise((i,s)=>{vP.auth().signInWithEmailAndPassword(e,r).then(l=>{var p,v,E;console.log(null===(p=null==l?void 0:l.user)||void 0===p?void 0:p.uid);var A=(null===(v=null==l?void 0:l.user)||void 0===v?void 0:v.uid)?null===(E=null==l?void 0:l.user)||void 0===E?void 0:E.uid:"";localStorage.setItem("auth_token",A),i(l.user),this.service.userOnline(A,!0).then(U=>{console.log("user online")})},l=>{s(l),console.log(l)})})}signOut(){this.fireAuth.auth.signOut().then(e=>this.fireAuth.auth.signOut().then(()=>{let r=localStorage.getItem("auth_token");null!=r&&this.service.userOnline(r,!1).then(i=>{console.log("user offline"),localStorage.removeItem("auth_token"),this.router.navigate(["/login"])})}))}}return n.\u0275fac=function(e){return new(e||n)(Ae(xI),Ae(bs),Ae(mp))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hC=(()=>{class n{constructor(){this.currentChatUserId=new Pa(""),this.createdBy=new Pa(""),this.currentChatUserName=new Pa(""),this.currentChatUserOnlineStatus=new Pa(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PP(...n){if(1===n.length){const t=n[0];if(Dn(t))return fC(t,null);if(Lt(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return fC(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return fC(n=1===n.length&&Dn(n[0])?n[0]:n,null).pipe(K(e=>t(...e)))}return fC(n,null)}function fC(n,t){return new at(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let s=0,l=0;for(let p=0;p<r;p++){const v=on(n[p]);let E=!1;e.add(v.subscribe({next:A=>{E||(E=!0,l++),i[p]=A},error:A=>e.error(A),complete:()=>{s++,(s===r||!E)&&(l===r&&e.next(t?t.reduce((A,U,G)=>(A[U]=i[G],A),{}):i),e.complete())}}))}})}class kP{}class Jh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(p=>-1===s.indexOf(p)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class D5{encodeKey(t){return FP(t)}encodeValue(t){return FP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const A5=/%(\d[a-f0-9])/gi,O5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function FP(n){return encodeURIComponent(n).replace(A5,(t,e)=>{var r;return null!==(r=O5[e])&&void 0!==r?r:t})}function LP(n){return`${n}`}class Jf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new D5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,p]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],v=e.get(l)||[];v.push(p),e.set(l,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(LP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(LP(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class x5{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function VP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function UP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function BP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Nv{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Jh),this.context||(this.context=new x5),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+l}}else this.params=new Jf,this.urlWithParams=e}serializeBody(){return null===this.body?null:VP(this.body)||UP(this.body)||BP(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BP(this.body)?null:UP(this.body)?this.body.type||null:VP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let E=t.headers||this.headers,A=t.params||this.params;const U=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((G,J)=>G.set(J,t.setHeaders[J]),E)),t.setParams&&(A=Object.keys(t.setParams).reduce((G,J)=>G.set(J,t.setParams[J]),A)),new Nv(r,i,l,{params:A,headers:E,context:U,reportProgress:v,responseType:s,withCredentials:p})}}var hs=(()=>((hs=hs||{})[hs.Sent=0]="Sent",hs[hs.UploadProgress=1]="UploadProgress",hs[hs.ResponseHeader=2]="ResponseHeader",hs[hs.DownloadProgress=3]="DownloadProgress",hs[hs.Response=4]="Response",hs[hs.User=5]="User",hs))();class dC extends class{constructor(t,e=200,r="OK"){this.headers=t.headers||new Jh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=hs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new dC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function NI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pC=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Nv)s=e;else{let v,E;v=i.headers instanceof Jh?i.headers:new Jh(i.headers),i.params&&(E=i.params instanceof Jf?i.params:new Jf({fromObject:i.params})),s=new Nv(e,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=Un(s).pipe(Xg(v=>this.handler.handle(v)));if(e instanceof Nv||"events"===i.observe)return l;const p=l.pipe(es(v=>v instanceof dC));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe(K(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe(K(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe(K(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return p.pipe(K(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Jf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,NI(i,r))}post(e,r,i={}){return this.request("POST",e,NI(i,r))}put(e,r,i={}){return this.request("PUT",e,NI(i,r))}}return n.\u0275fac=function(e){return new(e||n)(Ae(kP))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const B5=["*"];function WP(n){return Error(`Unable to find icon with the name "${n}"`)}function $P(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function KP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vp{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let gC=(()=>{class n{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new vp(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const l=this._sanitizer.sanitize(Gt.HTML,i);if(!l)throw KP(i);return this._addSvgIconConfig(e,r,new vp("",l,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new vp(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(Gt.HTML,r);if(!s)throw KP(r);return this._addSvgIconSetConfig(e,new vp("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Gt.RESOURCE_URL,e);if(!r)throw $P(e);const i=this._cachedIconsByUrl.get(r);return i?Un(mC(i)):this._loadSvgIconFromConfig(new vp(e,null)).pipe(Us(s=>this._cachedIconsByUrl.set(r,s)),K(s=>mC(s)))}getNamedSvgIcon(e,r=""){const i=YP(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):h1(WP(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Un(mC(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(K(r=>mC(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Un(i):PP(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(qf(p=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(Gt.RESOURCE_URL,l.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(E)),Un(null)})))).pipe(K(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw WP(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.indexOf(e)>-1){const l=this._svgElementFromConfig(s),p=this._extractSvgIconFromSet(l,e,s.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Us(r=>e.svgText=r),K(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Un(null):this._fetchIcon(e).pipe(Us(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(l),this._setSvgAttributes(p,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let s=0;s<i.length;s++){const{name:l,value:p}=i[s];"id"!==l&&r.setAttribute(l,p)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:i,options:s}=e,l=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const p=this._sanitizer.sanitize(Gt.RESOURCE_URL,i);if(!p)throw $P(i);const v=this._inProgressUrlFetches.get(p);if(v)return v;const E=this._httpClient.get(p,{responseType:"text",withCredentials:l}).pipe(rx(()=>this._inProgressUrlFetches.delete(p)),Ir());return this._inProgressUrlFetches.set(p,E),E}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(YP(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return z5(s)?new vp(s.url,null,s.options):new vp(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(Ae(pC,8),Ae(Qg),Ae(Fn,8),Ae(gu))},n.\u0275prov=lt({factory:function(){return new n(Ae(pC,8),Ae(Qg),Ae(Fn,8),Ae(gu))},token:n,providedIn:"root"}),n})();function mC(n){return n.cloneNode(!0)}function YP(n,t){return n+":"+t}function z5(n){return!(!n.url||!n.options)}const q5=rC(class{constructor(n){this._elementRef=n}}),G5=new Xt("mat-icon-location",{providedIn:"root",factory:function(){const n=Mc(Fn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),QP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],K5=QP.map(n=>`[${n}]`).join(", "),Y5=/^url\(['"]?#(.*?)['"]?\)$/;let _C=(()=>{class n extends q5{constructor(e,r,i,s,l){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=l,this._inline=!1,this._currentIconFetch=Y.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=xi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(K5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)QP.forEach(l=>{const p=r[s],v=p.getAttribute(l),E=v?v.match(Y5):null;if(E){let A=i.get(p);A||(A=[],i.set(p,A)),A.push({name:l,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ka(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(gC),Ca("aria-hidden"),ge(G5),ge(gu))},n.\u0275cmp=mr({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(gi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Xi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[pr],ngContentSelectors:B5,decls:1,vars:0,template:function(e,r){1&e&&(Ya(),ji(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})(),XP=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(ge(Bu),ge(gr))},n.\u0275dir=Dt({type:n}),n})(),yp=(()=>{class n extends XP{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ei(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,features:[pr]}),n})();const ac=new Xt("NgValueAccessor"),J5={provide:ac,useExisting:Ln(()=>bp),multi:!0},e6=new Xt("CompositionEventMode");let bp=(()=>{class n extends XP{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Yc()?Yc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(ge(Bu),ge(gr),ge(e6,8))},n.\u0275dir=Dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&or("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Br([J5]),pr]}),n})();function Zf(n){return null==n||0===n.length}function ZP(n){return null!=n&&"number"==typeof n.length}const da=new Xt("NgValidators"),ed=new Xt("NgAsyncValidators"),t6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zu{static min(t){return function(n){return t=>{if(Zf(t.value)||Zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Zf(t.value)||Zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return nk(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Zf(n.value)||t6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Zf(t.value)||!ZP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>ZP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return td;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Zf(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return dk(t)}static composeAsync(t){return pk(t)}}function nk(n){return Zf(n.value)?{required:!0}:null}function td(n){return null}function uk(n){return null!=n}function lk(n){const t=k_(n)?on(n):n;return ob(t),t}function ck(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function hk(n,t){return t.map(e=>e(n))}function fk(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function dk(n){if(!n)return null;const t=n.filter(uk);return 0==t.length?null:function(e){return ck(hk(e,t))}}function UI(n){return null!=n?dk(fk(n)):null}function pk(n){if(!n)return null;const t=n.filter(uk);return 0==t.length?null:function(e){return PP(hk(e,t).map(lk)).pipe(K(ck))}}function BI(n){return null!=n?pk(fk(n)):null}function gk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mk(n){return n._rawValidators}function _k(n){return n._rawAsyncValidators}function jI(n){return n?Array.isArray(n)?n:[n]:[]}function vC(n,t){return Array.isArray(n)?n.includes(t):n===t}function vk(n,t){const e=jI(t);return jI(n).forEach(i=>{vC(e,i)||e.push(i)}),e}function yk(n,t){return jI(t).filter(e=>!vC(n,e))}let bk=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n}),n})(),tu=(()=>{class n extends bk{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ei(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,features:[pr]}),n})();class rh extends bk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wk{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Fv=(()=>{class n extends wk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(ge(rh,2))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Xi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[pr]}),n})(),Ck=(()=>{class n extends wk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(ge(tu,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Xi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[pr]}),n})();function bC(n,t){return[...t.path,n]}function Lv(n,t){qI(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ek(n,t)})}(n,t),function(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ek(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function wC(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),EC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function CC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qI(n,t){const e=mk(n);null!==t.validator?n.setValidators(gk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=_k(n);null!==t.asyncValidator?n.setAsyncValidators(gk(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();CC(t._rawValidators,i),CC(t._rawAsyncValidators,i)}function EC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=mk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=_k(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return CC(t._rawValidators,r),CC(t._rawAsyncValidators,r),e}function Ek(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sk(n,t){qI(n,t)}function GI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Ik(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WI(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===bp?e=s:function(n){return Object.getPrototypeOf(n.constructor)===yp}(s)?r=s:i=s}),i||r||e||null}function SC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Vv="VALID",IC="INVALID",pm="PENDING",Uv="DISABLED";function $I(n){return(YI(n)?n.validators:n)||null}function Tk(n){return Array.isArray(n)?UI(n):n||null}function KI(n,t){return(YI(t)?t.asyncValidators:n)||null}function Dk(n){return Array.isArray(n)?BI(n):n||null}function YI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class QI{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Tk(this._rawValidators),this._composedAsyncValidatorFn=Dk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vv}get invalid(){return this.status===IC}get pending(){return this.status==pm}get disabled(){return this.status===Uv}get enabled(){return this.status!==Uv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Tk(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Dk(t)}addValidators(t){this.setValidators(vk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yk(t,this._rawAsyncValidators))}hasValidator(t){return vC(this._rawValidators,t)}hasAsyncValidator(t){return vC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uv,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vv,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vv||this.status===pm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uv:Vv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pm,this._hasOwnPendingAsyncValidator=!0;const e=lk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=r instanceof wp?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof XI&&r.at(i)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Wr,this.statusChanges=new Wr}_calculateStatus(){return this._allControlsDisabled()?Uv:this.errors?IC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pm)?pm:this._anyControlsHaveStatus(IC)?IC:Vv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){YI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gm extends QI{constructor(t=null,e,r){super($I(e),KI(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){SC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){SC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wp extends QI{constructor(t,e,r){super($I(e),KI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof gm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class XI extends QI{constructor(t,e,r){super($I(e),KI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof gm?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const p6={provide:tu,useExisting:Ln(()=>jv)},Bv=(()=>Promise.resolve(null))();let jv=(()=>{class n extends tu{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Wr,this.form=new wp({},UI(e),BI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bv.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Lv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bv.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),SC(this._directives,e)})}addFormGroup(e){Bv.then(()=>{const r=this._findContainer(e.path),i=new wp({});Sk(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bv.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Bv.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ik(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(ge(da,10),ge(ed,10))},n.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&or("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Br([p6]),pr]}),n})();const m6={provide:rh,useExisting:Ln(()=>Hv)},Ok=(()=>Promise.resolve(null))();let Hv=(()=>{class n extends rh{constructor(e,r,i,s){super(),this.control=new gm,this._registered=!1,this.update=new Wr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WI(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),GI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?bC(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ok.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;Ok.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(ge(tu,9),ge(da,10),ge(ed,10),ge(ac,10))},n.\u0275dir=Dt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Br([m6]),pr,qr]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Pk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})();const JI=new Xt("NgModelWithFormControlWarning"),C6={provide:tu,useExisting:Ln(()=>mm)};let mm=(()=>{class n extends tu{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Wr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(EC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Lv(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){wC(e.control||null,e,!1),SC(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,Ik(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(wC(r||null,e),i instanceof gm&&(Lv(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);Sk(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return EC(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qI(this.form,this),this._oldForm&&EC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(ge(da,10),ge(ed,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&or("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Br([C6]),pr,qr]}),n})();const I6={provide:rh,useExisting:Ln(()=>tT)};let tT=(()=>{class n extends rh{constructor(e,r,i,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new Wr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WI(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),GI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return bC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(ge(tu,13),ge(da,10),ge(ed,10),ge(ac,10),ge(JI,8))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Br([I6]),pr,qr]}),n._ngModelWarningSentOnce=!1,n})();const k6={provide:da,useExisting:Ln(()=>TC),multi:!0};let TC=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?nk(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&gi("required",r.required?"":null)},inputs:{required:"required"},features:[Br([k6])]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Pk]]}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[Kk]}),n})(),Yk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:JI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[Kk]}),n})(),H6=(()=>{class n{group(e,r=null){const i=this._reduceControls(e);let p,s=null,l=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,l=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,l=null!=r.asyncValidator?r.asyncValidator:null)),new wp(i,{asyncValidators:l,updateOn:p,validators:s})}control(e,r,i){return new gm(e,r,i)}array(e,r,i){const s=e.map(l=>this._createControl(l));return new XI(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof gm||e instanceof wp||e instanceof XI?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({factory:function(){return new n},token:n,providedIn:Yk}),n})(),oT=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=xi(e)}get inset(){return this._inset}set inset(e){this._inset=xi(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=mr({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(gi("aria-orientation",r.vertical?"vertical":"horizontal"),Xi("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),z6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})();function q6(n,t){1&n&&er(0,"img",14)}function G6(n,t){1&n&&er(0,"img",15)}function W6(n,t){if(1&n&&(Ke(0,"span"),Pn(1),Ye()),2&n){const e=vr().$implicit;en(1),Jo((null==e?null:e.bio.substring(0,75))+"...")}}function $6(n,t){if(1&n&&(Ke(0,"span"),Pn(1),Ye()),2&n){const e=vr().$implicit;en(1),Jo(null==e?null:e.bio)}}const K6=function(n){return{activeChat:n}},Y6=function(n){return{online:n}};function Q6(n,t){if(1&n){const e=fl();Ke(0,"div",16),or("click",function(){const s=x(e).$implicit;return vr().setCurrentChat(s)}),Ke(1,"div",17),er(2,"img",18),Ye(),Ke(3,"div",12),Ke(4,"h6"),Pn(5),Ye(),Ur(6,W6,2,1,"span",19),Ur(7,$6,2,1,"span",19),Ye(),Ke(8,"div",20),Ke(9,"p",21),Pn(10,"Joined On"),Ye(),Ke(11,"p",21),Pn(12),Y_(13,"date"),Ye(),Ye(),Ye()}if(2&n){const e=t.$implicit,r=vr();Cn("ngClass",Hg(9,K6,(null==e?null:e.id)==r.currentChatUserId)),en(1),Cn("ngClass",Hg(11,Y6,null==e?null:e.online)),en(4),Jo(null==e?null:e.name),en(1),Cn("ngIf",(null==e?null:e.bio.length)>75),en(1),Cn("ngIf",(null==e?null:e.bio.length)<=75),en(5),Jo(Q_(13,6,1e3*(null==e?null:e.createdAt.seconds),"mediumDate"))}}let X6=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this.service=r,this.authService=i,this.sharedService=s,this.allUsers=[],this.currentChatUserId="",this.searchByName="",this.filteredUsers=[],this.searching=!0,this.sharedService.currentChatUserId.subscribe(l=>{this.currentChatUserId=l}),this.getAllUsers()}ngOnInit(){}getAllUsers(){this.service.getUsers().subscribe(e=>{console.log(e),this.allUsers=e.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),console.log("allUsers-------------",this.allUsers),this.filteredUsers=this.allUsers})}setCurrentChat(e){var r;console.log(e),this.sharedService.currentChatUserId.next(null==e?void 0:e.id),this.sharedService.createdBy.next((null==e?void 0:e.createdBy)?null==e?void 0:e.createdBy:""),this.sharedService.currentChatUserName.next(null==e?void 0:e.name),null===(r=this.sharedService)||void 0===r||r.currentChatUserOnlineStatus.next(null==e?void 0:e.online),this.dialog.closeAll()}filterUsers(){this.filteredUsers=this.allUsers,""!=this.searchByName&&(this.filteredUsers=this.filteredUsers.filter(e=>{var r,i,s,l;return console.log(this.searchByName,null==e?void 0:e.name),(null===(r=null==e?void 0:e.name)||void 0===r?void 0:r.toLowerCase().includes(null===(i=this.searchByName)||void 0===i?void 0:i.toLowerCase()))||(null===(s=null==e?void 0:e.phone)||void 0===s?void 0:s.toLowerCase().includes(null===(l=this.searchByName)||void 0===l?void 0:l.toLowerCase()))})),console.log(this.filteredUsers)}onFocusCountry(){this.searching=!1}onBlurCountry(){this.searching=!0}}return n.\u0275fac=function(e){return new(e||n)(ge(Xh),ge(mp),ge(_p),ge(hC))},n.\u0275cmp=mr({type:n,selectors:[["app-list-of-users"]],decls:22,vars:4,consts:[[1,"listOfUser"],[1,"header"],[3,"click"],[1,"searchBox"],[1,"input_group"],["src","../../../assets/images/search.png","alt","","class","form_icon ",4,"ngIf"],["src","../../../assets/images/left-arrow.png","alt","","class","form_icon ",4,"ngIf"],["type","text","id","input","placeholder","Search by Name/Number",1,"l_form_control",3,"ngModel","ngModelChange","keyup","focus","blur"],["userName",""],[1,"users"],[1,"group"],[1,"avatar"],[1,"media_body","ml_12"],["class","user",3,"ngClass","click",4,"ngFor","ngForOf"],["src","../../../assets/images/search.png","alt","",1,"form_icon"],["src","../../../assets/images/left-arrow.png","alt","",1,"form_icon"],[1,"user",3,"ngClass","click"],[1,"avatar",3,"ngClass"],["src","../../../assets/images/profile.jpg","alt","",1,""],[4,"ngIf"],[1,"media_status"],[1,"time"]],template:function(e,r){1&e&&(Ke(0,"div",0),Ke(1,"div",1),Ke(2,"mat-icon",2),or("click",function(){return r.dialog.closeAll()}),Pn(3,"keyboard_backspace"),Ye(),Ke(4,"h2"),Pn(5,"New Chat"),Ye(),Ye(),Ke(6,"div",3),Ke(7,"div",4),Ur(8,q6,1,0,"img",5),Ur(9,G6,1,0,"img",6),Ke(10,"input",7,8),or("ngModelChange",function(s){return r.searchByName=s})("keyup",function(){return r.filterUsers()})("focus",function(){return r.onFocusCountry()})("blur",function(){return r.onBlurCountry()}),Ye(),Ye(),Ye(),er(12,"mat-divider"),Ke(13,"div",9),Ke(14,"div",10),Ke(15,"div",11),Ke(16,"mat-icon"),Pn(17,"group"),Ye(),Ye(),Ke(18,"div",12),Ke(19,"h6"),Pn(20,"New Group"),Ye(),Ye(),Ye(),Ur(21,Q6,14,13,"div",13),Ye(),Ye()),2&e&&(en(8),Cn("ngIf",r.searching),en(1),Cn("ngIf",!r.searching),en(1),Cn("ngModel",r.searchByName),en(11),Cn("ngForOf",r.filteredUsers))},directives:[_C,zh,bp,Fv,Hv,oT,Gb,uv],pipes:[Wb],styles:['.listOfUser[_ngcontent-%COMP%]{overflow:hidden;height:100%}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#008069;display:flex;color:#fff;padding:40px 10px 0 20px}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:5px;padding-right:10px;pointer-events:auto;cursor:pointer}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{padding:10px 15px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{position:relative}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .form_icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:10px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:86%}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .l_form_control[_ngcontent-%COMP%]{background-color:#f0f2f5;border:none;opacity:1;letter-spacing:.32px;color:#000;font-size:14px;line-height:18px;padding:8px 3% 8px 12%;border-radius:5px;left:50px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 142px);display:flex;flex-direction:column;overflow-y:scroll}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%;background:#00A884;color:#fff;padding:8px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px;margin-top:12px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px;word-break:break-word}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;right:-5px;width:10px;height:10px;border-radius:100%;border:2px solid #FFFFFF;background-color:#42cb6b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px;word-break:break-word}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]{min-width:75px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{letter-spacing:.24px;color:#738499;font-size:12px;line-height:20px;margin-bottom:2px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time_class[_ngcontent-%COMP%]{background-color:#fe5b63;text-align:center;color:#fff;font-size:12px;border-radius:100%;width:20px;height:20px;display:block;margin:auto;line-height:20px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover, .listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:focus{background-color:#f2f3f8ce}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .activeChat[_ngcontent-%COMP%]{background-color:#f0f2f5}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}  .mat-dialog-container{padding:0;border-radius:0;box-shadow:0 11px 15px -7pxrgba 0,0,0,.2,0 24px 38px 3pxrgba 0,0,0,.14,0 9px 46px 8pxrgba 0,0,0,.12;border:none;outline:none;box-shadow:none}  .cdk-overlay-backdrop{pointer-events:none}  .cdk-overlay-dark-backdrop{background:initial}']}),n})();function J6(n,t){1&n&&(Ke(0,"h2"),Pn(1,"Online"),Ye())}let Qk=(()=>{class n{constructor(e,r,i,s,l,p,v){this.dialog=e,this.data=r,this.service=i,this.authService=s,this.sharedService=l,this.renderer=p,this.firestore=v,this.profile={}}ngOnInit(){this.profile=this.data,console.log(this.profile)}}return n.\u0275fac=function(e){return new(e||n)(ge(Xh),ge(gP),ge(mp),ge(_p),ge(hC),ge(Bu),ge(kv))},n.\u0275cmp=mr({type:n,selectors:[["app-profile"]],decls:29,vars:5,consts:[[1,"profile"],[1,"header"],[3,"click"],[1,"photo"],["src","../../../assets/images/profile.jpg","alt",""],[4,"ngIf"],[1,"description"],[1,"field"]],template:function(e,r){1&e&&(Ke(0,"div",0),Ke(1,"div",1),Ke(2,"mat-icon",2),or("click",function(){return r.dialog.closeAll()}),Pn(3,"keyboard_backspace"),Ye(),Ke(4,"h2"),Pn(5,"Profile"),Ye(),Ye(),Ke(6,"div",3),er(7,"img",4),er(8,"br"),er(9,"br"),Ur(10,J6,2,0,"h2",5),Ke(11,"h2"),Pn(12),Ye(),Ye(),Ke(13,"div",6),Ke(14,"div",7),Ke(15,"span"),Pn(16,"Name"),Ye(),Ke(17,"p"),Pn(18),Ye(),Ye(),Ke(19,"div",7),Ke(20,"span"),Pn(21,"Bio"),Ye(),Ke(22,"p"),Pn(23),Ye(),Ye(),Ke(24,"div",7),Ke(25,"span"),Pn(26,"Interests"),Ye(),Ke(27,"p"),Pn(28),Ye(),Ye(),Ye(),Ye()),2&e&&(en(10),Cn("ngIf",null==r.profile?null:r.profile.online),en(2),Jo(null==r.profile?null:r.profile.phone),en(6),Jo(null==r.profile?null:r.profile.name),en(5),Jo(null==r.profile?null:r.profile.bio),en(5),Jo(null==r.profile?null:r.profile.interests))},directives:[_C,zh],styles:[".profile[_ngcontent-%COMP%]{overflow:hidden;height:100%}.profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#008069;display:flex;color:#fff;padding:40px 10px 0 20px}.profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:5px;padding-right:10px;pointer-events:auto;cursor:pointer}.profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.profile[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{text-align:center;margin:50px 0}.profile[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:50%}.profile[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:0 20px}.profile[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#00000076}.profile[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:24px}  .mat-dialog-container{padding:0;border-radius:0;box-shadow:0 11px 15px -7pxrgba 0,0,0,.2,0 24px 38px 3pxrgba 0,0,0,.14,0 9px 46px 8pxrgba 0,0,0,.12;border:none;outline:none;box-shadow:none}  .cdk-overlay-dark-backdrop{background:initial}"]}),n})();function Xk(n,t=bw){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return i=>i.lift(new eK(r,t))}class eK{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new sT(t,this.delay,this.scheduler))}}class sT extends ft{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,i=t.scheduler,s=t.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const l=Math.max(0,r[0].time-i.now());this.schedule(t,l)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(sT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new tK(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(wu.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(wu.createComplete()),this.unsubscribe()}}class tK{constructor(t,e){this.time=t,this.notification=e}}const nK=["mat-menu-item",""];function rK(n,t){1&n&&(Ko(),Ke(0,"svg",2),er(1,"polygon",3),Ye())}const Jk=["*"];function iK(n,t){if(1&n){const e=fl();Ke(0,"div",0),or("keydown",function(i){return x(e),vr()._handleKeydown(i)})("click",function(){return x(e),vr().closed.emit("click")})("@transformMenu.start",function(i){return x(e),vr()._onAnimationStart(i)})("@transformMenu.done",function(i){return x(e),vr()._onAnimationDone(i)}),Ke(1,"div",1),ji(2),Ye(),Ye()}if(2&n){const e=vr();Cn("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),gi("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const DC={transformMenu:am("transformMenu",[Kf("void",fa({opacity:0,transform:"scale(0.8)"})),Qh("void => enter",$f("120ms cubic-bezier(0, 0, 0.2, 1)",fa({opacity:1,transform:"scale(1)"}))),Qh("* => void",$f("100ms 25ms linear",fa({opacity:0})))]),fadeInItems:am("fadeInItems",[Kf("showing",fa({opacity:1})),Qh("void => *",[fa({opacity:0}),$f("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Zk=new Xt("MatMenuContent"),aT=new Xt("MAT_MENU_PANEL"),sK=iC(hm(class{}));let zv=(()=>{class n extends sK{constructor(e,r,i,s,l){super(),this._elementRef=e,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new F,this._focused=new F,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,r;const i=this._elementRef.nativeElement.cloneNode(!0),s=i.querySelectorAll("mat-icon, .material-icons");for(let l=0;l<s.length;l++){const p=s[l];null===(e=p.parentNode)||void 0===e||e.removeChild(p)}return(null===(r=i.textContent)||void 0===r?void 0:r.trim())||""}_setHighlighted(e){var r;this._highlighted=e,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(Fn),ge(up),ge(aT,8),ge(dl))},n.\u0275cmp=mr({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,r){1&e&&or("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(gi("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Xi("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[pr],attrs:nK,ngContentSelectors:Jk,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Ya(),ji(0),er(1,"div",0),Ur(2,rK,2,0,"svg",1)),2&e&&(en(1),Cn("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),en(1),Cn("ngIf",r._triggersSubmenu))},directives:[pp,zh],encapsulation:2,changeDetection:0}),n})();const eN=new Xt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let uK=0,qv=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Kd,this._tabSubscription=Y.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new F,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Wr,this.close=this.closed,this.panelId="mat-menu-panel-"+uK++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=xi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=xi(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new vW(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yl(this._directDescendantItems),eu(e=>je(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(yl(this._directDescendantItems),eu(r=>je(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:sp(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(ka(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const r=this._keyManager;if(r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(yl(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(qn),ge(eN))},n.\u0275dir=Dt({type:n,contentQueries:function(e,r,i){if(1&e&&(Fs(i,Zk,5),Fs(i,zv,5),Fs(i,zv,4)),2&e){let s;Ii(s=Ti())&&(r.lazyContent=s.first),Ii(s=Ti())&&(r._allItems=s),Ii(s=Ti())&&(r.items=s)}},viewQuery:function(e,r){if(1&e&&yu(Xa,5),2&e){let i;Ii(i=Ti())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),n})(),tN=(()=>{class n extends qv{constructor(e,r,i){super(e,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(qn),ge(eN))},n.\u0275cmp=mr({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&gi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Br([{provide:aT,useExisting:n}]),pr],ngContentSelectors:Jk,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,r){1&e&&(Ya(),Ur(0,iK,3,6,"ng-template"))},directives:[uv],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[DC.transformMenu,DC.fadeInItems]},changeDetection:0}),n})();const nN=new Xt("mat-menu-scroll-strategy"),cK={provide:nN,deps:[Kh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},iN=Dv({passive:!0});let hK=(()=>{class n{constructor(e,r,i,s,l,p,v,E){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=p,this._dir=v,this._focusMonitor=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Y.EMPTY,this._hoverSubscription=Y.EMPTY,this._menuCloseSubscription=Y.EMPTY,this._handleTouchStart=A=>{HS(A)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new Wr,this.onMenuOpen=this.menuOpened,this.menuClosed=new Wr,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof qv?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,iN),p&&(p._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,iN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),r=e.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof qv&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof qv?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(es(i=>"void"===i.toState),ka(1),ws(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,r=this.menu.parentMenu;for(;r;)e++,r=r.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Nw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,l]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[p,v]=[s,l],[E,A]=[r,i],U=0;this.triggersSubmenu()?(A=r="before"===this.menu.xPosition?"start":"end",i=E="end"===r?"start":"end",U="bottom"===s?8:-8):this.menu.overlapTrigger||(p="top"===s?"bottom":"top",v="top"===l?"bottom":"top"),e.withPositions([{originX:r,originY:p,overlayX:E,overlayY:s,offsetY:U},{originX:i,originY:p,overlayX:A,overlayY:s,offsetY:U},{originX:r,originY:v,overlayX:E,overlayY:l,offsetY:-U},{originX:i,originY:v,overlayX:A,overlayY:l,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return je(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Un(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(es(l=>l!==this._menuItemInstance),es(()=>this._menuOpen)):Un(),r)}_handleMousedown(e){jS(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(es(e=>e===this._menuItemInstance&&!e.disabled),Xk(0,yw)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof qv&&this.menu._isAnimating?this.menu._animationDone.pipe(ka(1),Xk(0,yw),ws(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new om(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(ge(Kh),ge(gr),ge(la),ge(nN),ge(aT,8),ge(zv,10),ge(Jc,8),ge(up))},n.\u0275dir=Dt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&or("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(s){return r._handleClick(s)}),2&e&&gi("aria-haspopup",r._ariaHaspopup)("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),oN=(()=>{class n extends hK{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=ei(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[pr]}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[cK],imports:[[Yg,Ji,sC,LS],Dw,Ji]}),n})();function dK(n,t){1&n&&er(0,"img",18)}function pK(n,t){1&n&&er(0,"img",19)}const gK=function(n){return{activeChat:n}},mK=function(n){return{online:n}};function _K(n,t){if(1&n){const e=fl();Ke(0,"div",20),or("click",function(){const s=x(e).$implicit;return vr().setCurrentChat(s)}),Ke(1,"div",21),Ke(2,"img",3),or("click",function(){const s=x(e).$implicit;return vr().openProfileDialog(s)}),Ye(),Ye(),Ke(3,"div",22),Ke(4,"h6"),Pn(5),Ye(),Ke(6,"span"),Pn(7),Ye(),Ye(),Ke(8,"div",23),Ke(9,"p",24),Pn(10),Y_(11,"date"),Ye(),Ye(),Ye()}if(2&n){const e=t.$implicit,r=vr();Cn("ngClass",Hg(8,gK,(null==e?null:e.id)==r.currentChatUserId)),en(1),Cn("ngClass",Hg(10,mK,null==e?null:e.online)),en(4),Jo(null==e?null:e.name),en(2),xg(" ",(null==e?null:e.lastMessage.length)>35?(null==e?null:e.lastMessage.substring(0,35))+"...":null==e?null:e.lastMessage.substring(0,35),""),en(3),Jo(null!=e&&e.lastMessageAt?Q_(11,5,1e3*(null==e?null:e.lastMessageAt.seconds),"h:mm a"):"")}}let vK=(()=>{class n{constructor(e,r,i,s,l,p){this.dialog=e,this.service=r,this.authService=i,this.sharedService=s,this.renderer=l,this.firestore=p,this.myContacts=[],this.currentChatUserId="",this.user=[],this.filteredContact=[],this.searchByName="",this.searching=!0,this.id=localStorage.getItem("auth_token"),this.sharedService.currentChatUserId.subscribe(v=>{this.currentChatUserId=v})}ngOnInit(){this.getUserById(),this.getMyContact(),this.service.userOnline(this.id,!0).then(e=>{console.log("user online")})}getUserById(){this.service.getUserById(this.id).subscribe(e=>{console.log(e),this.user=e.data(),console.log("login user---",this.user)})}getMyContact(){let e=[];this.service.getMyContacts(this.id).subscribe(r=>{var i,s,l,p,v;e=r.map(A=>Object.assign({id:A.payload.doc.id},A.payload.doc.data())),console.log("my temp Contacts list...",e);let E=null==e?void 0:e.length;this.myContacts=[],e.forEach(A=>{this.service.getUserById(null==A?void 0:A.id).subscribe(U=>{let G=U.data();G.createdBy=null==A?void 0:A.createdBy,G.createdAt=null==A?void 0:A.createdAt,G.updatedAt=null==A?void 0:A.updatedAt,G.lastMessage=null==A?void 0:A.lastMessage,G.lastSenderId=null==A?void 0:A.lastSenderId,G.lastMessageAt=null==A?void 0:A.lastMessageAt,this.myContacts.push(G),console.log(this.myContacts),E==this.myContacts.length&&(this.filteredContact=this.myContacts)})}),console.log("myContact list-------------",this.myContacts),(null===(i=this.myContacts)||void 0===i?void 0:i.length)>0&&(this.currentChat=this.myContacts[0],this.sharedService.currentChatUserId.next(null===(s=this.myContacts[0])||void 0===s?void 0:s.id),this.sharedService.createdBy.next(null===(l=this.myContacts[0])||void 0===l?void 0:l.createdBy),this.sharedService.currentChatUserName.next(null===(p=this.myContacts[0])||void 0===p?void 0:p.name),this.sharedService.currentChatUserOnlineStatus.next(null===(v=this.myContacts[0])||void 0===v?void 0:v.online))})}filterContact(){this.filteredContact=this.myContacts,""!=this.searchByName&&(this.filteredContact=this.filteredContact.filter(e=>{var r,i,s,l;return console.log(this.searchByName,null==e?void 0:e.name),(null===(r=null==e?void 0:e.name)||void 0===r?void 0:r.toLowerCase().includes(null===(i=this.searchByName)||void 0===i?void 0:i.toLowerCase()))||(null===(s=null==e?void 0:e.phone)||void 0===s?void 0:s.toLowerCase().includes(null===(l=this.searchByName)||void 0===l?void 0:l.toLowerCase()))})),console.log(this.filteredContact)}setCurrentChat(e){var r;console.log(e),this.sharedService.currentChatUserId.next(null==e?void 0:e.id),this.sharedService.createdBy.next((null==e?void 0:e.createdBy)?null==e?void 0:e.createdBy:""),this.sharedService.currentChatUserName.next(null==e?void 0:e.name),null===(r=this.sharedService)||void 0===r||r.currentChatUserOnlineStatus.next(null==e?void 0:e.online)}onFocusCountry(){this.searching=!1}onBlurCountry(){this.searching=!0}ngAfterViewInit(){this.onResize("event?: any")}onResize(e){var r;let i=null===(r=document.getElementById("sidebar"))||void 0===r?void 0:r.clientWidth;console.log(i);let s=window.innerWidth;console.log(s),this.sidebarSize=s<=1200?{left:"0%",height:"100%",width:(null==i?void 0:i.toString())+"px"}:{left:"2%",height:"94%",width:(null==i?void 0:i.toString())+"px"},console.log(this.sidebarSize)}openListOfUsersDialog(e){var r,i,s;this.dialog.open(X6,{width:null===(r=this.sidebarSize)||void 0===r?void 0:r.width,height:null===(i=this.sidebarSize)||void 0===i?void 0:i.height,position:{left:null===(s=this.sidebarSize)||void 0===s?void 0:s.left},data:e}).afterClosed().subscribe(p=>{console.log(`Dialog result: ${p}`)})}openProfileDialog(e){var r,i,s;this.dialog.open(Qk,{width:null===(r=this.sidebarSize)||void 0===r?void 0:r.width,height:null===(i=this.sidebarSize)||void 0===i?void 0:i.height,position:{left:null===(s=this.sidebarSize)||void 0===s?void 0:s.left},data:e}).afterClosed().subscribe(p=>{console.log(`Dialog result: ${p}`)})}}return n.\u0275fac=function(e){return new(e||n)(ge(Xh),ge(mp),ge(_p),ge(hC),ge(Bu),ge(kv))},n.\u0275cmp=mr({type:n,selectors:[["app-sidebar"]],hostBindings:function(e,r){1&e&&or("resize",function(s){return r.onResize(s)},!1,Ah)},decls:24,vars:6,consts:[["id","sidebar","onbeforeunload","ConfirmClose()","onunload","HandleOnClose()",1,"sidebar"],[1,"header"],[1,"profile"],["src","../../../assets/images/profile.jpg","alt","",1,"",3,"click"],[1,"icon"],[3,"click"],[3,"matMenuTriggerFor"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"searchBox"],[1,"input_group"],["src","../../../assets/images/search.png","alt","","class","form_icon ",4,"ngIf"],["src","../../../assets/images/left-arrow.png","alt","","class","form_icon ",4,"ngIf"],["type","text","id","input","placeholder","Search by Name/Number",1,"l_form_control",3,"ngModel","ngModelChange","keyup","focus","blur"],["userName",""],[1,"users"],["class","user",3,"ngClass","click",4,"ngFor","ngForOf"],["src","../../../assets/images/search.png","alt","",1,"form_icon"],["src","../../../assets/images/left-arrow.png","alt","",1,"form_icon"],[1,"user",3,"ngClass","click"],[1,"avatar",3,"ngClass"],[1,"media_body","ml_12"],[1,"media_status"],[1,"time"]],template:function(e,r){if(1&e&&(Ke(0,"div",0),Ke(1,"div",1),Ke(2,"div",2),Ke(3,"img",3),or("click",function(){return r.openProfileDialog(r.user)}),Ye(),Ye(),Ke(4,"div",4),Ke(5,"mat-icon",5),or("click",function(){return r.openListOfUsersDialog("")}),Pn(6," chat"),Ye(),Ke(7,"mat-icon",6),Pn(8,"more_vert"),Ye(),Ke(9,"mat-menu",7,8),Ke(11,"button",9),or("click",function(){return r.openProfileDialog(r.user)}),Pn(12,"Profile"),Ye(),Ke(13,"button",9),or("click",function(){return r.authService.signOut()}),Pn(14,"Logout"),Ye(),Ye(),Ye(),Ye(),Ke(15,"div",10),Ke(16,"div",11),Ur(17,dK,1,0,"img",12),Ur(18,pK,1,0,"img",13),Ke(19,"input",14,15),or("ngModelChange",function(s){return r.searchByName=s})("keyup",function(){return r.filterContact()})("focus",function(){return r.onFocusCountry()})("blur",function(){return r.onBlurCountry()})("ngModelChange",function(s){return r.searchByName=s}),Ye(),Ye(),Ye(),er(21,"mat-divider"),Ke(22,"div",16),Ur(23,_K,12,12,"div",17),Ye(),Ye()),2&e){const i=Mg(10);en(7),Cn("matMenuTriggerFor",i),en(10),Cn("ngIf",r.searching),en(1),Cn("ngIf",!r.searching),en(1),Cn("ngModel",r.searchByName)("ngModel",r.searchByName),en(4),Cn("ngForOf",r.filteredContact)}},directives:[_C,oN,tN,zv,zh,bp,Fv,Hv,oT,Gb,uv],pipes:[Wb],styles:['.sidebar[_ngcontent-%COMP%]{height:100%}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px 12px;display:flex;justify-content:space-between;flex-wrap:wrap;height:50px;background:#F0F2F5}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{align-content:center;height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border-radius:50px;height:50px;width:50px;box-shadow:2px 2px 10px #00000019}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;align-content:center;height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 15px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{padding:10px 15px}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .form_icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:10px}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:86%}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .l_form_control[_ngcontent-%COMP%]{background-color:#f0f2f5;border:none;opacity:1;letter-spacing:.32px;color:#000;font-size:14px;line-height:18px;padding:8px 3% 8px 12%;border-radius:5px;left:50px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 124px);display:flex;flex-direction:column;overflow-y:scroll}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:100%;object-fit:cover;border-radius:50%}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;right:-5px;width:10px;height:10px;border-radius:100%;border:2px solid #FFFFFF;background-color:#42cb6b}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px;word-break:break-word}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{letter-spacing:.24px;color:#738499;font-size:12px;line-height:20px;margin-bottom:2px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time_class[_ngcontent-%COMP%]{background-color:#fe5b63;text-align:center;color:#fff;font-size:12px;border-radius:100%;width:20px;height:20px;display:block;margin:auto;line-height:20px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:focus{background-color:#f2f3f8ce}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .activeChat[_ngcontent-%COMP%]{background-color:#f0f2f5}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}']}),n})();function yK(n,t){1&n&&er(0,"div",2)}function bK(n,t){1&n&&(Ke(0,"span"),Pn(1,"Online"),Ye())}function wK(n,t){if(1&n){const e=fl();Ke(0,"a",31),or("click",function(){return x(e),vr(2).onFocus()}),Ke(1,"mat-icon"),Pn(2," search"),Ye(),Ye()}}function CK(n,t){1&n&&(Ke(0,"mat-icon",38),Pn(1," search"),Ye())}function EK(n,t){if(1&n){const e=fl();Ke(0,"mat-icon",39),or("click",function(){return x(e),vr(3).onBlur()}),Pn(1," arrow_back"),Ye()}}function SK(n,t){if(1&n){const e=fl();Ke(0,"div",32),Ke(1,"div",33),Ur(2,CK,2,0,"mat-icon",34),Ur(3,EK,2,0,"mat-icon",35),Ke(4,"input",36,37),or("ngModelChange",function(i){return x(e),vr(2).searchByMessage=i})("keyup",function(){return x(e),vr(2).filterMessageList()})("focus",function(){return x(e),vr(2).onFocus()})("blur",function(){return x(e),vr(2).onBlur()}),Ye(),Ye(),Ye()}if(2&n){const e=vr(2);en(2),Cn("ngIf",e.searching),en(1),Cn("ngIf",!e.searching),en(1),Cn("ngModel",e.searchByMessage)}}function IK(n,t){if(1&n&&(Ke(0,"div",42),Ke(1,"div",43),Ke(2,"div",44),Ke(3,"p"),Pn(4),Ye(),Ye(),Ke(5,"div",45),Ke(6,"h5"),Pn(7),Y_(8,"date"),Ye(),Ye(),Ye(),er(9,"br"),Ye()),2&n){const e=vr().$implicit;en(4),Jo(null==e?null:e.message),en(3),Jo(Q_(8,2,null==e||null==e.createdAt?null:e.createdAt.toDate(),"hh:mm a"))}}function TK(n,t){if(1&n&&(Ke(0,"div",46),Ke(1,"div",43),Ke(2,"div",47),Ke(3,"div",44),Ke(4,"p"),Pn(5),Ye(),Ye(),Ke(6,"div",45),Ke(7,"h5"),Pn(8),Y_(9,"date"),Ye(),Ye(),Ye(),Ye(),er(10,"br"),Ye()),2&n){const e=vr().$implicit;en(5),Jo(null==e?null:e.message),en(3),Jo(Q_(9,2,null==e||null==e.createdAt?null:e.createdAt.toDate(),"hh:mm a"))}}function DK(n,t){if(1&n&&(Ke(0,"div"),Ur(1,IK,10,5,"div",40),Ur(2,TK,11,5,"div",41),Ye()),2&n){const e=t.$implicit,r=vr(2);en(1),Cn("ngIf",(null==e?null:e.senderId)!=r.id),en(1),Cn("ngIf",(null==e?null:e.senderId)==r.id)}}function MK(n,t){if(1&n){const e=fl();Ke(0,"div",3),Ke(1,"div",4),Ke(2,"div",5),er(3,"img",6),Ke(4,"div",7),Ke(5,"div"),Ke(6,"h6"),Pn(7),Ye(),Ur(8,bK,2,0,"span",8),Ye(),Ye(),Ye(),Ke(9,"div",9),Ur(10,wK,3,0,"a",10),Ur(11,SK,6,3,"div",11),Ke(12,"mat-icon",12),Pn(13,"more_vert"),Ye(),Ke(14,"mat-menu",13,14),Ke(16,"button",15),or("click",function(){x(e);const i=vr();return i.openProfileDialog(i.currentChatUser)}),Pn(17," Profile "),Ye(),Ke(18,"button",16),Pn(19,"Clear chat"),Ye(),Ye(),Ye(),Ye(),Ke(20,"div",17),Ke(21,"div",18),Ke(22,"div",19),Ke(23,"div",20,21),Ur(25,DK,3,2,"div",22),Ye(),Ye(),Ye(),Ye(),Ke(26,"div",23),Ke(27,"input",24),or("ngModelChange",function(i){return x(e),vr().message=i})("keyup.enter",function(i){return x(e),vr().sendMessage(i)}),Ye(),Ke(28,"div",25),Ke(29,"a",26),or("click",function(i){return x(e),vr().sendMessage(i)}),Pn(30,"Send "),Ko(),Ke(31,"svg",27),Ke(32,"g",28),er(33,"rect",29),er(34,"path",30),Ye(),Ye(),Ye(),Ye(),Ye(),Ye()}if(2&n){const e=Mg(15),r=vr();en(7),Jo(r.currentChatUserName),en(1),Cn("ngIf",r.currentChatUserOnlineStatus),en(2),Cn("ngIf",r.searching),en(1),Cn("ngIf",!r.searching),en(1),Cn("matMenuTriggerFor",e),en(13),Cn("ngForOf",r.filteredMessageList),en(2),Cn("ngModel",r.message)}}let AK=(()=>{class n{constructor(e,r,i,s,l,p){this.service=e,this.sharedService=r,this.dialog=i,this.authService=s,this.renderer=l,this.firestore=p,this.currentChatUserId="",this.createdBy="",this.currentChatUserName="",this.currentChatUserOnlineStatus=!1,this.message="",this.messageList=[],this.filteredMessageList=[],this.searchByMessage="",this.searching=!0,this.filteredCurrentChat=[{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0}],this.id=localStorage.getItem("auth_token"),this.sharedService.currentChatUserName.subscribe(v=>{this.currentChatUserName=v}),this.sharedService.currentChatUserOnlineStatus.subscribe(v=>{this.currentChatUserOnlineStatus=v}),this.sharedService.currentChatUserId.subscribe(v=>{console.log(v),this.messageList=[],this.currentChatUserId=v,""!=this.currentChatUserId&&this.getCurrentChatUser(),this.sharedService.createdBy.subscribe(E=>{this.createdBy=E,""!=this.currentChatUserId&&""!=this.createdBy&&this.getmessages()})})}ngOnInit(){}getCurrentChatUser(){this.service.getUserById(this.currentChatUserId).subscribe(e=>{this.currentChatUser=e.data(),console.log("currentChatUser---",this.currentChatUser)})}sendMessage(e){if(console.log("message : ",this.message),""==this.message)return;if(0==this.messageList.length){let p={createdBy:this.id,createdAt:new Date,updatedAt:new Date};this.sharedService.createdBy.next(this.id),this.service.addUserToMyContact(this.id,this.currentChatUserId,p).then(v=>{console.log("user added to my contact ")})}let r={message:this.message,senderId:this.id,createdAt:new Date,updatedAt:new Date},i=this.message;this.message="",console.log("send messages ",this.id,this.currentChatUserId,this.createdBy),console.log(this.id==this.createdBy);let s=this.id==this.createdBy?this.id+"_"+this.currentChatUserId:this.currentChatUserId+"_"+this.id;console.log(s),this.service.sendMessage(s,r).then(p=>{console.log("message sent ..."),this.message=""});let l={lastMessage:i,lastSenderId:this.currentChatUserId,lastMessageAt:new Date};this.service.updateLastMessage(this.currentChatUserId,l).then(p=>{console.log("last message updated ...",l)})}getmessages(){console.log("get messages ",this.id,this.currentChatUserId);let e=this.id==this.createdBy?this.id+"_"+this.currentChatUserId:this.currentChatUserId+"_"+this.id;console.log(e),this.service.getMessages(e).subscribe(r=>{this.messageList=r.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.filteredMessageList=this.messageList,console.log("messageList----",this.messageList)})}filterMessageList(){this.filteredMessageList=this.messageList,""!=this.searchByMessage&&(this.filteredMessageList=this.filteredMessageList.filter(e=>{var r,i;return null===(r=null==e?void 0:e.message)||void 0===r?void 0:r.toLowerCase().includes(null===(i=this.searchByMessage)||void 0===i?void 0:i.toLowerCase())})),console.log(this.filteredMessageList)}onFocus(){this.searching=!1,this.searchByMessage="",this.filterMessageList()}onBlur(){this.searching=!0,this.searchByMessage="",this.filterMessageList()}onResize(e){var r,i,s;let l=(null===(r=document.getElementById("header"))||void 0===r?void 0:r.clientWidth)||0;console.log(l);let p=window.innerWidth;console.log(p),this.sidebarSize=p<=1200?{right:"0%",height:"100%",width:(null===(i=p-l)||void 0===i?void 0:i.toString())+"px"}:{right:"2%",height:"94%",width:(null===(s=96*p/100-l)||void 0===s?void 0:s.toString())+"px"},console.log(this.sidebarSize)}openProfileDialog(e){var r,i,s;this.onResize(""),this.dialog.open(Qk,{width:null===(r=this.sidebarSize)||void 0===r?void 0:r.width,height:null===(i=this.sidebarSize)||void 0===i?void 0:i.height,position:{right:null===(s=this.sidebarSize)||void 0===s?void 0:s.right},data:e}).afterClosed().subscribe(p=>{console.log(`Dialog result: ${p}`)})}}return n.\u0275fac=function(e){return new(e||n)(ge(mp),ge(hC),ge(Xh),ge(_p),ge(Bu),ge(kv))},n.\u0275cmp=mr({type:n,selectors:[["app-chat-area"]],hostBindings:function(e,r){1&e&&or("resize",function(s){return r.onResize(s)},!1,Ah)},decls:2,vars:2,consts:[["class","background",4,"ngIf"],["class","chat-area","id","chatArea",4,"ngIf"],[1,"background"],["id","chatArea",1,"chat-area"],["id","header",1,"header"],[1,"profile"],["src","../../../assets/images/profile.jpg","alt","",1,""],[1,"name"],[4,"ngIf"],[1,"icon"],[3,"click",4,"ngIf"],["class","searchBox",4,"ngIf"],[3,"matMenuTriggerFor"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"chat_content_inner_body"],[1,"chat_content_group"],[1,"message-chat"],[1,"chat-body"],["scrollMe",""],[4,"ngFor","ngForOf"],[1,"send_content_footer"],["type","text","placeholder","Type a Messege...",1,"send_footer_form_control",3,"ngModel","ngModelChange","keyup.enter"],[1,"L_con_footer"],[1,"btn","L_send_btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20.215","height","20.215","viewBox","0 0 20.215 20.215"],["id","Group_2631","data-name","Group 2631","transform","translate(0 0)"],["id","Rectangle_290","data-name","Rectangle 290","width","20.215","height","20.215","fill","rgba(254,91,99,0)"],["id","Path_263","data-name","Path 263","d","M.35,15.164a.554.554,0,0,1-.319-.73Q.42,12.7.814,10.959c.15-.668.3-1.335.446-2.005A.165.165,0,0,1,1.42,8.8q1.559-.267,3.117-.538l3.5-.6L8.39,7.6c-.054-.075-.14-.059-.209-.071Q5.72,7.1,3.258,6.673c-.6-.1-1.2-.208-1.807-.308a.2.2,0,0,1-.2-.184Q.65,3.455.032.731A1.548,1.548,0,0,1,0,.57.482.482,0,0,1,.649.027a3.555,3.555,0,0,1,.585.281Q7.8,3.675,14.37,7.045l.132.067a.524.524,0,0,1,0,.939L12.2,9.233.838,15.057c-.073.037-.148.072-.222.108Z","transform","translate(2.345 2.159)","fill","#fff"],[3,"click"],[1,"searchBox"],[1,"input_group"],["class","form_icon ",4,"ngIf"],["class","form_icon ",3,"click",4,"ngIf"],["type","text","id","input","placeholder","Type here...","autofocus","",1,"l_form_control",3,"ngModel","ngModelChange","keyup","focus","blur"],["userName",""],[1,"form_icon"],[1,"form_icon",3,"click"],["class","message info",4,"ngIf"],["class","message my-message",4,"ngIf"],[1,"message","info"],[1,"message-body"],[1,"message-text"],[1,"message-info"],[1,"message","my-message"],[1,"message-body-inner"]],template:function(e,r){1&e&&(Ur(0,yK,1,0,"div",0),Ur(1,MK,35,7,"div",1)),2&e&&(Cn("ngIf",!r.currentChatUser),en(1),Cn("ngIf",r.currentChatUser))},directives:[zh,_C,oN,tN,zv,Gb,bp,Fv,Hv],pipes:[Wb],styles:['.background[_ngcontent-%COMP%]{height:100%;width:100%;background-image:url(https://img.icons8.com/color/200/undefined/whatsapp--v4.png);background-repeat:no-repeat;background-position:center}.chat-area[_ngcontent-%COMP%]{overflow:hidden;height:100%;width:100%}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px 12px;display:flex;justify-content:space-between;flex-wrap:wrap;height:50px;background:#F0F2F5}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{height:50px;display:flex}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;height:50px;width:50px;margin-right:15px;box-shadow:2px 2px 10px #00000019}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{height:50px;position:relative}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:max-content;position:absolute;top:50%;transform:translateY(-50%)}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;align-content:center;height:50px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{padding:0 15px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{margin-right:10px;width:200px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{position:relative}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .form_icon[_ngcontent-%COMP%]{position:absolute;left:6px;top:7px;color:#a9a9a9;font-size:20px;cursor:pointer}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .l_form_control[_ngcontent-%COMP%]{background:#FFFFFF;border:none;opacity:1;letter-spacing:.32px;color:#000;font-size:14px;line-height:18px;padding:8px 10px 8px 30px;border-radius:5px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]{height:600px;height:calc(100% - 130px);overflow-y:scroll;background:url(chat\\ background.6045a0cf307d6e411c9c.png);background-repeat:no-repeat;background-size:cover}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]{padding:10px 10px 0}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]{width:100%;overflow:hidden}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{position:relative;width:100%}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{clear:both}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{position:relative;width:auto;max-width:calc(100% - 40%);float:left;background-color:#f2f3f8;border:1px solid #F2F3F8;margin:0 5px 10px 15px;color:#1b304a}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0px;left:2px;float:left;z-index:100;border-top:2px solid transparent;border-left:none;border-bottom:10px solid transparent;border-right:13px solid #fff}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:2px;float:left;z-index:99;border-top:3px solid transparent;border-left:none;border-bottom:11px solid transparent;border-right:13px solid #dbe3e8}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .medium-image[_ngcontent-%COMP%]{float:left;margin-left:10px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%]{width:100%}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{color:#738499;font-size:12px;line-height:18px;letter-spacing:.24px;float:right;padding-right:10px;margin-top:5px;margin-bottom:5px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:10px;color:#1b304a;float:left}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:4px 2%;width:96%;opacity:.75}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{text-align:left;padding:10px 30px 0 10px;font-size:14px;letter-spacing:.28px;line-height:23px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{float:right;margin:0 15px 10px 5px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0px;left:auto;right:2px;float:left;z-index:100;border-top:2px solid transparent;border-left:13px solid #F2F3F8;border-bottom:10px solid transparent;border-right:none}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:auto;right:2px;float:left;z-index:99;border-top:0px solid transparent;border-left:13px solid #dbe3e8;border-bottom:11px solid transparent;border-right:none}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]   .medium-image[_ngcontent-%COMP%]{float:right;margin-left:5px;margin-right:10px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.my-message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{float:right}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.info[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:#f7f7f6;border:1px solid #F7F7F6;color:#1b304a}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.info[_ngcontent-%COMP%]:after, .chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.info[_ngcontent-%COMP%]:before{border-right:13px solid #F7F7F6}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:#0ec8a2;border:1px solid #0ec8a2;color:#1b304a}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]:after, .chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.success[_ngcontent-%COMP%]:before{border-right:13px solid #0ec8a2}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.warning[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:#ff9e2a;border:1px solid #ff9e2a;color:#fff}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.warning[_ngcontent-%COMP%]:after, .chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.warning[_ngcontent-%COMP%]:before{border-right:13px solid #ff9e2a}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.danger[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:#f95858;border:1px solid #f95858;color:#fff}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.danger[_ngcontent-%COMP%]:after, .chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.danger[_ngcontent-%COMP%]:before{border-right:13px solid #f95858}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.dark[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background-color:#314557;border:1px solid #314557;color:#fff}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.dark[_ngcontent-%COMP%]:after, .chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message.dark[_ngcontent-%COMP%]:before{border-right:13px solid #314557}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .log_content_on_call[_ngcontent-%COMP%]{left:0}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .doc_on_call[_ngcontent-%COMP%]{background-color:#42cb6b;border-radius:0}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]{background-color:#f0f2f5;background-color:#1153b7;bottom:0;height:60px;width:94%;display:flex;justify-content:space-between;overflow:hidden;padding:0 3%}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background:#ffffff;margin:10px 0;width:96%;padding:0 2%;border-radius:6px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .send_footer_form_control[_ngcontent-%COMP%]{font-size:inherit;border:0;box-shadow:none!important;background-color:transparent;letter-spacing:.28px;color:#444e61;font-size:14px;line-height:20px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]:focus{color:#738499;padding:0 8px;border:0;box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px;height:25px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]:focus{color:#738499;padding:0 8px 0 0;border:0;box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px;height:23px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]:focus{display:flex;background-color:#fe5b63;padding:8px 16px;letter-spacing:.32px;color:#fff;font-size:16px;font-weight:400;display:inherit;margin-left:5px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:8px;margin-top:2px}@media only screen and (max-width: 1000px){.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]{display:none}}']}),n})(),OK=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this.authService=r,this.service=i,this.router=s}ngOnInit(){let e=localStorage.getItem("auth_token");null==e?(console.log(e),this.router.navigate(["/login"])):console.log("login...............")}}return n.\u0275fac=function(e){return new(e||n)(ge(Xh),ge(_p),ge(mp),ge(bs))},n.\u0275cmp=mr({type:n,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"whatsappBox"],[1,"sidebar"],[3,"vertical"],[1,"chatArea"]],template:function(e,r){1&e&&(Ke(0,"div",0),Ke(1,"div",1),er(2,"app-sidebar"),Ye(),er(3,"mat-divider",2),Ke(4,"div",3),er(5,"app-chat-area"),Ye(),Ye()),2&e&&(en(3),Cn("vertical",!0))},directives:[vK,oT,AK],styles:[".whatsappBox[_ngcontent-%COMP%]{height:100%;width:100%;background:#EFEAE2;display:flex;overflow:hidden}.whatsappBox[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:30%;min-width:300px;height:100%;background:#ffffff}.whatsappBox[_ngcontent-%COMP%]   .chatArea[_ngcontent-%COMP%]{width:70%;min-width:300px;height:100%}"]}),n})();const xK=["underline"],RK=["connectionContainer"],PK=["inputContainer"],kK=["label"];function NK(n,t){1&n&&(rb(0),Ke(1,"div",14),er(2,"div",15),er(3,"div",16),er(4,"div",17),Ye(),Ke(5,"div",18),er(6,"div",15),er(7,"div",16),er(8,"div",17),Ye(),ib())}function FK(n,t){1&n&&(Ke(0,"div",19),ji(1,1),Ye())}function LK(n,t){if(1&n&&(rb(0),ji(1,2),Ke(2,"span"),Pn(3),Ye(),ib()),2&n){const e=vr(2);en(3),Jo(e._control.placeholder)}}function VK(n,t){1&n&&ji(0,3,["*ngSwitchCase","true"])}function UK(n,t){1&n&&(Ke(0,"span",23),Pn(1," *"),Ye())}function BK(n,t){if(1&n){const e=fl();Ke(0,"label",20,21),or("cdkObserveContent",function(){return x(e),vr().updateOutlineGap()}),Ur(2,LK,4,1,"ng-container",12),Ur(3,VK,1,0,"ng-content",12),Ur(4,UK,2,0,"span",22),Ye()}if(2&n){const e=vr();Xi("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Cn("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),gi("for",e._control.id)("aria-owns",e._control.id),en(2),Cn("ngSwitchCase",!1),en(1),Cn("ngSwitchCase",!0),en(1),Cn("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function jK(n,t){1&n&&(Ke(0,"div",24),ji(1,4),Ye())}function HK(n,t){if(1&n&&(Ke(0,"div",25,26),er(2,"span",27),Ye()),2&n){const e=vr();en(2),Xi("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function zK(n,t){1&n&&(Ke(0,"div"),ji(1,5),Ye()),2&n&&Cn("@transitionMessages",vr()._subscriptAnimationState)}function qK(n,t){if(1&n&&(Ke(0,"div",31),Pn(1),Ye()),2&n){const e=vr(2);Cn("id",e._hintLabelId),en(1),Jo(e.hintLabel)}}function GK(n,t){if(1&n&&(Ke(0,"div",28),Ur(1,qK,2,2,"div",29),ji(2,6),er(3,"div",30),ji(4,7),Ye()),2&n){const e=vr();Cn("@transitionMessages",e._subscriptAnimationState),en(1),Cn("ngIf",e.hintLabel)}}const WK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$K=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],sN=new Xt("MatError"),YK={transitionMessages:am("transitionMessages",[Kf("enter",fa({opacity:1,transform:"translateY(0%)"})),Qh("void => enter",[fa({opacity:0,transform:"translateY(-5px)"}),$f("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n}),n})();const aN=new Xt("MatHint");let uT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["mat-label"]]}),n})(),XK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["mat-placeholder"]]}),n})();const uN=new Xt("MatPrefix"),lN=new Xt("MatSuffix");let cN=0;const ZK=rC(class{constructor(n){this._elementRef=n}},"primary"),e7=new Xt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lT=new Xt("MatFormField");let t7=(()=>{class n extends ZK{constructor(e,r,i,s,l,p,v,E){super(e),this._changeDetectorRef=r,this._dir=s,this._defaults=l,this._platform=p,this._ngZone=v,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new F,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+cN++,this._labelId="mat-form-field-label-"+cN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==E,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=xi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(yl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(ws(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ws(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),je(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ws(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Sv(this._label.nativeElement,"transitionend").pipe(ka(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const s=this._connectionContainerRef.nativeElement,l=s.querySelectorAll(".mat-form-field-outline-start"),p=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const v=s.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(v),A=e.children,U=this._getStartEnd(A[0].getBoundingClientRect());let G=0;for(let J=0;J<A.length;J++)G+=A[J].offsetWidth;r=Math.abs(U-E)-5,i=G>0?.75*G+10:0}for(let v=0;v<l.length;v++)l[v].style.width=`${r}px`;for(let v=0;v<p.length;v++)p[v].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(dl),ge(gr),ge(Jc,8),ge(e7,8),ge(lo),ge(qn),ge(th,8))},n.\u0275cmp=mr({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(Fs(i,MC,5),Fs(i,MC,7),Fs(i,uT,5),Fs(i,uT,7),Fs(i,XK,5),Fs(i,sN,5),Fs(i,aN,5),Fs(i,uN,5),Fs(i,lN,5)),2&e){let s;Ii(s=Ti())&&(r._controlNonStatic=s.first),Ii(s=Ti())&&(r._controlStatic=s.first),Ii(s=Ti())&&(r._labelChildNonStatic=s.first),Ii(s=Ti())&&(r._labelChildStatic=s.first),Ii(s=Ti())&&(r._placeholderChild=s.first),Ii(s=Ti())&&(r._errorChildren=s),Ii(s=Ti())&&(r._hintChildren=s),Ii(s=Ti())&&(r._prefixChildren=s),Ii(s=Ti())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(yu(xK,5),yu(RK,7),yu(PK,5),yu(kK,5)),2&e){let i;Ii(i=Ti())&&(r.underlineRef=i.first),Ii(i=Ti())&&(r._connectionContainerRef=i.first),Ii(i=Ti())&&(r._inputContainerRef=i.first),Ii(i=Ti())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&Xi("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Br([{provide:lT,useExisting:n}]),pr],ngContentSelectors:$K,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(Ya(WK),Ke(0,"div",0),Ke(1,"div",1,2),or("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),Ur(3,NK,9,0,"ng-container",3),Ur(4,FK,2,0,"div",4),Ke(5,"div",5,6),ji(7),Ke(8,"span",7),Ur(9,BK,5,16,"label",8),Ye(),Ye(),Ur(10,jK,2,0,"div",9),Ye(),Ur(11,HK,3,4,"div",10),Ke(12,"div",11),Ur(13,zK,2,1,"div",12),Ur(14,GK,5,2,"div",13),Ye(),Ye()),2&e&&(en(3),Cn("ngIf","outline"==r.appearance),en(1),Cn("ngIf",r._prefixChildren.length),en(5),Cn("ngIf",r._hasFloatingLabel()),en(1),Cn("ngIf",r._suffixChildren.length),en(1),Cn("ngIf","outline"!=r.appearance),en(1),Cn("ngSwitch",r._getDisplayedMessages()),en(1),Cn("ngSwitchCase","error"),en(1),Cn("ngSwitchCase","hint"))},directives:[zh,lv,HE,V1],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[YK.transitionMessages]},changeDetection:0}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Yg,Ji,US],Ji]}),n})();const fN=Dv({passive:!0});let dN=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zd;const r=$h(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new F,l="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===v.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,fN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",p,fN)}}),s}stopMonitoring(e){const r=$h(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(Ae(lo),Ae(qn))},n.\u0275prov=lt({factory:function(){return new n(Ae(lo),Ae(qn))},token:n,providedIn:"root"}),n})(),pN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Iv]]}),n})();const r7=new Xt("MAT_INPUT_VALUE_ACCESSOR"),i7=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let o7=0;const s7=aP(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let a7=(()=>{class n extends s7{constructor(e,r,i,s,l,p,v,E,A,U){super(p,s,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=E,this._formField=U,this._uid="mat-input-"+o7++,this.focused=!1,this.stateChanges=new F,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(he=>d1().has(he));const G=this._elementRef.nativeElement,J=G.nodeName.toLowerCase();this._inputValueAccessor=v||G,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",he=>{const Oe=he.target;!Oe.value&&0===Oe.selectionStart&&0===Oe.selectionEnd&&(Oe.setSelectionRange(1,1),Oe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===J,this._isTextarea="textarea"===J,this._isInFormField=!!U,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=xi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=xi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d1().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=xi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const i=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){i7.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(lo),ge(rh,10),ge(jv,8),ge(mm,8),ge(wI),ge(r7,10),ge(dN),ge(qn),ge(lT,8))},n.\u0275dir=Dt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&or("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(Uf("disabled",r.disabled)("required",r.required),gi("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Xi("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Br([{provide:MC,useExisting:n}]),pr,qr]}),n})(),u7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[wI],imports:[[pN,AC,Ji],pN,AC]}),n})();const gN=["mat-button",""],mN=["*"],c7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],h7=rC(hm(iC(class{constructor(n){this._elementRef=n}})));let vN=(()=>{class n extends h7{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of c7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(ge(gr),ge(up),ge(th,8))},n.\u0275cmp=mr({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&yu(pp,5),2&e){let i;Ii(i=Ti())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(gi("disabled",r.disabled||null),Xi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[pr],attrs:gN,ngContentSelectors:mN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Ya(),Ke(0,"span",0),ji(1),Ye(),er(2,"span",1),er(3,"span",2)),2&e&&(en(2),Xi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Cn("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[pp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),f7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[sC,Ji],Ji]}),n})();function d7(n,t){if(1&n){const e=fl();Ke(0,"div",2),Ke(1,"header"),Ke(2,"h2"),Pn(3,"SignUp"),Ye(),er(4,"hr"),Ye(),Ke(5,"form",3),Ke(6,"mat-form-field",4),Ke(7,"mat-label"),Pn(8,"Name"),Ye(),er(9,"input",5),Ye(),Ke(10,"mat-form-field",4),Ke(11,"mat-label"),Pn(12,"Email"),Ye(),er(13,"input",6),Ye(),Ke(14,"mat-form-field",4),Ke(15,"mat-label"),Pn(16,"Phone number"),Ye(),er(17,"input",7),Ye(),Ke(18,"mat-form-field",4),Ke(19,"mat-label"),Pn(20,"Password"),Ye(),er(21,"input",8),Ye(),Ke(22,"div",9),Ke(23,"button",10),Pn(24,"Cancel"),Ye(),Ke(25,"button",11),or("click",function(){x(e);const i=vr();return i.signup(i.signupForm.value)}),Pn(26,"Signup"),Ye(),Ye(),Ye(),Ke(27,"div",12),Pn(28," You an have account "),Ke(29,"span",13),or("click",function(){return x(e),vr().dontHaveAccount()}),Pn(30,"Login here"),Ye(),Ye(),Ye()}if(2&n){const e=vr();en(5),Cn("formGroup",e.signupForm),en(20),Cn("disabled",!e.signupForm.valid)}}function p7(n,t){if(1&n){const e=fl();Ke(0,"div",2),Ke(1,"header"),Ke(2,"h2"),Pn(3,"Login"),Ye(),Ye(),Ke(4,"form",3),Ke(5,"mat-form-field",4),Ke(6,"mat-label"),Pn(7,"Email"),Ye(),er(8,"input",6),Ye(),Ke(9,"mat-form-field",4),Ke(10,"mat-label"),Pn(11,"Password"),Ye(),er(12,"input",8),Ye(),Ke(13,"div",9),Ke(14,"button",10),Pn(15,"Cancel"),Ye(),Ke(16,"button",11),or("click",function(){x(e);const i=vr();return i.login(i.loginForm.value)}),Pn(17,"Login"),Ye(),Ye(),Ye(),Ke(18,"div",12),Pn(19," You don't have an account "),Ke(20,"span",13),or("click",function(){return x(e),vr().dontHaveAccount()}),Pn(21,"Signup here"),Ye(),Ye(),Ye()}if(2&n){const e=vr();en(4),Cn("formGroup",e.loginForm),en(12),Cn("disabled",!e.loginForm.valid)}}const g7=[{path:"",component:OK},{path:"login",component:(()=>{class n{constructor(e,r,i,s){this.formBuilder=e,this.authService=r,this.service=i,this.router=s,this.signupForm=new wp({}),this.loginForm=new wp({}),this.isLogin=!1,this.haveAnAccount=!0,null==localStorage.getItem("auth_token")?this.isLogin=!1:(this.isLogin=!0,this.router.navigate(["/"]))}ngOnInit(){this.createSignupForm(),this.createLoginForm()}dontHaveAccount(){this.haveAnAccount=!this.haveAnAccount}createSignupForm(){this.signupForm=this.formBuilder.group({name:["",[zu.required,zu.minLength(5)]],email:["",[zu.required,zu.email]],phone:["",[zu.required,zu.minLength(10),zu.maxLength(10)]],password:["",[zu.required,zu.minLength(8)]]})}signup(e){console.log(e),this.authService.signup(e.email,e.password,e.phone,e.name).then(r=>{console.log(r);let i={name:null==e?void 0:e.name,email:null==e?void 0:e.email,phone:null==e?void 0:e.phone,photoURL:"",interests:"",bio:"",id:null==r?void 0:r.uid,online:!0,createdAt:new Date,updatedAt:new Date};this.service.createUser(i,null==r?void 0:r.uid).then(s=>{this.router.navigate(["/"])}).catch(s=>{console.log(s)})}).catch(r=>{console.log(r)})}createLoginForm(){this.loginForm=this.formBuilder.group({email:["",[zu.required,zu.email]],password:["",[zu.required,zu.minLength(8)]]})}login(e){console.log(e),this.authService.login(null==e?void 0:e.email,null==e?void 0:e.password).then(r=>{this.isLogin=!0,this.router.navigate(["/"])}).catch(r=>{console.log(r)})}ngOnDestroy(){console.log("ondestroy")}}return n.\u0275fac=function(e){return new(e||n)(ge(H6),ge(_p),ge(mp),ge(bs))},n.\u0275cmp=mr({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"loginComponent"],["class","login",4,"ngIf"],[1,"login"],["action","",3,"formGroup"],[1,"formInput"],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","email","formControlName","email","required",""],["type","text","matInput","","formControlName","phone","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"submit_button"],["mat-raised-button","","color","warn"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"dontHaveAccount"],[2,"color","blue","cursor","pointer",3,"click"]],template:function(e,r){1&e&&(Ke(0,"div",0),Ur(1,d7,31,2,"div",1),Ur(2,p7,22,2,"div",1),Ye()),2&e&&(en(1),Cn("ngIf",!r.haveAnAccount),en(1),Cn("ngIf",r.haveAnAccount))},directives:[zh,xk,Ck,mm,t7,uT,a7,bp,Fv,tT,TC,vN],styles:[".loginComponent[_ngcontent-%COMP%]{height:100%;width:100%;background:#EFEAE2;justify-content:center;display:flex;flex-wrap:wrap;align-content:center;background-image:url(https://cdn.wallpapersafari.com/68/67/U1SFl7.jpg);background-repeat:no-repeat;background-size:cover}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{height:max-content;width:320px;background:#ffffff;padding:30px;border-radius:2px;box-shadow:2px 2px 20px #00000067}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:bolder;text-transform:capitalize}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .formInput[_ngcontent-%COMP%]{width:100%}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .submit_button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .submit_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .dontHaveAccount[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .dontHaveAccount[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()},{path:"**",redirectTo:""}];let m7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[t1.forRoot(g7)],t1]}),n})(),_7=(()=>{class n{constructor(e,r){this.authService=e,this.router=r,this.title="whatsapp"}}return n.\u0275fac=function(e){return new(e||n)(ge(_p),ge(bs))},n.\u0275cmp=mr({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"background"],[1,"background1"],[1,"whatsappBox"]],template:function(e,r){1&e&&(Ke(0,"div",0),er(1,"div",1),er(2,"div",1),Ke(3,"div",2),er(4,"router-outlet"),Ye(),Ye())},directives:[CS],styles:[".background[_ngcontent-%COMP%]{height:100vh;width:100vw;background:#E1E0DD;position:relative}.background[_ngcontent-%COMP%]   .background1[_ngcontent-%COMP%]{height:10vh;background:#00A884}.whatsappBox[_ngcontent-%COMP%]{height:94vh;width:96vw;top:3%;left:2%;position:absolute}@media only screen and (max-width: 1200px){.whatsappBox[_ngcontent-%COMP%]{height:100vh;width:100vw;top:0%;left:0%}}"]}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[FW,Ji],Ji]}),n})(),D7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})(),wN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({}),n})(),U7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[[sC,Ji,US,wN],Ji,wN]}),n})();const Z7={provide:new Xt("mat-select-scroll-strategy"),deps:[Kh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let rY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[Z7],imports:[[Yg,LS,pP,Ji],Dw,AC,pP,Ji]}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({imports:[Yg,f7,u7,D7,e5,Q5,b7,fK,rY,B6,AC,Yk,U7,z6]}),n})();const DN_firebaseConfig={apiKey:"AIzaSyA0q9bok4lV8Dec99-SjfadLUtkwfEAUr4",authDomain:"chatting-app4.firebaseapp.com",projectId:"chatting-app4",storageBucket:"chatting-app4.appspot.com",messagingSenderId:"1075811704236",appId:"1:1075811704236:web:f25cfa25e475135a2aee09",measurementId:"G-V9W1DQD79Z"};var MN;let vm=MN=class{static enablePersistence(t){return{ngModule:MN,providers:[{provide:DP,useValue:!0},{provide:MP,useValue:t}]}}};vm.\u0275fac=function(t){return new(t||vm)},vm.\u0275mod=Vn({type:vm}),vm.\u0275inj=vt({providers:[kv]});let oY=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n}),n.\u0275inj=vt({providers:[xI]}),n})(),sY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Vn({type:n,bootstrap:[_7]}),n.\u0275inj=vt({providers:[],imports:[[ZE,m7,l8,iY,Xf.initializeApp(DN_firebaseConfig),vm,oY]]}),n})();(function(){if(VA)throw new Error("Cannot enable prod mode after platform setup.");LA=!1})(),jH().bootstrapModule(sY).catch(n=>console.error(n))},796:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},385:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},209:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},812:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},483:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},9:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},698:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}},57:(ci,bt,Et)=>{"use strict";Et.r(bt),Et.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>ot,__param:()=>Dn,__metadata:()=>Lt,__awaiter:()=>In,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>nt,__values:()=>st,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>wn,__await:()=>kt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>et,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>at,__classPrivateFieldGet:()=>Je,__classPrivateFieldSet:()=>pt});var te=function(M,O){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(M,O)};function Z(M,O){function I(){this.constructor=M}te(M,O),M.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)}var re=function(){return(re=Object.assign||function(O){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(O[R]=I[R]);return O}).apply(this,arguments)};function Nt(M,O){var I={};for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&O.indexOf(F)<0&&(I[F]=M[F]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(M);H<F.length;H++)O.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(M,F[H])&&(I[F[H]]=M[F[H]])}return I}function ot(M,O,I,F){var K,H=arguments.length,R=H<3?O:null===F?F=Object.getOwnPropertyDescriptor(O,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(M,O,I,F);else for(var le=M.length-1;le>=0;le--)(K=M[le])&&(R=(H<3?K(R):H>3?K(O,I,R):K(O,I))||R);return H>3&&R&&Object.defineProperty(O,I,R),R}function Dn(M,O){return function(I,F){O(I,F,M)}}function Lt(M,O){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,O)}function In(M,O,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(M,O||[])).next())})}function be(M,O){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=O.call(M,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(M,O,I,F){void 0===F&&(F=I),M[F]=O[I]}function nt(M,O){for(var I in M)"default"!==I&&!O.hasOwnProperty(I)&&(O[I]=M[I])}function st(M){var O="function"==typeof Symbol&&Symbol.iterator,I=O&&M[O],F=0;if(I)return I.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&F>=M.length&&(M=void 0),{value:M&&M[F++],done:!M}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(M,O){var I="function"==typeof Symbol&&M[Symbol.iterator];if(!I)return M;var H,K,F=I.call(M),R=[];try{for(;(void 0===O||O-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var M=[],O=0;O<arguments.length;O++)M=M.concat(Ne(arguments[O]));return M}function wn(){for(var M=0,O=0,I=arguments.length;O<I;O++)M+=arguments[O].length;var F=Array(M),H=0;for(O=0;O<I;O++)for(var R=arguments[O],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function kt(M){return this instanceof kt?(this.v=M,this):new kt(M)}function Le(M,O,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(M,O||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(ke){return new Promise(function(Ge,wt){R.push([xe,ke,Ge,wt])>1||le(xe,ke)})})}function le(xe,ke){try{!function(xe){xe.value instanceof kt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](ke))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,ke){xe(ke),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(M){var O,I;return O={},F("next"),F("throw",function(H){throw H}),F("return"),O[Symbol.iterator]=function(){return this},O;function F(H,R){O[H]=M[H]?function(K){return(I=!I)?{value:kt(M[H](K)),done:"return"===H}:R?R(K):K}:R}}function et(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,O=M[Symbol.asyncIterator];return O?O.call(M):(M=st(M),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=M[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=M[R](K)).done,K.value)})}}}function Bt(M,O){return Object.defineProperty?Object.defineProperty(M,"raw",{value:O}):M.raw=O,M}function Ft(M){if(M&&M.__esModule)return M;var O={};if(null!=M)for(var I in M)Object.hasOwnProperty.call(M,I)&&(O[I]=M[I]);return O.default=M,O}function at(M){return M&&M.__esModule?M:{default:M}}function Je(M,O){if(!O.has(M))throw new TypeError("attempted to get private field on non-instance");return O.get(M)}function pt(M,O,I){if(!O.has(M))throw new TypeError("attempted to set private field on non-instance");return O.set(M,I),I}}},ci=>{ci(ci.s=246)}]);