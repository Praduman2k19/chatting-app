(self.webpackChunkchatting_app=self.webpackChunkchatting_app||[]).push([[179],{255:li=>{function bt(Ct){return Promise.resolve().then(()=>{var te=new Error("Cannot find module '"+Ct+"'");throw te.code="MODULE_NOT_FOUND",te})}bt.keys=()=>[],bt.resolve=bt,bt.id=255,li.exports=bt},51:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{factory:()=>nn,getGlobalVars:()=>Cr,registerAnalytics:()=>an,resetGlobalVars:()=>Xn,settings:()=>sn});var re=function(){return(re=Object.assign||function(Be){for(var Ke,mt=1,Fe=arguments.length;mt<Fe;mt++)for(var tt in Ke=arguments[mt])Object.prototype.hasOwnProperty.call(Ke,tt)&&(Be[tt]=Ke[tt]);return Be}).apply(this,arguments)};function Cn(_e,Be,Ke,mt){return new(Ke||(Ke=Promise))(function(tt,Ot){function Qt(Jt){try{At(mt.next(Jt))}catch(Mr){Ot(Mr)}}function vn(Jt){try{At(mt.throw(Jt))}catch(Mr){Ot(Mr)}}function At(Jt){Jt.done?tt(Jt.value):function(tt){return tt instanceof Ke?tt:new Ke(function(Ot){Ot(tt)})}(Jt.value).then(Qt,vn)}At((mt=mt.apply(_e,Be||[])).next())})}function be(_e,Be){var mt,Fe,tt,Ot,Ke={label:0,sent:function(){if(1&tt[0])throw tt[1];return tt[1]},trys:[],ops:[]};return Ot={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(Ot[Symbol.iterator]=function(){return this}),Ot;function Qt(At){return function(Jt){return function(At){if(mt)throw new TypeError("Generator is already executing.");for(;Ke;)try{if(mt=1,Fe&&(tt=2&At[0]?Fe.return:At[0]?Fe.throw||((tt=Fe.return)&&tt.call(Fe),0):Fe.next)&&!(tt=tt.call(Fe,At[1])).done)return tt;switch(Fe=0,tt&&(At=[2&At[0],tt.value]),At[0]){case 0:case 1:tt=At;break;case 4:return Ke.label++,{value:At[1],done:!1};case 5:Ke.label++,Fe=At[1],At=[0];continue;case 7:At=Ke.ops.pop(),Ke.trys.pop();continue;default:if(!(tt=(tt=Ke.trys).length>0&&tt[tt.length-1])&&(6===At[0]||2===At[0])){Ke=0;continue}if(3===At[0]&&(!tt||At[1]>tt[0]&&At[1]<tt[3])){Ke.label=At[1];break}if(6===At[0]&&Ke.label<tt[1]){Ke.label=tt[1],tt=At;break}if(tt&&Ke.label<tt[2]){Ke.label=tt[2],Ke.ops.push(At);break}tt[2]&&Ke.ops.pop(),Ke.trys.pop();continue}At=Be.call(_e,Ke)}catch(Jt){At=[6,Jt],Fe=0}finally{mt=tt=0}if(5&At[0])throw At[1];return{value:At[0]?At[1]:void 0,done:!0}}([At,Jt])}}}var A=Ct(279),I=(Ct(918),Ct(300)),F=Ct(704),H=Ct(100),se="https://www.googletagmanager.com/gtag/js",Ve=(()=>{return(_e=Ve||(Ve={})).EVENT="event",_e.SET="set",_e.CONFIG="config",Ve;var _e})(),It=(()=>{return(_e=It||(It={})).ADD_SHIPPING_INFO="add_shipping_info",_e.ADD_PAYMENT_INFO="add_payment_info",_e.ADD_TO_CART="add_to_cart",_e.ADD_TO_WISHLIST="add_to_wishlist",_e.BEGIN_CHECKOUT="begin_checkout",_e.CHECKOUT_PROGRESS="checkout_progress",_e.EXCEPTION="exception",_e.GENERATE_LEAD="generate_lead",_e.LOGIN="login",_e.PAGE_VIEW="page_view",_e.PURCHASE="purchase",_e.REFUND="refund",_e.REMOVE_FROM_CART="remove_from_cart",_e.SCREEN_VIEW="screen_view",_e.SEARCH="search",_e.SELECT_CONTENT="select_content",_e.SELECT_ITEM="select_item",_e.SELECT_PROMOTION="select_promotion",_e.SET_CHECKOUT_OPTION="set_checkout_option",_e.SHARE="share",_e.SIGN_UP="sign_up",_e.TIMING_COMPLETE="timing_complete",_e.VIEW_CART="view_cart",_e.VIEW_ITEM="view_item",_e.VIEW_ITEM_LIST="view_item_list",_e.VIEW_PROMOTION="view_promotion",_e.VIEW_SEARCH_RESULTS="view_search_results",It;var _e})(),Rt=new I.Logger("@firebase/analytics");function ct(_e,Be,Ke,mt,Fe,tt){return Cn(this,void 0,void 0,function(){var Ot,Qt,vn,At;return be(this,function(Jt){switch(Jt.label){case 0:Ot=mt[Fe],Jt.label=1;case 1:return Jt.trys.push([1,7,,8]),Ot?[4,Be[Ot]]:[3,3];case 2:return Jt.sent(),[3,6];case 3:return[4,Promise.all(Ke)];case 4:return Qt=Jt.sent(),(vn=Qt.find(function(Mr){return Mr.measurementId===Fe}))?[4,Be[vn.appId]]:[3,6];case 5:Jt.sent(),Jt.label=6;case 6:return[3,8];case 7:return At=Jt.sent(),Rt.error(At),[3,8];case 8:return _e(Ve.CONFIG,Fe,tt),[2]}})})}function Bn(_e,Be,Ke,mt,Fe){return Cn(this,void 0,void 0,function(){var tt,Ot,Qt,vn,At,Jt,mr;return be(this,function(Wr){switch(Wr.label){case 0:return Wr.trys.push([0,4,,5]),tt=[],Fe&&Fe.send_to?(Ot=Fe.send_to,Array.isArray(Ot)||(Ot=[Ot]),[4,Promise.all(Ke)]):[3,2];case 1:for(Qt=Wr.sent(),vn=function(ve){var de=Qt.find(function(ke){return ke.measurementId===ve}),Se=de&&Be[de.appId];if(!Se)return tt=[],"break";tt.push(Se)},At=0,Jt=Ot;At<Jt.length&&"break"!==vn(Jt[At]);At++);Wr.label=2;case 2:return 0===tt.length&&(tt=Object.values(Be)),[4,Promise.all(tt)];case 3:return Wr.sent(),_e(Ve.EVENT,mt,Fe||{}),[3,5];case 4:return mr=Wr.sent(),Rt.error(mr),[3,5];case 5:return[2]}})})}var wn,rn=((wn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",wn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",wn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",wn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",wn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",wn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',wn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',wn),Kt=new F.ErrorFactory("analytics","Analytics",rn),ir=new(function(){function _e(Be,Ke){void 0===Be&&(Be={}),void 0===Ke&&(Ke=1e3),this.throttleMetadata=Be,this.intervalMillis=Ke}return _e.prototype.getThrottleMetadata=function(Be){return this.throttleMetadata[Be]},_e.prototype.setThrottleMetadata=function(Be,Ke){this.throttleMetadata[Be]=Ke},_e.prototype.deleteThrottleMetadata=function(Be){delete this.throttleMetadata[Be]},_e}());function jn(_e){return new Headers({Accept:"application/json","x-goog-api-key":_e})}function ii(_e){var Be;return Cn(this,void 0,void 0,function(){var Ke,Fe,tt,Ot,Qt,vn;return be(this,function(Jt){switch(Jt.label){case 0:return Ke=_e.appId,Fe={method:"GET",headers:jn(_e.apiKey)},tt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",Ke),[4,fetch(tt,Fe)];case 1:if(200===(Ot=Jt.sent()).status||304===Ot.status)return[3,6];Qt="",Jt.label=2;case 2:return Jt.trys.push([2,4,,5]),[4,Ot.json()];case 3:return vn=Jt.sent(),(null===(Be=vn.error)||void 0===Be?void 0:Be.message)&&(Qt=vn.error.message),[3,5];case 4:return Jt.sent(),[3,5];case 5:throw Kt.create("config-fetch-failed",{httpStatus:Ot.status,responseMessage:Qt});case 6:return[2,Ot.json()]}})})}function Qn(_e,Be,Ke,mt){var Fe=Be.throttleEndTimeMillis,tt=Be.backoffCount;return void 0===mt&&(mt=ir),Cn(this,void 0,void 0,function(){var Ot,Qt,vn,At,Jt,Mr,or;return be(this,function(mr){switch(mr.label){case 0:Ot=_e.appId,Qt=_e.measurementId,mr.label=1;case 1:return mr.trys.push([1,3,,4]),[4,On(Ke,Fe)];case 2:return mr.sent(),[3,4];case 3:if(vn=mr.sent(),Qt)return Rt.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Qt+' provided in the "measurementId" field in the local Firebase config. ['+vn.message+"]"),[2,{appId:Ot,measurementId:Qt}];throw vn;case 4:return mr.trys.push([4,6,,7]),[4,ii(_e)];case 5:return At=mr.sent(),mt.deleteThrottleMetadata(Ot),[2,At];case 6:if(!function(_e){if(!(_e instanceof F.FirebaseError))return!1;var Be=Number(_e.httpStatus);return 429===Be||500===Be||503===Be||504===Be}(Jt=mr.sent())){if(mt.deleteThrottleMetadata(Ot),Qt)return Rt.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+Qt+' provided in the "measurementId" field in the local Firebase config. ['+Jt.message+"]"),[2,{appId:Ot,measurementId:Qt}];throw Jt}return Mr=503===Number(Jt.httpStatus)?(0,F.calculateBackoffMillis)(tt,mt.intervalMillis,30):(0,F.calculateBackoffMillis)(tt,mt.intervalMillis),or={throttleEndTimeMillis:Date.now()+Mr,backoffCount:tt+1},mt.setThrottleMetadata(Ot,or),Rt.debug("Calling attemptFetch again in "+Mr+" millis"),[2,Qn(_e,or,Ke,mt)];case 7:return[2]}})})}function On(_e,Be){return new Promise(function(Ke,mt){var Fe=Math.max(Be-Date.now(),0),tt=setTimeout(Ke,Fe);_e.addEventListener(function(){clearTimeout(tt),mt(Kt.create("fetch-throttle",{throttleEndTimeMillis:Be}))})})}var je=function(){function _e(){this.listeners=[]}return _e.prototype.addEventListener=function(Be){this.listeners.push(Be)},_e.prototype.abort=function(){this.listeners.forEach(function(Be){return Be()})},_e}();var on,Dn,Ye={},Ue=[],Wt={},zt="dataLayer",pn="gtag",wr=!1;function Xn(_e,Be,Ke){void 0===_e&&(_e=!1),void 0===Be&&(Be={}),void 0===Ke&&(Ke=[]),wr=_e,Ye=Be,Ue=Ke,zt="dataLayer",pn="gtag"}function Cr(){return{initializationPromisesMap:Ye,dynamicConfigPromisesList:Ue}}function sn(_e){if(wr)throw Kt.create("already-initialized");_e.dataLayerName&&(zt=_e.dataLayerName),_e.gtagName&&(pn=_e.gtagName)}function nn(_e,Be){!function(){var _e=[];if((0,F.isBrowserExtension)()&&_e.push("This is a browser extension environment."),(0,F.areCookiesEnabled)()||_e.push("Cookies are not available."),_e.length>0){var Be=_e.map(function(mt,Fe){return"("+(Fe+1)+") "+mt}).join(" "),Ke=Kt.create("invalid-analytics-context",{errorInfo:Be});Rt.warn(Ke.message)}}();var Ke=_e.options.appId;if(!Ke)throw Kt.create("no-app-id");if(!_e.options.apiKey){if(!_e.options.measurementId)throw Kt.create("no-api-key");Rt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+_e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ye[Ke])throw Kt.create("already-exists",{id:Ke});if(!wr){(function(){for(var _e=window.document.getElementsByTagName("script"),Be=0,Ke=Object.values(_e);Be<Ke.length;Be++){var mt=Ke[Be];if(mt.src&&mt.src.includes(se))return mt}return null})()||function(_e){var Be=document.createElement("script");Be.src=se+"?l="+_e,Be.async=!0,document.head.appendChild(Be)}(zt),function(_e){var Be=[];Array.isArray(window[_e])?Be=window[_e]:window[_e]=Be}(zt);var mt=function(_e,Be,Ke,mt,Fe){var tt=function(){for(var Ot=[],Qt=0;Qt<arguments.length;Qt++)Ot[Qt]=arguments[Qt];window[mt].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(tt=window[Fe]),window[Fe]=function(_e,Be,Ke,mt){return function(tt,Ot,Qt){return Cn(this,void 0,void 0,function(){var vn;return be(this,function(At){switch(At.label){case 0:return At.trys.push([0,6,,7]),tt!==Ve.EVENT?[3,2]:[4,Bn(_e,Be,Ke,Ot,Qt)];case 1:return At.sent(),[3,5];case 2:return tt!==Ve.CONFIG?[3,4]:[4,ct(_e,Be,Ke,mt,Ot,Qt)];case 3:return At.sent(),[3,5];case 4:_e(Ve.SET,Ot),At.label=5;case 5:return[3,7];case 6:return vn=At.sent(),Rt.error(vn),[3,7];case 7:return[2]}})})}}(tt,_e,Be,Ke),{gtagCore:tt,wrappedGtag:window[Fe]}}(Ye,Ue,Wt,zt,pn);Dn=mt.wrappedGtag,on=mt.gtagCore,wr=!0}return Ye[Ke]=function(_e,Be,Ke,mt,Fe){return Cn(this,void 0,void 0,function(){var tt,Ot,Qt,vn,At,Jt,Mr;return be(this,function(or){switch(or.label){case 0:return(tt=function(_e,Be,Ke){return void 0===Be&&(Be=ir),Cn(this,void 0,void 0,function(){var mt,Fe,tt,Ot,Qt,vn,At=this;return be(this,function(Jt){if(tt=(mt=_e.options).apiKey,Ot=mt.measurementId,!(Fe=mt.appId))throw Kt.create("no-app-id");if(!tt){if(Ot)return[2,{measurementId:Ot,appId:Fe}];throw Kt.create("no-api-key")}return Qt=Be.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new je,setTimeout(function(){return Cn(At,void 0,void 0,function(){return be(this,function(Mr){return vn.abort(),[2]})})},6e4),[2,Qn({appId:Fe,apiKey:tt,measurementId:Ot},Qt,vn,Be)]})})}(_e)).then(function(mr){Ke[mr.measurementId]=mr.appId,_e.options.measurementId&&mr.measurementId!==_e.options.measurementId&&Rt.warn("The measurement ID in the local Firebase config ("+_e.options.measurementId+") does not match the measurement ID fetched from the server ("+mr.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(mr){return Rt.error(mr)}),Be.push(tt),Ot=function(){return Cn(this,void 0,void 0,function(){var _e;return be(this,function(Be){switch(Be.label){case 0:return(0,F.isIndexedDBAvailable)()?[3,1]:(Rt.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return Be.trys.push([1,3,,4]),[4,(0,F.validateIndexedDBOpenable)()];case 2:return Be.sent(),[3,4];case 3:return _e=Be.sent(),Rt.warn(Kt.create("indexeddb-unavailable",{errorInfo:_e}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(mr){if(mr)return mt.getId()}),[4,Promise.all([tt,Ot])];case 1:return Qt=or.sent(),vn=Qt[0],At=Qt[1],Fe("js",new Date),(Mr={}).origin="firebase",Mr.update=!0,Jt=Mr,null!=At&&(Jt.firebase_id=At),Fe(Ve.CONFIG,vn.measurementId,Jt),[2,vn.measurementId]}})})}(_e,Ue,Wt,Be,on),{app:_e,logEvent:function(Qt,vn,At){(function(_e,Be,Ke,mt,Fe){return Cn(this,void 0,void 0,function(){var tt,Ot;return be(this,function(Qt){switch(Qt.label){case 0:return Fe&&Fe.global?(_e(Ve.EVENT,Ke,mt),[2]):[3,1];case 1:return[4,Be];case 2:tt=Qt.sent(),Ot=re(re({},mt),{send_to:tt}),_e(Ve.EVENT,Ke,Ot),Qt.label=3;case 3:return[2]}})})})(Dn,Ye[Ke],Qt,vn,At).catch(function(Jt){return Rt.error(Jt)})},setCurrentScreen:function(Qt,vn){(function(_e,Be,Ke,mt){return Cn(this,void 0,void 0,function(){var Fe;return be(this,function(tt){switch(tt.label){case 0:return mt&&mt.global?(_e(Ve.SET,{screen_name:Ke}),[2,Promise.resolve()]):[3,1];case 1:return[4,Be];case 2:Fe=tt.sent(),_e(Ve.CONFIG,Fe,{update:!0,screen_name:Ke}),tt.label=3;case 3:return[2]}})})})(Dn,Ye[Ke],Qt,vn).catch(function(At){return Rt.error(At)})},setUserId:function(Qt,vn){(function(_e,Be,Ke,mt){return Cn(this,void 0,void 0,function(){var Fe;return be(this,function(tt){switch(tt.label){case 0:return mt&&mt.global?(_e(Ve.SET,{user_id:Ke}),[2,Promise.resolve()]):[3,1];case 1:return[4,Be];case 2:Fe=tt.sent(),_e(Ve.CONFIG,Fe,{update:!0,user_id:Ke}),tt.label=3;case 3:return[2]}})})})(Dn,Ye[Ke],Qt,vn).catch(function(At){return Rt.error(At)})},setUserProperties:function(Qt,vn){(function(_e,Be,Ke,mt){return Cn(this,void 0,void 0,function(){var Fe,tt,Ot,Qt,vn;return be(this,function(At){switch(At.label){case 0:if(!mt||!mt.global)return[3,1];for(Fe={},tt=0,Ot=Object.keys(Ke);tt<Ot.length;tt++)Fe["user_properties."+(Qt=Ot[tt])]=Ke[Qt];return _e(Ve.SET,Fe),[2,Promise.resolve()];case 1:return[4,Be];case 2:vn=At.sent(),_e(Ve.CONFIG,vn,{update:!0,user_properties:Ke}),At.label=3;case 3:return[2]}})})})(Dn,Ye[Ke],Qt,vn).catch(function(At){return Rt.error(At)})},setAnalyticsCollectionEnabled:function(Qt){(function(_e,Be){return Cn(this,void 0,void 0,function(){var Ke;return be(this,function(mt){switch(mt.label){case 0:return[4,_e];case 1:return Ke=mt.sent(),window["ga-disable-"+Ke]=!Be,[2]}})})})(Ye[Ke],Qt).catch(function(vn){return Rt.error(vn)})},INTERNAL:{delete:function(){return delete Ye[Ke],Promise.resolve()}}}}var Fn="analytics";function an(_e){_e.INTERNAL.registerComponent(new H.Component(Fn,function(Ke){return nn(Ke.getProvider("app").getImmediate(),Ke.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:sn,EventName:It,isSupported:Gi})),_e.INTERNAL.registerComponent(new H.Component("analytics-internal",function(Ke){try{return{logEvent:Ke.getProvider(Fn).getImmediate().logEvent}}catch(Fe){throw Kt.create("interop-component-reg-failed",{reason:Fe})}},"PRIVATE")),_e.registerVersion("@firebase/analytics","0.6.0")}function Gi(){return Cn(this,void 0,void 0,function(){return be(this,function(Ke){switch(Ke.label){case 0:if((0,F.isBrowserExtension)())return[2,!1];if(!(0,F.areCookiesEnabled)())return[2,!1];if(!(0,F.isIndexedDBAvailable)())return[2,!1];Ke.label=1;case 1:return Ke.trys.push([1,3,,4]),[4,(0,F.validateIndexedDBOpenable)()];case 2:return[2,Ke.sent()];case 3:return Ke.sent(),[2,!1];case 4:return[2]}})})}an(A.default)},279:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var rt,Ft,te=Ct(796),Z=Ct(704),re=Ct(100),Nt=Ct(300),Tn=((rt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",rt["bad-app-name"]="Illegal App name: '{$appName}",rt["duplicate-app"]="Firebase App named '{$appName}' already exists",rt["app-deleted"]="Firebase App named '{$appName}' already deleted",rt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",rt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",rt),Lt=new Z.ErrorFactory("app","Firebase",Tn),Cn="@firebase/app",ot="[DEFAULT]",Qe=((Ft={})[Cn]="fire-core",Ft["@firebase/analytics"]="fire-analytics",Ft["@firebase/auth"]="fire-auth",Ft["@firebase/database"]="fire-rtdb",Ft["@firebase/functions"]="fire-fn",Ft["@firebase/installations"]="fire-iid",Ft["@firebase/messaging"]="fire-fcm",Ft["@firebase/performance"]="fire-perf",Ft["@firebase/remote-config"]="fire-rc",Ft["@firebase/storage"]="fire-gcs",Ft["@firebase/firestore"]="fire-fst",Ft["fire-js"]="fire-js",Ft["firebase-wrapper"]="fire-js-all",Ft),pt=new Nt.Logger("@firebase/app"),A=function(){function It(xe,Pe,Ge){var wt,en,Rt=this;this.firebase_=Ge,this.isDeleted_=!1,this.name_=Pe.name,this.automaticDataCollectionEnabled_=Pe.automaticDataCollectionEnabled||!1,this.options_=Z.deepCopy(xe),this.container=new re.ComponentContainer(Pe.name),this._addComponent(new re.Component("app",function(){return Rt},"PUBLIC"));try{for(var tn=te.__values(this.firebase_.INTERNAL.components.values()),fn=tn.next();!fn.done;fn=tn.next())this._addComponent(fn.value)}catch(Bn){wt={error:Bn}}finally{try{fn&&!fn.done&&(en=tn.return)&&en.call(tn)}finally{if(wt)throw wt.error}}}return Object.defineProperty(It.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xe},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),It.prototype.delete=function(){var xe=this;return new Promise(function(Pe){xe.checkDestroyed_(),Pe()}).then(function(){return xe.firebase_.INTERNAL.removeApp(xe.name_),Promise.all(xe.container.getProviders().map(function(Pe){return Pe.delete()}))}).then(function(){xe.isDeleted_=!0})},It.prototype._getService=function(xe,Pe){return void 0===Pe&&(Pe=ot),this.checkDestroyed_(),this.container.getProvider(xe).getImmediate({identifier:Pe})},It.prototype._removeServiceInstance=function(xe,Pe){void 0===Pe&&(Pe=ot),this.container.getProvider(xe).clearInstance(Pe)},It.prototype._addComponent=function(xe){try{this.container.addComponent(xe)}catch(Pe){pt.debug("Component "+xe.name+" failed to register with FirebaseApp "+this.name,Pe)}},It.prototype._addOrOverwriteComponent=function(xe){this.container.addOrOverwriteComponent(xe)},It.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Lt.create("app-deleted",{appName:this.name_})},It}();A.prototype.name&&A.prototype.options||A.prototype.delete||console.log("dc");var H=function F(){var It=function(It){var xe={},Pe=new Map,Ge={__esModule:!0,initializeApp:function(dn,Ht){void 0===Ht&&(Ht={}),("object"!=typeof Ht||null===Ht)&&(Ht={name:Ht});var rn=Ht;void 0===rn.name&&(rn.name=ot);var Kt=rn.name;if("string"!=typeof Kt||!Kt)throw Lt.create("bad-app-name",{appName:String(Kt)});if(Z.contains(xe,Kt))throw Lt.create("duplicate-app",{appName:Kt});var kn=new It(dn,rn,Ge);return xe[Kt]=kn,kn},app:en,registerVersion:function(dn,Ht,wn){var rn,Kt=null!==(rn=Qe[dn])&&void 0!==rn?rn:dn;wn&&(Kt+="-"+wn);var kn=Kt.match(/\s|\//),tr=Ht.match(/\s|\//);if(kn||tr){var kr=['Unable to register library "'+Kt+'" with version "'+Ht+'":'];return kn&&kr.push('library name "'+Kt+'" contains illegal characters (whitespace or "/")'),kn&&tr&&kr.push("and"),tr&&kr.push('version name "'+Ht+'" contains illegal characters (whitespace or "/")'),void pt.warn(kr.join(" "))}fn(new re.Component(Kt+"-version",function(){return{library:Kt,version:Ht}},"VERSION"))},setLogLevel:Nt.setLogLevel,onLog:function(dn,Ht){if(null!==dn&&"function"!=typeof dn)throw Lt.create("invalid-log-argument",{appName:name});Nt.setUserLogHandler(dn,Ht)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:fn,removeApp:function(dn){delete xe[dn]},components:Pe,useAsService:function(dn,Ht){return"serverAuth"===Ht?null:Ht}}};function en(dn){if(!Z.contains(xe,dn=dn||ot))throw Lt.create("no-app",{appName:dn});return xe[dn]}function fn(dn){var Ht,wn,rn=dn.name;if(Pe.has(rn))return pt.debug("There were multiple attempts to register component "+rn+"."),"PUBLIC"===dn.type?Ge[rn]:null;if(Pe.set(rn,dn),"PUBLIC"===dn.type){var Kt=function(ir){if(void 0===ir&&(ir=en()),"function"!=typeof ir[rn])throw Lt.create("invalid-app-argument",{appName:rn});return ir[rn]()};void 0!==dn.serviceProps&&Z.deepExtend(Kt,dn.serviceProps),Ge[rn]=Kt,It.prototype[rn]=function(){for(var ir=[],jn=0;jn<arguments.length;jn++)ir[jn]=arguments[jn];return this._getService.bind(this,rn).apply(this,dn.multipleInstances?ir:[])}}try{for(var kn=te.__values(Object.keys(xe)),tr=kn.next();!tr.done;tr=kn.next())xe[tr.value]._addComponent(dn)}catch(ir){Ht={error:ir}}finally{try{tr&&!tr.done&&(wn=kn.return)&&wn.call(kn)}finally{if(Ht)throw Ht.error}}return"PUBLIC"===dn.type?Ge[rn]:null}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function(){return Object.keys(xe).map(function(dn){return xe[dn]})}}),en.App=It,Ge}(A);return It.INTERNAL=te.__assign(te.__assign({},It.INTERNAL),{createFirebaseNamespace:F,extendNamespace:function(Pe){Z.deepExtend(It,Pe)},createSubscribe:Z.createSubscribe,ErrorFactory:Z.ErrorFactory,deepExtend:Z.deepExtend}),It}(),R=function(){function It(xe){this.container=xe}return It.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Pe){if(function(It){var xe=It.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(Pe)){var Ge=Pe.getImmediate();return Ge.library+"/"+Ge.version}return null}).filter(function(Pe){return Pe}).join(" ")},It}();if(Z.isBrowser()&&void 0!==self.firebase){pt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&pt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var se=H.initializeApp;H.initializeApp=function(){for(var It=[],xe=0;xe<arguments.length;xe++)It[xe]=arguments[xe];return Z.isNode()&&pt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),se.apply(void 0,It)};var It,Ve=H;(It=Ve).INTERNAL.registerComponent(new re.Component("platform-logger",function(Pe){return new R(Pe)},"PRIVATE")),It.registerVersion(Cn,"0.6.11",undefined),It.registerVersion("fire-js",""),bt.default=Ve,bt.firebase=Ve},3:(li,bt,Ct)=>{(function(){var Z,te=Ct(279).default,re="function"==typeof Object.defineProperties?Object.defineProperty:function(o,h,_){o!=Array.prototype&&o!=Object.prototype&&(o[h]=_.value)},rt=function(o){o=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,o];for(var h=0;h<o.length;++h){var _=o[h];if(_&&_.Math==Math)return _}return globalThis}(this);function Lt(o){var h=0;return function(){return h<o.length?{done:!1,value:o[h++]}:{done:!0}}}function Cn(o){var h="undefined"!=typeof Symbol&&Symbol.iterator&&o[Symbol.iterator];return h?h.call(o):{next:Lt(o)}}!function(o,h){if(h){var _=rt;o=o.split(".");for(var S=0;S<o.length-1;S++){var N=o[S];N in _||(_[N]={}),_=_[N]}(h=h(S=_[o=o[o.length-1]]))!=S&&null!=h&&re(_,o,{configurable:!0,writable:!0,value:h})}}("Promise",function(o){function h(ee){this.b=0,this.c=void 0,this.a=[];var Ie=this.f();try{ee(Ie.resolve,Ie.reject)}catch(St){Ie.reject(St)}}function _(){this.a=null}function S(ee){return ee instanceof h?ee:new h(function(Ie){Ie(ee)})}if(o)return o;_.prototype.b=function(ee){if(null==this.a){this.a=[];var Ie=this;this.c(function(){Ie.g()})}this.a.push(ee)};var N=rt.setTimeout;_.prototype.c=function(ee){N(ee,0)},_.prototype.g=function(){for(;this.a&&this.a.length;){var ee=this.a;this.a=[];for(var Ie=0;Ie<ee.length;++Ie){var St=ee[Ie];ee[Ie]=null;try{St()}catch(Ut){this.f(Ut)}}}this.a=null},_.prototype.f=function(ee){this.c(function(){throw ee})},h.prototype.f=function(){function ee(Ut){return function(yr){St||(St=!0,Ut.call(Ie,yr))}}var Ie=this,St=!1;return{resolve:ee(this.v),reject:ee(this.g)}},h.prototype.v=function(ee){if(ee===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(ee instanceof h)this.o(ee);else{e:switch(typeof ee){case"object":var Ie=null!=ee;break e;case"function":Ie=!0;break e;default:Ie=!1}Ie?this.m(ee):this.h(ee)}},h.prototype.m=function(ee){var Ie=void 0;try{Ie=ee.then}catch(St){return void this.g(St)}"function"==typeof Ie?this.u(Ie,ee):this.h(ee)},h.prototype.g=function(ee){this.i(2,ee)},h.prototype.h=function(ee){this.i(1,ee)},h.prototype.i=function(ee,Ie){if(0!=this.b)throw Error("Cannot settle("+ee+", "+Ie+"): Promise already settled in state"+this.b);this.b=ee,this.c=Ie,this.l()},h.prototype.l=function(){if(null!=this.a){for(var ee=0;ee<this.a.length;++ee)G.b(this.a[ee]);this.a=null}};var G=new _;return h.prototype.o=function(ee){var Ie=this.f();ee.Pa(Ie.resolve,Ie.reject)},h.prototype.u=function(ee,Ie){var St=this.f();try{ee.call(Ie,St.resolve,St.reject)}catch(Ut){St.reject(Ut)}},h.prototype.then=function(ee,Ie){function St(di,Xo){return"function"==typeof di?function(Tr){try{Ut(di(Tr))}catch(jd){yr(jd)}}:Xo}var Ut,yr,Mi=new h(function(di,Xo){Ut=di,yr=Xo});return this.Pa(St(ee,Ut),St(Ie,yr)),Mi},h.prototype.catch=function(ee){return this.then(void 0,ee)},h.prototype.Pa=function(ee,Ie){function St(){switch(Ut.b){case 1:ee(Ut.c);break;case 2:Ie(Ut.c);break;default:throw Error("Unexpected state: "+Ut.b)}}var Ut=this;null==this.a?G.b(St):this.a.push(St)},h.resolve=S,h.reject=function(ee){return new h(function(Ie,St){St(ee)})},h.race=function(ee){return new h(function(Ie,St){for(var Ut=Cn(ee),yr=Ut.next();!yr.done;yr=Ut.next())S(yr.value).Pa(Ie,St)})},h.all=function(ee){var Ie=Cn(ee),St=Ie.next();return St.done?S([]):new h(function(Ut,yr){function Mi(Tr){return function(jd){di[Tr]=jd,0==--Xo&&Ut(di)}}var di=[],Xo=0;do{di.push(void 0),Xo++,S(St.value).Pa(Mi(di.length-1),yr),St=Ie.next()}while(!St.done)})},h});var be=be||{},Y=this||self,et=/^[\w+/_-]+[=]{0,2}$/,it=null;function Ne(){}function ft(o){var h=typeof o;if("object"==h){if(!o)return"null";if(o instanceof Array)return"array";if(o instanceof Object)return h;var _=Object.prototype.toString.call(o);if("[object Window]"==_)return"object";if("[object Array]"==_||"number"==typeof o.length&&void 0!==o.splice&&void 0!==o.propertyIsEnumerable&&!o.propertyIsEnumerable("splice"))return"array";if("[object Function]"==_||void 0!==o.call&&void 0!==o.propertyIsEnumerable&&!o.propertyIsEnumerable("call"))return"function"}else if("function"==h&&void 0===o.call)return"object";return h}function bn(o){var h=ft(o);return"array"==h||"object"==h&&"number"==typeof o.length}function Pt(o){return"function"==ft(o)}function Le(o){var h=typeof o;return"object"==h&&null!=o||"function"==h}function dt(o){return Object.prototype.hasOwnProperty.call(o,Je)&&o[Je]||(o[Je]=++Bt)}var Je="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function Ft(o,h,_){return o.call.apply(o.bind,arguments)}function ot(o,h,_){if(!o)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),o.apply(h,N)}}return function(){return o.apply(h,arguments)}}function Qe(o,h,_){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ft:ot).apply(null,arguments)}function pt(o,h){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),o.apply(this,S)}}var A=Date.now||function(){return+new Date};function M(o,h){function _(){}_.prototype=h.prototype,o.$a=h.prototype,o.prototype=new _,o.prototype.constructor=o}function I(o,h,_){this.code=H+o,this.message=h||R[o]||"",this.a=_||null}function F(o){var h=o&&o.code;return h?new I(h.substring(H.length),o.message,o.serverResponse):null}M(I,Error),I.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},I.prototype.toJSON=function(){return this.w()};var Tt,H="auth/",R={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},K={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function le(o){for(var h in K)if(K[h].id===o)return{firebaseEndpoint:(o=K[h]).Sa,secureTokenEndpoint:o.Ya,identityPlatformEndpoint:o.Va};return null}function se(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch(h){return!1}}function Ve(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ve);else{var h=Error().stack;h&&(this.stack=h)}o&&(this.message=String(o))}function It(o,h){for(var _="",S=(o=o.split("%s")).length-1,N=0;N<S;N++)_+=o[N]+(N<h.length?h[N]:"%s");Ve.call(this,_+o[S])}function xe(o,h){throw new It("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Pe(o,h){this.c=o,this.f=h,this.b=0,this.a=null}function Ge(o,h){o.f(h),100>o.b&&(o.b++,h.next=o.a,o.a=h)}function wt(){this.b=this.a=null}Tt=le("__EID__")?"__EID__":void 0,M(Ve,Error),Ve.prototype.name="CustomError",M(It,Ve),It.prototype.name="AssertionError",Pe.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};var en=new Pe(function(){return new tn},function(o){o.reset()});function Rt(){var o=rr,h=null;return o.a&&(h=o.a,o.a=o.a.next,o.a||(o.b=null),h.next=null),h}function tn(){this.next=this.b=this.a=null}wt.prototype.add=function(o,h){var _=en.get();_.set(o,h),this.b?this.b.next=_:this.a=_,this.b=_},tn.prototype.set=function(o,h){this.a=o,this.b=h,this.next=null},tn.prototype.reset=function(){this.next=this.b=this.a=null};var fn=Array.prototype.indexOf?function(o,h){return Array.prototype.indexOf.call(o,h,void 0)}:function(o,h){if("string"==typeof o)return"string"!=typeof h||1!=h.length?-1:o.indexOf(h,0);for(var _=0;_<o.length;_++)if(_ in o&&o[_]===h)return _;return-1},ct=Array.prototype.forEach?function(o,h,_){Array.prototype.forEach.call(o,h,_)}:function(o,h,_){for(var S=o.length,N="string"==typeof o?o.split(""):o,G=0;G<S;G++)G in N&&h.call(_,N[G],G,o)},Ur=Array.prototype.filter?function(o,h){return Array.prototype.filter.call(o,h,void 0)}:function(o,h){for(var _=o.length,S=[],N=0,G="string"==typeof o?o.split(""):o,ee=0;ee<_;ee++)if(ee in G){var Ie=G[ee];h.call(void 0,Ie,ee,o)&&(S[N++]=Ie)}return S},dn=Array.prototype.map?function(o,h){return Array.prototype.map.call(o,h,void 0)}:function(o,h){for(var _=o.length,S=Array(_),N="string"==typeof o?o.split(""):o,G=0;G<_;G++)G in N&&(S[G]=h.call(void 0,N[G],G,o));return S},Ht=Array.prototype.some?function(o,h){return Array.prototype.some.call(o,h,void 0)}:function(o,h){for(var _=o.length,S="string"==typeof o?o.split(""):o,N=0;N<_;N++)if(N in S&&h.call(void 0,S[N],N,o))return!0;return!1};function rn(o,h){return 0<=fn(o,h)}function Kt(o,h){var _;return(_=0<=(h=fn(o,h)))&&Array.prototype.splice.call(o,h,1),_}function kn(o,h){!function(o,h){for(var _="string"==typeof o?o.split(""):o,S=o.length-1;0<=S;--S)S in _&&h.call(void 0,_[S],S,o)}(o,function(S,N){h.call(void 0,S,N,o)&&Array.prototype.splice.call(o,N,1)})}function tr(o){return Array.prototype.concat.apply([],arguments)}function kr(o){var h=o.length;if(0<h){for(var _=Array(h),S=0;S<h;S++)_[S]=o[S];return _}return[]}var Ye,ir=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},jn=/&/g,ii=/</g,Ar=/>/g,Qn=/"/g,On=/'/g,ci=/\x00/g,je=/[\x00&<>"']/;function ge(o,h){return-1!=o.indexOf(h)}function qe(o,h){return o<h?-1:o>h?1:0}e:{var Ue=Y.navigator;if(Ue){var Wt=Ue.userAgent;if(Wt){Ye=Wt;break e}}Ye=""}function zt(o){return ge(Ye,o)}function pn(o,h){for(var _ in o)h.call(void 0,o[_],_,o)}function on(o){for(var h in o)return!1;return!0}function Dn(o){var _,h={};for(_ in o)h[_]=o[_];return h}var wr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(o,h){for(var _,S,N=1;N<arguments.length;N++){for(_ in S=arguments[N])o[_]=S[_];for(var G=0;G<wr.length;G++)_=wr[G],Object.prototype.hasOwnProperty.call(S,_)&&(o[_]=S[_])}}function Cr(o,h){e:{try{var _=o&&o.ownerDocument,S=_&&(_.defaultView||_.parentWindow);if((S=S||Y).Element&&S.Location){var N=S;break e}}catch(ee){}N=null}if(N&&void 0!==N[h]&&(!o||!(o instanceof N[h])&&(o instanceof N.Location||o instanceof N.Element))){if(Le(o))try{var G=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch(ee){G="<object could not be stringified>"}else G=void 0===o?"undefined":null===o?"null":typeof o;xe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",h,G)}}function sn(o,h){this.a=o===Sr&&h||"",this.b=nn}function hi(o){return o instanceof sn&&o.constructor===sn&&o.b===nn?o.a:(xe("expected object of type Const, got '"+o+"'"),"type_error:Const")}sn.prototype.sa=!0,sn.prototype.ra=function(){return this.a},sn.prototype.toString=function(){return"Const{"+this.a+"}"};var nn={},Sr={},co=new sn(Sr,"");function Fn(o,h){this.a=o===mt&&h||"",this.b=Ke}function an(o){return o instanceof Fn&&o.constructor===Fn&&o.b===Ke?o.a:(xe("expected object of type TrustedResourceUrl, got '"+o+"' of type "+ft(o)),"type_error:TrustedResourceUrl")}function Gi(o,h){var _=hi(o);if(!Be.test(_))throw Error("Invalid TrustedResourceUrl format: "+_);return o=_.replace(_e,function(S,N){if(!Object.prototype.hasOwnProperty.call(h,N))throw Error('Found marker, "'+N+'", in format string, "'+_+'", but no valid label mapping found in args: '+JSON.stringify(h));return(S=h[N])instanceof sn?hi(S):encodeURIComponent(String(S))}),new Fn(mt,o)}Fn.prototype.sa=!0,Fn.prototype.ra=function(){return this.a.toString()},Fn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _e=/%{(\w+)}/g,Be=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ke={},mt={};function Fe(o,h){this.a=o===At&&h||"",this.b=vn}function tt(o){return o instanceof Fe&&o.constructor===Fe&&o.b===vn?o.a:(xe("expected object of type SafeUrl, got '"+o+"' of type "+ft(o)),"type_error:SafeUrl")}Fe.prototype.sa=!0,Fe.prototype.ra=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qt(o){return o instanceof Fe?o:(o="object"==typeof o&&o.sa?o.ra():String(o),Ot.test(o)||(o="about:invalid#zClosurez"),new Fe(At,o))}var vn={},At={};function Jt(){this.a="",this.b=or}function Mr(o){return o instanceof Jt&&o.constructor===Jt&&o.b===or?o.a:(xe("expected object of type SafeHtml, got '"+o+"' of type "+ft(o)),"type_error:SafeHtml")}Jt.prototype.sa=!0,Jt.prototype.ra=function(){return this.a.toString()},Jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var or={};function mr(o){var h=new Jt;return h.a=o,h}mr("<!DOCTYPE html>");var Wr=mr("");function Se(o,h){for(var _=o.split("%s"),S="",N=Array.prototype.slice.call(arguments,1);N.length&&1<_.length;)S+=_.shift()+N.shift();return S+_.join("%s")}function ke(o){return je.test(o)&&(-1!=o.indexOf("&")&&(o=o.replace(jn,"&amp;")),-1!=o.indexOf("<")&&(o=o.replace(ii,"&lt;")),-1!=o.indexOf(">")&&(o=o.replace(Ar,"&gt;")),-1!=o.indexOf('"')&&(o=o.replace(Qn,"&quot;")),-1!=o.indexOf("'")&&(o=o.replace(On,"&#39;")),-1!=o.indexOf("\0")&&(o=o.replace(ci,"&#0;"))),o}function ie(o){return ie[" "](o),o}mr("<br>"),ie[" "]=Ne;var at,o,$=zt("Opera"),ue=zt("Trident")||zt("MSIE"),Ee=zt("Edge"),we=Ee||ue,ze=zt("Gecko")&&!(ge(Ye.toLowerCase(),"webkit")&&!zt("Edge"))&&!(zt("Trident")||zt("MSIE"))&&!zt("Edge"),Mt=ge(Ye.toLowerCase(),"webkit")&&!zt("Edge");function qt(){var o=Y.document;return o?o.documentMode:void 0}e:{var gn="",vt=(o=Ye,ze?/rv:([^\);]+)(\)|;)/.exec(o):Ee?/Edge\/([\d\.]+)/.exec(o):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Mt?/WebKit\/(\S+)/.exec(o):$?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(vt&&(gn=vt?vt[1]:""),ue){var sr=qt();if(null!=sr&&sr>parseFloat(gn)){at=String(sr);break e}}at=gn}var Un,nr={};function Zi(o){return function(o,h){var _=nr;return Object.prototype.hasOwnProperty.call(_,o)?_[o]:_[o]=h()}(o,function(){for(var h=0,_=ir(String(at)).split("."),S=ir(String(o)).split("."),N=Math.max(_.length,S.length),G=0;0==h&&G<N;G++){var ee=_[G]||"",Ie=S[G]||"";do{if(ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],Ie=/(\d*)(\D*)(.*)/.exec(Ie)||["","","",""],0==ee[0].length&&0==Ie[0].length)break;h=qe(0==ee[1].length?0:parseInt(ee[1],10),0==Ie[1].length?0:parseInt(Ie[1],10))||qe(0==ee[2].length,0==Ie[2].length)||qe(ee[2],Ie[2]),ee=ee[3],Ie=Ie[3]}while(0==h)}return 0<=h})}Un=Y.document&&ue?qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(o){}var Bs=!ue||9<=Number(Un);function eo(o){var h=document;return"string"==typeof o?h.getElementById(o):o}function Ho(o,h){pn(h,function(_,S){_&&"object"==typeof _&&_.sa&&(_=_.ra()),"style"==S?o.style.cssText=_:"class"==S?o.className=_:"for"==S?o.htmlFor=_:No.hasOwnProperty(S)?o.setAttribute(No[S],_):0==S.lastIndexOf("aria-",0)||0==S.lastIndexOf("data-",0)?o.setAttribute(S,_):o[S]=_})}var ts,ki,No={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function xn(o,h,_){function S(ee){ee&&h.appendChild("string"==typeof ee?o.createTextNode(ee):ee)}for(var N=2;N<_.length;N++){var G=_[N];!bn(G)||Le(G)&&0<G.nodeType?S(G):ct(es(G)?kr(G):G,S)}}function ws(o,h){return h=String(h),"application/xhtml+xml"===o.contentType&&(h=h.toLowerCase()),o.createElement(h)}function es(o){if(o&&"number"==typeof o.length){if(Le(o))return"function"==typeof o.item||"string"==typeof o.item;if(Pt(o))return"function"==typeof o.item}return!1}function to(o){Y.setTimeout(function(){throw o},0)}function ho(o,h){ki||function(){if(Y.Promise&&Y.Promise.resolve){var o=Y.Promise.resolve(void 0);ki=function(){o.then(no)}}else ki=function(){var h=no;!Pt(Y.setImmediate)||Y.Window&&Y.Window.prototype&&!zt("Edge")&&Y.Window.prototype.setImmediate==Y.setImmediate?(ts||(ts=function(){var o=Y.MessageChannel;if(void 0===o&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!zt("Presto")&&(o=function(){var N=ws(document,"IFRAME");N.style.display="none",function(o){var h=new Fn(mt,hi(co));Cr(o,"HTMLIFrameElement"),o.src=an(h).toString()}(N),document.documentElement.appendChild(N);var G=N.contentWindow;(N=G.document).open(),N.write(Mr(Wr)),N.close();var ee="callImmediate"+Math.random(),Ie="file:"==G.location.protocol?"*":G.location.protocol+"//"+G.location.host;N=Qe(function(St){("*"==Ie||St.origin==Ie)&&St.data==ee&&this.port1.onmessage()},this),G.addEventListener("message",N,!1),this.port1={},this.port2={postMessage:function(){G.postMessage(ee,Ie)}}}),void 0!==o&&!zt("Trident")&&!zt("MSIE")){var h=new o,_={},S=_;return h.port1.onmessage=function(){if(void 0!==_.next){var N=(_=_.next).Fb;_.Fb=null,N()}},function(N){S.next={Fb:N},S=S.next,h.port2.postMessage(0)}}return function(N){Y.setTimeout(N,0)}}()),ts(h)):Y.setImmediate(h)}}(),Fa||(ki(),Fa=!0),rr.add(o,h)}var Fa=!1,rr=new wt;function no(){for(var o;o=Rt();){try{o.a.call(o.b)}catch(h){to(h)}Ge(en,o)}Fa=!1}function Hn(o,h){if(this.a=Wi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=Ne)try{var _=this;o.call(h,function(S){Fo(_,js,S)},function(S){if(!(S instanceof Dt))try{throw S instanceof Error?S:Error("Promise rejected.")}catch(N){}Fo(_,Sn,S)})}catch(S){Fo(this,Sn,S)}}var Wi=0,js=2,Sn=3;function qo(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}qo.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var da=new Pe(function(){return new qo},function(o){o.reset()});function Hi(o,h,_){var S=da.get();return S.g=o,S.b=h,S.f=_,S}function $t(o){if(o instanceof Hn)return o;var h=new Hn(Ne);return Fo(h,js,o),h}function qn(o){return new Hn(function(h,_){_(o)})}function Hs(o,h,_){_r(o,h,_,null)||ho(pt(h,o))}function Wo(o){return new Hn(function(h){var _=o.length,S=[];if(_)for(var N=function(Ie,St,Ut){_--,S[Ie]=St?{Ob:!0,value:Ut}:{Ob:!1,reason:Ut},0==_&&h(S)},G=0;G<o.length;G++)Hs(o[G],pt(N,G,!0),pt(N,G,!1));else h(S)})}function Eo(o,h){if(o.a==Wi)if(o.c){var _=o.c;if(_.b){for(var S=0,N=null,G=null,ee=_.b;ee&&(ee.c||(S++,ee.a==o&&(N=ee),!(N&&1<S)));ee=ee.next)N||(G=ee);N&&(_.a==Wi&&1==S?Eo(_,h):(G?((S=G).next==_.f&&(_.f=S),S.next=S.next.next):Es(_),qs(_,N,Sn,h)))}o.c=null}else Fo(o,Sn,h)}function Pi(o,h){o.b||o.a!=js&&o.a!=Sn||zs(o),o.f?o.f.next=h:o.b=h,o.f=h}function Jn(o,h,_,S){var N=Hi(null,null,null);return N.a=new Hn(function(G,ee){N.g=h?function(Ie){try{var St=h.call(S,Ie);G(St)}catch(Ut){ee(Ut)}}:G,N.b=_?function(Ie){try{var St=_.call(S,Ie);void 0===St&&Ie instanceof Dt?ee(Ie):G(St)}catch(Ut){ee(Ut)}}:ee}),N.a.c=o,Pi(o,N),N.a}function Fo(o,h,_){o.a==Wi&&(o===_&&(h=Sn,_=new TypeError("Promise cannot resolve to itself")),o.a=1,_r(_,o.Zc,o.$c,o)||(o.i=_,o.a=h,o.c=null,zs(o),h!=Sn||_ instanceof Dt||function(o,h){o.g=!0,ho(function(){o.g&&pa.call(null,h)})}(o,_)))}function _r(o,h,_,S){if(o instanceof Hn)return Pi(o,Hi(h||Ne,_||null,S)),!0;if(se(o))return o.then(h,_,S),!0;if(Le(o))try{var N=o.then;if(Pt(N))return function(o,h,_,S,N){function G(St){Ie||(Ie=!0,S.call(N,St))}var Ie=!1;try{h.call(o,function(St){Ie||(Ie=!0,_.call(N,St))},G)}catch(St){G(St)}}(o,N,h,_,S),!0}catch(G){return _.call(S,G),!0}return!1}function zs(o){o.h||(o.h=!0,ho(o.fc,o))}function Es(o){var h=null;return o.b&&(o.b=(h=o.b).next,h.next=null),o.b||(o.f=null),h}function qs(o,h,_,S){if(_==Sn&&h.b&&!h.c)for(;o&&o.g;o=o.c)o.g=!1;if(h.a)h.a.c=null,Ln(h,_,S);else try{h.c?h.g.call(h.f):Ln(h,_,S)}catch(N){pa.call(null,N)}Ge(da,h)}function Ln(o,h,_){h==js?o.g.call(o.f,_):o.b&&o.b.call(o.f,_)}Hn.prototype.then=function(o,h,_){return Jn(this,Pt(o)?o:null,Pt(h)?h:null,_)},Hn.prototype.$goog_Thenable=!0,(Z=Hn.prototype).na=function(o,h){return(o=Hi(o,o,h)).c=!0,Pi(this,o),this},Z.s=function(o,h){return Jn(this,null,o,h)},Z.cancel=function(o){if(this.a==Wi){var h=new Dt(o);ho(function(){Eo(this,h)},this)}},Z.Zc=function(o){this.a=Wi,Fo(this,js,o)},Z.$c=function(o){this.a=Wi,Fo(this,Sn,o)},Z.fc=function(){for(var o;o=Es(this);)qs(this,o,this.a,this.i);this.h=!1};var pa=to;function Dt(o){Ve.call(this,o)}function Ni(){0!=Yr&&(B[dt(this)]=this),this.xa=this.xa,this.oa=this.oa}M(Dt,Ve),Dt.prototype.name="cancel";var Yr=0,B={};function V(o){if(!o.xa&&(o.xa=!0,o.Da(),0!=Yr)){var h=dt(o);if(0!=Yr&&o.oa&&0<o.oa.length)throw Error(o+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete B[h]}}Ni.prototype.xa=!1,Ni.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var X=Object.freeze||function(o){return o},pe=!ue||9<=Number(Un),Ce=ue&&!Zi("9"),me=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{Y.addEventListener("test",Ne,h),Y.removeEventListener("test",Ne,h)}catch(_){}return o}();function $e(o,h){this.type=o,this.b=this.target=h,this.defaultPrevented=!1}function gt(o,h){if($e.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var _=this.type=o.type,S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=h,h=o.relatedTarget){if(ze){e:{try{ie(h.nodeName);var N=!0;break e}catch(G){}N=!1}N||(h=null)}}else"mouseover"==_?h=o.fromElement:"mouseout"==_&&(h=o.toElement);this.relatedTarget=h,S?(this.clientX=void 0!==S.clientX?S.clientX:S.pageX,this.clientY=void 0!==S.clientY?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:yt[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},M(gt,$e);var yt=X({2:"touch",3:"pen",4:"mouse"});gt.prototype.preventDefault=function(){gt.$a.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Ce)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch(h){}},gt.prototype.g=function(){return this.a};var kt="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Kn(o,h,_,S,N){this.listener=o,this.proxy=null,this.src=h,this.type=_,this.capture=!!S,this.Ua=N,this.key=++Vt,this.va=this.Oa=!1}function ln(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Ua=null}function $r(o){this.src=o,this.a={},this.b=0}function ar(o,h){var _=h.type;_ in o.a&&Kt(o.a[_],h)&&(ln(h),0==o.a[_].length&&(delete o.a[_],o.b--))}function yn(o,h,_,S){for(var N=0;N<o.length;++N){var G=o[N];if(!G.va&&G.listener==h&&G.capture==!!_&&G.Ua==S)return N}return-1}$r.prototype.add=function(o,h,_,S,N){var G=o.toString();(o=this.a[G])||(o=this.a[G]=[],this.b++);var ee=yn(o,h,S,N);return-1<ee?(h=o[ee],_||(h.Oa=!1)):((h=new Kn(h,this.src,G,!!S,N)).Oa=_,o.push(h)),h};var Nr="closure_lm_"+(1e6*Math.random()|0),Ei={};function cr(o,h,_,S,N){if(S&&S.once)po(o,h,_,S,N);else if(Array.isArray(h))for(var G=0;G<h.length;G++)cr(o,h[G],_,S,N);else _=ui(_),o&&o[kt]?Cs(o,h,_,Le(S)?!!S.capture:!!S,N):Qr(o,h,_,!1,S,N)}function Qr(o,h,_,S,N,G){if(!h)throw Error("Invalid event type");var ee=Le(N)?!!N.capture:!!N,Ie=oi(o);if(Ie||(o[Nr]=Ie=new $r(o)),!(_=Ie.add(h,_,S,ee,G)).proxy)if(S=function(){var o=zu,h=pe?function(_){return o.call(h.src,h.listener,_)}:function(_){if(!(_=o.call(h.src,h.listener,_)))return _};return h}(),_.proxy=S,S.src=o,S.listener=_,o.addEventListener)me||(N=ee),void 0===N&&(N=!1),o.addEventListener(h.toString(),S,N);else if(o.attachEvent)o.attachEvent(ga(h.toString()),S);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(S)}}function po(o,h,_,S,N){if(Array.isArray(h))for(var G=0;G<h.length;G++)po(o,h[G],_,S,N);else _=ui(_),o&&o[kt]?$o(o,h,_,Le(S)?!!S.capture:!!S,N):Qr(o,h,_,!0,S,N)}function Br(o,h,_,S,N){if(Array.isArray(h))for(var G=0;G<h.length;G++)Br(o,h[G],_,S,N);else S=Le(S)?!!S.capture:!!S,_=ui(_),o&&o[kt]?(o=o.v,(h=String(h).toString())in o.a&&-1<(_=yn(G=o.a[h],_,S,N))&&(ln(G[_]),Array.prototype.splice.call(G,_,1),0==G.length&&(delete o.a[h],o.b--))):o&&(o=oi(o))&&(h=o.a[h.toString()],o=-1,h&&(o=yn(h,_,S,N)),(_=-1<o?h[o]:null)&&hr(_))}function hr(o){if("number"!=typeof o&&o&&!o.va){var h=o.src;if(h&&h[kt])ar(h.v,o);else{var _=o.type,S=o.proxy;h.removeEventListener?h.removeEventListener(_,S,o.capture):h.detachEvent?h.detachEvent(ga(_),S):h.addListener&&h.removeListener&&h.removeListener(S),(_=oi(h))?(ar(_,o),0==_.b&&(_.src=null,h[Nr]=null)):ln(o)}}}function ga(o){return o in Ei?Ei[o]:Ei[o]="on"+o}function Gs(o,h,_,S){var N=!0;if((o=oi(o))&&(h=o.a[h.toString()]))for(h=h.concat(),o=0;o<h.length;o++){var G=h[o];G&&G.capture==_&&!G.va&&(G=ns(G,S),N=N&&!1!==G)}return N}function ns(o,h){var _=o.listener,S=o.Ua||o.src;return o.Oa&&hr(o),_.call(S,h)}function zu(o,h){if(o.va)return!0;if(!pe){if(!h)e:{h=["window","event"];for(var _=Y,S=0;S<h.length;S++)if(null==(_=_[h[S]])){h=null;break e}h=_}if(h=new gt(S=h,this),_=!0,!(0>S.keyCode||null!=S.returnValue)){e:{var N=!1;if(0==S.keyCode)try{S.keyCode=-1;break e}catch(ee){N=!0}(N||null==S.returnValue)&&(S.returnValue=!0)}for(S=[],N=h.b;N;N=N.parentNode)S.push(N);for(o=o.type,N=S.length-1;0<=N;N--){h.b=S[N];var G=Gs(S[N],o,!0,h);_=_&&G}for(N=0;N<S.length;N++)h.b=S[N],G=Gs(S[N],o,!1,h),_=_&&G}return _}return ns(o,new gt(h,this))}function oi(o){return(o=o[Nr])instanceof $r?o:null}var Or="__closure_events_fn_"+(1e9*Math.random()>>>0);function ui(o){return Pt(o)?o:(o[Or]||(o[Or]=function(h){return o.handleEvent(h)}),o[Or])}function jr(){Ni.call(this),this.v=new $r(this),this.$b=this,this.fb=null}function Cs(o,h,_,S,N){o.v.add(String(h),_,!1,S,N)}function $o(o,h,_,S,N){o.v.add(String(h),_,!0,S,N)}function Li(o,h,_,S){if(!(h=o.v.a[String(h)]))return!0;h=h.concat();for(var N=!0,G=0;G<h.length;++G){var ee=h[G];if(ee&&!ee.va&&ee.capture==_){var Ie=ee.listener,St=ee.Ua||ee.src;ee.Oa&&ar(o.v,ee),N=!1!==Ie.call(St,S)&&N}}return N&&!S.defaultPrevented}function Ws(o,h,_){if(Pt(o))_&&(o=Qe(o,_));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Qe(o.handleEvent,o)}return 2147483647<Number(h)?-1:Y.setTimeout(o,h||0)}function Co(o){var h=null;return new Hn(function(_,S){-1==(h=Ws(function(){_(void 0)},o))&&S(Error("Failed to schedule timer."))}).s(function(_){throw Y.clearTimeout(h),_})}function Ss(o){if(o.V&&"function"==typeof o.V)return o.V();if("string"==typeof o)return o.split("");if(bn(o)){for(var h=[],_=o.length,S=0;S<_;S++)h.push(o[S]);return h}for(S in h=[],_=0,o)h[_++]=o[S];return h}function So(o){if(o.Y&&"function"==typeof o.Y)return o.Y();if(!o.V||"function"!=typeof o.V){if(bn(o)||"string"==typeof o){var h=[];o=o.length;for(var _=0;_<o;_++)h.push(_);return h}for(var S in h=[],_=0,o)h[_++]=S;return h}}function Lo(o,h){this.b={},this.a=[],this.c=0;var _=arguments.length;if(1<_){if(_%2)throw Error("Uneven number of arguments");for(var S=0;S<_;S+=2)this.set(arguments[S],arguments[S+1])}else if(o)if(o instanceof Lo)for(_=o.Y(),S=0;S<_.length;S++)this.set(_[S],o.get(_[S]));else for(S in o)this.set(S,o[S])}function zi(o){if(o.c!=o.a.length){for(var h=0,_=0;h<o.a.length;){var S=o.a[h];rs(o.b,S)&&(o.a[_++]=S),h++}o.a.length=_}if(o.c!=o.a.length){var N={};for(_=h=0;h<o.a.length;)rs(N,S=o.a[h])||(o.a[_++]=S,N[S]=1),h++;o.a.length=_}}function rs(o,h){return Object.prototype.hasOwnProperty.call(o,h)}M(jr,Ni),jr.prototype[kt]=!0,jr.prototype.addEventListener=function(o,h,_,S){cr(this,o,h,_,S)},jr.prototype.removeEventListener=function(o,h,_,S){Br(this,o,h,_,S)},jr.prototype.dispatchEvent=function(o){var h,_=this.fb;if(_)for(h=[];_;_=_.fb)h.push(_);_=this.$b;var S=o.type||o;if("string"==typeof o)o=new $e(o,_);else if(o instanceof $e)o.target=o.target||_;else{var N=o;Xn(o=new $e(S,_),N)}if(N=!0,h)for(var G=h.length-1;0<=G;G--){var ee=o.b=h[G];N=Li(ee,S,!0,o)&&N}if(N=Li(ee=o.b=_,S,!0,o)&&N,N=Li(ee,S,!1,o)&&N,h)for(G=0;G<h.length;G++)N=Li(ee=o.b=h[G],S,!1,o)&&N;return N},jr.prototype.Da=function(){if(jr.$a.Da.call(this),this.v){var _,o=this.v;for(_ in o.a){for(var S=o.a[_],N=0;N<S.length;N++)ln(S[N]);delete o.a[_],o.b--}}this.fb=null},(Z=Lo.prototype).V=function(){zi(this);for(var o=[],h=0;h<this.a.length;h++)o.push(this.b[this.a[h]]);return o},Z.Y=function(){return zi(this),this.a.concat()},Z.clear=function(){this.b={},this.c=this.a.length=0},Z.get=function(o,h){return rs(this.b,o)?this.b[o]:h},Z.set=function(o,h){rs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=h},Z.forEach=function(o,h){for(var _=this.Y(),S=0;S<_.length;S++){var N=_[S],G=this.get(N);o.call(h,G,N,this)}};var bl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Io(o,h){var _;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,o instanceof Io?(this.i=void 0!==h?h:o.i,ru(this,o.f),this.l=o.l,this.a=o.a,Ts(this,o.g),this.c=o.c,Ds(this,Su(o.b)),this.h=o.h):o&&(_=String(o).match(bl))?(this.i=!!h,ru(this,_[1]||"",!0),this.l=iu(_[2]||""),this.a=iu(_[3]||"",!0),Ts(this,_[4]),this.c=iu(_[5]||"",!0),Ds(this,_[6]||"",!0),this.h=iu(_[7]||"")):(this.i=!!h,this.b=new Ys(null,this.i))}function ru(o,h,_){o.f=_?iu(h,!0):h,o.f&&(o.f=o.f.replace(/:$/,""))}function Ts(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.g=h}else o.g=null}function Ds(o,h,_){h instanceof Ys?(o.b=h,function(o,h){h&&!o.f&&(mo(o),o.c=null,o.a.forEach(function(_,S){var N=S.toLowerCase();S!=N&&(Hr(this,S),Kr(this,N,_))},o)),o.f=h}(o.b,o.i)):(_||(h=ma(h,$s)),o.b=new Ys(h,o.i))}function Vi(o,h,_){o.b.set(h,_)}function mi(o,h){return o.b.get(h)}function go(o){return o instanceof Io?new Io(o):new Io(o,void 0)}function Eu(o,h,_,S){var N=new Io(null,void 0);return o&&ru(N,o),h&&(N.a=h),_&&Ts(N,_),S&&(N.c=S),N}function iu(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ma(o,h,_){return"string"==typeof o?(o=encodeURI(o).replace(h,El),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function El(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Io.prototype.toString=function(){var o=[],h=this.f;h&&o.push(ma(h,ac,!0),":");var _=this.a;return(_||"file"==h)&&(o.push("//"),(h=this.l)&&o.push(ma(h,ac,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(_=this.g)&&o.push(":",String(_))),(_=this.c)&&(this.a&&"/"!=_.charAt(0)&&o.push("/"),o.push(ma(_,"/"==_.charAt(0)?Cu:ou,!0))),(_=this.b.toString())&&o.push("?",_),(_=this.h)&&o.push("#",ma(_,Ks)),o.join("")},Io.prototype.resolve=function(o){var h=new Io(this),_=!!o.f;_?ru(h,o.f):_=!!o.l,_?h.l=o.l:_=!!o.a,_?h.a=o.a:_=null!=o.g;var S=o.c;if(_)Ts(h,o.g);else if(_=!!o.c){if("/"!=S.charAt(0))if(this.a&&!this.c)S="/"+S;else{var N=h.c.lastIndexOf("/");-1!=N&&(S=h.c.substr(0,N+1)+S)}if(".."==(N=S)||"."==N)S="";else if(ge(N,"./")||ge(N,"/.")){S=0==N.lastIndexOf("/",0),N=N.split("/");for(var G=[],ee=0;ee<N.length;){var Ie=N[ee++];"."==Ie?S&&ee==N.length&&G.push(""):".."==Ie?((1<G.length||1==G.length&&""!=G[0])&&G.pop(),S&&ee==N.length&&G.push("")):(G.push(Ie),S=!0)}S=G.join("/")}else S=N}return _?h.c=S:_=""!==o.b.toString(),_?Ds(h,Su(o.b)):_=!!o.h,_&&(h.h=o.h),h};var ac=/[#\/\?@]/g,ou=/[#\?:]/g,Cu=/[#\?]/g,$s=/[#\?@]/g,Ks=/#/g;function Ys(o,h){this.b=this.a=null,this.c=o||null,this.f=!!h}function mo(o){o.a||(o.a=new Lo,o.b=0,o.c&&function(o,h){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var S=o[_].indexOf("="),N=null;if(0<=S){var G=o[_].substring(0,S);N=o[_].substring(S+1)}else G=o[_];h(G,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(o.c,function(h,_){o.add(decodeURIComponent(h.replace(/\+/g," ")),_)}))}function Qs(o){var h=So(o);if(void 0===h)throw Error("Keys are undefined");var _=new Ys(null,void 0);o=Ss(o);for(var S=0;S<h.length;S++){var N=h[S],G=o[S];Array.isArray(G)?Kr(_,N,G):_.add(N,G)}return _}function Hr(o,h){mo(o),h=jt(o,h),rs(o.a.b,h)&&(o.c=null,o.b-=o.a.get(h).length,rs((o=o.a).b,h)&&(delete o.b[h],o.c--,o.a.length>2*o.c&&zi(o)))}function La(o,h){return mo(o),h=jt(o,h),rs(o.a.b,h)}function Kr(o,h,_){Hr(o,h),0<_.length&&(o.c=null,o.a.set(jt(o,h),kr(_)),o.b+=_.length)}function Su(o){var h=new Ys;return h.c=o.c,o.a&&(h.a=new Lo(o.a),h.b=o.b),h}function jt(o,h){return h=String(h),o.f&&(h=h.toLowerCase()),h}function qu(o){var h=[];return As(new _a,o,h),h.join("")}function _a(){}function As(o,h,_){if(null==h)_.push("null");else{if("object"==typeof h){if(Array.isArray(h)){var S=h;h=S.length,_.push("[");for(var N="",G=0;G<h;G++)_.push(N),As(o,S[G],_),N=",";return void _.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(S in _.push("{"),N="",h)Object.prototype.hasOwnProperty.call(h,S)&&"function"!=typeof(G=h[S])&&(_.push(N),Xs(S,_),_.push(":"),As(o,G,_),N=",");return void _.push("}")}h=h.valueOf()}switch(typeof h){case"string":Xs(h,_);break;case"number":_.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":_.push(String(h));break;case"function":_.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}(Z=Ys.prototype).add=function(o,h){mo(this),this.c=null,o=jt(this,o);var _=this.a.get(o);return _||this.a.set(o,_=[]),_.push(h),this.b+=1,this},Z.clear=function(){this.a=this.c=null,this.b=0},Z.forEach=function(o,h){mo(this),this.a.forEach(function(_,S){ct(_,function(N){o.call(h,N,S,this)},this)},this)},Z.Y=function(){mo(this);for(var o=this.a.V(),h=this.a.Y(),_=[],S=0;S<h.length;S++)for(var N=o[S],G=0;G<N.length;G++)_.push(h[S]);return _},Z.V=function(o){mo(this);var h=[];if("string"==typeof o)La(this,o)&&(h=tr(h,this.a.get(jt(this,o))));else{o=this.a.V();for(var _=0;_<o.length;_++)h=tr(h,o[_])}return h},Z.set=function(o,h){return mo(this),this.c=null,La(this,o=jt(this,o))&&(this.b-=this.a.get(o).length),this.a.set(o,[h]),this.b+=1,this},Z.get=function(o,h){return o&&0<(o=this.V(o)).length?String(o[0]):h},Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],h=this.a.Y(),_=0;_<h.length;_++){var S=h[_],N=encodeURIComponent(String(S));S=this.V(S);for(var G=0;G<S.length;G++){var ee=N;""!==S[G]&&(ee+="="+encodeURIComponent(String(S[G]))),o.push(ee)}}return this.c=o.join("&")};var yi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Gu=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xs(o,h){h.push('"',o.replace(Gu,function(_){var S=yi[_];return S||(S="\\u"+(65536|_.charCodeAt(0)).toString(16).substr(1),yi[_]=S),S}),'"')}function fi(){var o=_o();return ue&&!!Un&&11==Un||/Edge\/\d+/.test(o)}function w(){return Y.window&&Y.window.location.href||self&&self.location&&self.location.href||""}function P(o,h){h=h||Y.window;var _="about:blank";o&&(_=tt(Qt(o))),h.location.href=_}function q(o,h){var S,_=[];for(S in o)S in h?typeof o[S]!=typeof h[S]?_.push(S):"object"==typeof o[S]&&null!=o[S]&&null!=h[S]?0<q(o[S],h[S]).length&&_.push(S):o[S]!==h[S]&&_.push(S):_.push(S);for(S in h)S in o||_.push(S);return _}function Re(o){return!!((o=(o||_o()).toLowerCase()).match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Xe(o){o=o||Y.window;try{o.close()}catch(h){}}function cn(o,h,_){var S=Math.floor(1e9*Math.random()).toString();h=h||500,_=_||600;var N=(window.screen.availHeight-_)/2,G=(window.screen.availWidth-h)/2;for(ee in h={width:h,height:_,top:0<N?N:0,left:0<G?G:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},_=_o().toLowerCase(),S&&(h.target=S,ge(_,"crios/")&&(h.target="_blank")),Ua(_o())==Cl&&(o=o||"http://localhost",h.scrollbars=!0),_=o||"",(o=h)||(o={}),S=window,h=_ instanceof Fe?_:Qt(void 0!==_.href?_.href:String(_)),_=o.target||_.target,N=[],o)switch(ee){case"width":case"height":case"top":case"left":N.push(ee+"="+o[ee]);break;case"target":case"noopener":case"noreferrer":break;default:N.push(ee+"="+(o[ee]?1:0))}var ee=N.join(",");if((zt("iPhone")&&!zt("iPod")&&!zt("iPad")||zt("iPad")||zt("iPod"))&&S.navigator&&S.navigator.standalone&&_&&"_self"!=_?(Cr(ee=ws(document,"A"),"HTMLAnchorElement"),h instanceof Fe||h instanceof Fe||(h="object"==typeof h&&h.sa?h.ra():String(h),Ot.test(h)||(h="about:invalid#zClosurez"),h=new Fe(At,h)),ee.href=tt(h),ee.setAttribute("target",_),o.noreferrer&&ee.setAttribute("rel","noreferrer"),(o=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,S,1),ee.dispatchEvent(o),ee={}):o.noreferrer?(ee=S.open("",_,ee),o=tt(h),ee&&(we&&ge(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),ee.opener=null,o=mr('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ke(o)+'">'),S=ee.document)&&(S.write(Mr(o)),S.close())):(ee=S.open(tt(h),_,ee))&&o.noopener&&(ee.opener=null),ee)try{ee.focus()}catch(Ie){}return ee}var Ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oo=/^[^@]+@[^@]+$/;function so(){var o=null;return new Hn(function(h){"complete"==Y.document.readyState?h():(o=function(){h()},po(window,"load",o))}).s(function(h){throw Br(window,"load",o),h})}function Va(o){return o=o||_o(),!("file:"!==f()&&"ionic:"!==f()||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ms(){var o=Y.window;try{return!(!o||o==o.top)}catch(h){return!1}}function Xr(){return void 0!==Y.WorkerGlobalScope&&"function"==typeof Y.importScripts}function Fr(){return te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.INTERNAL.hasOwnProperty("node")?"Node":Xr()?"Worker":"Browser"}function Iu(){var o=Fr();return"ReactNative"===o||"Node"===o}var Cl="Firefox";function Ua(o){var h=o.toLowerCase();return ge(h,"opera/")||ge(h,"opr/")||ge(h,"opios/")?"Opera":ge(h,"iemobile")?"IEMobile":ge(h,"msie")||ge(h,"trident/")?"IE":ge(h,"edge/")?"Edge":ge(h,"firefox/")?Cl:ge(h,"silk/")?"Silk":ge(h,"blackberry")?"Blackberry":ge(h,"webos")?"Webos":!ge(h,"safari/")||ge(h,"chrome/")||ge(h,"crios/")||ge(h,"android")?!ge(h,"chrome/")&&!ge(h,"crios/")||ge(h,"edge/")?ge(h,"android")?"Android":(o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==o.length?o[1]:"Other":"Chrome":"Safari"}var Sl={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Gn(o,h){h=h||[];var N,_=[],S={};for(N in Sl)S[Sl[N]]=!0;for(N=0;N<h.length;N++)void 0!==S[h[N]]&&(delete S[h[N]],_.push(h[N]));return _.sort(),(h=_).length||(h=["FirebaseCore-web"]),"Browser"===(_=Fr())?_=Ua(S=_o()):"Worker"===_&&(_=Ua(S=_o())+"-"+_),_+"/JsCore/"+o+"/"+h.join(",")}function _o(){return Y.navigator&&Y.navigator.userAgent||""}function bi(o,h){o=o.split("."),h=h||Y;for(var _=0;_<o.length&&"object"==typeof h&&null!=h;_++)h=h[o[_]];return _!=o.length&&(h=void 0),h}function Wu(){try{var o=Y.localStorage,h=z();if(o)return o.setItem(h,"1"),o.removeItem(h),!fi()||!!Y.indexedDB}catch(_){return Xr()&&!!Y.indexedDB}return!1}function ya(){return(y()||"chrome-extension:"===f()||Va())&&!Iu()&&Wu()&&!Xr()}function y(){return"http:"===f()||"https:"===f()}function f(){return Y.location&&Y.location.protocol||null}function g(o){return!(Re(o=o||_o())||Ua(o)==Cl)}function b(o){return void 0===o?null:qu(o)}function D(o){var _,h={};for(_ in o)o.hasOwnProperty(_)&&null!=o[_]&&(h[_]=o[_]);return h}function x(o){if(null!==o)return JSON.parse(o)}function z(o){return o||Math.floor(1e9*Math.random()).toString()}function Q(o){return!("Safari"==Ua(o=o||_o())||o.toLowerCase().match(/iphone|ipad|ipod/))}function ce(){var o=Y.___jsl;if(o&&o.H)for(var h in o.H)if(o.H[h].r=o.H[h].r||[],o.H[h].L=o.H[h].L||[],o.H[h].r=o.H[h].L.concat(),o.CP)for(var _=0;_<o.CP.length;_++)o.CP[_]=null}function ae(o,h){if(o>h)throw Error("Short delay should be less than long delay!");this.a=o,this.c=h,o=_o(),h=Fr(),this.b=Re(o)||"ReactNative"===h}function He(){var o=Y.document;return!o||void 0===o.visibilityState||"visible"==o.visibilityState}function _t(o){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(o)}function xt(o){try{var h=new Date(parseInt(o,10));if(!isNaN(h.getTime())&&!/[^0-9]/.test(o))return h.toUTCString()}catch(_){}return null}function Zt(){return!(!bi("fireauth.oauthhelper",Y)&&!bi("fireauth.iframe",Y))}ae.prototype.get=function(){var o=Y.navigator;return!o||"boolean"!=typeof o.onLine||!y()&&"chrome-extension:"!==f()&&void 0===o.connection||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $i,Zn={};function vo(o){Zn[o]||(Zn[o]=!0,_t(o))}try{var yo={};Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(yo,"abcd",{configurable:!0,enumerable:!0,value:2}),$i=2==yo.abcd}catch(o){$i=!1}function mn(o,h,_){$i?Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:_}):o[h]=_}function Ki(o,h){if(h)for(var _ in h)h.hasOwnProperty(_)&&mn(o,_,h[_])}function hs(o){var h={};return Ki(h,o),h}function sh(o){var h=o;if("object"==typeof o&&null!=o)for(var _ in h="length"in o?[]:{},o)mn(h,_,sh(o[_]));return h}function ah(o){var h=o&&(o[Zh]?"phone":null);if(!(h&&o&&o[Il]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");mn(this,"uid",o[Il]),mn(this,"displayName",o[Tu]||null);var _=null;o[Du]&&(_=new Date(o[Du]).toUTCString()),mn(this,"enrollmentTime",_),mn(this,"factorId",h)}function lc(o){try{var h=new cc(o)}catch(_){h=null}return h}ah.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Tu="displayName",Du="enrolledAt",Il="mfaEnrollmentId",Zh="phoneInfo";function cc(o){ah.call(this,o),mn(this,"phoneNumber",o[Zh])}function nd(o){var h={},_=o[wm],S=o[Ku],N=o[ro];if(o=lc(o[Ko]),!N||N!=su&&N!=$u&&!_||N==$u&&!S||N==Ba&&!o)throw Error("Invalid checkActionCode response!");N==$u?(h[Au]=_||null,h[Yo]=_||null,h[To]=S):(h[Au]=S||null,h[Yo]=S||null,h[To]=_||null),h[wi]=o||null,mn(this,Cm,N),mn(this,Em,sh(h))}M(cc,ah),cc.prototype.w=function(){var o=cc.$a.w.call(this);return o.phoneNumber=this.phoneNumber,o};var Ba="REVERT_SECOND_FACTOR_ADDITION",su="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",wm="email",Ko="mfaInfo",Ku="newEmail",ro="requestType",To="email",Au="fromEmail",wi="multiFactorInfo",Yo="previousEmail",Em="data",Cm="operation";function Si(o){var h=mi(o=go(o),Os)||null,_=mi(o,Vo)||null,S=mi(o,Yu)||null;if(S=S&&Js[S]||null,!h||!_||!S)throw new I("argument-error",Os+", "+Vo+"and "+Yu+" are required in a valid action code URL.");Ki(this,{apiKey:h,operation:S,code:_,continueUrl:mi(o,Do)||null,languageCode:mi(o,xs)||null,tenantId:mi(o,Mu)||null})}var Os="apiKey",Vo="oobCode",Do="continueUrl",xs="languageCode",Yu="mode",Mu="tenantId",Js={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ba,signIn:su,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function Ep(o){try{return new Si(o)}catch(h){return null}}function ef(o){var h=o[Sm];if(void 0===h)throw new I("missing-continue-uri");if("string"!=typeof h||"string"==typeof h&&!h.length)throw new I("invalid-continue-uri");this.h=h,this.b=this.a=null,this.g=!1;var _=o[Tl];if(_&&"object"==typeof _){h=_[uh];var S=_[Qu];if(_=_[Ml],"string"==typeof h&&h.length){if(this.a=h,void 0!==S&&"boolean"!=typeof S)throw new I("argument-error",Qu+" property must be a boolean when specified.");if(this.g=!!S,void 0!==_&&("string"!=typeof _||"string"==typeof _&&!_.length))throw new I("argument-error",Ml+" property must be a non empty string when specified.");this.b=_||null}else{if(void 0!==h)throw new I("argument-error",uh+" property must be a non empty string when specified.");if(void 0!==S||void 0!==_)throw new I("missing-android-pkg-name")}}else if(void 0!==_)throw new I("argument-error",Tl+" property must be a non null object when specified.");if(this.f=null,(h=o[Al])&&"object"==typeof h){if("string"==typeof(h=h[fs])&&h.length)this.f=h;else if(void 0!==h)throw new I("argument-error",fs+" property must be a non empty string when specified.")}else if(void 0!==h)throw new I("argument-error",Al+" property must be a non null object when specified.");if(void 0!==(h=o[rd])&&"boolean"!=typeof h)throw new I("argument-error",rd+" property must be a boolean when specified.");if(this.c=!!h,void 0!==(o=o[Dl])&&("string"!=typeof o||"string"==typeof o&&!o.length))throw new I("argument-error",Dl+" property must be a non empty string when specified.");this.i=o||null}var Tl="android",Dl="dynamicLinkDomain",rd="handleCodeInApp",Al="iOS",Sm="url",Qu="installApp",Ml="minimumVersion",uh="packageName",fs="bundleId";function ja(o){var h={};for(var _ in h.continueUrl=o.h,h.canHandleCodeInApp=o.c,(h.androidPackageName=o.a)&&(h.androidMinimumVersion=o.b,h.androidInstallApp=o.g),h.iOSBundleId=o.f,h.dynamicLinkDomain=o.i,h)null===h[_]&&delete h[_];return h}var hc=null;function dc(o){var h=Im(o);if(!(h&&h.sub&&h.iss&&h.aud&&h.exp))throw Error("Invalid JWT");this.g=o,this.c=h.exp,this.h=h.sub,A(),this.a=h.provider_id||h.firebase&&h.firebase.sign_in_provider||null,this.f=h.firebase&&h.firebase.tenant||null,this.b=!!h.is_anonymous||"anonymous"==this.a}function Xu(o){try{return new dc(o)}catch(h){return null}}function Im(o){if(!o||3!=(o=o.split(".")).length)return null;for(var h=(4-(o=o[1]).length%4)%4,_=0;_<h;_++)o+=".";try{return JSON.parse(function(o){var h="";return function(o,h){function _(St){for(;S<o.length;){var Ut=o.charAt(S++),yr=hc[Ut];if(null!=yr)return yr;if(!/^[\s\xa0]*$/.test(Ut))throw Error("Unknown base64 encoding at char: "+Ut)}return St}!function(){if(!hc){hc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=["+/=","+/","-_=","-_.","-_"],_=0;5>_;_++)for(var S=o.concat(h[_].split("")),N=0;N<S.length;N++){var G=S[N];void 0===hc[G]&&(hc[G]=N)}}}();for(var S=0;;){var N=_(-1),G=_(0),ee=_(64),Ie=_(64);if(64===Ie&&-1===N)break;h(N<<2|G>>4),64!=ee&&(h(G<<4&240|ee>>2),64!=Ie&&h(ee<<6&192|Ie))}}(o,function(_){h+=String.fromCharCode(_)}),h}(o))}catch(S){}return null}dc.prototype.S=function(){return this.f},dc.prototype.i=function(){return this.b},dc.prototype.toString=function(){return this.g};var od="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ju=["client_id","response_type","scope","redirect_uri","state"],Zu={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ju},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ju},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ju},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:od},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function pc(o){for(var h in Zu)if(Zu[h].fa==o)return Zu[h];return null}function Ol(o){var h={};h["facebook.com"]=Ao,h["google.com"]=nf,h["github.com"]=sd,h["twitter.com"]=ad;var _=o&&o[tf];try{if(_)return h[_]?new h[_](o):new ds(o);if(void 0!==o[ch])return new ba(o)}catch(S){}return null}var ch="idToken",tf="providerId";function ba(o){var h=o[tf];if(!h&&o[ch]){var _=Xu(o[ch]);_&&_.a&&(h=_.a)}if(!h)throw Error("Invalid additional user info!");("anonymous"==h||"custom"==h)&&(h=null),_=!1,void 0!==o.isNewUser?_=!!o.isNewUser:"identitytoolkit#SignupNewUserResponse"===o.kind&&(_=!0),mn(this,"providerId",h),mn(this,"isNewUser",_)}function ds(o){ba.call(this,o),mn(this,"profile",sh((o=x(o.rawUserInfo||"{}"))||{}))}function Ao(o){if(ds.call(this,o),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function sd(o){if(ds.call(this,o),"github.com"!=this.providerId)throw Error("Invalid provider ID!");mn(this,"username",this.profile&&this.profile.login||null)}function nf(o){if(ds.call(this,o),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ad(o){if(ds.call(this,o),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");mn(this,"username",o.screenName||null)}function ud(o){var h=go(o),_=mi(h,"link"),S=mi(go(_),"link");return h=mi(h,"deep_link_id"),mi(go(h),"link")||h||S||_||o}function rf(o,h){if(!o&&!h)throw new I("internal-error","Internal assert: no raw session string available");if(o&&h)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=h||null,this.type=this.a?gc:xl}M(ds,ba),M(Ao,ds),M(sd,ds),M(nf,ds),M(ad,ds);var gc="enroll",xl="signin";function au(){}function mc(o,h){return o.then(function(_){if(_[na]){var S=Xu(_[na]);if(!S||h!=S.h)throw new I("user-mismatch");return _}throw new I("user-mismatch")}).s(function(_){throw _&&_.code&&_.code==H+"user-not-found"?new I("user-mismatch"):_})}function el(o,h){if(!h)throw new I("internal-error","failed to construct a credential");this.a=h,mn(this,"providerId",o),mn(this,"signInMethod",o)}function of(o){return{pendingToken:o.a,requestUri:"http://localhost"}}function uu(o){if(o&&o.providerId&&o.signInMethod&&0==o.providerId.indexOf("saml.")&&o.pendingToken)try{return new el(o.providerId,o.pendingToken)}catch(h){}return null}function Jr(o,h,_){if(this.a=null,h.idToken||h.accessToken)h.idToken&&mn(this,"idToken",h.idToken),h.accessToken&&mn(this,"accessToken",h.accessToken),h.nonce&&!h.pendingToken&&mn(this,"nonce",h.nonce),h.pendingToken&&(this.a=h.pendingToken);else{if(!h.oauthToken||!h.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");mn(this,"accessToken",h.oauthToken),mn(this,"secret",h.oauthTokenSecret)}mn(this,"providerId",o),mn(this,"signInMethod",_)}function _c(o){var h={};return o.idToken&&(h.id_token=o.idToken),o.accessToken&&(h.access_token=o.accessToken),o.secret&&(h.oauth_token_secret=o.secret),h.providerId=o.providerId,o.nonce&&!o.a&&(h.nonce=o.nonce),h={postBody:Qs(h).toString(),requestUri:"http://localhost"},o.a&&(delete h.postBody,h.pendingToken=o.a),h}function wa(o){if(o&&o.providerId&&o.signInMethod){var h={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Jr(o.providerId,h,o.signInMethod)}catch(_){}}return null}function is(o,h){this.Pc=h||[],Ki(this,{providerId:o,isOAuthProvider:!0}),this.Hb={},this.ob=(pc(o)||{}).Ja||null,this.nb=null}function xu(o){if("string"!=typeof o||0!=o.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');is.call(this,o,[])}function Mo(o){is.call(this,o,Ju),this.a=[]}function Zs(){Mo.call(this,"facebook.com")}function vc(o){if(!o)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=o;return Le(o)&&(h=o.accessToken),(new Zs).credential({accessToken:h})}function bo(){Mo.call(this,"github.com")}function Cp(o){if(!o)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var h=o;return Le(o)&&(h=o.accessToken),(new bo).credential({accessToken:h})}function yc(){Mo.call(this,"google.com"),this.Ca("profile")}function Sp(o,h){var _=o;return Le(o)&&(_=o.idToken,h=o.accessToken),(new yc).credential({idToken:_,accessToken:h})}function hh(){is.call(this,"twitter.com",od)}function fh(o,h){var _=o;if(Le(_)||(_={oauthToken:o,oauthTokenSecret:h}),!_.oauthToken||!_.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",_,"twitter.com")}function Xt(o,h,_){this.a=o,this.f=h,mn(this,"providerId","password"),mn(this,"signInMethod",_===Rs.EMAIL_LINK_SIGN_IN_METHOD?Rs.EMAIL_LINK_SIGN_IN_METHOD:Rs.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bc(o){return o&&o.email&&o.password?new Xt(o.email,o.password,o.signInMethod):null}function Rs(){Ki(this,{providerId:"password",isOAuthProvider:!1})}function Ip(o,h){if(!(h=Tp(h)))throw new I("argument-error","Invalid email link!");return new Xt(o,h.code,Rs.EMAIL_LINK_SIGN_IN_METHOD)}function Tp(o){return(o=Ep(o=ud(o)))&&o.operation===su?o:null}function Rl(o){if(!(o.cb&&o.bb||o.La&&o.ea))throw new I("internal-error");this.a=o,mn(this,"providerId","phone"),this.fa="phone",mn(this,"signInMethod","phone")}function qv(o){if(o&&"phone"===o.providerId&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var h={};return ct(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(_){o[_]&&(h[_]=o[_])}),new Rl(h)}return null}function sf(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.cb,code:o.a.bb}}function lu(o){try{this.a=o||te.auth()}catch(h){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ki(this,{providerId:"phone",isOAuthProvider:!1})}function wc(o,h){if(!o)throw new I("missing-verification-id");if(!h)throw new I("missing-verification-code");return new Rl({cb:o,bb:h})}function Ru(o){if(o.temporaryProof&&o.phoneNumber)return new Rl({La:o.temporaryProof,ea:o.phoneNumber});var h=o&&o.providerId;if(!h||"password"===h)return null;var _=o&&o.oauthAccessToken,S=o&&o.oauthTokenSecret,N=o&&o.nonce,G=o&&o.oauthIdToken,ee=o&&o.pendingToken;try{switch(h){case"google.com":return Sp(G,_);case"facebook.com":return vc(_);case"github.com":return Cp(_);case"twitter.com":return fh(_,S);default:return _||S||G||ee?ee?0==h.indexOf("saml.")?new el(h,ee):new Jr(h,{pendingToken:ee,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},h):new Mo(h).credential({idToken:G,accessToken:_,rawNonce:N}):null}}catch(Ie){return null}}function ld(o){if(!o.isOAuthProvider)throw new I("invalid-oauth-provider")}function os(o,h,_,S,N,G,ee){if(this.c=o,this.b=h||null,this.g=_||null,this.f=S||null,this.i=G||null,this.h=ee||null,this.a=N||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Dp(o){return(o=o||{}).type?new os(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&F(o.error),o.postBody,o.tenantId):null}function Oo(){this.b=null,this.a=[]}rf.prototype.Ha=function(){return $t(this.a?this.a:this.b)},rf.prototype.w=function(){return this.type==gc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},au.prototype.ja=function(){},au.prototype.b=function(){},au.prototype.c=function(){},au.prototype.w=function(){},el.prototype.ja=function(o){return gf(o,of(this))},el.prototype.b=function(o,h){var _=of(this);return _.idToken=h,kc(o,_)},el.prototype.c=function(o,h){return mc(mf(o,of(this)),h)},el.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Jr.prototype.ja=function(o){return gf(o,_c(this))},Jr.prototype.b=function(o,h){var _=_c(this);return _.idToken=h,kc(o,_)},Jr.prototype.c=function(o,h){return mc(mf(o,_c(this)),h)},Jr.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o},is.prototype.Ka=function(o){return this.Hb=Dn(o),this},M(xu,is),M(Mo,is),Mo.prototype.Ca=function(o){return rn(this.a,o)||this.a.push(o),this},Mo.prototype.Pb=function(){return kr(this.a)},Mo.prototype.credential=function(o,h){var _;if(!(_=Le(o)?{idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:{idToken:o||null,accessToken:h||null}).idToken&&!_.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,_,this.providerId)},M(Zs,Mo),mn(Zs,"PROVIDER_ID","facebook.com"),mn(Zs,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),M(bo,Mo),mn(bo,"PROVIDER_ID","github.com"),mn(bo,"GITHUB_SIGN_IN_METHOD","github.com"),M(yc,Mo),mn(yc,"PROVIDER_ID","google.com"),mn(yc,"GOOGLE_SIGN_IN_METHOD","google.com"),M(hh,is),mn(hh,"PROVIDER_ID","twitter.com"),mn(hh,"TWITTER_SIGN_IN_METHOD","twitter.com"),Xt.prototype.ja=function(o){return this.signInMethod==Rs.EMAIL_LINK_SIGN_IN_METHOD?vr(o,Vp,{email:this.a,oobCode:this.f}):vr(o,ur,{email:this.a,password:this.f})},Xt.prototype.b=function(o,h){return this.signInMethod==Rs.EMAIL_LINK_SIGN_IN_METHOD?vr(o,Wv,{idToken:h,email:this.a,oobCode:this.f}):vr(o,Te,{idToken:h,email:this.a,password:this.f})},Xt.prototype.c=function(o,h){return mc(this.ja(o),h)},Xt.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ki(Rs,{PROVIDER_ID:"password"}),Ki(Rs,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ki(Rs,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Rl.prototype.ja=function(o){return o.eb(sf(this))},Rl.prototype.b=function(o,h){var _=sf(this);return _.idToken=h,vr(o,_i,_)},Rl.prototype.c=function(o,h){var _=sf(this);return _.operation="REAUTH",mc(o=vr(o,Bi,_),h)},Rl.prototype.w=function(){var o={providerId:"phone"};return this.a.cb&&(o.verificationId=this.a.cb),this.a.bb&&(o.verificationCode=this.a.bb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o},lu.prototype.eb=function(o,h){var _=this.a.a;return $t(h.verify()).then(function(S){if("string"!=typeof S)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(h.type){case"recaptcha":var N=Le(o)?o.session:null,G=Le(o)?o.phoneNumber:o;return(N&&N.type==gc?N.Ha().then(function(Ie){return function(o,h){return vr(o,We,h).then(function(_){return _.phoneSessionInfo.sessionInfo})}(_,{idToken:Ie,phoneEnrollmentInfo:{phoneNumber:G,recaptchaToken:S}})}):N&&N.type==xl?N.Ha().then(function(Ie){return function(o,h){return vr(o,st,h).then(function(_){return _.phoneResponseInfo.sessionInfo})}(_,{mfaPendingCredential:Ie,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:S}})}):function(o,h){return vr(o,ne,h)}(_,{phoneNumber:G,recaptchaToken:S})).then(function(Ie){return"function"==typeof h.reset&&h.reset(),Ie},function(Ie){throw"function"==typeof h.reset&&h.reset(),Ie});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ki(lu,{PROVIDER_ID:"phone"}),Ki(lu,{PHONE_SIGN_IN_METHOD:"phone"}),os.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},os.prototype.S=function(){return this.h},os.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ku,tl=null;function Ap(o){var h="unauthorized-domain",_=void 0,S=go(o);o=S.a,"chrome-extension"==(S=S.f)?_=Se("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):"http"==S||"https"==S?_=Se("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):h="operation-not-supported-in-this-environment",I.call(this,h,_)}function kl(o,h,_){I.call(this,o,_),(o=h||{}).Ib&&mn(this,"email",o.Ib),o.ea&&mn(this,"phoneNumber",o.ea),o.credential&&mn(this,"credential",o.credential),o.Yb&&mn(this,"tenantId",o.Yb)}function ps(o){if(o.code){var h=o.code||"";0==h.indexOf(H)&&(h=h.substring(H.length));var _={credential:Ru(o),Yb:o.tenantId};if(o.email)_.Ib=o.email;else if(o.phoneNumber)_.ea=o.phoneNumber;else if(!_.credential)return new I(h,o.message||void 0);return new kl(h,_,o.message)}return null}function gs(){}function Ha(){}function cd(o){if(!o.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var h=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],_=0;_<h.length;_++){var S=h[_];try{return new ActiveXObject(S),o.f=S}catch(N){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}function Cc(){}function uf(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Qe(this.pc,this),this.a.onerror=Qe(this.Rb,this),this.a.onprogress=Qe(this.qc,this),this.a.ontimeout=Qe(this.uc,this)}function Pl(o,h){o.readyState=h,o.onreadystatechange&&o.onreadystatechange()}function hd(o,h,_){this.reset(o,h,_,void 0,void 0)}function ms(o){this.f=o,this.b=this.c=this.a=null}function Pu(o,h){this.name=o,this.value=h}M(Ap,I),M(kl,I),kl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var h=this.credential&&this.credential.w();return h&&Xn(o,h),o},kl.prototype.toJSON=function(){return this.w()},gs.prototype.c=null,M(Ha,gs),Ha.prototype.a=function(){var o=cd(this);return o?new ActiveXObject(o):new XMLHttpRequest},Ha.prototype.b=function(){var o={};return cd(this)&&(o[0]=!0,o[1]=!0),o},ku=new Ha,M(Cc,gs),Cc.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if("undefined"!=typeof XDomainRequest)return new uf;throw Error("Unsupported browser")},Cc.prototype.b=function(){return{}},(Z=uf.prototype).open=function(o,h,_){if(null!=_&&!_)throw Error("Only async requests are supported.");this.a.open(o,h)},Z.send=function(o){if(o){if("string"!=typeof o)throw Error("Only string data is supported");this.a.send(o)}else this.a.send()},Z.abort=function(){this.a.abort()},Z.setRequestHeader=function(){},Z.getResponseHeader=function(o){return"content-type"==o.toLowerCase()?this.a.contentType:""},Z.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Pl(this,4)},Z.Rb=function(){this.status=500,this.response=this.responseText="",Pl(this,4)},Z.uc=function(){this.Rb()},Z.qc=function(){this.status=200,Pl(this,1)},Z.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},hd.prototype.a=null,hd.prototype.reset=function(o,h,_,S,N){S||A(),delete this.a},Pu.prototype.toString=function(){return this.name};var ea=new Pu("SEVERE",1e3),Mp=new Pu("WARNING",900),Op=new Pu("CONFIG",700),Tm=new Pu("FINE",500);function xp(o){return o.c?o.c:o.a?xp(o.a):(xe("Root logger has no level set."),null)}ms.prototype.log=function(o,h,_){if(o.value>=xp(this).value)for(Pt(h)&&(h=h()),o=new hd(o,String(h),this.f),_&&(o.a=_),_=this;_;)_=_.a};var fd={},dh=null;function cf(o){var h;if(dh||(dh=new ms(""),fd[""]=dh,dh.c=Op),!(h=fd[o])){h=new ms(o);var _=o.lastIndexOf("."),S=o.substr(_+1);(_=cf(o.substr(0,_))).b||(_.b={}),_.b[S]=h,h.a=_,fd[o]=h}return h}function ss(o,h){o&&o.log(Tm,h,void 0)}function Sc(o){this.f=o}function Ic(o){jr.call(this),this.o=o,this.readyState=hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=cf("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}M(Sc,gs),Sc.prototype.a=function(){return new Ic(this.f)},Sc.prototype.b=function(o){return function(){return o}}({}),M(Ic,jr);var hf=0;function nl(o){o.c.read().then(o.oc.bind(o)).catch(o.Ta.bind(o))}function Nl(o,h){h&&o.f&&(o.status=o.f.status,o.statusText=o.f.statusText),o.readyState=4,o.f=null,o.c=null,o.l=null,cu(o)}function cu(o){o.onreadystatechange&&o.onreadystatechange.call(o)}function ph(o){jr.call(this),this.headers=new Lo,this.O=o||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Rp,this.u=this.R=!1}(Z=Ic.prototype).open=function(o,h){if(this.readyState!=hf)throw this.abort(),Error("Error reopening a connection");this.m=o,this.g=h,this.readyState=1,cu(this)},Z.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var h={headers:this.i,method:this.m,credentials:void 0,cache:void 0};o&&(h.body=o),this.o.fetch(new Request(this.g,h)).then(this.tc.bind(this),this.Ta.bind(this))},Z.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Nl(this,!1)),this.readyState=hf},Z.tc=function(o){this.a&&(this.f=o,this.b||(this.b=o.headers,this.readyState=2,cu(this)),this.a&&(this.readyState=3,cu(this),this.a&&("arraybuffer"===this.responseType?o.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==Y.ReadableStream&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.l=new TextDecoder,nl(this)):o.text().then(this.sc.bind(this),this.Ta.bind(this)))))},Z.oc=function(o){if(this.a){var h=this.l.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});h&&(this.response=this.responseText+=h),o.done?Nl(this,!0):cu(this),3==this.readyState&&nl(this)}},Z.sc=function(o){this.a&&(this.response=this.responseText=o,Nl(this,!0))},Z.rc=function(o){this.a&&(this.response=o,Nl(this,!0))},Z.Ta=function(o){var h=this.h;h&&h.log(Mp,"Failed to fetch url "+this.g,o instanceof Error?o:Error(o)),this.a&&Nl(this,!0)},Z.setRequestHeader=function(o,h){this.i.append(o,h)},Z.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.h)&&o.log(Mp,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},Z.getAllResponseHeaders=function(){if(!this.b){var o=this.h;return o&&o.log(Mp,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}o=[];for(var h=this.b.entries(),_=h.next();!_.done;)o.push((_=_.value)[0]+": "+_[1]),_=h.next();return o.join("\r\n")},M(ph,jr);var Rp="";ph.prototype.b=cf("goog.net.XhrIo");var Dm=/^https?$/i,dd=["POST","PUT"];function gh(o){return"content-type"==o.toLowerCase()}function Fl(o,h){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=h,kp(o),mh(o)}function kp(o){o.G||(o.G=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}function Me(o){if(o.c&&void 0!==be)if(o.A[1]&&4==Ea(o)&&2==za(o))ss(o.b,ta(o,"Local request error detected and ignored"));else if(o.i&&4==Ea(o))Ws(o.Ub,0,o);else if(o.dispatchEvent("readystatechange"),4==Ea(o)){ss(o.b,ta(o,"Request complete")),o.c=!1;try{var S,h=za(o);e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}if(!(S=_)){var N;if(N=0===h){var G=String(o.l).match(bl)[1]||null;if(!G&&Y.self&&Y.self.location){var ee=Y.self.location.protocol;G=ee.substr(0,ee.length-1)}N=!Dm.test(G?G.toLowerCase():"")}S=N}if(S)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var Ie=2<Ea(o)?o.a.statusText:""}catch(St){ss(o.b,"Can not get status: "+St.message),Ie=""}o.h=Ie+" ["+za(o)+"]",kp(o)}}finally{mh(o)}}}function mh(o,h){if(o.a){Tc(o);var _=o.a,S=o.A[0]?Ne:null;o.a=null,o.A=null,h||o.dispatchEvent("ready");try{_.onreadystatechange=S}catch(N){(o=o.b)&&o.log(ea,"Problem encountered resetting onreadystatechange: "+N.message,void 0)}}}function Tc(o){o.a&&o.u&&(o.a.ontimeout=null),o.o&&(Y.clearTimeout(o.o),o.o=null)}function Ea(o){return o.a?o.a.readyState:0}function za(o){try{return 2<Ea(o)?o.a.status:-1}catch(h){return-1}}function ta(o,h){return h+" ["+o.P+" "+o.l+" "+za(o)+"]"}function qa(o){var h=Mc;this.g=[],this.u=h,this.o=o||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Dc(o,h,_){o.a=!0,o.c=_,o.f=!h,gd(o)}function Ui(o){if(o.a){if(!o.m)throw new _h(o);o.m=!1}}function Ca(o,h,_,S){o.g.push([h,_,S]),o.a&&gd(o)}function ks(o){return Ht(o.g,function(h){return Pt(h[1])})}function gd(o){if(o.h&&o.a&&ks(o)){var h=o.h,_=yh[h];_&&(Y.clearTimeout(_.a),delete yh[h]),o.h=0}o.b&&(o.b.l--,delete o.b),h=o.c;for(var S=_=!1;o.g.length&&!o.i;){var N=o.g.shift(),G=N[0],ee=N[1];if(N=N[2],G=o.f?ee:G)try{var Ie=G.call(N||o.o,h);void 0!==Ie&&(o.f=o.f&&(Ie==h||Ie instanceof Error),o.c=h=Ie),(se(h)||"function"==typeof Y.Promise&&h instanceof Y.Promise)&&(S=!0,o.i=!0)}catch(St){h=St,o.f=!0,ks(o)||(_=!0)}}o.c=h,S&&(Ie=Qe(o.v,o,!0),S=Qe(o.v,o,!1),h instanceof qa?(Ca(h,Ie,S),h.A=!0):h.then(Ie,S)),_&&(h=new vh(h),yh[h.a]=h,o.h=h.a)}function _h(){Ve.call(this)}function Ll(){Ve.call(this)}function vh(o){this.a=Y.setTimeout(Qe(this.c,this),0),this.b=o}(Z=ph.prototype).Ma=function(){void 0!==be&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Z.abort=function(){this.a&&this.c&&(ss(this.b,ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mh(this))},Z.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mh(this,!0)),ph.$a.Da.call(this)},Z.Ub=function(){this.xa||(this.N||this.i||this.f?Me(this):this.Ic())},Z.Ic=function(){Me(this)},Z.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Rp:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(ea,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(h){return ss(this.b,"Can not get response: "+h.message),null}},qa.prototype.cancel=function(o){if(this.a)this.c instanceof qa&&this.c.cancel();else{if(this.b){var h=this.b;delete this.b,o?h.cancel(o):(h.l--,0>=h.l&&h.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(o=new Ll(this),Ui(this),Dc(this,!1,o))}},qa.prototype.v=function(o,h){this.i=!1,Dc(this,o,h)},qa.prototype.then=function(o,h,_){var S,N,G=new Hn(function(ee,Ie){S=ee,N=Ie});return Ca(this,S,function(ee){ee instanceof Ll?G.cancel():N(ee)}),G.then(o,h,_)},qa.prototype.$goog_Thenable=!0,M(_h,Ve),_h.prototype.message="Deferred has already fired",_h.prototype.name="AlreadyCalledError",M(Ll,Ve),Ll.prototype.message="Deferred was canceled",Ll.prototype.name="CanceledError",vh.prototype.c=function(){throw delete yh[this.a],this.b};var yh={};function Ac(o){var h={},_=h.document||document,S=an(o).toString(),N=ws(document,"SCRIPT"),G={Vb:N,Ma:void 0},ee=new qa(G),Ie=null,St=null!=h.timeout?h.timeout:5e3;return 0<St&&(Ie=window.setTimeout(function(){Sa(N,!0);var Ut=new bh(Om,"Timeout reached for loading script "+S);Ui(ee),Dc(ee,!1,Ut)},St),G.Ma=Ie),N.onload=N.onreadystatechange=function(){N.readyState&&"loaded"!=N.readyState&&"complete"!=N.readyState||(Sa(N,h.wd||!1,Ie),Ui(ee),Dc(ee,!0,null))},N.onerror=function(){Sa(N,!0,Ie);var Ut=new bh(Mm,"Error while loading script "+S);Ui(ee),Dc(ee,!1,Ut)},Xn(G=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Ho(N,G),function(o,h){Cr(o,"HTMLScriptElement"),o.src=an(h),null===it&&(it=(h=(h=Y.document).querySelector&&h.querySelector("script[nonce]"))&&(h=h.nonce||h.getAttribute("nonce"))&&et.test(h)?h:""),(h=it)&&o.setAttribute("nonce",h)}(N,o),function(o){var h;return(h=(o||document).getElementsByTagName("HEAD"))&&0!=h.length?h[0]:o.documentElement}(_).appendChild(N),ee}function Mc(){if(this&&this.Vb){var o=this.Vb;o&&"SCRIPT"==o.tagName&&Sa(o,!0,this.Ma)}}function Sa(o,h,_){null!=_&&Y.clearTimeout(_),o.onload=Ne,o.onerror=Ne,o.onreadystatechange=Ne,h&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var Mm=0,Om=1;function bh(o,h){var _="Jsloader error (code #"+o+")";h&&(_+=": "+h),Ve.call(this,_),this.code=o}function wh(o){this.f=o}function hu(o,h,_){if(this.c=o,this.l=(o=h||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=o.secureTokenTimeout||md,this.g=Dn(o.secureTokenHeaders||Ch),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=o.firebaseTimeout||Nu,this.a=Dn(o.firebaseHeaders||Vl),_&&(this.a["X-Client-Version"]=_,this.g["X-Client-Version"]=_),_="Node"==Fr(),!(_=Y.XMLHttpRequest||_&&te.INTERNAL.node&&te.INTERNAL.node.XMLHttpRequest)&&!Xr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Xr()?new Sc(self):Iu()?new wh(_):new Cc,this.b=null}M(bh,Ve),M(wh,gs),wh.prototype.a=function(){return new this.f},wh.prototype.b=function(){return{}};var Eh,na="idToken",md=new ae(3e4,6e4),Ch={"Content-Type":"application/x-www-form-urlencoded"},Nu=new ae(3e4,6e4),Vl={"Content-Type":"application/json"};function _d(o,h){h?o.a["X-Firebase-Locale"]=h:delete o.a["X-Firebase-Locale"]}function rl(o,h){h&&(o.l=Oc("https://securetoken.googleapis.com/v1/token",h),o.h=Oc("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",h),o.i=Oc("https://identitytoolkit.googleapis.com/v2/",h))}function Oc(o,h){return o=go(o),h=go(h.url),o.c=o.a+o.c,ru(o,h.f),o.a=h.a,Ts(o,h.g),o.toString()}function Ul(o,h){h?(o.a["X-Client-Version"]=h,o.g["X-Client-Version"]=h):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}function xc(o,h,_,S,N,G,ee){(function(){var o=_o();return!((o="Chrome"!=Ua(o)?null:(o=o.match(/\sChrome\/(\d+)/i))&&2==o.length?parseInt(o[1],10):null)&&30>o||ue&&Un&&!(9<Un))})()||Xr()?o=Qe(o.u,o):(Eh||(Eh=new Hn(function(Ie,St){!function(o,h){((window.gapi||{}).client||{}).request?o():(Y[yd]=function(){((window.gapi||{}).client||{}).request?o():h(Error("CORS_UNSUPPORTED"))},function(o,h){Ca(o,null,h,void 0)}(Ac(Gi(vd,{onload:yd})),function(){h(Error("CORS_UNSUPPORTED"))}))}(Ie,St)})),o=Qe(o.o,o)),o(h,_,S,N,G,ee)}hu.prototype.S=function(){return this.b},hu.prototype.u=function(o,h,_,S,N,G){if(Xr()&&(void 0===Y.fetch||void 0===Y.Headers||void 0===Y.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var ee=new ph(this.f);if(G){ee.g=Math.max(0,G);var Ie=setTimeout(function(){ee.dispatchEvent("timeout")},G)}Cs(ee,"complete",function(){Ie&&clearTimeout(Ie);var St=null;try{St=JSON.parse(function(o){try{return o.a?o.a.responseText:""}catch(h){return ss(o.b,"Can not get responseText: "+h.message),""}}(this))||null}catch(Ut){St=null}h&&h(St)}),$o(ee,"ready",function(){Ie&&clearTimeout(Ie),V(this)}),$o(ee,"timeout",function(){Ie&&clearTimeout(Ie),V(this),h&&h(null)}),function(o,h,_,S,N){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+h);_=_?_.toUpperCase():"GET",o.l=h,o.h="",o.P=_,o.G=!1,o.c=!0,o.a=o.O?o.O.a():ku.a(),o.A=function(o){return o.c||(o.c=o.b())}(o.O?o.O:ku),o.a.onreadystatechange=Qe(o.Ub,o);try{ss(o.b,ta(o,"Opening Xhr")),o.N=!0,o.a.open(_,String(h),!0),o.N=!1}catch(ee){return ss(o.b,ta(o,"Error opening Xhr: "+ee.message)),void Fl(o,ee)}h=S||"";var G=new Lo(o.headers);N&&function(o,h){if(o.forEach&&"function"==typeof o.forEach)o.forEach(h,void 0);else if(bn(o)||"string"==typeof o)ct(o,h,void 0);else for(var _=So(o),S=Ss(o),N=S.length,G=0;G<N;G++)h.call(void 0,S[G],_&&_[G],o)}(N,function(ee,Ie){G.set(Ie,ee)}),N=function(o){e:{for(var h=gh,_=o.length,S="string"==typeof o?o.split(""):o,N=0;N<_;N++)if(N in S&&h.call(void 0,S[N],N,o)){h=N;break e}h=-1}return 0>h?null:"string"==typeof o?o.charAt(h):o[h]}(G.Y()),S=Y.FormData&&h instanceof Y.FormData,!rn(dd,_)||N||S||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),G.forEach(function(ee,Ie){this.a.setRequestHeader(Ie,ee)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.R&&(o.a.withCredentials=o.R);try{Tc(o),0<o.g&&(o.u=function(o){return ue&&Zi(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(o.a),ss(o.b,ta(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=Qe(o.Ma,o)):o.o=Ws(o.Ma,o.g,o)),ss(o.b,ta(o,"Sending request")),o.i=!0,o.a.send(h),o.i=!1}catch(ee){ss(o.b,ta(o,"Send error: "+ee.message)),Fl(o,ee)}}(ee,o,_,S,N)};var vd=new sn(Sr,"https://apis.google.com/js/client.js?onload=%{onload}"),yd="__fcb"+Math.floor(1e6*Math.random()).toString();function il(o){if("string"!=typeof(o=o.email)||!oo.test(o))throw new I("invalid-email")}function bd(o){"email"in o&&il(o)}function Ii(o){if(!o[na])throw o.mfaPendingCredential?new I("multi-factor-auth-required",null,Dn(o)):new I("internal-error")}function ra(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new I("internal-error")}else{if(!o.sessionInfo)throw new I("missing-verification-id");if(!o.code)throw new I("missing-verification-code")}}hu.prototype.o=function(o,h,_,S,N){var G=this;Eh.then(function(){window.gapi.client.setApiKey(G.c);var ee=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:_,body:S,headers:N,authType:"none",callback:function(Ie){window.gapi.auth.setToken(ee),h&&h(Ie)}})}).s(function(ee){h&&h({error:{message:ee&&ee.message||"CORS_UNSUPPORTED"}})})},hu.prototype.yb=function(){return vr(this,De,{})},hu.prototype.Ab=function(o,h){return vr(this,fe,{idToken:o,email:h})},hu.prototype.Bb=function(o,h){return vr(this,Te,{idToken:o,password:h})};var Fu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function df(o){if(!o.phoneVerificationInfo)throw new I("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new I("missing-verification-code")}function Sh(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new I("internal-error")}function pf(o,h){return h.oauthIdToken&&h.providerId&&0==h.providerId.indexOf("oidc.")&&!h.pendingToken&&(o.sessionId?h.nonce=o.sessionId:o.postBody&&La(o=new Ys(o.postBody),"nonce")&&(h.nonce=o.get("nonce"))),h}function Ed(o){var h=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",h=ps(o)):"FEDERATED_USER_ID_ALREADY_LINKED"==o.errorMessage?(o.code="credential-already-in-use",h=ps(o)):"EMAIL_EXISTS"==o.errorMessage?(o.code="email-already-in-use",h=ps(o)):o.errorMessage&&(h=zl(o.errorMessage)),h)throw h;Ii(o)}function gf(o,h){return h.returnIdpCredential=!0,vr(o,Et,h)}function kc(o,h){return h.returnIdpCredential=!0,vr(o,_n,h)}function mf(o,h){return h.returnIdpCredential=!0,h.autoCreate=!1,vr(o,Gt,h)}function Pc(o){if(!o.oobCode)throw new I("invalid-action-code")}(Z=hu.prototype).Cb=function(o,h){var _={idToken:o},S=[];return pn(Fu,function(N,G){var ee=h[G];null===ee?S.push(N):G in h&&(_[G]=ee)}),S.length&&(_.deleteAttribute=S),vr(this,fe,_)},Z.ub=function(o,h){return Xn(o={requestType:"PASSWORD_RESET",email:o},h),vr(this,E,o)},Z.vb=function(o,h){return Xn(o={requestType:"EMAIL_SIGNIN",email:o},h),vr(this,u,o)},Z.tb=function(o,h){return Xn(o={requestType:"VERIFY_EMAIL",idToken:o},h),vr(this,d,o)},Z.Db=function(o,h,_){return Xn(o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:h},_),vr(this,m,o)},Z.eb=function(o){return vr(this,zr,o)},Z.mb=function(o,h){return vr(this,j,{oobCode:o,newPassword:h})},Z.Qa=function(o){return vr(this,Cd,{oobCode:o})},Z.ib=function(o){return vr(this,Hl,{oobCode:o})};var Hl={endpoint:"setAccountInfo",B:Pc,Z:"email",C:!0},Cd={endpoint:"resetPassword",B:Pc,F:function(o){var h=o.requestType;if(!h||!o.email&&"EMAIL_SIGNIN"!=h&&"VERIFY_AND_CHANGE_EMAIL"!=h)throw new I("internal-error")},C:!0},Ga={endpoint:"signupNewUser",B:function(o){if(il(o),!o.password)throw new I("weak-password")},F:Ii,U:!0,C:!0},ia={endpoint:"createAuthUri",C:!0},Lp={endpoint:"deleteAccount",M:["idToken"]},_f={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(o){if("array"!=ft(o.deleteProvider))throw new I("internal-error")}},Vp={endpoint:"emailLinkSignin",M:["email","oobCode"],B:il,F:Ii,U:!0,C:!0},Wv={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:il,F:Ii,U:!0},km={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:df,F:Ii,C:!0,Na:!0},c={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:df,F:Ii,C:!0,Na:!0},a={endpoint:"getAccountInfo"},u={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if("EMAIL_SIGNIN"!=o.requestType)throw new I("internal-error");il(o)},Z:"email",C:!0},d={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(o){if("VERIFY_EMAIL"!=o.requestType)throw new I("internal-error")},Z:"email",C:!0},m={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(o){if("VERIFY_AND_CHANGE_EMAIL"!=o.requestType)throw new I("internal-error")},Z:"email",C:!0},E={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(o){if("PASSWORD_RESET"!=o.requestType)throw new I("internal-error");il(o)},Z:"email",C:!0},T={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},k={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(o){if(!o.recaptchaSiteKey)throw new I("internal-error")}},j={endpoint:"resetPassword",B:Pc,Z:"email",C:!0},ne={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},fe={endpoint:"setAccountInfo",M:["idToken"],B:bd,U:!0},Te={endpoint:"setAccountInfo",M:["idToken"],B:function(o){if(bd(o),!o.password)throw new I("weak-password")},F:Ii,U:!0},De={endpoint:"signupNewUser",F:Ii,U:!0,C:!0},We={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(o){if(!o.phoneEnrollmentInfo)throw new I("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},st={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},Et={endpoint:"verifyAssertion",B:Sh,Xa:pf,F:Ed,U:!0,C:!0},Gt={endpoint:"verifyAssertion",B:Sh,Xa:pf,F:function(o){if(o.errorMessage&&"USER_NOT_FOUND"==o.errorMessage)throw new I("user-not-found");if(o.errorMessage)throw zl(o.errorMessage);Ii(o)},U:!0,C:!0},_n={endpoint:"verifyAssertion",B:function(o){if(Sh(o),!o.idToken)throw new I("internal-error")},Xa:pf,F:Ed,U:!0},$n={endpoint:"verifyCustomToken",B:function(o){if(!o.token)throw new I("invalid-custom-token")},F:Ii,U:!0,C:!0},ur={endpoint:"verifyPassword",B:function(o){if(il(o),!o.password)throw new I("wrong-password")},F:Ii,U:!0,C:!0},zr={endpoint:"verifyPhoneNumber",B:ra,F:Ii,C:!0},_i={endpoint:"verifyPhoneNumber",B:function(o){if(!o.idToken)throw new I("internal-error");ra(o)},F:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",ps(o);Ii(o)}},Bi={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ra,F:Ii,C:!0},fu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(o){if(!!o[na]^!!o.refreshToken)throw new I("internal-error")},C:!0,Na:!0};function vr(o,h,_){if(!function(o,h){if(!h||!h.length)return!0;if(!o)return!1;for(var _=0;_<h.length;_++){var S=o[h[_]];if(null==S||""===S)return!1}return!0}(_,h.M))return qn(new I("internal-error"));var G,S=!!h.Na,N=h.Tb||"POST";return $t(_).then(h.B).then(function(){return h.U&&(_.returnSecureToken=!0),h.C&&o.b&&void 0===_.tenantId&&(_.tenantId=o.b),function(o,h,_,S,N,G,ee){var Ie=go(h+_);Vi(Ie,"key",o.c),ee&&Vi(Ie,"cb",A().toString());var St="GET"==S;if(St)for(var Ut in N)N.hasOwnProperty(Ut)&&Vi(Ie,Ut,N[Ut]);return new Hn(function(yr,Mi){xc(o,Ie.toString(),function(di){di?di.error?Mi(Ih(di,G||{})):yr(di):Mi(new I("network-request-failed"))},S,St?void 0:qu(D(N)),o.a,o.m.get())})}(o,S?o.i:o.h,h.endpoint,N,_,h.Gb,h.kb||!1)}).then(function(ee){return G=ee,h.Xa?h.Xa(_,G):G}).then(h.F).then(function(){if(!h.Z)return G;if(!(h.Z in G))throw new I("internal-error");return G[h.Z]})}function zl(o){return Ih({error:{errors:[{message:o}],code:400,message:o}})}function Ih(o,h){var _=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",S={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(_=S[_]?new I(S[_]):null)return _;for(var N in _=o.error&&o.error.message||"",Xn(S={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},h||{}),h=(h=_.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<h.length?h[1]:void 0,S)if(0===_.indexOf(N))return new I(S[N],h);return!h&&o&&(h=b(o)),new I("internal-error",h)}function vf(o){this.b=o,this.a=null,this.qb=function(o){return(Nc||(Nc=new Hn(function(o,h){function _(){ce(),bi("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){ce(),h(Error("Network Error"))},timeout:Ia.get()})}if(bi("gapi.iframes.Iframe"))o();else if(bi("gapi.load"))_();else{var S="__iframefcb"+Math.floor(1e6*Math.random()).toString();Y[S]=function(){bi("gapi.load")?_():h(Error("Network Error"))},$t(Ac(S=Gi(Up,{onload:S}))).s(function(){h(Error("Network Error"))})}}).s(function(o){throw Nc=null,o}))).then(function(){return new Hn(function(h,_){bi("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(S){function N(){clearTimeout(G),h()}o.a=S,o.a.restyle({setHideOnLeave:!1});var G=setTimeout(function(){_(Error("Network Error"))},Qi.get());S.ping(N).then(N,function(){_(Error("Network Error"))})})})})}(this)}var Up=new sn(Sr,"https://apis.google.com/js/api.js?onload=%{onload}"),Ia=new ae(3e4,6e4),Qi=new ae(5e3,15e3),Nc=null;function $v(o,h,_,S){this.l=o,this.h=h,this.i=_,this.g=S,this.f=null,o=this.g?Eu((o=go(this.g.url)).f,o.a,o.g,"/emulator/auth/iframe"):Eu("https",this.l,null,"/__/auth/iframe"),this.a=o,Vi(this.a,"apiKey",this.h),Vi(this.a,"appName",this.i),this.b=null,this.c=[]}function Nm(o,h,_,S,N,G){this.u=o,this.o=h,this.c=_,this.v=S,this.m=G,this.i=this.g=this.l=null,this.a=N,this.h=this.f=null}function Bp(o){try{return te.app(o).auth().Ga()}catch(h){return[]}}function Kv(o,h,_,S,N,G){this.o=o,this.g=h,this.b=_,this.f=G,this.c=S||null,this.i=N||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function Fm(o){var h=w();return function(o){return vr(o,T,{}).then(function(h){return h.authorizedDomains||[]})}(o).then(function(_){e:{var S=go(h),N=S.f;S=S.a;for(var G=0;G<_.length;G++){var ee=_[G],Ie=S,St=N;if(0==ee.indexOf("chrome-extension://")?Ie=go(ee).a==Ie&&"chrome-extension"==St:"http"!=St&&"https"!=St?Ie=!1:Ir.test(ee)?Ie=Ie==ee:(ee=ee.split(".").join("\\."),Ie=new RegExp("^(.+\\."+ee+"|"+ee+")$","i").test(Ie)),Ie){_=!0;break e}}_=!1}if(!_)throw new Ap(w())})}function Yv(o){return o.v||(o.v=so().then(function(){if(!o.u){var h=o.c,_=o.i,S=Bp(o.b),N=new $v(o.o,o.g,o.b,o.f);N.f=h,N.b=_,N.c=kr(S||[]),o.u=N.toString()}o.m=new vf(o.u),function(o){if(!o.m)throw Error("IfcHandler must be initialized!");!function(o,h){o.qb.then(function(){o.a.register("authEvent",h,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(o.m,function(h){var _={};if(h&&h.authEvent){var S=!1;for(h=Dp(h.authEvent),_=0;_<o.h.length;_++)S=o.h[_](h)||S;return(_={}).status=S?"ACK":"ERROR",$t(_)}return _.status="ERROR",$t(_)})}(o)})),o.v}function Lm(o){return o.l||(o.A=o.c?Gn(o.c,Bp(o.b)):null,o.l=new hu(o.g,le(o.i),o.A),o.f&&rl(o.l,o.f)),o.l}function Sd(o,h,_,S,N,G,ee,Ie,St,Ut,yr,Mi){return(o=new Nm(o,h,_,S,N,Mi)).l=G,o.g=ee,o.i=Ie,o.b=Dn(St||null),o.f=Ut,o.xb(yr).toString()}function Vm(o){if(this.a=o||te.INTERNAL.reactNative&&te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function jp(o){this.b=o,this.a={},this.f=Qe(this.c,this)}$v.prototype.toString=function(){return this.f?Vi(this.a,"v",this.f):Hr(this.a.b,"v"),this.b?Vi(this.a,"eid",this.b):Hr(this.a.b,"eid"),this.c.length?Vi(this.a,"fw",this.c.join(",")):Hr(this.a.b,"fw"),this.a.toString()},Nm.prototype.xb=function(o){return this.h=o,this},Nm.prototype.toString=function(){if(this.m){var o=go(this.m.url);o=Eu(o.f,o.a,o.g,"/emulator/auth/handler")}else o=Eu("https",this.u,null,"/__/auth/handler");if(Vi(o,"apiKey",this.o),Vi(o,"appName",this.c),Vi(o,"authType",this.v),this.a.isOAuthProvider){var h=this.a;try{var _=te.app(this.c).auth().ka()}catch(Ie){_=null}for(var S in h.nb=_,Vi(o,"providerId",this.a.providerId),h=D((_=this.a).Hb))h[S]=h[S].toString();S=_.Pc,h=Dn(h);for(var N=0;N<S.length;N++){var G=S[N];G in h&&delete h[G]}_.ob&&_.nb&&!h[_.ob]&&(h[_.ob]=_.nb),on(h)||Vi(o,"customParameters",b(h))}if("function"==typeof this.a.Pb&&(_=this.a.Pb()).length&&Vi(o,"scopes",_.join(",")),this.l?Vi(o,"redirectUrl",this.l):Hr(o.b,"redirectUrl"),this.g?Vi(o,"eventId",this.g):Hr(o.b,"eventId"),this.i?Vi(o,"v",this.i):Hr(o.b,"v"),this.b)for(var ee in this.b)this.b.hasOwnProperty(ee)&&!mi(o,ee)&&Vi(o,ee,this.b[ee]);return this.h?Vi(o,"tid",this.h):Hr(o.b,"tid"),this.f?Vi(o,"eid",this.f):Hr(o.b,"eid"),(ee=Bp(this.c)).length&&Vi(o,"fw",ee.join(",")),o.toString()},(Z=Kv.prototype).Nb=function(o,h,_){var S=new I("popup-closed-by-user"),N=new I("web-storage-unsupported"),G=this,ee=!1;return this.la().then(function(){(function(o){var h={type:"webStorageSupport"};return Yv(o).then(function(){return function(o,h){return o.qb.then(function(){return new Hn(function(_){o.a.send(h.type,h,_,bi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(o.m,h)}).then(function(_){if(_&&_.length&&void 0!==_[0].webStorageSupport)return _[0].webStorageSupport;throw Error()})})(G).then(function(Ie){Ie||(o&&Xe(o),h(N),ee=!0)})}).s(function(){}).then(function(){if(!ee)return function(o){return new Hn(function(h){return function _(){Co(2e3).then(function(){if(o&&!o.closed)return _();h()})}()})}(o)}).then(function(){if(!ee)return Co(_).then(function(){h(S)})})},Z.Wb=function(){var o=_o();return!g(o)&&!Q(o)},Z.Sb=function(){return!1},Z.Lb=function(o,h,_,S,N,G,ee,Ie){if(!o)return qn(new I("popup-blocked"));if(ee&&!g())return this.la().s(function(Ut){Xe(o),N(Ut)}),S(),$t();this.a||(this.a=Fm(Lm(this)));var St=this;return this.a.then(function(){var Ut=St.la().s(function(yr){throw Xe(o),N(yr),yr});return S(),Ut}).then(function(){ld(_),ee||P(Sd(St.o,St.g,St.b,h,_,null,G,St.c,void 0,St.i,Ie,St.f),o)}).s(function(Ut){throw"auth/network-request-failed"==Ut.code&&(St.a=null),Ut})},Z.Mb=function(o,h,_,S){this.a||(this.a=Fm(Lm(this)));var N=this;return this.a.then(function(){ld(h),P(Sd(N.o,N.g,N.b,o,h,w(),_,N.c,void 0,N.i,S,N.f))}).s(function(G){throw"auth/network-request-failed"==G.code&&(N.a=null),G})},Z.la=function(){var o=this;return Yv(this).then(function(){return o.m.qb}).s(function(){throw o.a=null,new I("network-request-failed")})},Z.Zb=function(){return!0},Z.Ea=function(o){this.h.push(o)},Z.Ra=function(o){kn(this.h,function(h){return h==o})},(Z=Vm.prototype).get=function(o){return $t(this.a.getItem(o)).then(function(h){return h&&x(h)})},Z.set=function(o,h){return $t(this.a.setItem(o,b(h)))},Z.T=function(o){return $t(this.a.removeItem(o))},Z.ca=function(){},Z.ia=function(){};var Hm,Um=[];function O0(o,h,_){on(o.a)&&o.b.addEventListener("message",o.f),void 0===o.a[h]&&(o.a[h]=[]),o.a[h].push(_)}function Bm(o){this.a=o}function Id(o){this.c=o,this.b=!1,this.a=[]}function Qv(o,h,_,S){var N,ee,Ie,St,G=_||{},Ut=null;if(o.b)return qn(Error("connection_unavailable"));var yr=S?800:50,Mi="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Hn(function(di,Xo){Mi?(N=Math.floor(Math.random()*Math.pow(10,20)).toString(),Mi.port1.start(),Ie=setTimeout(function(){Xo(Error("unsupported_event"))},yr),o.a.push(Ut={messageChannel:Mi,onMessage:ee=function(Tr){Tr.data.eventId===N&&("ack"===Tr.data.status?(clearTimeout(Ie),St=setTimeout(function(){Xo(Error("timeout"))},3e3)):"done"===Tr.data.status?(clearTimeout(St),void 0!==Tr.data.response?di(Tr.data.response):Xo(Error("unknown_error"))):(clearTimeout(Ie),clearTimeout(St),Xo(Error("invalid_response"))))}}),Mi.port1.addEventListener("message",ee),o.c.postMessage({eventType:h,eventId:N,data:G},[Mi.port2])):Xo(Error("connection_unavailable"))}).then(function(di){return jm(o,Ut),di}).s(function(di){throw jm(o,Ut),di})}function jm(o,h){if(h){var _=h.messageChannel;_&&(_.port1.removeEventListener("message",h.onMessage),_.port1.close()),kn(o.a,function(N){return N==h})}}function pu(){if(!zm())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=Y.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var o=this;Xr()&&self?(this.l=function(){var o=Xr()?self:null;if(ct(Um,function(_){_.b==o&&(h=_)}),!h){var h=new jp(o);Um.push(h)}return h}(),O0(this.l,"keyChanged",function(h,_){return Zv(o).then(function(S){return 0<S.length&&ct(o.a,function(N){N(S)}),{keyProcessed:rn(S,_.key)}})}),O0(this.l,"ping",function(){return $t(["keyChanged"])})):function(){var o=Y.navigator;return o&&o.serviceWorker?$t().then(function(){return o.serviceWorker.ready}).then(function(h){return h.active||null}).s(function(){return null}):$t(null)}().then(function(h){(o.h=h)&&(o.g=new Id(new Bm(h)),Qv(o.g,"ping",null,!0).then(function(_){_[0].fulfilled&&rn(_[0].value,"keyChanged")&&(o.o=!0)}).s(function(){}))})}function Xv(o){return new Hn(function(h,_){var S=o.m.open("firebaseLocalStorageDb",1);S.onerror=function(N){try{N.preventDefault()}catch(G){}_(Error(N.target.error))},S.onupgradeneeded=function(N){N=N.target.result;try{N.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(G){_(G)}},S.onsuccess=function(N){(N=N.target.result).objectStoreNames.contains("firebaseLocalStorage")?h(N):function(o){return new Hn(function(h,_){var S=o.m.deleteDatabase("firebaseLocalStorageDb");S.onsuccess=function(){h()},S.onerror=function(N){_(Error(N.target.error))}})}(o).then(function(){return Xv(o)}).then(function(G){h(G)}).s(function(G){_(G)})}})}function Hp(o){return o.v||(o.v=Xv(o)),o.v}function zm(){try{return!!Y.indexedDB}catch(o){return!1}}function Fc(o){return o.objectStore("firebaseLocalStorage")}function Ps(o,h){return o.transaction(["firebaseLocalStorage"],h?"readwrite":"readonly")}function Dh(o){return new Hn(function(h,_){o.onsuccess=function(S){S&&S.target?h(S.target.result):h()},o.onerror=function(S){_(S.target.error)}})}function Jv(o,h){return o.g&&o.h&&function(){var o=Y.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}()===o.h?Qv(o.g,"keyChanged",{key:h},o.o).then(function(){}).s(function(){}):$t()}function Zv(o){return Hp(o).then(function(h){var _=Fc(Ps(h,!1));return _.getAll?Dh(_.getAll()):new Hn(function(S,N){var G=[],ee=_.openCursor();ee.onsuccess=function(Ie){(Ie=Ie.target.result)?(G.push(Ie.value),Ie.continue()):S(G)},ee.onerror=function(Ie){N(Ie.target.error)}})}).then(function(h){var _={},S=[];if(0==o.b){for(S=0;S<h.length;S++)_[h[S].fbase_key]=h[S].value;S=q(o.c,_),o.c=_}return S})}function R0(o){o.i&&o.i.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function qm(o){var h=this,_=null;this.a=[],this.type="indexedDB",this.c=o,this.b=$t().then(function(){if(zm()){var S=z(),N="__sak"+S;return Hm||(Hm=new pu),(_=Hm).set(N,S).then(function(){return _.get(N)}).then(function(G){if(G!==S)throw Error("indexedDB not supported!");return _.T(N)}).then(function(){return _}).s(function(){return h.c})}return h.c}).then(function(S){return h.type=S.type,S.ca(function(N){ct(h.a,function(G){G(N)})}),S})}function yf(){this.a={},this.type="inMemory"}function zp(){if(!function(){var o="Node"==Fr();if(!(o=ty()||o&&te.INTERNAL.node&&te.INTERNAL.node.localStorage))return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==Fr()?new I("internal-error","The LocalStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=ty()||te.INTERNAL.node.localStorage,this.type="localStorage"}function ty(){try{var o=Y.localStorage,h=z();return o&&(o.setItem(h,"1"),o.removeItem(h)),o}catch(_){return null}}function gu(){this.type="nullStorage"}function ny(){if(!function(){var o="Node"==Fr();if(!(o=k0()||o&&te.INTERNAL.node&&te.INTERNAL.node.sessionStorage))return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch(h){return!1}}())throw"Node"==Fr()?new I("internal-error","The SessionStorage compatibility library was not found."):new I("web-storage-unsupported");this.a=k0()||te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function k0(){try{var o=Y.sessionStorage,h=z();return o&&(o.setItem(h,"1"),o.removeItem(h)),o}catch(_){return null}}function uT(){var o={};o.Browser=Gm,o.Node=Wm,o.ReactNative=P0,o.Worker=iy,this.a=o[Fr()]}jp.prototype.c=function(o){var h=o.data.eventType,_=o.data.eventId,S=this.a[h];if(S&&0<S.length){o.ports[0].postMessage({status:"ack",eventId:_,eventType:h,response:null});var N=[];ct(S,function(G){N.push($t().then(function(){return G(o.origin,o.data.data)}))}),Wo(N).then(function(G){var ee=[];ct(G,function(Ie){ee.push({fulfilled:Ie.Ob,value:Ie.value,reason:Ie.reason?Ie.reason.message:void 0})}),ct(ee,function(Ie){for(var St in Ie)void 0===Ie[St]&&delete Ie[St]}),o.ports[0].postMessage({status:"done",eventId:_,eventType:h,response:ee})})}},Bm.prototype.postMessage=function(o,h){this.a.postMessage(o,h)},Id.prototype.close=function(){for(;0<this.a.length;)jm(this,this.a[0]);this.b=!0},(Z=pu.prototype).set=function(o,h){var S,_=!1,N=this;return Hp(this).then(function(G){return Dh((G=Fc(Ps(S=G,!0))).get(o))}).then(function(G){var ee=Fc(Ps(S,!0));return G?(G.value=h,Dh(ee.put(G))):(N.b++,_=!0,(G={}).fbase_key=o,G.value=h,Dh(ee.add(G)))}).then(function(){return N.c[o]=h,Jv(N,o)}).na(function(){_&&N.b--})},Z.get=function(o){return Hp(this).then(function(h){return Dh(Fc(Ps(h,!1)).get(o))}).then(function(h){return h&&h.value})},Z.T=function(o){var h=!1,_=this;return Hp(this).then(function(S){return h=!0,_.b++,Dh(Fc(Ps(S,!0)).delete(o))}).then(function(){return delete _.c[o],Jv(_,o)}).na(function(){h&&_.b--})},Z.ca=function(o){0==this.a.length&&function(o){R0(o),function h(){o.f=setTimeout(function(){o.i=Zv(o).then(function(_){0<_.length&&ct(o.a,function(S){S(_)})}).then(function(){h()}).s(function(_){"STOP_EVENT"!=_.message&&h()})},800)}()}(this),this.a.push(o)},Z.ia=function(o){kn(this.a,function(h){return h==o}),0==this.a.length&&R0(this)},(Z=qm.prototype).get=function(o){return this.b.then(function(h){return h.get(o)})},Z.set=function(o,h){return this.b.then(function(_){return _.set(o,h)})},Z.T=function(o){return this.b.then(function(h){return h.T(o)})},Z.ca=function(o){this.a.push(o)},Z.ia=function(o){kn(this.a,function(h){return h==o})},(Z=yf.prototype).get=function(o){return $t(this.a[o])},Z.set=function(o,h){return this.a[o]=h,$t()},Z.T=function(o){return delete this.a[o],$t()},Z.ca=function(){},Z.ia=function(){},(Z=zp.prototype).get=function(o){var h=this;return $t().then(function(){return x(h.a.getItem(o))})},Z.set=function(o,h){var _=this;return $t().then(function(){var S=b(h);null===S?_.T(o):_.a.setItem(o,S)})},Z.T=function(o){var h=this;return $t().then(function(){h.a.removeItem(o)})},Z.ca=function(o){Y.window&&cr(Y.window,"storage",o)},Z.ia=function(o){Y.window&&Br(Y.window,"storage",o)},(Z=gu.prototype).get=function(){return $t(null)},Z.set=function(){return $t()},Z.T=function(){return $t()},Z.ca=function(){},Z.ia=function(){},(Z=ny.prototype).get=function(o){var h=this;return $t().then(function(){return x(h.a.getItem(o))})},Z.set=function(o,h){var _=this;return $t().then(function(){var S=b(h);null===S?_.T(o):_.a.setItem(o,S)})},Z.T=function(o){var h=this;return $t().then(function(){h.a.removeItem(o)})},Z.ca=function(){},Z.ia=function(){};var oa,Td,Gm={D:zp,ab:ny},Wm={D:zp,ab:ny},P0={D:Vm,ab:gu},iy={D:zp,ab:gu},ol={qd:"local",NONE:"none",sd:"session"};function $m(){var o=!(Q(_o())||!Ms()),h=g(),_=Wu();this.v=o,this.h=h,this.l=_,this.a={},oa||(oa=new uT),o=oa;try{this.g=!fi()&&Zt()||!Y.indexedDB?new o.a.D:new qm(Xr()?new yf:new o.a.D)}catch(S){this.g=new yf,this.h=!0}try{this.i=new o.a.ab}catch(S){this.i=new yf}this.m=new yf,this.f=Qe(this.Xb,this),this.b={}}function Ah(){return Td||(Td=new $m),Td}function Lc(o,h){switch(h){case"session":return o.i;case"none":return o.m;default:return o.g}}function Dd(o,h){return"firebase:"+o.name+(h?":"+h:"")}function Vc(o,h,_){return _=Dd(h,_),"local"==h.D&&(o.b[_]=null),Lc(o,h.D).T(_)}function Km(o){o.c&&(clearInterval(o.c),o.c=null)}function Ym(o){this.a=o,this.b=Ah()}(Z=$m.prototype).get=function(o,h){return Lc(this,o.D).get(Dd(o,h))},Z.set=function(o,h,_){var S=Dd(o,_),N=this,G=Lc(this,o.D);return G.set(S,h).then(function(){return G.get(S)}).then(function(ee){"local"==o.D&&(N.b[S]=ee)})},Z.addListener=function(o,h,_){o=Dd(o,h),this.l&&(this.b[o]=Y.localStorage.getItem(o)),on(this.a)&&(Lc(this,"local").ca(this.f),this.h||(fi()||!Zt())&&Y.indexedDB||!this.l||function(o){Km(o),o.c=setInterval(function(){for(var h in o.a){var _=Y.localStorage.getItem(h),S=o.b[h];_!=S&&(o.b[h]=_,_=new gt({type:"storage",key:h,target:window,oldValue:S,newValue:_,a:!0}),o.Xb(_))}},1e3)}(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(_)},Z.removeListener=function(o,h,_){o=Dd(o,h),this.a[o]&&(kn(this.a[o],function(S){return S==_}),0==this.a[o].length&&delete this.a[o]),on(this.a)&&(Lc(this,"local").ia(this.f),Km(this))},Z.Xb=function(o){if(o&&o.g){var h=o.a.key;if(null==h)for(var _ in this.a){var S=this.b[_];void 0===S&&(S=null);var N=Y.localStorage.getItem(_);N!==S&&(this.b[_]=N,this.lb(_))}else if(0==h.indexOf("firebase:")&&this.a[h]){if(void 0!==o.a.a?Lc(this,"local").ia(this.f):Km(this),this.v)if(_=Y.localStorage.getItem(h),(S=o.a.newValue)!==_)null!==S?Y.localStorage.setItem(h,S):Y.localStorage.removeItem(h);else if(this.b[h]===S&&void 0===o.a.a)return;var G=this;_=function(){(void 0!==o.a.a||G.b[h]!==Y.localStorage.getItem(h))&&(G.b[h]=Y.localStorage.getItem(h),G.lb(h))},ue&&Un&&10==Un&&Y.localStorage.getItem(h)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(_,10):_()}}else ct(o,Qe(this.lb,this))},Z.lb=function(o){this.a[o]&&ct(this.a[o],function(h){h()})};var Gp,Qm={name:"authEvent",D:"local"};function F0(){this.a=Ah()}function qp(o,h){this.b=Xm,this.f=Y.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=h,this.l=Y.Int32Array?new Int32Array(64):Array(64),void 0===Gp&&(Gp=Y.Int32Array?new Int32Array(t_):t_),this.reset()}M(qp,function(){this.b=-1});for(var Xm=64,Jm=Xm-1,Zm=[],Ad=0;Ad<Jm;Ad++)Zm[Ad]=0;var ay=tr(128,Zm);function e_(o){for(var h=o.f,_=o.l,S=0,N=0;N<h.length;)_[S++]=h[N]<<24|h[N+1]<<16|h[N+2]<<8|h[N+3],N=4*S;for(h=16;64>h;h++){var G=(0|_[h-16])+(((N=0|_[h-15])>>>7|N<<25)^(N>>>18|N<<14)^N>>>3)|0,ee=(0|_[h-7])+(((S=0|_[h-2])>>>17|S<<15)^(S>>>19|S<<13)^S>>>10)|0;_[h]=G+ee|0}S=0|o.a[0],N=0|o.a[1];var Ie=0|o.a[2],St=0|o.a[3],Ut=0|o.a[4],yr=0|o.a[5],Mi=0|o.a[6];for(G=0|o.a[7],h=0;64>h;h++){var di=((S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10))+(S&N^S&Ie^N&Ie)|0;ee=(G=G+((Ut>>>6|Ut<<26)^(Ut>>>11|Ut<<21)^(Ut>>>25|Ut<<7))|0)+((ee=(ee=Ut&yr^~Ut&Mi)+(0|Gp[h])|0)+(0|_[h])|0)|0,G=Mi,Mi=yr,yr=Ut,Ut=St+ee|0,St=Ie,Ie=N,N=S,S=ee+di|0}o.a[0]=o.a[0]+S|0,o.a[1]=o.a[1]+N|0,o.a[2]=o.a[2]+Ie|0,o.a[3]=o.a[3]+St|0,o.a[4]=o.a[4]+Ut|0,o.a[5]=o.a[5]+yr|0,o.a[6]=o.a[6]+Mi|0,o.a[7]=o.a[7]+G|0}function Wp(o,h,_){void 0===_&&(_=h.length);var S=0,N=o.c;if("string"==typeof h)for(;S<_;)o.f[N++]=h.charCodeAt(S++),N==o.b&&(e_(o),N=0);else{if(!bn(h))throw Error("message must be string or array");for(;S<_;){var G=h[S++];if(!("number"==typeof G&&0<=G&&255>=G&&G==(0|G)))throw Error("message must be a byte array");o.f[N++]=G,N==o.b&&(e_(o),N=0)}}o.c=N,o.g+=_}qp.prototype.reset=function(){this.g=this.c=0,this.a=Y.Int32Array?new Int32Array(this.h):kr(this.h)};var t_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uc(){qp.call(this,8,uy)}M(Uc,qp);var uy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function n_(o,h,_,S,N,G){this.m=o,this.i=h,this.l=_,this.v=S||null,this.u=N||null,this.o=G,this.h=h+":"+_,this.A=new F0,this.g=new Ym(this.h),this.f=null,this.b=[],this.a=this.c=null}function $p(o){return new I("invalid-cordova-configuration",o)}function r_(o,h){for(var _=0;_<o.b.length;_++)try{o.b[_](h)}catch(S){}}function i_(o){return o.f||(o.f=o.la().then(function(){return new Hn(function(h){o.Ea(function _(S){return h(S),o.Ra(_),!1}),function(o){function h(ee){S=!0,N&&N.cancel(),Md(o).then(function(Ie){var St=_;if(Ie&&ee&&ee.url){var Ut=null;-1!=(St=ud(ee.url)).indexOf("/__/auth/callback")&&(Ut=(Ut="object"==typeof(Ut=x(mi(Ut=go(St),"firebaseError")||null))?F(Ut):null)?new os(Ie.c,Ie.b,null,null,Ut,null,Ie.S()):new os(Ie.c,Ie.b,St,Ie.f,null,null,Ie.S())),St=Ut||_}r_(o,St)})}var _=new os("unknown",null,null,null,new I("no-auth-event")),S=!1,N=Co(500).then(function(){return Md(o).then(function(){S||r_(o,_)})}),G=Y.handleOpenURL;Y.handleOpenURL=function(ee){if(0==ee.toLowerCase().indexOf(bi("BuildInfo.packageName",Y).toLowerCase()+"://")&&h({url:ee}),"function"==typeof G)try{G(ee)}catch(Ie){console.error(Ie)}},tl||(tl=new Oo),function(o){var h=tl;h.a.push(o),h.b||(h.b=function(_){for(var S=0;S<h.a.length;S++)h.a[S](_)},"function"==typeof(o=bi("universalLinks.subscribe",Y))&&o(null,h.b))}(h)}(o)})})),o.f}function Md(o){var h=null;return function(o){return o.b.get(Qm,o.a).then(function(h){return Dp(h)})}(o.g).then(function(_){return h=_,Vc((_=o.g).b,Qm,_.a)}).then(function(){return h})}function Yp(o){this.a=o,this.b=Ah()}(Z=n_.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Va(void 0)?so().then(function(){return new Hn(function(o,h){var _=Y.document,S=setTimeout(function(){h(Error("Cordova framework is not ready."))},1e3);_.addEventListener("deviceready",function(){clearTimeout(S),o()},!1)})}):qn(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof bi("universalLinks.subscribe",Y))throw $p("cordova-universal-links-plugin-fix is not installed");if(void 0===bi("BuildInfo.packageName",Y))throw $p("cordova-plugin-buildinfo is not installed");if("function"!=typeof bi("cordova.plugins.browsertab.openUrl",Y))throw $p("cordova-plugin-browsertab is not installed");if("function"!=typeof bi("cordova.InAppBrowser.open",Y))throw $p("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})},Z.Nb=function(o,h){return h(new I("operation-not-supported-in-this-environment")),$t()},Z.Lb=function(){return qn(new I("operation-not-supported-in-this-environment"))},Z.Zb=function(){return!1},Z.Wb=function(){return!0},Z.Sb=function(){return!0},Z.Mb=function(o,h,_,S){if(this.c)return qn(new I("redirect-operation-pending"));var N=this,G=Y.document,ee=null,Ie=null,St=null,Ut=null;return this.c=$t().then(function(){return ld(h),i_(N)}).then(function(){return function(o,h,_,S,N){var G=function(){for(var o=20,h=[];0<o;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return h.join("")}(),ee=new os(h,S,null,G,new I("no-auth-event"),null,N),Ie=bi("BuildInfo.packageName",Y);if("string"!=typeof Ie)throw new I("invalid-cordova-configuration");var St=bi("BuildInfo.displayName",Y),Ut={};if(_o().toLowerCase().match(/iphone|ipad|ipod/))Ut.ibi=Ie;else{if(!_o().toLowerCase().match(/android/))return qn(new I("operation-not-supported-in-this-environment"));Ut.apn=Ie}St&&(Ut.appDisplayName=St),G=function(o){var h=new Uc;Wp(h,o),o=[];var _=8*h.g;Wp(h,ay,56>h.c?56-h.c:h.b-(h.c-56));for(var S=63;56<=S;S--)h.f[S]=255&_,_/=256;for(e_(h),S=_=0;S<h.i;S++)for(var N=24;0<=N;N-=8)o[_++]=h.a[S]>>N&255;return function(o){return dn(o,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}(o)}(G),Ut.sessionId=G;var yr=Sd(o.m,o.i,o.l,h,_,null,S,o.v,Ut,o.u,N,o.o);return o.la().then(function(){var Mi=o.h;return o.A.a.set(Qm,ee.w(),Mi)}).then(function(){var Mi=bi("cordova.plugins.browsertab.isAvailable",Y);if("function"!=typeof Mi)throw new I("invalid-cordova-configuration");var di=null;Mi(function(Xo){if(Xo){if("function"!=typeof(di=bi("cordova.plugins.browsertab.openUrl",Y)))throw new I("invalid-cordova-configuration");di(yr)}else{if("function"!=typeof(di=bi("cordova.InAppBrowser.open",Y)))throw new I("invalid-cordova-configuration");Xo=_o(),o.a=di(yr,Xo.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Xo.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(N,o,h,_,S)}).then(function(){return new Hn(function(yr,Mi){Ie=function(){var di=bi("cordova.plugins.browsertab.close",Y);return yr(),"function"==typeof di&&di(),N.a&&"function"==typeof N.a.close&&(N.a.close(),N.a=null),!1},N.Ea(Ie),Ut=function(){He()&&St()},G.addEventListener("resume",St=function(){ee||(ee=Co(2e3).then(function(){Mi(new I("redirect-cancelled-by-user"))}))},!1),_o().toLowerCase().match(/android/)||G.addEventListener("visibilitychange",Ut,!1)}).s(function(yr){return Md(N).then(function(){throw yr})})}).na(function(){St&&G.removeEventListener("resume",St,!1),Ut&&G.removeEventListener("visibilitychange",Ut,!1),ee&&ee.cancel(),Ie&&N.Ra(Ie),N.c=null})},Z.Ea=function(o){this.b.push(o),i_(this).s(function(h){"auth/invalid-cordova-configuration"===h.code&&(h=new os("unknown",null,null,null,new I("no-auth-event")),o(h))})},Z.Ra=function(o){kn(this.b,function(h){return h==o})};var Ef={name:"pendingRedirect",D:"session"};function Od(o){return Vc(o.b,Ef,o.a)}function Cf(o,h,_,S){this.i={},this.u=0,this.O=o,this.m=h,this.v=_,this.G=S,this.h=[],this.f=!1,this.l=Qe(this.o,this),this.b=new Ta,this.A=new Cy,this.g=new Yp(vy(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Sf(this.O,this.m,this.v,Tt,this.G)}function Sf(o,h,_,S,N){var G=te.SDK_VERSION||null;return Va()?new n_(o,h,_,G,S,N):new Kv(o,h,_,G,S,N)}function dy(o){o.f||(o.f=!0,o.a.Ea(o.l));var h=o.a;return o.a.la().s(function(_){throw o.a==h&&o.reset(),_})}function o_(o){o.a.Wb()&&dy(o).s(function(h){var _=new os("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));my(h)&&o.o(_)}),o.a.Sb()||by(o.b)}function s_(o,h){rn(o.h,h)||o.h.push(h),o.f||function(o){return o.b.get(Ef,o.a).then(function(h){return"pending"==h})}(o.g).then(function(_){_?Od(o.g).then(function(){dy(o).s(function(S){var N=new os("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));my(S)&&o.o(N)})}):o_(o)}).s(function(){o_(o)})}function py(o,h){kn(o.h,function(_){return _==h})}Cf.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Sf(this.O,this.m,this.v,null,this.G),this.i={}},Cf.prototype.o=function(o){if(!o)throw new I("invalid-auth-event");if(6e5<=A()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var h=!1,_=0;_<this.h.length;_++){var S=this.h[_];if(S.Eb(o.c,o.b)){(h=this.c[o.c])&&(h.h(o,S),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=A())),h=!0;break}}return by(this.b),h};var gy=new ae(2e3,1e4),a_=new ae(3e4,6e4);function u_(o,h,_,S,N,G,ee){return o.a.Lb(h,_,S,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},N,G,ee)}function my(o){return!(!o||"auth/cordova-not-ready"!=o.code)}function l_(o,h,_,S,N){var G;return function(o){return o.b.set(Ef,"pending",o.a)}(o.g).then(function(){return o.a.Mb(h,_,S,N).s(function(ee){if(my(ee))throw new I("operation-not-supported-in-this-environment");return G=ee,Od(o.g).then(function(){throw G})}).then(function(){return o.a.Zb()?new Hn(function(){}):Od(o.g).then(function(){return o.qa()}).then(function(){}).s(function(){})})})}function _y(o,h,_,S,N){return o.a.Nb(S,function(G){h.ma(_,null,G,N)},gy.get())}Cf.prototype.qa=function(){return this.b.qa()};var Qp={};function vy(o,h,_){return o=o+":"+h,_&&(o=o+":"+_.url),o}function yy(o,h,_,S){var N=vy(h,_,S);return Qp[N]||(Qp[N]=new Cf(o,h,_,S)),Qp[N]}function Ta(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function by(o){o.g||(o.g=!0,Mh(o,!1,null,null))}function xd(o){o.g&&!o.i&&Mh(o,!1,null,null)}function wy(o,h){if(o.b=function(){return $t(h)},o.f.length)for(var _=0;_<o.f.length;_++)o.f[_](h)}function Mh(o,h,_,S){h?S?function(o,h){if(o.b=function(){return qn(h)},o.c.length)for(var _=0;_<o.c.length;_++)o.c[_](h)}(o,S):wy(o,_):wy(o,{user:null}),o.f=[],o.c=[]}function Cy(){}function Sy(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(o){this.hb=o},enumerable:!1})}function pr(o,h){this.a=h,mn(this,"verificationId",o)}function In(o,h,_,S){return new lu(o).eb(h,_).then(function(N){return new pr(N,S)})}function Iy(o){var h=Im(o);if(!(h&&h.exp&&h.auth_time&&h.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ki(this,{token:o,expirationTime:xt(1e3*h.exp),authTime:xt(1e3*h.auth_time),issuedAtTime:xt(1e3*h.iat),signInProvider:h.firebase&&h.firebase.sign_in_provider?h.firebase.sign_in_provider:null,signInSecondFactor:h.firebase&&h.firebase.sign_in_second_factor?h.firebase.sign_in_second_factor:null,claims:h})}function If(o,h,_){var S=h&&h[c_];if(!S)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Dn(h),this.g=_,this.c=new rf(null,S),this.b=[];var N=this;ct(h[mu]||[],function(G){(G=lc(G))&&N.b.push(G)}),mn(this,"auth",this.a),mn(this,"session",this.c),mn(this,"hints",this.b)}Ta.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ta.prototype.h=function(o,h){if(o){this.reset(),this.g=!0;var _=o.c,S=o.b,N=o.a&&"auth/web-storage-unsupported"==o.a.code,G=o.a&&"auth/operation-not-supported-in-this-environment"==o.a.code;this.i=!(!N&&!G),"unknown"!=_||N||G?o.a?(Mh(this,!0,null,o.a),$t()):h.Fa(_,S)?function(o,h,_){_=_.Fa(h.c,h.b);var S=h.g,N=h.f,G=h.i,ee=h.S(),Ie=!!h.c.match(/Redirect$/);_(S,N,ee,G).then(function(St){Mh(o,Ie,St,null)}).s(function(St){Mh(o,Ie,null,St)})}(this,o,h):qn(new I("invalid-auth-event")):(Mh(this,!1,null,null),$t())}else qn(new I("invalid-auth-event"))},Ta.prototype.qa=function(){var o=this;return new Hn(function(h,_){o.b?o.b().then(h,_):(o.f.push(h),o.c.push(_),function(o){var h=new I("timeout");o.a&&o.a.cancel(),o.a=Co(a_.get()).then(function(){o.b||(o.g=!0,Mh(o,!0,null,h))})}(o))})},Cy.prototype.h=function(o,h){if(o){var _=o.c,S=o.b;o.a?(h.ma(o.c,null,o.a,o.b),$t()):h.Fa(_,S)?function(o,h){var _=o.b,S=o.c;h.Fa(S,_)(o.g,o.f,o.S(),o.i).then(function(N){h.ma(S,N,null,_)}).s(function(N){h.ma(S,null,N,_)})}(o,h):qn(new I("invalid-auth-event"))}else qn(new I("invalid-auth-event"))},pr.prototype.confirm=function(o){return o=wc(this.verificationId,o),this.a(o)};var mu="mfaInfo",c_="mfaPendingCredential";function h_(o,h,_,S){I.call(this,"multi-factor-auth-required",S,h),this.b=new If(o,h,_),mn(this,"resolver",this.b)}function Xp(o,h,_){if(o&&Le(o.serverResponse)&&"auth/multi-factor-auth-required"===o.code)try{return new h_(h,o.serverResponse,_,o.message)}catch(S){}return null}function sl(){}function Rd(o){mn(this,"factorId",o.fa),this.a=o}function H0(o){if(Rd.call(this,o),this.a.fa!=lu.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Oh(o,h){for(var _ in $e.call(this,o),h)this[_]=h[_]}function Dy(o,h){this.a=o,this.b=[],this.c=Qe(this.xc,this),cr(this.a,"userReloaded",this.c);var _=[];h&&h.multiFactor&&h.multiFactor.enrolledFactors&&ct(h.multiFactor.enrolledFactors,function(S){var N=null,G={};if(S){S.uid&&(G[Il]=S.uid),S.displayName&&(G[Tu]=S.displayName),S.enrollmentTime&&(G[Du]=new Date(S.enrollmentTime).toISOString()),S.phoneNumber&&(G[Zh]=S.phoneNumber);try{N=new cc(G)}catch(ee){}S=N}else S=null;S&&_.push(S)}),xh(this,_)}function xh(o,h){o.b=h,mn(o,"enrolledFactors",h)}function Tf(o,h,_){if(this.h=o,this.i=h,this.g=_,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ay(o,h){o.stop(),o.b=Co(function(o,h){return h?(o.a=o.c,o.g()):(h=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),h)}(o,h)).then(function(){return function(){var o=Y.document,h=null;return He()||!o?$t():new Hn(function(_){h=function(){He()&&(o.removeEventListener("visibilitychange",h,!1),_())},o.addEventListener("visibilitychange",h,!1)}).s(function(_){throw o.removeEventListener("visibilitychange",h,!1),_})}()}).then(function(){return o.h()}).then(function(){Ay(o,!0)}).s(function(_){o.i(_)&&Ay(o,!1)})}function p_(o){this.c=o,this.b=this.a=null}function Jp(o){return o.b&&1e3*o.b.c||0}function z0(o,h){var _=h.refreshToken;o.b=Xu(h[na]||""),o.a=_}function kd(o,h){this.a=o||null,this.b=h||null,Ki(this,{lastSignInTime:xt(h||null),creationTime:xt(o||null)})}function G0(o,h,_,S,N,G){Ki(this,{uid:o,displayName:S||null,photoURL:N||null,email:_||null,phoneNumber:G||null,providerId:h})}function sa(o,h,_){this.G=[],this.l=o.apiKey,this.m=o.appName,this.o=o.authDomain||null;var S=te.SDK_VERSION?Gn(te.SDK_VERSION):null;this.a=new hu(this.l,le(Tt),S),o.emulatorConfig&&rl(this.a,o.emulatorConfig),this.b=new p_(this.a),Ny(this,h[na]),z0(this.b,h),mn(this,"refreshToken",this.b.a),eg(this,_||{}),jr.call(this),this.P=!1,this.o&&ya()&&(this.i=yy(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(o){return new Tf(function(){return o.I(!0)},function(h){return!(!h||"auth/network-request-failed"!=h.code)},function(){var h=Jp(o.b)-A()-3e5;return 0<h?h:0})}(this),this.$=Qe(this.gb,this);var N=this;this.pa=null,this.Ba=function(G){N.wa(G.h)},this.ba=null,this.za=function(G){rl(N.a,G.c)},this.W=null,this.X=[],this.Aa=function(G){Zp(N,G.f)},this.aa=null,this.N=new Dy(this,_),mn(this,"multiFactor",this.N)}function Oy(o,h){o.ba&&Br(o.ba,"languageCodeChanged",o.Ba),(o.ba=h)&&cr(h,"languageCodeChanged",o.Ba)}function xy(o,h){o.W&&Br(o.W,"emulatorConfigChanged",o.za),(o.W=h)&&cr(h,"emulatorConfigChanged",o.za)}function Zp(o,h){o.X=h,Ul(o.a,te.SDK_VERSION?Gn(te.SDK_VERSION,o.X):null)}function Ry(o,h){o.aa&&Br(o.aa,"frameworkChanged",o.Aa),(o.aa=h)&&cr(h,"frameworkChanged",o.Aa)}function ky(o){try{return te.app(o.m).auth()}catch(h){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function W0(o){o.A||o.u.b||(o.u.start(),Br(o,"tokenChanged",o.$),cr(o,"tokenChanged",o.$))}function Py(o){Br(o,"tokenChanged",o.$),o.u.stop()}function Ny(o,h){o.ya=h,mn(o,"_lat",h)}function Df(o){for(var h=[],_=0;_<o.R.length;_++)h.push(o.R[_](o));return Wo(h).then(function(){return o})}function _u(o){o.i&&!o.P&&(o.P=!0,s_(o.i,o))}function eg(o,h){Ki(o,{uid:h.uid,displayName:h.displayName||null,photoURL:h.photoURL||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,isAnonymous:h.isAnonymous||!1,tenantId:h.tenantId||null,metadata:new kd(h.createdAt,h.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}function Fy(){}function tg(o){return $t().then(function(){if(o.A)throw new I("app-deleted")})}function Pd(o){return dn(o.providerData,function(h){return h.providerId})}function ng(o,h){h&&(rg(o,h.providerId),o.providerData.push(h))}function rg(o,h){kn(o.providerData,function(_){return _.providerId==h})}function Bc(o,h,_){("uid"!=h||_)&&o.hasOwnProperty(h)&&mn(o,h,_)}function Lu(o,h){o!=h&&(Ki(o,{uid:h.uid,displayName:h.displayName,photoURL:h.photoURL,email:h.email,emailVerified:h.emailVerified,phoneNumber:h.phoneNumber,isAnonymous:h.isAnonymous,tenantId:h.tenantId,providerData:[]}),mn(o,"metadata",h.metadata?function(o){return new kd(o.a,o.b)}(h.metadata):new kd),ct(h.providerData,function(_){ng(o,_)}),function(o,h){o.b=h.b,o.a=h.a}(o.b,h.b),mn(o,"refreshToken",o.b.a),xh(o.N,h.N.b))}function ig(o){return o.I().then(function(h){var _=o.isAnonymous;return function(o,h){return vr(o.a,a,{idToken:h}).then(Qe(o.Jc,o))}(o,h).then(function(){return _||Bc(o,"isAnonymous",!1),h})})}function al(o,h){h[na]&&o.ya!=h[na]&&(z0(o.b,h),o.dispatchEvent(new Oh("tokenChanged")),Ny(o,h[na]),Bc(o,"refreshToken",o.b.a))}function og(o,h){return ig(o).then(function(){if(rn(Pd(o),h))return Df(o).then(function(){throw new I("provider-already-linked")})})}function Af(o,h,_){return hs({user:o,credential:Ru(h),additionalUserInfo:h=Ol(h),operationType:_})}function Ly(o,h){return al(o,h),o.reload().then(function(){return o})}function Vy(o,h,_,S,N){if(!ya())return qn(new I("operation-not-supported-in-this-environment"));if(o.f&&!N)return qn(o.f);var G=pc(_.providerId),ee=z(o.uid+":::"),Ie=null;(!g()||Ms())&&o.o&&_.isOAuthProvider&&(Ie=Sd(o.o,o.l,o.m,h,_,null,ee,te.SDK_VERSION||null,null,null,o.tenantId));var St=cn(Ie,G&&G.ua,G&&G.ta);return S=S().then(function(){if(Rh(o),!N)return o.I().then(function(){})}).then(function(){return u_(o.i,St,h,_,ee,!!Ie,o.tenantId)}).then(function(){return new Hn(function(Ut,yr){o.ma(h,null,new I("cancelled-popup-request"),o.h||null),o.g=Ut,o.O=yr,o.h=ee,o.c=_y(o.i,o,h,St,ee)})}).then(function(Ut){return St&&Xe(St),Ut?hs(Ut):null}).s(function(Ut){throw St&&Xe(St),Ut}),xo(o,S,N)}function Mf(o,h,_,S,N){if(!ya())return qn(new I("operation-not-supported-in-this-environment"));if(o.f&&!N)return qn(o.f);var G=null,ee=z(o.uid+":::");return S=S().then(function(){if(Rh(o),!N)return o.I().then(function(){})}).then(function(){return o.ga=ee,Df(o)}).then(function(Ie){return o.ha&&(Ie=(Ie=o.ha).b.set(sg,o.w(),Ie.a)),Ie}).then(function(){return l_(o.i,h,_,ee,o.tenantId)}).s(function(Ie){if(G=Ie,o.ha)return ag(o.ha);throw G}).then(function(){if(G)throw G}),xo(o,S,N)}function Rh(o){if(!o.i||!o.P)throw new I(o.i&&!o.P?"internal-error":"auth-domain-config-required")}function xo(o,h,_){var S=function(o,h,_){return o.f&&!_?(h.cancel(),qn(o.f)):h.s(function(S){throw!S||"auth/user-disabled"!=S.code&&"auth/user-token-expired"!=S.code||(o.f||o.dispatchEvent(new Oh("userInvalidated")),o.f=S),S})}(o,h,_);return o.G.push(S),S.na(function(){Kt(o.G,S)}),S.s(function(N){var G=null;throw N&&"auth/multi-factor-auth-required"===N.code&&(G=Xp(N.w(),ky(o),Qe(o.ic,o))),G||N})}function xf(o){if(!o.apiKey)return null;var h={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},_={};if(!o.stsTokenManager||!o.stsTokenManager.accessToken)return null;_[na]=o.stsTokenManager.accessToken,_.refreshToken=o.stsTokenManager.refreshToken||null;var S=new sa(h,_,o);return o.providerData&&ct(o.providerData,function(N){N&&ng(S,hs(N))}),o.redirectEventId&&(S.ga=o.redirectEventId),S}function Uy(o){this.a=o,this.b=Ah()}If.prototype.Qc=function(o){var h=this;return o.rb(this.a.a,this.c).then(function(_){var S=Dn(h.f);return delete S[mu],delete S[c_],Xn(S,_),h.g(S)})},M(h_,I),sl.prototype.rb=function(o,h,_){return h.type==gc?function(o,h,_,S){return _.Ha().then(function(N){return N={idToken:N},void 0!==S&&(N.displayName=S),Xn(N,{phoneVerificationInfo:sf(o.a)}),vr(h,km,N)})}(this,o,h,_):function(o,h,_){return _.Ha().then(function(S){return Xn(S={mfaPendingCredential:S},{phoneVerificationInfo:sf(o.a)}),vr(h,c,S)})}(this,o,h)},M(Rd,sl),M(H0,Rd),M(Oh,$e),(Z=Dy.prototype).xc=function(o){xh(this,function(o){var h=[];return ct(o.mfaInfo||[],function(_){(_=lc(_))&&h.push(_)}),h}(o.gd))},Z.Qb=function(){return this.a.I().then(function(o){return new rf(o,null)})},Z.ec=function(o,h){var _=this,S=this.a.a;return this.Qb().then(function(N){return o.rb(S,N,h)}).then(function(N){return al(_.a,N),_.a.reload()})},Z.ad=function(o){var h=this,_="string"==typeof o?o:o.uid,S=this.a.a;return this.a.I().then(function(N){return vr(S,fu,{idToken:N,mfaEnrollmentId:_})}).then(function(N){var G=Ur(h.b,function(ee){return ee.uid!=_});return xh(h,G),al(h.a,N),h.a.reload().s(function(ee){if("auth/user-token-expired"!=ee.code)throw ee})})},Z.w=function(){return{multiFactor:{enrolledFactors:dn(this.b,function(o){return o.w()})}}},Tf.prototype.start=function(){this.a=this.c,Ay(this,!0)},Tf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},p_.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Jp(this)}},p_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?qn(new I("user-token-expired")):o||!this.b||A()>Jp(this)-3e4?this.a?function(o,h){return function(o,h){return new Hn(function(_,S){"refresh_token"==h.grant_type&&h.refresh_token||"authorization_code"==h.grant_type&&h.code?xc(o,o.l+"?key="+encodeURIComponent(o.c),function(N){N?N.error?S(Ih(N)):N.access_token&&N.refresh_token?_(N):S(new I("internal-error")):S(new I("network-request-failed"))},"POST",Qs(h).toString(),o.g,o.v.get()):S(new I("internal-error"))})}(o.c,h).then(function(_){return o.b=Xu(_.access_token),o.a=_.refresh_token,{accessToken:o.b.toString(),refreshToken:o.a}}).s(function(_){throw"auth/user-token-expired"==_.code&&(o.a=null),_})}(this,{grant_type:"refresh_token",refresh_token:this.a}):$t(null):$t({accessToken:this.b.toString(),refreshToken:this.a})},kd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},M(sa,jr),sa.prototype.wa=function(o){this.pa=o,_d(this.a,o)},sa.prototype.ka=function(){return this.pa},sa.prototype.Ga=function(){return kr(this.X)},sa.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},mn(sa.prototype,"providerId","firebase"),(Z=sa.prototype).reload=function(){var o=this;return xo(this,tg(this).then(function(){return ig(o).then(function(){return Df(o)}).then(Fy)}))},Z.nc=function(o){return this.I(o).then(function(h){return new Iy(h)})},Z.I=function(o){var h=this;return xo(this,tg(this).then(function(){return h.b.getToken(o)}).then(function(_){if(!_)throw new I("internal-error");return _.accessToken!=h.ya&&(Ny(h,_.accessToken),h.dispatchEvent(new Oh("tokenChanged"))),Bc(h,"refreshToken",_.refreshToken),_.accessToken}))},Z.Jc=function(o){if(!(o=o.users)||!o.length)throw new I("internal-error");eg(this,{uid:(o=o[0]).localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var h=function(o){return(o=o.providerUserInfo)&&o.length?dn(o,function(h){return new G0(h.rawId,h.providerId,h.email,h.displayName,h.photoUrl,h.phoneNumber)}):[]}(o),_=0;_<h.length;_++)ng(this,h[_]);Bc(this,"isAnonymous",!(this.email&&o.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Oh("userReloaded",{gd:o}))},Z.Kc=function(o){return vo("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(o)},Z.sb=function(o){var h=this,_=null;return xo(this,o.c(this.a,this.uid).then(function(S){return al(h,S),_=Af(h,S,"reauthenticate"),h.f=null,h.reload()}).then(function(){return _}),!0)},Z.Bc=function(o){return vo("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(o)},Z.pb=function(o){var h=this,_=null;return xo(this,og(this,o.providerId).then(function(){return h.I()}).then(function(S){return o.b(h.a,S)}).then(function(S){return _=Af(h,S,"link"),Ly(h,S)}).then(function(){return _}))},Z.Cc=function(o,h){var _=this;return xo(this,og(this,"phone").then(function(){return In(ky(_),o,h,Qe(_.pb,_))}))},Z.Lc=function(o,h){var _=this;return xo(this,$t().then(function(){return In(ky(_),o,h,Qe(_.sb,_))}),!0)},Z.Ab=function(o){var h=this;return xo(this,this.I().then(function(_){return h.a.Ab(_,o)}).then(function(_){return al(h,_),h.reload()}))},Z.dd=function(o){var h=this;return xo(this,this.I().then(function(_){return o.b(h.a,_)}).then(function(_){return al(h,_),h.reload()}))},Z.Bb=function(o){var h=this;return xo(this,this.I().then(function(_){return h.a.Bb(_,o)}).then(function(_){return al(h,_),h.reload()}))},Z.Cb=function(o){if(void 0===o.displayName&&void 0===o.photoURL)return tg(this);var h=this;return xo(this,this.I().then(function(_){return h.a.Cb(_,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(_){return al(h,_),Bc(h,"displayName",_.displayName||null),Bc(h,"photoURL",_.photoUrl||null),ct(h.providerData,function(S){"password"===S.providerId&&(mn(S,"displayName",h.displayName),mn(S,"photoURL",h.photoURL))}),Df(h)}).then(Fy))},Z.bd=function(o){var h=this;return xo(this,ig(this).then(function(_){return rn(Pd(h),o)?function(o,h,_){return vr(o,_f,{idToken:h,deleteProvider:_})}(h.a,_,[o]).then(function(S){var N={};return ct(S.providerUserInfo||[],function(G){N[G.providerId]=!0}),ct(Pd(h),function(G){N[G]||rg(h,G)}),N[lu.PROVIDER_ID]||mn(h,"phoneNumber",null),Df(h)}):Df(h).then(function(){throw new I("no-such-provider")})}))},Z.delete=function(){var o=this;return xo(this,this.I().then(function(h){return vr(o.a,Lp,{idToken:h})}).then(function(){o.dispatchEvent(new Oh("userDeleted"))})).then(function(){for(var h=0;h<o.G.length;h++)o.G[h].cancel("app-deleted");Oy(o,null),xy(o,null),Ry(o,null),o.G=[],o.A=!0,Py(o),mn(o,"refreshToken",null),o.i&&py(o.i,o)})},Z.Eb=function(o,h){return!!("linkViaPopup"==o&&(this.h||null)==h&&this.g||"reauthViaPopup"==o&&(this.h||null)==h&&this.g||"linkViaRedirect"==o&&(this.ga||null)==h||"reauthViaRedirect"==o&&(this.ga||null)==h)},Z.ma=function(o,h,_,S){"linkViaPopup"!=o&&"reauthViaPopup"!=o||S!=(this.h||null)||(_&&this.O?this.O(_):h&&!_&&this.g&&this.g(h),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},Z.Fa=function(o,h){return"linkViaPopup"==o&&h==(this.h||null)?Qe(this.Jb,this):"reauthViaPopup"==o&&h==(this.h||null)?Qe(this.Kb,this):"linkViaRedirect"==o&&(this.ga||null)==h?Qe(this.Jb,this):"reauthViaRedirect"==o&&(this.ga||null)==h?Qe(this.Kb,this):null},Z.Dc=function(o){var h=this;return Vy(this,"linkViaPopup",o,function(){return og(h,o.providerId).then(function(){return Df(h)})},!1)},Z.Mc=function(o){return Vy(this,"reauthViaPopup",o,function(){return $t()},!0)},Z.Ec=function(o){var h=this;return Mf(this,"linkViaRedirect",o,function(){return og(h,o.providerId)},!1)},Z.Nc=function(o){return Mf(this,"reauthViaRedirect",o,function(){return $t()},!0)},Z.Jb=function(o,h,_,S){var N=this;this.c&&(this.c.cancel(),this.c=null);var G=null;return xo(this,this.I().then(function(ee){return kc(N.a,{requestUri:o,postBody:S,sessionId:h,idToken:ee})}).then(function(ee){return G=Af(N,ee,"link"),Ly(N,ee)}).then(function(){return G}))},Z.Kb=function(o,h,_,S){var N=this;this.c&&(this.c.cancel(),this.c=null);var G=null;return xo(this,$t().then(function(){return mc(mf(N.a,{requestUri:o,sessionId:h,postBody:S,tenantId:_}),N.uid)}).then(function(Ie){return G=Af(N,Ie,"reauthenticate"),al(N,Ie),N.f=null,N.reload()}).then(function(){return G}),!0)},Z.tb=function(o){var h=this,_=null;return xo(this,this.I().then(function(S){return _=S,void 0===o||on(o)?{}:ja(new ef(o))}).then(function(S){return h.a.tb(_,S)}).then(function(S){if(h.email!=S)return h.reload()}).then(function(){}))},Z.Db=function(o,h){var _=this,S=null;return xo(this,this.I().then(function(N){return S=N,void 0===h||on(h)?{}:ja(new ef(h))}).then(function(N){return _.a.Db(S,o,N)}).then(function(N){if(_.email!=N)return _.reload()}).then(function(){}))},Z.ic=function(o){var h=null,_=this;return xo(this,o=mc($t(o),_.uid).then(function(S){return h=Af(_,S,"reauthenticate"),al(_,S),_.f=null,_.reload()}).then(function(){return h}),!0)},Z.toJSON=function(){return this.w()},Z.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Xn(o,this.metadata.w()),ct(this.providerData,function(h){o.providerData.push(function(o){var _,h={};for(_ in o)o.hasOwnProperty(_)&&(h[_]=o[_]);return h}(h))}),Xn(o,this.N.w()),o};var sg={name:"redirectUser",D:"session"};function ag(o){return Vc(o.b,sg,o.a)}function ug(o){this.a=o,this.b=Ah(),this.c=null,this.f=function(o){var h=Gl("local"),_=Gl("session"),S=Gl("none");return function(o,h,_){var S=Dd(h,_),N=Lc(o,h.D);return o.get(h,_).then(function(G){var ee=null;try{ee=x(Y.localStorage.getItem(S))}catch(Ie){}if(ee&&!G)return Y.localStorage.removeItem(S),o.set(h,ee,_);ee&&G&&"localStorage"!=N.type&&Y.localStorage.removeItem(S)})}(o.b,h,o.a).then(function(){return o.b.get(_,o.a)}).then(function(N){return N?_:o.b.get(S,o.a).then(function(G){return G?S:o.b.get(h,o.a).then(function(ee){return ee?h:o.b.get(lg,o.a).then(function(Ie){return Ie?Gl(Ie):h})})})}).then(function(N){return o.c=N,kf(o,N.D)}).s(function(){o.c||(o.c=h)})}(this),this.b.addListener(Gl("local"),this.a,Qe(this.g,this))}function kf(o,h){var S,_=[];for(S in ol)ol[S]!==h&&_.push(Vc(o.b,Gl(ol[S]),o.a));return _.push(Vc(o.b,lg,o.a)),function(o){return new Hn(function(h,_){var S=o.length,N=[];if(S)for(var G=function(Ut,yr){S--,N[Ut]=yr,0==S&&h(N)},ee=function(Ut){_(Ut)},Ie=0;Ie<o.length;Ie++)Hs(o[Ie],pt(G,Ie),ee);else h(N)})}(_)}ug.prototype.g=function(){var o=this,h=Gl("local");Pf(this,function(){return $t().then(function(){return o.c&&"local"!=o.c.D?o.b.get(h,o.a):null}).then(function(_){if(_)return kf(o,"local").then(function(){o.c=h})})})};var lg={name:"persistence",D:"session"};function Gl(o){return{name:"authUser",D:o}}function __(o,h){return Pf(o,function(){return o.b.set(o.c,h.w(),o.a)})}function jy(o){return Pf(o,function(){return Vc(o.b,o.c,o.a)})}function v_(o,h,_){return Pf(o,function(){return o.b.get(o.c,o.a).then(function(S){return S&&h&&(S.authDomain=h),S&&_&&(S.emulatorConfig=_),xf(S||{})})})}function Pf(o,h){return o.f=o.f.then(h,h),o.f}function Vu(o){if(this.m=!1,mn(this,"settings",new Sy),mn(this,"app",o),!Ai(this).options||!Ai(this).options.apiKey)throw new I("invalid-api-key");o=te.SDK_VERSION?Gn(te.SDK_VERSION):null,this.a=new hu(Ai(this).options&&Ai(this).options.apiKey,le(Tt),o),this.R=[],this.u=[],this.P=[],this.ac=te.INTERNAL.createSubscribe(Qe(this.yc,this)),this.X=void 0,this.bc=te.INTERNAL.createSubscribe(Qe(this.zc,this)),kh(this,null),this.l=new ug(Ai(this).options.apiKey+":"+Ai(this).name),this.G=new Uy(Ai(this).options.apiKey+":"+Ai(this).name),this.$=ao(this,function(o){var h=Ai(o).options.authDomain,_=function(o){var h=function(o,h){return o.b.get(sg,o.a).then(function(_){return _&&h&&(_.authDomain=h),xf(_||{})})}(o.G,Ai(o).options.authDomain).then(function(_){return(o.o=_)&&(_.ha=o.G),ag(o.G)});return ao(o,h)}(o).then(function(){return v_(o.l,h,o.f)}).then(function(S){return S?(S.ha=o.G,o.o&&(o.o.ga||null)==(S.ga||null)?S:S.reload().then(function(){return __(o.l,S).then(function(){return S})}).s(function(N){return"auth/network-request-failed"==N.code?S:jy(o.l)})):null}).then(function(S){kh(o,S||null)});return ao(o,_)}(this)),this.i=ao(this,function(o){return o.$.then(function(){return qy(o)}).s(function(){}).then(function(){if(!o.m)return o.pa()}).s(function(){}).then(function(){if(!o.m){o.ba=!0;var h=o.l;h.b.addListener(Gl("local"),h.a,o.pa)}})}(this)),this.ba=!1,this.pa=Qe(this.Yc,this),this.Ba=Qe(this.da,this),this.ya=Qe(this.kc,this),this.za=Qe(this.vc,this),this.Aa=Qe(this.wc,this),this.b=null,function(o){var h=Ai(o).options.authDomain,_=Ai(o).options.apiKey;h&&ya()&&(o.gb=o.$.then(function(){if(!o.m){if(o.b=yy(h,_,Ai(o).name,o.f),s_(o.b,o),Pr(o)&&_u(Pr(o)),o.o){_u(o.o);var S=o.o;S.wa(o.ka()),Oy(S,o),Zp(S=o.o,o.N),Ry(S,o),rl((S=o.o).a,o.f),xy(S,o),o.o=null}return o.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Qe(this.delete,this),this.INTERNAL.logFramework=Qe(this.Fc,this),this.A=0,jr.call(this),function(o){Object.defineProperty(o,"lc",{get:function(){return this.ka()},set:function(h){this.wa(h)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.S()},set:function(h){this.xb(h)},enumerable:!1}),o.W=null}(this),this.N=[],this.f=null}function Da(o){$e.call(this,"languageCodeChanged"),this.h=o}function Hy(o){$e.call(this,"emulatorConfigChanged"),this.c=o}function zy(o){$e.call(this,"frameworkChanged"),this.f=o}function cg(o){return o.gb||qn(new I("auth-domain-config-required"))}function qy(o){if(!ya())return qn(new I("operation-not-supported-in-this-environment"));var h=cg(o).then(function(){return o.b.qa()}).then(function(_){return _?hs(_):null});return ao(o,h)}function kh(o,h){Pr(o)&&(function(o,h){kn(o.R,function(_){return _==h})}(Pr(o),o.Ba),Br(Pr(o),"tokenChanged",o.ya),Br(Pr(o),"userDeleted",o.za),Br(Pr(o),"userInvalidated",o.Aa),Py(Pr(o))),h&&(h.R.push(o.Ba),cr(h,"tokenChanged",o.ya),cr(h,"userDeleted",o.za),cr(h,"userInvalidated",o.Aa),0<o.A&&W0(h)),mn(o,"currentUser",h),h&&(h.wa(o.ka()),Oy(h,o),Zp(h,o.N),Ry(h,o),rl(h.a,o.f),xy(h,o))}function jc(o,h){var _=null,S=null;return ao(o,h.then(function(N){return _=Ru(N),S=Ol(N),function(o,h){var _={};return _.apiKey=Ai(o).options.apiKey,_.authDomain=Ai(o).options.authDomain,_.appName=Ai(o).name,o.f&&(_.emulatorConfig=o.f),o.$.then(function(){return function(o,h,_,S){var N=new sa(o,h);return _&&(N.ha=_),S&&Zp(N,S),N.reload().then(function(){return N})}(_,h,o.G,o.Ga())}).then(function(S){return Pr(o)&&S.uid==Pr(o).uid?(Lu(Pr(o),S),o.da(S)):(kh(o,S),_u(S),o.da(S))}).then(function(){Nd(o)})}(o,N)},function(N){var G=null;throw N&&"auth/multi-factor-auth-required"===N.code&&(G=Xp(N.w(),o,Qe(o.jc,o))),G||N}).then(function(){return hs({user:Pr(o),credential:_,additionalUserInfo:S,operationType:"signIn"})}))}function Ai(o){return o.app}function Pr(o){return o.currentUser}function hg(o){return Pr(o)&&Pr(o)._lat||null}function Nd(o){if(o.ba){for(var h=0;h<o.u.length;h++)o.u[h]&&o.u[h](hg(o));if(o.X!==o.getUid()&&o.P.length)for(o.X=o.getUid(),h=0;h<o.P.length;h++)o.P[h]&&o.P[h](hg(o))}}function ao(o,h){return o.R.push(h),h.na(function(){Kt(o.R,h)}),h}function Fd(){}function aa(){this.a={},this.b=1e12}ug.prototype.wb=function(o){var h=null,_=this;return function(o){var h=new I("invalid-persistence-type"),_=new I("unsupported-persistence-type");e:{for(S in ol)if(ol[S]==o){var S=!0;break e}S=!1}if(!S||"string"!=typeof o)throw h;switch(Fr()){case"ReactNative":if("session"===o)throw _;break;case"Node":if("none"!==o)throw _;break;case"Worker":if("session"===o||!zm()&&"none"!==o)throw _;break;default:if(!Wu()&&"none"!==o)throw _}}(o),Pf(this,function(){return o!=_.c.D?_.b.get(_.c,_.a).then(function(S){return h=S,kf(_,o)}).then(function(){if(_.c=Gl(o),h)return _.b.set(_.c,h,_.a)}):$t()})},M(Vu,jr),M(Da,$e),M(Hy,$e),M(zy,$e),(Z=Vu.prototype).wb=function(o){return ao(this,o=this.l.wb(o))},Z.wa=function(o){this.aa===o||this.m||(this.aa=o,_d(this.a,this.aa),this.dispatchEvent(new Da(this.ka())))},Z.ka=function(){return this.aa},Z.ed=function(){var o=Y.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},Z.fd=function(o){if(!this.f){if(!/^https?:\/\//.test(o))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");_t("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),Y.document&&so().then(function(){var o=Y.document.createElement("div");o.innerText="Running in emulator mode. Do not use with production credentials.",o.style.position="fixed",o.style.width="100%",o.style.backgroundColor="#ffffff",o.style.border=".1em solid #000000",o.style.color="#ff0000",o.style.bottom="0px",o.style.left="0px",o.style.margin="0px",o.style.zIndex=1e4,o.style.textAlign="center",o.classList.add("firebase-emulator-warning"),Y.document.body.appendChild(o)}),this.f={url:o},this.settings.hb=!0,rl(this.a,this.f),this.dispatchEvent(new Hy(this.f))}},Z.Fc=function(o){this.N.push(o),Ul(this.a,te.SDK_VERSION?Gn(te.SDK_VERSION,this.N):null),this.dispatchEvent(new zy(this.N))},Z.Ga=function(){return kr(this.N)},Z.xb=function(o){this.W===o||this.m||(this.W=o,this.a.b=this.W)},Z.S=function(){return this.W},Z.toJSON=function(){return{apiKey:Ai(this).options.apiKey,authDomain:Ai(this).options.authDomain,appName:Ai(this).name,currentUser:Pr(this)&&Pr(this).w()}},Z.Eb=function(o,h){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==h&&!!this.g;default:return!1}},Z.ma=function(o,h,_,S){"signInViaPopup"==o&&this.h==S&&(_&&this.O?this.O(_):h&&!_&&this.g&&this.g(h),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},Z.Fa=function(o,h){return"signInViaRedirect"==o||"signInViaPopup"==o&&this.h==h&&this.g?Qe(this.hc,this):null},Z.hc=function(o,h,_,S){var N=this,G={requestUri:o,postBody:S,sessionId:h,tenantId:_};return this.c&&(this.c.cancel(),this.c=null),N.$.then(function(){return jc(N,gf(N.a,G))})},Z.Wc=function(o){if(!ya())return qn(new I("operation-not-supported-in-this-environment"));var h=this,_=pc(o.providerId),S=z(),N=null;(!g()||Ms())&&Ai(this).options.authDomain&&o.isOAuthProvider&&(N=Sd(Ai(this).options.authDomain,Ai(this).options.apiKey,Ai(this).name,"signInViaPopup",o,null,S,te.SDK_VERSION||null,null,null,this.S(),this.f));var G=cn(N,_&&_.ua,_&&_.ta);return ao(this,_=cg(this).then(function(ee){return u_(ee,G,"signInViaPopup",o,S,!!N,h.S())}).then(function(){return new Hn(function(ee,Ie){h.ma("signInViaPopup",null,new I("cancelled-popup-request"),h.h),h.g=ee,h.O=Ie,h.h=S,h.c=_y(h.b,h,"signInViaPopup",G,S)})}).then(function(ee){return G&&Xe(G),ee?hs(ee):null}).s(function(ee){throw G&&Xe(G),ee}))},Z.Xc=function(o){if(!ya())return qn(new I("operation-not-supported-in-this-environment"));var h=this;return ao(this,cg(this).then(function(){return function(o){return Pf(o,function(){return o.b.set(lg,o.c.D,o.a)})}(h.l)}).then(function(){return l_(h.b,"signInViaRedirect",o,void 0,h.S())}))},Z.qa=function(){var o=this;return qy(this).then(function(h){return o.b&&xd(o.b.b),h}).s(function(h){throw o.b&&xd(o.b.b),h})},Z.cd=function(o){if(!o)return qn(new I("null-user"));if(this.W!=o.tenantId)return qn(new I("tenant-id-mismatch"));var h=this,_={};_.apiKey=Ai(this).options.apiKey,_.authDomain=Ai(this).options.authDomain,_.appName=Ai(this).name;var S=function(o,h,_,S){var N=o.b,G={};return G[na]=N.b&&N.b.toString(),G.refreshToken=N.a,h=new sa(h||{apiKey:o.l,authDomain:o.o,appName:o.m},G),_&&(h.ha=_),S&&Zp(h,S),Lu(h,o),h}(o,_,h.G,h.Ga());return ao(this,this.i.then(function(){if(Ai(h).options.apiKey!=o.l)return S.reload()}).then(function(){return Pr(h)&&o.uid==Pr(h).uid?(Lu(Pr(h),o),h.da(o)):(kh(h,S),_u(S),h.da(S))}).then(function(){Nd(h)}))},Z.zb=function(){var o=this;return ao(this,this.i.then(function(){return o.b&&xd(o.b.b),Pr(o)?(kh(o,null),jy(o.l).then(function(){Nd(o)})):$t()}))},Z.Yc=function(){var o=this;return v_(this.l,Ai(this).options.authDomain).then(function(h){if(!o.m){var _;if(_=Pr(o)&&h){_=Pr(o).uid;var S=h.uid;_=null!=_&&""!==_&&null!=S&&""!==S&&_==S}if(_)return Lu(Pr(o),h),Pr(o).I();(Pr(o)||h)&&(kh(o,h),h&&(_u(h),h.ha=o.G),o.b&&s_(o.b,o),Nd(o))}})},Z.da=function(o){return __(this.l,o)},Z.kc=function(){Nd(this),this.da(Pr(this))},Z.vc=function(){this.zb()},Z.wc=function(){this.zb()},Z.jc=function(o){var h=this;return this.i.then(function(){return jc(h,$t(o))})},Z.yc=function(o){var h=this;this.addAuthTokenListener(function(){o.next(Pr(h))})},Z.zc=function(o){var h=this;!function(o,h){o.P.push(h),ao(o,o.i.then(function(){!o.m&&rn(o.P,h)&&o.X!==o.getUid()&&(o.X=o.getUid(),h(hg(o)))}))}(this,function(){o.next(Pr(h))})},Z.Hc=function(o,h,_){var S=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof o?o(Pr(S)):"function"==typeof o.next&&o.next(Pr(S))}),this.ac(o,h,_)},Z.Gc=function(o,h,_){var S=this;return this.ba&&Promise.resolve().then(function(){S.X=S.getUid(),"function"==typeof o?o(Pr(S)):"function"==typeof o.next&&o.next(Pr(S))}),this.bc(o,h,_)},Z.mc=function(o){var h=this;return ao(this,this.i.then(function(){return Pr(h)?Pr(h).I(o).then(function(S){return{accessToken:S}}):null}))},Z.Sc=function(o){var h=this;return this.i.then(function(){return jc(h,vr(h.a,$n,{token:o}))}).then(function(_){var S=_.user;return Bc(S,"isAnonymous",!1),h.da(S),_})},Z.Tc=function(o,h){var _=this;return this.i.then(function(){return jc(_,vr(_.a,ur,{email:o,password:h}))})},Z.dc=function(o,h){var _=this;return this.i.then(function(){return jc(_,vr(_.a,Ga,{email:o,password:h}))})},Z.Za=function(o){var h=this;return this.i.then(function(){return jc(h,o.ja(h.a))})},Z.Rc=function(o){return vo("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(o)},Z.yb=function(){var o=this;return this.i.then(function(){var h=Pr(o);if(h&&h.isAnonymous){var _=hs({providerId:null,isNewUser:!1});return hs({user:h,credential:null,additionalUserInfo:_,operationType:"signIn"})}return jc(o,o.a.yb()).then(function(S){var N=S.user;return Bc(N,"isAnonymous",!0),o.da(N),S})})},Z.getUid=function(){return Pr(this)&&Pr(this).uid||null},Z.cc=function(o){this.addAuthTokenListener(o),this.A++,0<this.A&&Pr(this)&&W0(Pr(this))},Z.Oc=function(o){var h=this;ct(this.u,function(_){_==o&&h.A--}),0>this.A&&(this.A=0),0==this.A&&Pr(this)&&Py(Pr(this)),this.removeAuthTokenListener(o)},Z.addAuthTokenListener=function(o){var h=this;this.u.push(o),ao(this,this.i.then(function(){h.m||rn(h.u,o)&&o(hg(h))}))},Z.removeAuthTokenListener=function(o){kn(this.u,function(h){return h==o})},Z.delete=function(){this.m=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.l&&(o=this.l).b.removeListener(Gl("local"),o.a,this.pa),this.b&&(py(this.b,this),xd(this.b.b)),Promise.resolve()},Z.gc=function(o){return ao(this,function(o,h){return vr(o,ia,{identifier:h,continueUri:y()?w():"http://localhost"}).then(function(_){return _.signinMethods||[]})}(this.a,o))},Z.Ac=function(o){return!!Tp(o)},Z.vb=function(o,h){var _=this;return ao(this,$t().then(function(){var S=new ef(h);if(!S.c)throw new I("argument-error",rd+" must be true when sending sign in link to email");return ja(S)}).then(function(S){return _.a.vb(o,S)}).then(function(){}))},Z.hd=function(o){return this.Qa(o).then(function(h){return h.data.email})},Z.mb=function(o,h){return ao(this,this.a.mb(o,h).then(function(){}))},Z.Qa=function(o){return ao(this,this.a.Qa(o).then(function(h){return new nd(h)}))},Z.ib=function(o){return ao(this,this.a.ib(o).then(function(){}))},Z.ub=function(o,h){var _=this;return ao(this,$t().then(function(){return void 0===h||on(h)?{}:ja(new ef(h))}).then(function(S){return _.a.ub(o,S)}).then(function(){}))},Z.Vc=function(o,h){return ao(this,In(this,o,h,Qe(this.Za,this)))},Z.Uc=function(o,h){var _=this;return ao(this,$t().then(function(){var S=h||w(),N=Ip(o,S);if(!(S=Tp(S)))throw new I("argument-error","Invalid email link!");if(S.tenantId!==_.S())throw new I("tenant-id-mismatch");return _.Za(N)}))},Fd.prototype.render=function(){},Fd.prototype.reset=function(){},Fd.prototype.getResponse=function(){},Fd.prototype.execute=function(){};var Ld=null;function b_(o,h){return(h=Wy(h))&&o.a[h]||null}function Wy(o){return(o=void 0===o?1e12:o)?o.toString():null}function w_(o,h){this.g=!1,this.c=h,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=eo(o);var _=this;this.i=function(){_.execute()},this.h?this.execute():cr(this.f,"click",this.i)}function fg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function E_(){}function C_(){}aa.prototype.render=function(o,h){return this.a[this.b.toString()]=new w_(o,h),this.b++},aa.prototype.reset=function(o){var h=b_(this,o);o=Wy(o),h&&o&&(h.delete(),delete this.a[o])},aa.prototype.getResponse=function(o){return(o=b_(this,o))?o.getResponse():null},aa.prototype.execute=function(o){(o=b_(this,o))&&o.execute()},w_.prototype.getResponse=function(){return fg(this),this.b},w_.prototype.execute=function(){fg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=function(){for(var o=50,h=[];0<o;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return h.join("")}();var h=o.c.callback,_=o.c["expired-callback"];if(h)try{h(o.b)}catch(S){}o.a=setTimeout(function(){if(o.a=null,o.b=null,_)try{_()}catch(S){}o.h&&o.execute()},6e4)},500))},w_.prototype.delete=function(){fg(this),this.g=!0,clearTimeout(this.a),this.a=null,Br(this.f,"click",this.i)},mn(E_,"FACTOR_ID","phone"),C_.prototype.g=function(){return Ld||(Ld=new aa),$t(Ld)},C_.prototype.c=function(){};var S_=null;function Vd(){this.b=Y.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var J0=new sn(Sr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Z0=new ae(3e4,6e4);Vd.prototype.g=function(o){var h=this;return new Hn(function(_,S){var N=setTimeout(function(){S(new I("network-request-failed"))},Z0.get());!Y.grecaptcha||o!==h.f&&!h.b?(Y[h.a]=function(){if(Y.grecaptcha){h.f=o;var ee=Y.grecaptcha.render;Y.grecaptcha.render=function(Ie,St){return Ie=ee(Ie,St),h.b++,Ie},clearTimeout(N),_(Y.grecaptcha)}else clearTimeout(N),S(new I("internal-error"));delete Y[h.a]},$t(Ac(Gi(J0,{onload:h.a,hl:o||""}))).s(function(){clearTimeout(N),S(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(N),_(Y.grecaptcha))})},Vd.prototype.c=function(){this.b--};var Nf=null;function Ud(o,h,_,S,N,G,ee){if(mn(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=h,this.g=null,ee?(S_||(S_=new C_),ee=S_):(Nf||(Nf=new Vd),ee=Nf),this.v=ee,this.a=_||{theme:"light",type:"image"},this.h=[],this.a[pg])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ky],!Y.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!eo(h)||!this.i&&eo(h).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new hu(o,G||null,N||null),this.u=S||function(){return null};var Ie=this;this.l=[];var St=this.a[$y];this.a[$y]=function(yr){if(Yy(Ie,yr),"function"==typeof St)St(yr);else if("string"==typeof St){var Mi=bi(St,Y);"function"==typeof Mi&&Mi(yr)}};var Ut=this.a[dg];this.a[dg]=function(){if(Yy(Ie,null),"function"==typeof Ut)Ut();else if("string"==typeof Ut){var yr=bi(Ut,Y);"function"==typeof yr&&yr()}}}var $y="callback",dg="expired-callback",pg="sitekey",Ky="size";function Yy(o,h){for(var _=0;_<o.l.length;_++)try{o.l[_](h)}catch(S){}}function Bd(o,h){return o.h.push(h),h.na(function(){Kt(o.h,h)}),h}function I_(o){if(o.A)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function T_(o,h,_){var S=!1;try{this.b=_||te.app()}catch(ee){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");_=this.b.options.apiKey;var N=this,G=null;try{G=this.b.auth().Ga()}catch(ee){}try{S=this.b.auth().settings.appVerificationDisabledForTesting}catch(ee){}G=te.SDK_VERSION?Gn(te.SDK_VERSION,G):null,Ud.call(this,_,o,h,function(){try{var ee=N.b.auth().ka()}catch(Ie){ee=null}return ee},G,le(Tt),S)}function D_(o,h,_,S){e:{_=Array.prototype.slice.call(_);for(var N=0,G=!1,ee=0;ee<h.length;ee++)if(h[ee].optional)G=!0;else{if(G)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");N++}if(G=h.length,_.length<N||G<_.length)S="Expected "+(N==G?1==N?"1 argument":N+" arguments":N+"-"+G+" arguments")+" but got "+_.length+".";else{for(N=0;N<_.length;N++)if(G=h[N].optional&&void 0===_[N],!h[N].K(_[N])&&!G){if(h=h[N],0>N||N>=A_.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");_=A_[N],S=(S?"":_+" argument ")+(h.name?'"'+h.name+'" ':"")+"must be "+h.J+".";break e}S=null}}if(S)throw new I("argument-error",o+" failed: "+S)}(Z=Ud.prototype).Ia=function(){var o=this;return this.f?this.f:this.f=Bd(this,$t().then(function(){if(y()&&!Xr())return so();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.v.g(o.u())}).then(function(h){return o.g=h,vr(o.o,k,{})}).then(function(h){o.a[pg]=h.recaptchaSiteKey}).s(function(h){throw o.f=null,h}))},Z.render=function(){I_(this);var o=this;return Bd(this,this.Ia().then(function(){if(null===o.c){var h=o.m;if(!o.i){var _=eo(h);h=function(o,h,_){var S=arguments,N=document,G=String(S[0]),ee=S[1];if(!Bs&&ee&&(ee.name||ee.type)){if(G=["<",G],ee.name&&G.push(' name="',ke(ee.name),'"'),ee.type){G.push(' type="',ke(ee.type),'"');var Ie={};Xn(Ie,ee),delete Ie.type,ee=Ie}G.push(">"),G=G.join("")}return G=ws(N,G),ee&&("string"==typeof ee?G.className=ee:Array.isArray(ee)?G.className=ee.join(" "):Ho(G,ee)),2<S.length&&xn(N,G,S),G}("DIV"),_.appendChild(h)}o.c=o.g.render(h,o.a)}return o.c}))},Z.verify=function(){I_(this);var o=this;return Bd(this,this.render().then(function(h){return new Hn(function(_){var S=o.g.getResponse(h);if(S)_(S);else{var N=function(G){G&&(function(o,h){kn(o.l,function(_){return _==h})}(o,N),_(G))};o.l.push(N),o.i&&o.g.execute(o.c)}})}))},Z.reset=function(){I_(this),null!==this.c&&this.g.reset(this.c)},Z.clear=function(){I_(this),this.A=!0,this.v.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=eo(this.m);for(var h;h=o.firstChild;)o.removeChild(h)}},M(T_,Ud);var A_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function An(o,h){return{name:o||"",J:"a valid string",optional:!!h,K:function(_){return"string"==typeof _}}}function gg(o,h){return{name:o||"",J:"a boolean",optional:!!h,K:function(_){return"boolean"==typeof _}}}function Uo(o,h){return{name:o||"",J:"a valid object",optional:!!h,K:Le}}function Aa(o,h){return{name:o||"",J:"a function",optional:!!h,K:function(_){return"function"==typeof _}}}function Wa(o,h){return{name:o||"",J:"null",optional:!!h,K:function(_){return null===_}}}function $a(o){return{name:o?o+"Credential":"credential",J:o?"a valid "+o+" credential":"a valid credential",optional:!1,K:function(h){return!!h&&!(!h.ja||o&&h.providerId!==o)}}}function Ph(o,h){return Le(o)&&"string"==typeof o.type&&o.type===h&&"function"==typeof o.Ha}function Qy(o){return Le(o)&&"string"==typeof o.uid}function wo(o,h,_,S){return{name:_||"",J:o.J+" or "+h.J,optional:!!S,K:function(N){return o.K(N)||h.K(N)}}}function uo(o,h){for(var _ in h){var S=h[_].name;o[S]=mg(S,o[_],h[_].j)}}function O_(o,h){for(var _ in h){var S=h[_].name;S!==_&&Object.defineProperty(o,S,{get:pt(function(N){return this[N]},_),set:pt(function(N,G,ee,Ie){D_(N,[ee],[Ie],!0),this[G]=Ie},S,_,h[_].jb),enumerable:!0})}}function Ro(o,h,_,S){o[h]=mg(h,_,S)}function mg(o,h,_){function S(){var ee=Array.prototype.slice.call(arguments);return D_(N,_,ee),h.apply(this,ee)}if(!_)return h;var G,N=function(o){return(o=o.split("."))[o.length-1]}(o);for(G in h)S[G]=h[G];for(G in h.prototype)S.prototype[G]=h.prototype[G];return S}uo(Vu.prototype,{ib:{name:"applyActionCode",j:[An("code")]},Qa:{name:"checkActionCode",j:[An("code")]},mb:{name:"confirmPasswordReset",j:[An("code"),An("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[An("email"),An("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[An("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[An("emailLink")]},Gc:{name:"onAuthStateChanged",j:[wo(Uo(),Aa(),"nextOrObserver"),Aa("opt_error",!0),Aa("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[wo(Uo(),Aa(),"nextOrObserver"),Aa("opt_error",!0),Aa("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[An("email"),wo(Uo("opt_actionCodeSettings",!0),Wa(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[An("email"),Uo("actionCodeSettings")]},wb:{name:"setPersistence",j:[An("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[$a()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[$a()]},Sc:{name:"signInWithCustomToken",j:[An("token")]},Tc:{name:"signInWithEmailAndPassword",j:[An("email"),An("password")]},Uc:{name:"signInWithEmailLink",j:[An("email"),An("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[wo({name:"user",J:"an instance of Firebase User",optional:!1,K:function(h){return!!(h&&h instanceof sa)}},Wa(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[An(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[An("url")]},hd:{name:"verifyPasswordResetCode",j:[An("code")]}}),O_(Vu.prototype,{lc:{name:"languageCode",jb:wo(An(),Wa(),"languageCode")},ti:{name:"tenantId",jb:wo(An(),Wa(),"tenantId")}}),(Vu.Persistence=ol).LOCAL="local",Vu.Persistence.SESSION="session",Vu.Persistence.NONE="none",uo(sa.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[gg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[gg("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[$a()]},pb:{name:"linkWithCredential",j:[$a()]},Cc:{name:"linkWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$a()]},sb:{name:"reauthenticateWithCredential",j:[$a()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[An("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[wo(Uo("opt_actionCodeSettings",!0),Wa(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[An(null,!0)]},bd:{name:"unlink",j:[An("provider")]},Ab:{name:"updateEmail",j:[An("email")]},Bb:{name:"updatePassword",j:[An("password")]},dd:{name:"updatePhoneNumber",j:[$a("phone")]},Cb:{name:"updateProfile",j:[Uo("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[An("email"),wo(Uo("opt_actionCodeSettings",!0),Wa(null,!0),"opt_actionCodeSettings",!0)]}}),uo(aa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uo(Fd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uo(Hn.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),O_(Sy.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:gg("appVerificationDisabledForTesting")}}),uo(pr.prototype,{confirm:{name:"confirm",j:[An("verificationCode")]}}),Ro(au,"fromJSON",function(o){o="string"==typeof o?JSON.parse(o):o;for(var h,_=[wa,bc,qv,uu],S=0;S<_.length;S++)if(h=_[S](o))return h;return null},[wo(An(),Uo(),"json")]),Ro(Rs,"credential",function(o,h){return new Xt(o,h)},[An("email"),An("password")]),uo(Xt.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(Zs.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Uo("customOAuthParameters")]}}),Ro(Zs,"credential",vc,[wo(An(),Uo(),"token")]),Ro(Rs,"credentialWithLink",Ip,[An("email"),An("emailLink")]),uo(bo.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Uo("customOAuthParameters")]}}),Ro(bo,"credential",Cp,[wo(An(),Uo(),"token")]),uo(yc.prototype,{Ca:{name:"addScope",j:[An("scope")]},Ka:{name:"setCustomParameters",j:[Uo("customOAuthParameters")]}}),Ro(yc,"credential",Sp,[wo(An(),wo(Uo(),Wa()),"idToken"),wo(An(),Wa(),"accessToken",!0)]),uo(hh.prototype,{Ka:{name:"setCustomParameters",j:[Uo("customOAuthParameters")]}}),Ro(hh,"credential",fh,[wo(An(),Uo(),"token"),An("secret",!0)]),uo(Mo.prototype,{Ca:{name:"addScope",j:[An("scope")]},credential:{name:"credential",j:[wo(An(),wo(Uo(),Wa()),"optionsOrIdToken"),wo(An(),Wa(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Uo("customOAuthParameters")]}}),uo(Jr.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(el.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),Ro(lu,"credential",wc,[An("verificationId"),An("verificationCode")]),uo(lu.prototype,{eb:{name:"verifyPhoneNumber",j:[wo(An(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(_){return!!_&&(_.session&&_.phoneNumber?Ph(_.session,gc)&&"string"==typeof _.phoneNumber:_.session&&_.multiFactorHint?Ph(_.session,xl)&&Qy(_.multiFactorHint):_.session&&_.multiFactorUid?Ph(_.session,xl)&&"string"==typeof _.multiFactorUid:!!_.phoneNumber&&"string"==typeof _.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(o){return!(!o||"string"!=typeof o.type||"function"!=typeof o.verify)}}]}}),uo(Rl.prototype,{w:{name:"toJSON",j:[An(null,!0)]}}),uo(I.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(kl.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(Ap.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(h_.prototype,{toJSON:{name:"toJSON",j:[An(null,!0)]}}),uo(If.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(o){return!!o&&!!o.rb}}]}}),uo(Dy.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(o){return!!o&&!!o.rb}},An("displayName",!0)]},ad:{name:"unenroll",j:[wo({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Qy},An(),"multiFactorInfoIdentifier")]}}),uo(T_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ro(Si,"parseLink",Ep,[An("link")]),Ro(E_,"assertion",function(o){return new H0(o)},[$a("phone")]),function(){if(void 0===te||!te.INTERNAL||!te.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:su,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ba,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Vu,AuthCredential:au,Error:I};Ro(o,"EmailAuthProvider",Rs,[]),Ro(o,"FacebookAuthProvider",Zs,[]),Ro(o,"GithubAuthProvider",bo,[]),Ro(o,"GoogleAuthProvider",yc,[]),Ro(o,"TwitterAuthProvider",hh,[]),Ro(o,"OAuthProvider",Mo,[An("providerId")]),Ro(o,"SAMLAuthProvider",xu,[An("providerId")]),Ro(o,"PhoneAuthProvider",lu,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(o){return!!(o&&o instanceof Vu)}}]),Ro(o,"RecaptchaVerifier",T_,[wo(An(),{name:"",J:"an HTML element",optional:!1,K:function(o){return!!(o&&o instanceof Element)}},"recaptchaContainer"),Uo("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(o){return!!(o&&o instanceof te.app.App)}}]),Ro(o,"ActionCodeURL",Si,[]),Ro(o,"PhoneMultiFactorGenerator",E_,[]),te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(h){return new Vu(h=h.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(h){return{getUid:Qe((h=h.getProvider("auth").getImmediate()).getUid,h),getToken:Qe(h.mc,h),addAuthTokenListener:Qe(h.cc,h),removeAuthTokenListener:Qe(h.Oc,h)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.registerVersion("@firebase/auth","0.15.0"),te.INTERNAL.extendNamespace({User:sa})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},100:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Ct(385),Z=Ct(704),re=function(){function be(Y,et,it){this.name=Y,this.instanceFactory=et,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return be.prototype.setInstantiationMode=function(Y){return this.instantiationMode=Y,this},be.prototype.setMultipleInstances=function(Y){return this.multipleInstances=Y,this},be.prototype.setServiceProps=function(Y){return this.serviceProps=Y,this},be}(),Nt="[DEFAULT]",rt=function(){function be(Y,et){this.name=Y,this.container=et,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return be.prototype.get=function(Y){void 0===Y&&(Y=Nt);var et=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(et)){var it=new Z.Deferred;this.instancesDeferred.set(et,it);try{var Ne=this.getOrInitializeService(et);Ne&&it.resolve(Ne)}catch(ft){}}return this.instancesDeferred.get(et).promise},be.prototype.getImmediate=function(Y){var et=te.__assign({identifier:Nt,optional:!1},Y),Ne=et.optional,ft=this.normalizeInstanceIdentifier(et.identifier);try{var bn=this.getOrInitializeService(ft);if(!bn){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return bn}catch(Pt){if(Ne)return null;throw Pt}},be.prototype.getComponent=function(){return this.component},be.prototype.setComponent=function(Y){var et,it;if(Y.name!==this.name)throw Error("Mismatching Component "+Y.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Y,function(be){return"EAGER"===be.instantiationMode}(Y))try{this.getOrInitializeService(Nt)}catch(Bt){}try{for(var Ne=te.__values(this.instancesDeferred.entries()),ft=Ne.next();!ft.done;ft=Ne.next()){var bn=te.__read(ft.value,2),Le=bn[1],dt=this.normalizeInstanceIdentifier(bn[0]);try{var Je=this.getOrInitializeService(dt);Le.resolve(Je)}catch(Bt){}}}catch(Bt){et={error:Bt}}finally{try{ft&&!ft.done&&(it=Ne.return)&&it.call(Ne)}finally{if(et)throw et.error}}},be.prototype.clearInstance=function(Y){void 0===Y&&(Y=Nt),this.instancesDeferred.delete(Y),this.instances.delete(Y)},be.prototype.delete=function(){return te.__awaiter(this,void 0,void 0,function(){var Y;return te.__generator(this,function(et){switch(et.label){case 0:return Y=Array.from(this.instances.values()),[4,Promise.all(te.__spread(Y.filter(function(it){return"INTERNAL"in it}).map(function(it){return it.INTERNAL.delete()}),Y.filter(function(it){return"_delete"in it}).map(function(it){return it._delete()})))];case 1:return et.sent(),[2]}})})},be.prototype.isComponentSet=function(){return null!=this.component},be.prototype.getOrInitializeService=function(Y){var et=this.instances.get(Y);return!et&&this.component&&(et=this.component.instanceFactory(this.container,function(be){return be===Nt?void 0:be}(Y)),this.instances.set(Y,et)),et||null},be.prototype.normalizeInstanceIdentifier=function(Y){return this.component?this.component.multipleInstances?Y:Nt:Y},be}(),Cn=function(){function be(Y){this.name=Y,this.providers=new Map}return be.prototype.addComponent=function(Y){var et=this.getProvider(Y.name);if(et.isComponentSet())throw new Error("Component "+Y.name+" has already been registered with "+this.name);et.setComponent(Y)},be.prototype.addOrOverwriteComponent=function(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)},be.prototype.getProvider=function(Y){if(this.providers.has(Y))return this.providers.get(Y);var et=new rt(Y,this);return this.providers.set(Y,et),et},be.prototype.getProviders=function(){return Array.from(this.providers.values())},be}();bt.Component=re,bt.ComponentContainer=Cn,bt.Provider=rt},614:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Ct(279),Z=Ct(209),re=Ct(704),Nt=Ct(300),rt=Ct(100);function Tn(y){return y&&"object"==typeof y&&"default"in y?y:{default:y}}var y,Lt=Tn(te),Cn=function(){function y(f){this.domStorage_=f,this.prefix_="firebase:"}return y.prototype.set=function(f,g){null==g?this.domStorage_.removeItem(this.prefixedName_(f)):this.domStorage_.setItem(this.prefixedName_(f),re.stringify(g))},y.prototype.get=function(f){var g=this.domStorage_.getItem(this.prefixedName_(f));return null==g?null:re.jsonEval(g)},y.prototype.remove=function(f){this.domStorage_.removeItem(this.prefixedName_(f))},y.prototype.prefixedName_=function(f){return this.prefix_+f},y.prototype.toString=function(){return this.domStorage_.toString()},y}(),be=function(){function y(){this.cache_={},this.isInMemoryStorage=!0}return y.prototype.set=function(f,g){null==g?delete this.cache_[f]:this.cache_[f]=g},y.prototype.get=function(f){return re.contains(this.cache_,f)?this.cache_[f]:null},y.prototype.remove=function(f){delete this.cache_[f]},y}(),Y=function(y){try{if("undefined"!=typeof window&&void 0!==window[y]){var f=window[y];return f.setItem("firebase:sentinel","cache"),f.removeItem("firebase:sentinel"),new Cn(f)}}catch(g){}return new be},et=Y("localStorage"),it=Y("sessionStorage"),Ne=new Nt.Logger("@firebase/database"),ft=(y=1,function(){return y++}),bn=function(y){var f=re.stringToByteArray(y),g=new re.Sha1;g.update(f);var b=g.digest();return re.base64.encodeByteArray(b)},Pt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];for(var g="",b=0;b<y.length;b++){var D=y[b];Array.isArray(D)||D&&"object"==typeof D&&"number"==typeof D.length?g+=Pt.apply(null,D):g+="object"==typeof D?re.stringify(D):D,g+=" "}return g},Le=null,dt=!0,Je=function(y,f){re.assert(!f||!0===y||!1===y,"Can't turn on custom loggers persistently."),!0===y?(Ne.logLevel=Nt.LogLevel.VERBOSE,Le=Ne.log.bind(Ne),f&&it.set("logging_enabled",!0)):"function"==typeof y?Le=y:(Le=null,it.remove("logging_enabled"))},Bt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];if(!0===dt&&(dt=!1,null===Le&&!0===it.get("logging_enabled")&&Je(!0)),Le){var g=Pt.apply(null,y);Le(g)}},Ft=function(y){return function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];Bt.apply(void 0,Z.__spread([y],f))}},ot=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE INTERNAL ERROR: "+Pt.apply(void 0,Z.__spread(y));Ne.error(g)},Qe=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE FATAL ERROR: "+Pt.apply(void 0,Z.__spread(y));throw Ne.error(g),new Error(g)},pt=function(){for(var y=[],f=0;f<arguments.length;f++)y[f]=arguments[f];var g="FIREBASE WARNING: "+Pt.apply(void 0,Z.__spread(y));Ne.warn(g)},M=function(y){return"number"==typeof y&&(y!=y||y===Number.POSITIVE_INFINITY||y===Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",H="[MAX_NAME]",R=function(y,f){if(y===f)return 0;if(y===F||f===H)return-1;if(f===F||y===H)return 1;var g=en(y),b=en(f);return null!==g?null!==b?g-b==0?y.length-f.length:g-b:-1:null!==b?1:y<f?-1:1},K=function(y,f){return y===f?0:y<f?-1:1},le=function(y,f){if(f&&y in f)return f[y];throw new Error("Missing required key ("+y+") in object: "+re.stringify(f))},Tt=function(y){if("object"!=typeof y||null===y)return re.stringify(y);var f=[];for(var g in y)f.push(g);f.sort();for(var b="{",D=0;D<f.length;D++)0!==D&&(b+=","),b+=re.stringify(f[D]),b+=":",b+=Tt(y[f[D]]);return b+"}"},se=function(y,f){var g=y.length;if(g<=f)return[y];for(var b=[],D=0;D<g;D+=f)b.push(y.substring(D,D+f>g?g:D+f));return b};function Ve(y,f){for(var g in y)y.hasOwnProperty(g)&&f(g,y[g])}var Ke,tt,At,Mr,or,we,It=function(y){re.assert(!M(y),"Invalid JSON number");var D,x,z,Q,ce,b=1023;0===y?(x=0,z=0,D=1/y==-1/0?1:0):(D=y<0,(y=Math.abs(y))>=Math.pow(2,1-b)?(x=(Q=Math.min(Math.floor(Math.log(y)/Math.LN2),b))+b,z=Math.round(y*Math.pow(2,52-Q)-Math.pow(2,52))):(x=0,z=Math.round(y/Math.pow(2,-1074))));var ae=[];for(ce=52;ce;ce-=1)ae.push(z%2?1:0),z=Math.floor(z/2);for(ce=11;ce;ce-=1)ae.push(x%2?1:0),x=Math.floor(x/2);ae.push(D?1:0),ae.reverse();var He=ae.join(""),nt="";for(ce=0;ce<64;ce+=8){var _t=parseInt(He.substr(ce,8),2).toString(16);1===_t.length&&(_t="0"+_t),nt+=_t}return nt.toLowerCase()},wt=new RegExp("^-?(0*)\\d{1,10}$"),en=function(y){if(wt.test(y)){var f=Number(y);if(f>=-2147483648&&f<=2147483647)return f}return null},Rt=function(y){try{y()}catch(f){setTimeout(function(){throw pt("Exception was thrown by user callback.",f.stack||""),f},Math.floor(0))}},fn=function(y,f){var g=setTimeout(y,f);return"object"==typeof g&&g.unref&&g.unref(),g},ct=function(){function y(f,g){if(void 0===g){this.pieces_=f.split("/");for(var b=0,D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[b]=this.pieces_[D],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=f,this.pieceNum_=g}return Object.defineProperty(y,"Empty",{get:function(){return new y("")},enumerable:!1,configurable:!0}),y.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},y.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},y.prototype.popFront=function(){var f=this.pieceNum_;return f<this.pieces_.length&&f++,new y(this.pieces_,f)},y.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},y.prototype.toString=function(){for(var f="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(f+="/"+this.pieces_[g]);return f||"/"},y.prototype.toUrlEncodedString=function(){for(var f="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(f+="/"+encodeURIComponent(String(this.pieces_[g])));return f||"/"},y.prototype.slice=function(f){return void 0===f&&(f=0),this.pieces_.slice(this.pieceNum_+f)},y.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var f=[],g=this.pieceNum_;g<this.pieces_.length-1;g++)f.push(this.pieces_[g]);return new y(f,0)},y.prototype.child=function(f){for(var g=[],b=this.pieceNum_;b<this.pieces_.length;b++)g.push(this.pieces_[b]);if(f instanceof y)for(b=f.pieceNum_;b<f.pieces_.length;b++)g.push(f.pieces_[b]);else{var D=f.split("/");for(b=0;b<D.length;b++)D[b].length>0&&g.push(D[b])}return new y(g,0)},y.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},y.relativePath=function(f,g){var b=f.getFront(),D=g.getFront();if(null===b)return g;if(b===D)return y.relativePath(f.popFront(),g.popFront());throw new Error("INTERNAL ERROR: innerPath ("+g+") is not within outerPath ("+f+")")},y.comparePaths=function(f,g){for(var b=f.slice(),D=g.slice(),x=0;x<b.length&&x<D.length;x++){var z=R(b[x],D[x]);if(0!==z)return z}return b.length===D.length?0:b.length<D.length?-1:1},y.prototype.equals=function(f){if(this.getLength()!==f.getLength())return!1;for(var g=this.pieceNum_,b=f.pieceNum_;g<=this.pieces_.length;g++,b++)if(this.pieces_[g]!==f.pieces_[b])return!1;return!0},y.prototype.contains=function(f){var g=this.pieceNum_,b=f.pieceNum_;if(this.getLength()>f.getLength())return!1;for(;g<this.pieces_.length;){if(this.pieces_[g]!==f.pieces_[b])return!1;++g,++b}return!0},y}(),Bn=function(){function y(f,g){this.errorPrefix_=g,this.parts_=f.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=re.stringLength(this.parts_[b]);this.checkValid_()}return Object.defineProperty(y,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(y,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),y.prototype.push=function(f){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(f),this.byteLength_+=re.stringLength(f),this.checkValid_()},y.prototype.pop=function(){var f=this.parts_.pop();this.byteLength_-=re.stringLength(f),this.parts_.length>0&&(this.byteLength_-=1)},y.prototype.checkValid_=function(){if(this.byteLength_>y.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+y.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>y.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+y.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},y.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},y}(),Kt="firebaseio.com",kr="websocket",ir="long_polling",jn=function(){function y(f,g,b,D,x,z,Q){void 0===x&&(x=!1),void 0===z&&(z=""),void 0===Q&&(Q=!1),this.secure=g,this.namespace=b,this.webSocketOnly=D,this.nodeAdmin=x,this.persistenceKey=z,this.includeNamespaceInQueryParams=Q,this.host=f.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=et.get("host:"+f)||this.host}return y.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},y.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},y.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},y.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},y.prototype.updateHost=function(f){f!==this.internalHost&&(this.internalHost=f,this.isCacheableHost()&&et.set("host:"+this.host,this.internalHost))},y.prototype.connectionURL=function(f,g){var b;if(re.assert("string"==typeof f,"typeof type must == string"),re.assert("object"==typeof g,"typeof params must == object"),f===kr)b=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(f!==ir)throw new Error("Unknown connection type: "+f);b=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(g.ns=this.namespace);var D=[];return Ve(g,function(x,z){D.push(x+"="+z)}),b+D.join("&")},y.prototype.toString=function(){var f=this.toURLString();return this.persistenceKey&&(f+="<"+this.persistenceKey+">"),f},y.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},y}(),Qn=function(y,f){var g=On(y),b=g.namespace;return"firebase.com"===g.domain&&Qe(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==g.domain&&Qe("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new jn(g.host,g.secure,b,f,"ws"===g.scheme||"wss"===g.scheme,"",b!==g.subdomain),path:new ct(g.pathString)}},On=function(y){var f="",g="",b="",D="",x="",z=!0,Q="https",ce=443;if("string"==typeof y){var ae=y.indexOf("//");ae>=0&&(Q=y.substring(0,ae-1),y=y.substring(ae+2));var He=y.indexOf("/");-1===He&&(He=y.length);var nt=y.indexOf("?");-1===nt&&(nt=y.length),f=y.substring(0,Math.min(He,nt)),He<nt&&(D=function(y){for(var f="",g=y.split("/"),b=0;b<g.length;b++)if(g[b].length>0){var D=g[b];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch(x){}f+="/"+D}return f}(y.substring(He,nt)));var _t=function(y){var f,g,b={};"?"===y.charAt(0)&&(y=y.substring(1));try{for(var D=Z.__values(y.split("&")),x=D.next();!x.done;x=D.next()){var z=x.value;if(0!==z.length){var Q=z.split("=");2===Q.length?b[decodeURIComponent(Q[0])]=decodeURIComponent(Q[1]):pt("Invalid query segment '"+z+"' in query '"+y+"'")}}}catch(ce){f={error:ce}}finally{try{x&&!x.done&&(g=D.return)&&g.call(D)}finally{if(f)throw f.error}}return b}(y.substring(Math.min(y.length,nt)));(ae=f.indexOf(":"))>=0?(z="https"===Q||"wss"===Q,ce=parseInt(f.substring(ae+1),10)):ae=f.length;var xt=f.slice(0,ae);if("localhost"===xt.toLowerCase())g="localhost";else if(xt.split(".").length<=2)g=xt;else{var Zt=f.indexOf(".");b=f.substring(0,Zt).toLowerCase(),g=f.substring(Zt+1),x=b}"ns"in _t&&(x=_t.ns)}return{host:f,port:ce,domain:g,subdomain:b,secure:z,scheme:Q,pathString:D,namespace:x}},ci=/[\[\].#$\/\u0000-\u001F\u007F]/,je=/[\[\].#$\u0000-\u001F\u007F]/,ge=10485760,qe=function(y){return"string"==typeof y&&0!==y.length&&!ci.test(y)},Ye=function(y){return"string"==typeof y&&0!==y.length&&!je.test(y)},Wt=function(y){return null===y||"string"==typeof y||"number"==typeof y&&!M(y)||y&&"object"==typeof y&&re.contains(y,".sv")},zt=function(y,f,g,b,D){D&&void 0===g||pn(re.errorPrefix(y,f,D),g,b)},pn=function(y,f,g){var b=g instanceof ct?new Bn(g,y):g;if(void 0===f)throw new Error(y+"contains undefined "+b.toErrorString());if("function"==typeof f)throw new Error(y+"contains a function "+b.toErrorString()+" with contents = "+f.toString());if(M(f))throw new Error(y+"contains "+f.toString()+" "+b.toErrorString());if("string"==typeof f&&f.length>ge/3&&re.stringLength(f)>ge)throw new Error(y+"contains a string greater than "+ge+" utf8 bytes "+b.toErrorString()+" ('"+f.substring(0,50)+"...')");if(f&&"object"==typeof f){var D=!1,x=!1;if(Ve(f,function(z,Q){if(".value"===z)D=!0;else if(".priority"!==z&&".sv"!==z&&(x=!0,!qe(z)))throw new Error(y+" contains an invalid key ("+z+") "+b.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');b.push(z),pn(y,Q,b),b.pop()}),D&&x)throw new Error(y+' contains ".value" child '+b.toErrorString()+" in addition to actual children.")}},Dn=function(y,f,g,b,D){if(!D||void 0!==g){var x=re.errorPrefix(y,f,D);if(!g||"object"!=typeof g||Array.isArray(g))throw new Error(x+" must be an object containing the children to replace.");var z=[];Ve(g,function(Q,ce){var ae=new ct(Q);if(pn(x,ce,b.child(ae)),".priority"===ae.getBack()&&!Wt(ce))throw new Error(x+"contains an invalid value for '"+ae.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");z.push(ae)}),function(y,f){var g,b;for(g=0;g<f.length;g++)for(var D=(b=f[g]).slice(),x=0;x<D.length;x++)if((".priority"!==D[x]||x!==D.length-1)&&!qe(D[x]))throw new Error(y+"contains an invalid key ("+D[x]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');f.sort(ct.comparePaths);var z=null;for(g=0;g<f.length;g++){if(b=f[g],null!==z&&z.contains(b))throw new Error(y+"contains a path "+z.toString()+" that is ancestor of another path "+b.toString());z=b}}(x,z)}},wr=function(y,f,g,b){if(!b||void 0!==g){if(M(g))throw new Error(re.errorPrefix(y,f,b)+"is "+g.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wt(g))throw new Error(re.errorPrefix(y,f,b)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xn=function(y,f,g,b){if(!b||void 0!==g)switch(g){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(re.errorPrefix(y,f,b)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Cr=function(y,f,g,b){if(!(b&&void 0===g||qe(g)))throw new Error(re.errorPrefix(y,f,b)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sn=function(y,f,g,b){if(!(b&&void 0===g||Ye(g)))throw new Error(re.errorPrefix(y,f,b)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hi=function(y,f,g,b){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),sn(y,f,g,b)},nn=function(y,f){if(".info"===f.getFront())throw new Error(y+" failed = Can't modify data under /.info/")},Sr=function(y,f,g){var b=g.path.toString();if("string"!=typeof g.repoInfo.host||0===g.repoInfo.host.length||!qe(g.repoInfo.namespace)&&"localhost"!==g.repoInfo.host.split(":")[0]||0!==b.length&&!function(y){return y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),Ye(y)}(b))throw new Error(re.errorPrefix(y,f,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},co=function(y,f,g,b){if((!b||void 0!==g)&&"boolean"!=typeof g)throw new Error(re.errorPrefix(y,f,b)+"must be a boolean.")},Fn=function(){function y(f,g){this.repo_=f,this.path_=g}return y.prototype.cancel=function(f){re.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),re.validateCallback("OnDisconnect.cancel",1,f,!0);var g=new re.Deferred;return this.repo_.onDisconnectCancel(this.path_,g.wrapCallback(f)),g.promise},y.prototype.remove=function(f){re.validateArgCount("OnDisconnect.remove",0,1,arguments.length),nn("OnDisconnect.remove",this.path_),re.validateCallback("OnDisconnect.remove",1,f,!0);var g=new re.Deferred;return this.repo_.onDisconnectSet(this.path_,null,g.wrapCallback(f)),g.promise},y.prototype.set=function(f,g){re.validateArgCount("OnDisconnect.set",1,2,arguments.length),nn("OnDisconnect.set",this.path_),zt("OnDisconnect.set",1,f,this.path_,!1),re.validateCallback("OnDisconnect.set",2,g,!0);var b=new re.Deferred;return this.repo_.onDisconnectSet(this.path_,f,b.wrapCallback(g)),b.promise},y.prototype.setWithPriority=function(f,g,b){re.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),nn("OnDisconnect.setWithPriority",this.path_),zt("OnDisconnect.setWithPriority",1,f,this.path_,!1),wr("OnDisconnect.setWithPriority",2,g,!1),re.validateCallback("OnDisconnect.setWithPriority",3,b,!0);var D=new re.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,f,g,D.wrapCallback(b)),D.promise},y.prototype.update=function(f,g){if(re.validateArgCount("OnDisconnect.update",1,2,arguments.length),nn("OnDisconnect.update",this.path_),Array.isArray(f)){for(var b={},D=0;D<f.length;++D)b[""+D]=f[D];f=b,pt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Dn("OnDisconnect.update",1,f,this.path_,!1),re.validateCallback("OnDisconnect.update",2,g,!0);var x=new re.Deferred;return this.repo_.onDisconnectUpdate(this.path_,f,x.wrapCallback(g)),x.promise},y}(),an=function(){function y(f,g){this.committed=f,this.snapshot=g}return y.prototype.toJSON=function(){return re.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},y}(),Gi=function(){var y="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",f=0,g=[];return function(b){var D=b===f;f=b;var x,z=new Array(8);for(x=7;x>=0;x--)z[x]=y.charAt(b%64),b=Math.floor(b/64);re.assert(0===b,"Cannot push at time == 0");var Q=z.join("");if(D){for(x=11;x>=0&&63===g[x];x--)g[x]=0;g[x]++}else for(x=0;x<12;x++)g[x]=Math.floor(64*Math.random());for(x=0;x<12;x++)Q+=y.charAt(g[x]);return re.assert(20===Q.length,"nextPushId: Length should be 20."),Q}}(),_e=function(){function y(f,g){this.name=f,this.node=g}return y.Wrap=function(f,g){return new y(f,g)},y}(),Be=function(){function y(){}return y.prototype.getCompare=function(){return this.compare.bind(this)},y.prototype.indexedValueChanged=function(f,g){var b=new _e(F,f),D=new _e(F,g);return 0!==this.compare(b,D)},y.prototype.minPost=function(){return _e.MIN},y}(),mt=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),Object.defineProperty(f,"__EMPTY_NODE",{get:function(){return Ke},set:function(g){Ke=g},enumerable:!1,configurable:!0}),f.prototype.compare=function(g,b){return R(g.name,b.name)},f.prototype.isDefinedOn=function(g){throw re.assertionError("KeyIndex.isDefinedOn not expected to be called.")},f.prototype.indexedValueChanged=function(g,b){return!1},f.prototype.minPost=function(){return _e.MIN},f.prototype.maxPost=function(){return new _e(H,Ke)},f.prototype.makePost=function(g,b){return re.assert("string"==typeof g,"KeyIndex indexValue must always be a string."),new _e(g,Ke)},f.prototype.toString=function(){return".key"},f}(Be),Fe=new mt,Qt=function(y){return"number"==typeof y?"number:"+It(y):"string:"+y},vn=function(y){if(y.isLeafNode()){var f=y.val();re.assert("string"==typeof f||"number"==typeof f||"object"==typeof f&&re.contains(f,".sv"),"Priority must be a string or number.")}else re.assert(y===tt||y.isEmpty(),"priority of unexpected type.");re.assert(y===tt||y.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Jt=function(){function y(f,g){void 0===g&&(g=y.__childrenNodeConstructor.EMPTY_NODE),this.value_=f,this.priorityNode_=g,this.lazyHash_=null,re.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vn(this.priorityNode_)}return Object.defineProperty(y,"__childrenNodeConstructor",{get:function(){return At},set:function(f){At=f},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!0},y.prototype.getPriority=function(){return this.priorityNode_},y.prototype.updatePriority=function(f){return new y(this.value_,f)},y.prototype.getImmediateChild=function(f){return".priority"===f?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.getChild=function(f){return f.isEmpty()?this:".priority"===f.getFront()?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE},y.prototype.hasChild=function(){return!1},y.prototype.getPredecessorChildName=function(f,g){return null},y.prototype.updateImmediateChild=function(f,g){return".priority"===f?this.updatePriority(g):g.isEmpty()&&".priority"!==f?this:y.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(f,g).updatePriority(this.priorityNode_)},y.prototype.updateChild=function(f,g){var b=f.getFront();return null===b?g:g.isEmpty()&&".priority"!==b?this:(re.assert(".priority"!==b||1===f.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(b,y.__childrenNodeConstructor.EMPTY_NODE.updateChild(f.popFront(),g)))},y.prototype.isEmpty=function(){return!1},y.prototype.numChildren=function(){return 0},y.prototype.forEachChild=function(f,g){return!1},y.prototype.val=function(f){return f&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},y.prototype.hash=function(){if(null===this.lazyHash_){var f="";this.priorityNode_.isEmpty()||(f+="priority:"+Qt(this.priorityNode_.val())+":");var g=typeof this.value_;f+=g+":",f+="number"===g?It(this.value_):this.value_,this.lazyHash_=bn(f)}return this.lazyHash_},y.prototype.getValue=function(){return this.value_},y.prototype.compareTo=function(f){return f===y.__childrenNodeConstructor.EMPTY_NODE?1:f instanceof y.__childrenNodeConstructor?-1:(re.assert(f.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(f))},y.prototype.compareToLeafNode_=function(f){var g=typeof f.value_,b=typeof this.value_,D=y.VALUE_TYPE_ORDER.indexOf(g),x=y.VALUE_TYPE_ORDER.indexOf(b);return re.assert(D>=0,"Unknown leaf type: "+g),re.assert(x>=0,"Unknown leaf type: "+b),D===x?"object"===b?0:this.value_<f.value_?-1:this.value_===f.value_?0:1:x-D},y.prototype.withIndex=function(){return this},y.prototype.isIndexed=function(){return!0},y.prototype.equals=function(f){return f===this||!!f.isLeafNode()&&(this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_))},y.VALUE_TYPE_ORDER=["object","boolean","number","string"],y}(),de=new(function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),f.prototype.compare=function(g,b){var D=g.node.getPriority(),x=b.node.getPriority(),z=D.compareTo(x);return 0===z?R(g.name,b.name):z},f.prototype.isDefinedOn=function(g){return!g.getPriority().isEmpty()},f.prototype.indexedValueChanged=function(g,b){return!g.getPriority().equals(b.getPriority())},f.prototype.minPost=function(){return _e.MIN},f.prototype.maxPost=function(){return new _e(H,new Jt("[PRIORITY-POST]",or))},f.prototype.makePost=function(g,b){var D=Mr(g);return new _e(b,new Jt("[PRIORITY-POST]",D))},f.prototype.toString=function(){return".priority"},f}(Be)),Se=function(){function y(f,g,b,D,x){void 0===x&&(x=null),this.isReverse_=D,this.resultGenerator_=x,this.nodeStack_=[];for(var z=1;!f.isEmpty();)if(f=f,z=g?b(f.key,g):1,D&&(z*=-1),z<0)f=this.isReverse_?f.left:f.right;else{if(0===z){this.nodeStack_.push(f);break}this.nodeStack_.push(f),f=this.isReverse_?f.right:f.left}}return y.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var g,f=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(f.key,f.value):{key:f.key,value:f.value},this.isReverse_)for(f=f.left;!f.isEmpty();)this.nodeStack_.push(f),f=f.right;else for(f=f.right;!f.isEmpty();)this.nodeStack_.push(f),f=f.left;return g},y.prototype.hasNext=function(){return this.nodeStack_.length>0},y.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var f=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(f.key,f.value):{key:f.key,value:f.value}},y}(),ke=function(){function y(f,g,b,D,x){this.key=f,this.value=g,this.color=null!=b?b:y.RED,this.left=null!=D?D:L.EMPTY_NODE,this.right=null!=x?x:L.EMPTY_NODE}return y.prototype.copy=function(f,g,b,D,x){return new y(null!=f?f:this.key,null!=g?g:this.value,null!=b?b:this.color,null!=D?D:this.left,null!=x?x:this.right)},y.prototype.count=function(){return this.left.count()+1+this.right.count()},y.prototype.isEmpty=function(){return!1},y.prototype.inorderTraversal=function(f){return this.left.inorderTraversal(f)||!!f(this.key,this.value)||this.right.inorderTraversal(f)},y.prototype.reverseTraversal=function(f){return this.right.reverseTraversal(f)||f(this.key,this.value)||this.left.reverseTraversal(f)},y.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},y.prototype.minKey=function(){return this.min_().key},y.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},y.prototype.insert=function(f,g,b){var D=this,x=b(f,D.key);return(D=x<0?D.copy(null,null,null,D.left.insert(f,g,b),null):0===x?D.copy(null,g,null,null,null):D.copy(null,null,null,null,D.right.insert(f,g,b))).fixUp_()},y.prototype.removeMin_=function(){if(this.left.isEmpty())return L.EMPTY_NODE;var f=this;return!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),(f=f.copy(null,null,null,f.left.removeMin_(),null)).fixUp_()},y.prototype.remove=function(f,g){var b,D;if(g(f,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(f,g),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===g(f,b.key)){if(b.right.isEmpty())return L.EMPTY_NODE;D=b.right.min_(),b=b.copy(D.key,D.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(f,g))}return b.fixUp_()},y.prototype.isRed_=function(){return this.color},y.prototype.fixUp_=function(){var f=this;return f.right.isRed_()&&!f.left.isRed_()&&(f=f.rotateLeft_()),f.left.isRed_()&&f.left.left.isRed_()&&(f=f.rotateRight_()),f.left.isRed_()&&f.right.isRed_()&&(f=f.colorFlip_()),f},y.prototype.moveRedLeft_=function(){var f=this.colorFlip_();return f.right.left.isRed_()&&(f=(f=(f=f.copy(null,null,null,null,f.right.rotateRight_())).rotateLeft_()).colorFlip_()),f},y.prototype.moveRedRight_=function(){var f=this.colorFlip_();return f.left.left.isRed_()&&(f=(f=f.rotateRight_()).colorFlip_()),f},y.prototype.rotateLeft_=function(){var f=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,f,null)},y.prototype.rotateRight_=function(){var f=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,f)},y.prototype.colorFlip_=function(){var f=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,f,g)},y.prototype.checkMaxDepth_=function(){var f=this.check_();return Math.pow(2,f)<=this.count()+1},y.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var f=this.left.check_();if(f!==this.right.check_())throw new Error("Black depths differ");return f+(this.isRed_()?0:1)},y.RED=!0,y.BLACK=!1,y}(),ie=function(){function y(){}return y.prototype.copy=function(f,g,b,D,x){return this},y.prototype.insert=function(f,g,b){return new ke(f,g,null)},y.prototype.remove=function(f,g){return this},y.prototype.count=function(){return 0},y.prototype.isEmpty=function(){return!0},y.prototype.inorderTraversal=function(f){return!1},y.prototype.reverseTraversal=function(f){return!1},y.prototype.minKey=function(){return null},y.prototype.maxKey=function(){return null},y.prototype.check_=function(){return 0},y.prototype.isRed_=function(){return!1},y}(),L=function(){function y(f,g){void 0===g&&(g=y.EMPTY_NODE),this.comparator_=f,this.root_=g}return y.prototype.insert=function(f,g){return new y(this.comparator_,this.root_.insert(f,g,this.comparator_).copy(null,null,ke.BLACK,null,null))},y.prototype.remove=function(f){return new y(this.comparator_,this.root_.remove(f,this.comparator_).copy(null,null,ke.BLACK,null,null))},y.prototype.get=function(f){for(var g,b=this.root_;!b.isEmpty();){if(0===(g=this.comparator_(f,b.key)))return b.value;g<0?b=b.left:g>0&&(b=b.right)}return null},y.prototype.getPredecessorKey=function(f){for(var g,b=this.root_,D=null;!b.isEmpty();){if(0===(g=this.comparator_(f,b.key))){if(b.left.isEmpty())return D?D.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}g<0?b=b.left:g>0&&(D=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},y.prototype.isEmpty=function(){return this.root_.isEmpty()},y.prototype.count=function(){return this.root_.count()},y.prototype.minKey=function(){return this.root_.minKey()},y.prototype.maxKey=function(){return this.root_.maxKey()},y.prototype.inorderTraversal=function(f){return this.root_.inorderTraversal(f)},y.prototype.reverseTraversal=function(f){return this.root_.reverseTraversal(f)},y.prototype.getIterator=function(f){return new Se(this.root_,null,this.comparator_,!1,f)},y.prototype.getIteratorFrom=function(f,g){return new Se(this.root_,f,this.comparator_,!1,g)},y.prototype.getReverseIteratorFrom=function(f,g){return new Se(this.root_,f,this.comparator_,!0,g)},y.prototype.getReverseIterator=function(f){return new Se(this.root_,null,this.comparator_,!0,f)},y.EMPTY_NODE=new ie,y}(),$=Math.log(2),ue=function(){function y(f){this.count=parseInt(Math.log(f+1)/$,10),this.current_=this.count-1;var D=parseInt(Array(this.count+1).join("1"),2);this.bits_=f+1&D}return y.prototype.nextBitIsOne=function(){var f=!(this.bits_&1<<this.current_);return this.current_--,f},y}(),Ee=function(y,f,g,b){y.sort(f);var D=function(ce,ae){var nt,_t,He=ae-ce;if(0===He)return null;if(1===He)return nt=y[ce],_t=g?g(nt):nt,new ke(_t,nt.node,ke.BLACK,null,null);var xt=parseInt(He/2,10)+ce,Zt=D(ce,xt),un=D(xt+1,ae);return nt=y[xt],_t=g?g(nt):nt,new ke(_t,nt.node,ke.BLACK,Zt,un)},Q=function(ce){for(var ae=null,He=null,nt=y.length,_t=function(Zn,vo){var $i=nt-Zn,yo=nt;nt-=Zn;var mn=D($i+1,yo),Ki=y[$i],hs=g?g(Ki):Ki;xt(new ke(hs,Ki.node,vo,null,mn))},xt=function(Zn){ae?(ae.left=Zn,ae=Zn):(He=Zn,ae=Zn)},Zt=0;Zt<ce.count;++Zt){var un=ce.nextBitIsOne(),Wn=Math.pow(2,ce.count-(Zt+1));un?_t(Wn,ke.BLACK):(_t(Wn,ke.BLACK),_t(Wn,ke.RED))}return He}(new ue(y.length));return new L(b||f,Q)},ze={},Mt=function(){function y(f,g){this.indexes_=f,this.indexSet_=g}return Object.defineProperty(y,"Default",{get:function(){return re.assert(ze&&de,"ChildrenNode.ts has not been loaded"),we=we||new y({".priority":ze},{".priority":de})},enumerable:!1,configurable:!0}),y.prototype.get=function(f){var g=re.safeGet(this.indexes_,f);if(!g)throw new Error("No index defined for "+f);return g instanceof L?g:null},y.prototype.hasIndex=function(f){return re.contains(this.indexSet_,f.toString())},y.prototype.addIndex=function(f,g){re.assert(f!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],D=!1,x=g.getIterator(_e.Wrap),z=x.getNext();z;)D=D||f.isDefinedOn(z.node),b.push(z),z=x.getNext();var Q;Q=D?Ee(b,f.getCompare()):ze;var ce=f.toString(),ae=Z.__assign({},this.indexSet_);ae[ce]=f;var He=Z.__assign({},this.indexes_);return He[ce]=Q,new y(He,ae)},y.prototype.addToIndexes=function(f,g){var b=this;return new y(re.map(this.indexes_,function(x,z){var Q=re.safeGet(b.indexSet_,z);if(re.assert(Q,"Missing index implementation for "+z),x===ze){if(Q.isDefinedOn(f.node)){for(var ce=[],ae=g.getIterator(_e.Wrap),He=ae.getNext();He;)He.name!==f.name&&ce.push(He),He=ae.getNext();return ce.push(f),Ee(ce,Q.getCompare())}return ze}var nt=g.get(f.name),_t=x;return nt&&(_t=_t.remove(new _e(f.name,nt))),_t.insert(f,f.node)}),this.indexSet_)},y.prototype.removeFromIndexes=function(f,g){return new y(re.map(this.indexes_,function(D){if(D===ze)return D;var x=g.get(f.name);return x?D.remove(new _e(f.name,x)):D}),this.indexSet_)},y}();function qt(y,f){return R(y.name,f.name)}function at(y,f){return R(y,f)}var gn,vt=function(){function y(f,g,b){this.children_=f,this.priorityNode_=g,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&vn(this.priorityNode_),this.children_.isEmpty()&&re.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(y,"EMPTY_NODE",{get:function(){return gn||(gn=new y(new L(at),null,Mt.Default))},enumerable:!1,configurable:!0}),y.prototype.isLeafNode=function(){return!1},y.prototype.getPriority=function(){return this.priorityNode_||gn},y.prototype.updatePriority=function(f){return this.children_.isEmpty()?this:new y(this.children_,f,this.indexMap_)},y.prototype.getImmediateChild=function(f){if(".priority"===f)return this.getPriority();var g=this.children_.get(f);return null===g?gn:g},y.prototype.getChild=function(f){var g=f.getFront();return null===g?this:this.getImmediateChild(g).getChild(f.popFront())},y.prototype.hasChild=function(f){return null!==this.children_.get(f)},y.prototype.updateImmediateChild=function(f,g){if(re.assert(g,"We should always be passing snapshot nodes"),".priority"===f)return this.updatePriority(g);var b=new _e(f,g),D=void 0,x=void 0;g.isEmpty()?(D=this.children_.remove(f),x=this.indexMap_.removeFromIndexes(b,this.children_)):(D=this.children_.insert(f,g),x=this.indexMap_.addToIndexes(b,this.children_));var z=D.isEmpty()?gn:this.priorityNode_;return new y(D,z,x)},y.prototype.updateChild=function(f,g){var b=f.getFront();if(null===b)return g;re.assert(".priority"!==f.getFront()||1===f.getLength(),".priority must be the last token in a path");var D=this.getImmediateChild(b).updateChild(f.popFront(),g);return this.updateImmediateChild(b,D)},y.prototype.isEmpty=function(){return this.children_.isEmpty()},y.prototype.numChildren=function(){return this.children_.count()},y.prototype.val=function(f){if(this.isEmpty())return null;var g={},b=0,D=0,x=!0;if(this.forEachChild(de,function(ce,ae){g[ce]=ae.val(f),b++,x&&y.INTEGER_REGEXP_.test(ce)?D=Math.max(D,Number(ce)):x=!1}),!f&&x&&D<2*b){var z=[];for(var Q in g)z[Q]=g[Q];return z}return f&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g},y.prototype.hash=function(){if(null===this.lazyHash_){var f="";this.getPriority().isEmpty()||(f+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(de,function(g,b){var D=b.hash();""!==D&&(f+=":"+g+":"+D)}),this.lazyHash_=""===f?"":bn(f)}return this.lazyHash_},y.prototype.getPredecessorChildName=function(f,g,b){var D=this.resolveIndex_(b);if(D){var x=D.getPredecessorKey(new _e(f,g));return x?x.name:null}return this.children_.getPredecessorKey(f)},y.prototype.getFirstChildName=function(f){var g=this.resolveIndex_(f);if(g){var b=g.minKey();return b&&b.name}return this.children_.minKey()},y.prototype.getFirstChild=function(f){var g=this.getFirstChildName(f);return g?new _e(g,this.children_.get(g)):null},y.prototype.getLastChildName=function(f){var g=this.resolveIndex_(f);if(g){var b=g.maxKey();return b&&b.name}return this.children_.maxKey()},y.prototype.getLastChild=function(f){var g=this.getLastChildName(f);return g?new _e(g,this.children_.get(g)):null},y.prototype.forEachChild=function(f,g){var b=this.resolveIndex_(f);return b?b.inorderTraversal(function(D){return g(D.name,D.node)}):this.children_.inorderTraversal(g)},y.prototype.getIterator=function(f){return this.getIteratorFrom(f.minPost(),f)},y.prototype.getIteratorFrom=function(f,g){var b=this.resolveIndex_(g);if(b)return b.getIteratorFrom(f,function(z){return z});for(var D=this.children_.getIteratorFrom(f.name,_e.Wrap),x=D.peek();null!=x&&g.compare(x,f)<0;)D.getNext(),x=D.peek();return D},y.prototype.getReverseIterator=function(f){return this.getReverseIteratorFrom(f.maxPost(),f)},y.prototype.getReverseIteratorFrom=function(f,g){var b=this.resolveIndex_(g);if(b)return b.getReverseIteratorFrom(f,function(z){return z});for(var D=this.children_.getReverseIteratorFrom(f.name,_e.Wrap),x=D.peek();null!=x&&g.compare(x,f)>0;)D.getNext(),x=D.peek();return D},y.prototype.compareTo=function(f){return this.isEmpty()?f.isEmpty()?0:-1:f.isLeafNode()||f.isEmpty()?1:f===nr?-1:0},y.prototype.withIndex=function(f){if(f===Fe||this.indexMap_.hasIndex(f))return this;var g=this.indexMap_.addIndex(f,this.children_);return new y(this.children_,this.priorityNode_,g)},y.prototype.isIndexed=function(f){return f===Fe||this.indexMap_.hasIndex(f)},y.prototype.equals=function(f){if(f===this)return!0;if(f.isLeafNode())return!1;var g=f;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){for(var b=this.getIterator(de),D=g.getIterator(de),x=b.getNext(),z=D.getNext();x&&z;){if(x.name!==z.name||!x.node.equals(z.node))return!1;x=b.getNext(),z=D.getNext()}return null===x&&null===z}return!1}return!1},y.prototype.resolveIndex_=function(f){return f===Fe?null:this.indexMap_.get(f.toString())},y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,y}(),nr=new(function(y){function f(){return y.call(this,new L(at),vt.EMPTY_NODE,Mt.Default)||this}return Z.__extends(f,y),f.prototype.compareTo=function(g){return g===this?0:1},f.prototype.equals=function(g){return g===this},f.prototype.getPriority=function(){return this},f.prototype.getImmediateChild=function(g){return vt.EMPTY_NODE},f.prototype.isEmpty=function(){return!1},f}(vt));function Un(y,f){if(void 0===f&&(f=null),null===y)return vt.EMPTY_NODE;if("object"==typeof y&&".priority"in y&&(f=y[".priority"]),re.assert(null===f||"string"==typeof f||"number"==typeof f||"object"==typeof f&&".sv"in f,"Invalid priority type found: "+typeof f),"object"==typeof y&&".value"in y&&null!==y[".value"]&&(y=y[".value"]),"object"!=typeof y||".sv"in y)return new Jt(y,Un(f));if(y instanceof Array){var ce=vt.EMPTY_NODE;return Ve(y,function(ae,He){if(re.contains(y,ae)&&"."!==ae.substring(0,1)){var nt=Un(He);(nt.isLeafNode()||!nt.isEmpty())&&(ce=ce.updateImmediateChild(ae,nt))}}),ce.updatePriority(Un(f))}var b=[],D=!1;if(Ve(y,function(ae,He){if("."!==ae.substring(0,1)){var nt=Un(He);nt.isEmpty()||(D=D||!nt.getPriority().isEmpty(),b.push(new _e(ae,nt)))}}),0===b.length)return vt.EMPTY_NODE;var z=Ee(b,qt,function(ae){return ae.name},at);if(D){var Q=Ee(b,de.getCompare());return new vt(z,Un(f),new Mt({".priority":Q},{".priority":de}))}return new vt(z,Un(f),Mt.Default)}Object.defineProperties(_e,{MIN:{value:new _e(F,vt.EMPTY_NODE)},MAX:{value:new _e(H,nr)}}),mt.__EMPTY_NODE=vt.EMPTY_NODE,Jt.__childrenNodeConstructor=vt,function(y){tt=y}(nr),function(y){or=y}(nr),function(y){Mr=y}(Un);var to,eo=new(function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Z.__extends(f,y),f.prototype.compare=function(g,b){var D=g.node.compareTo(b.node);return 0===D?R(g.name,b.name):D},f.prototype.isDefinedOn=function(g){return!0},f.prototype.indexedValueChanged=function(g,b){return!g.equals(b)},f.prototype.minPost=function(){return _e.MIN},f.prototype.maxPost=function(){return _e.MAX},f.prototype.makePost=function(g,b){var D=Un(g);return new _e(b,D)},f.prototype.toString=function(){return".value"},f}(Be)),Ho=function(y){function f(g){var b=y.call(this)||this;return b.indexPath_=g,re.assert(!g.isEmpty()&&".priority"!==g.getFront(),"Can't create PathIndex with empty path or .priority key"),b}return Z.__extends(f,y),f.prototype.extractChild=function(g){return g.getChild(this.indexPath_)},f.prototype.isDefinedOn=function(g){return!g.getChild(this.indexPath_).isEmpty()},f.prototype.compare=function(g,b){var D=this.extractChild(g.node),x=this.extractChild(b.node),z=D.compareTo(x);return 0===z?R(g.name,b.name):z},f.prototype.makePost=function(g,b){var D=Un(g),x=vt.EMPTY_NODE.updateChild(this.indexPath_,D);return new _e(b,x)},f.prototype.maxPost=function(){var g=vt.EMPTY_NODE.updateChild(this.indexPath_,nr);return new _e(H,g)},f.prototype.toString=function(){return this.indexPath_.slice().join("/")},f}(Be),No=function(){function y(f,g,b){this.node_=f,this.ref_=g,this.index_=b}return y.prototype.val=function(){return re.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},y.prototype.exportVal=function(){return re.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},y.prototype.toJSON=function(){return re.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},y.prototype.exists=function(){return re.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},y.prototype.child=function(f){re.validateArgCount("DataSnapshot.child",0,1,arguments.length),f=String(f),sn("DataSnapshot.child",1,f,!1);var g=new ct(f),b=this.ref_.child(g);return new y(this.node_.getChild(g),b,de)},y.prototype.hasChild=function(f){re.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),sn("DataSnapshot.hasChild",1,f,!1);var g=new ct(f);return!this.node_.getChild(g).isEmpty()},y.prototype.getPriority=function(){return re.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},y.prototype.forEach=function(f){var g=this;if(re.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),re.validateCallback("DataSnapshot.forEach",1,f,!1),this.node_.isLeafNode())return!1;var b=this.node_;return!!b.forEachChild(this.index_,function(D,x){return f(new y(x,g.ref_.child(D),de))})},y.prototype.hasChildren=function(){return re.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(y.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),y.prototype.numChildren=function(){return re.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},y.prototype.getRef=function(){return re.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(y.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),y}(),wu=function(){function y(f,g,b,D){this.eventType=f,this.eventRegistration=g,this.snapshot=b,this.prevName=D}return y.prototype.getPath=function(){var f=this.snapshot.getRef();return"value"===this.eventType?f.path:f.getParent().path},y.prototype.getEventType=function(){return this.eventType},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+re.stringify(this.snapshot.exportVal())},y}(),xn=function(){function y(f,g,b){this.eventRegistration=f,this.error=g,this.path=b}return y.prototype.getPath=function(){return this.path},y.prototype.getEventType=function(){return"cancel"},y.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},y.prototype.toString=function(){return this.path.toString()+":cancel"},y}(),ws=function(){function y(f,g,b){this.callback_=f,this.cancelCallback_=g,this.context_=b}return y.prototype.respondsTo=function(f){return"value"===f},y.prototype.createEvent=function(f,g){var b=g.getQueryParams().getIndex();return new wu("value",this,new No(f.snapshotNode,g.getRef(),b))},y.prototype.getEventRunner=function(f){var g=this.context_;if("cancel"===f.getEventType()){re.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(g,f.error)}}var D=this.callback_;return function(){D.call(g,f.snapshot)}},y.prototype.createCancelEvent=function(f,g){return this.cancelCallback_?new xn(this,f,g):null},y.prototype.matches=function(f){return f instanceof y&&(!f.callback_||!this.callback_||f.callback_===this.callback_&&f.context_===this.context_)},y.prototype.hasAnyCallback=function(){return null!==this.callback_},y}(),es=function(){function y(f,g,b){this.callbacks_=f,this.cancelCallback_=g,this.context_=b}return y.prototype.respondsTo=function(f){var g="children_added"===f?"child_added":f;return re.contains(this.callbacks_,g="children_removed"===g?"child_removed":g)},y.prototype.createCancelEvent=function(f,g){return this.cancelCallback_?new xn(this,f,g):null},y.prototype.createEvent=function(f,g){re.assert(null!=f.childName,"Child events should have a childName.");var b=g.getRef().child(f.childName),D=g.getQueryParams().getIndex();return new wu(f.type,this,new No(f.snapshotNode,b,D),f.prevName)},y.prototype.getEventRunner=function(f){var g=this.context_;if("cancel"===f.getEventType()){re.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var b=this.cancelCallback_;return function(){b.call(g,f.error)}}var D=this.callbacks_[f.eventType];return function(){D.call(g,f.snapshot,f.prevName)}},y.prototype.matches=function(f){var g=this;if(f instanceof y){if(!this.callbacks_||!f.callbacks_)return!0;if(this.context_===f.context_){var b=Object.keys(f.callbacks_),D=Object.keys(this.callbacks_),x=b.length;if(x===D.length){if(1===x){var Q=b[0],ce=D[0];return!(ce!==Q||f.callbacks_[Q]&&this.callbacks_[ce]&&f.callbacks_[Q]!==this.callbacks_[ce])}return D.every(function(ae){return f.callbacks_[ae]===g.callbacks_[ae]})}}}return!1},y.prototype.hasAnyCallback=function(){return null!==this.callbacks_},y}(),ts=function(){function y(f,g,b,D){this.repo=f,this.path=g,this.queryParams_=b,this.orderByCalled_=D}return Object.defineProperty(y,"__referenceConstructor",{get:function(){return re.assert(to,"Reference.ts has not been loaded"),to},set:function(f){to=f},enumerable:!1,configurable:!0}),y.validateQueryEndpoints_=function(f){var g=null,b=null;if(f.hasStart()&&(g=f.getIndexStartValue()),f.hasEnd()&&(b=f.getIndexEndValue()),f.getIndex()===Fe){var D="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",x="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==F)throw new Error(D);if("string"!=typeof g)throw new Error(x)}if(f.hasEnd()){if(f.getIndexEndName()!==H)throw new Error(D);if("string"!=typeof b)throw new Error(x)}}else if(f.getIndex()===de){if(null!=g&&!Wt(g)||null!=b&&!Wt(b))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(re.assert(f.getIndex()instanceof Ho||f.getIndex()===eo,"unknown index type."),null!=g&&"object"==typeof g||null!=b&&"object"==typeof b)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},y.validateLimit_=function(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},y.prototype.validateNoPreviousOrderByCall_=function(f){if(!0===this.orderByCalled_)throw new Error(f+": You can't combine multiple orderBy calls.")},y.prototype.getQueryParams=function(){return this.queryParams_},y.prototype.getRef=function(){return re.validateArgCount("Query.ref",0,0,arguments.length),new y.__referenceConstructor(this.repo,this.path)},y.prototype.on=function(f,g,b,D){re.validateArgCount("Query.on",2,4,arguments.length),Xn("Query.on",1,f,!1),re.validateCallback("Query.on",2,g,!1);var x=y.getCancelAndContextArgs_("Query.on",b,D);if("value"===f)this.onValueEvent(g,x.cancel,x.context);else{var z={};z[f]=g,this.onChildEvent(z,x.cancel,x.context)}return g},y.prototype.onValueEvent=function(f,g,b){var D=new ws(f,g||null,b||null);this.repo.addEventCallbackForQuery(this,D)},y.prototype.onChildEvent=function(f,g,b){var D=new es(f,g,b);this.repo.addEventCallbackForQuery(this,D)},y.prototype.off=function(f,g,b){re.validateArgCount("Query.off",0,3,arguments.length),Xn("Query.off",1,f,!0),re.validateCallback("Query.off",2,g,!0),re.validateContextObject("Query.off",3,b,!0);var D=null,x=null;if("value"===f){var z=g||null;D=new ws(z,null,b||null)}else f&&(g&&((x={})[f]=g),D=new es(x,null,b||null));this.repo.removeEventCallbackForQuery(this,D)},y.prototype.once=function(f,g,b,D){var x=this;re.validateArgCount("Query.once",1,4,arguments.length),Xn("Query.once",1,f,!1),re.validateCallback("Query.once",2,g,!0);var z=y.getCancelAndContextArgs_("Query.once",b,D),Q=!0,ce=new re.Deferred;ce.promise.catch(function(){});var ae=function(He){Q&&(Q=!1,x.off(f,ae),g&&g.bind(z.context)(He),ce.resolve(He))};return this.on(f,ae,function(He){x.off(f,ae),z.cancel&&z.cancel.bind(z.context)(He),ce.reject(He)}),ce.promise},y.prototype.limitToFirst=function(f){if(re.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new y(this.repo,this.path,this.queryParams_.limitToFirst(f),this.orderByCalled_)},y.prototype.limitToLast=function(f){if(re.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new y(this.repo,this.path,this.queryParams_.limitToLast(f),this.orderByCalled_)},y.prototype.orderByChild=function(f){if(re.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===f)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===f)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===f)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');sn("Query.orderByChild",1,f,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var g=new ct(f);if(g.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var b=new Ho(g),D=this.queryParams_.orderBy(b);return y.validateQueryEndpoints_(D),new y(this.repo,this.path,D,!0)},y.prototype.orderByKey=function(){re.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var f=this.queryParams_.orderBy(Fe);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.orderByPriority=function(){re.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var f=this.queryParams_.orderBy(de);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.orderByValue=function(){re.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var f=this.queryParams_.orderBy(eo);return y.validateQueryEndpoints_(f),new y(this.repo,this.path,f,!0)},y.prototype.startAt=function(f,g){void 0===f&&(f=null),re.validateArgCount("Query.startAt",0,2,arguments.length),zt("Query.startAt",1,f,this.path,!0),Cr("Query.startAt",2,g,!0);var b=this.queryParams_.startAt(f,g);if(y.validateLimit_(b),y.validateQueryEndpoints_(b),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===f&&(f=null,g=null),new y(this.repo,this.path,b,this.orderByCalled_)},y.prototype.endAt=function(f,g){void 0===f&&(f=null),re.validateArgCount("Query.endAt",0,2,arguments.length),zt("Query.endAt",1,f,this.path,!0),Cr("Query.endAt",2,g,!0);var b=this.queryParams_.endAt(f,g);if(y.validateLimit_(b),y.validateQueryEndpoints_(b),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new y(this.repo,this.path,b,this.orderByCalled_)},y.prototype.equalTo=function(f,g){if(re.validateArgCount("Query.equalTo",1,2,arguments.length),zt("Query.equalTo",1,f,this.path,!1),Cr("Query.equalTo",2,g,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(f,g).endAt(f,g)},y.prototype.toString=function(){return re.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},y.prototype.toJSON=function(){return re.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},y.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},y.prototype.queryIdentifier=function(){var f=this.queryObject(),g=Tt(f);return"{}"===g?"default":g},y.prototype.isEqual=function(f){if(re.validateArgCount("Query.isEqual",1,1,arguments.length),!(f instanceof y)){var g="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(g)}var b=this.repo===f.repo,D=this.path.equals(f.path),x=this.queryIdentifier()===f.queryIdentifier();return b&&D&&x},y.getCancelAndContextArgs_=function(f,g,b){var D={cancel:null,context:null};if(g&&b)D.cancel=g,re.validateCallback(f,3,D.cancel,!0),D.context=b,re.validateContextObject(f,4,D.context,!0);else if(g)if("object"==typeof g&&null!==g)D.context=g;else{if("function"!=typeof g)throw new Error(re.errorPrefix(f,3,!0)+" must either be a cancel callback or a context object.");D.cancel=g}return D},Object.defineProperty(y.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),y}(),nu=function(){function y(f){this.node_=f}return y.prototype.getImmediateChild=function(f){return new y(this.node_.getImmediateChild(f))},y.prototype.node=function(){return this.node_},y}(),ho=function(){function y(f,g){this.syncTree_=f,this.path_=g}return y.prototype.getImmediateChild=function(f){var g=this.path_.child(f);return new y(this.syncTree_,g)},y.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},y}(),zo=function(y,f,g){return y&&"object"==typeof y?(re.assert(".sv"in y,"Unexpected leaf node or priority contents"),"string"==typeof y[".sv"]?Fa(y[".sv"],f,g):"object"==typeof y[".sv"]?rr(y[".sv"],f):void re.assert(!1,"Unexpected server value: "+JSON.stringify(y,null,2))):y},Fa=function(y,f,g){switch(y){case"timestamp":return g.timestamp;default:re.assert(!1,"Unexpected server value: "+y)}},rr=function(y,f,g){y.hasOwnProperty("increment")||re.assert(!1,"Unexpected server value: "+JSON.stringify(y,null,2));var b=y.increment;"number"!=typeof b&&re.assert(!1,"Unexpected increment value: "+b);var D=f.node();if(re.assert(null!=D,"Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return b;var z=D.getValue();return"number"!=typeof z?b:z+b},no=function(y,f,g,b){return Wi(f,new ho(g,y),b)},Hn=function(y,f,g){return Wi(y,new nu(f),g)};function Wi(y,f,g){var x,b=y.getPriority().val(),D=zo(b,f.getImmediateChild(".priority"),g);if(y.isLeafNode()){var z=y,Q=zo(z.getValue(),f,g);return Q!==z.getValue()||D!==z.getPriority().val()?new Jt(Q,Un(D)):y}var ce=y;return x=ce,D!==ce.getPriority().val()&&(x=x.updatePriority(new Jt(D))),ce.forEachChild(de,function(ae,He){var nt=Wi(He,f.getImmediateChild(ae),g);nt!==He&&(x=x.updateImmediateChild(ae,nt))}),x}var Hi,Dt,js=function(){function y(){this.value=null,this.children=new Map}return y.prototype.find=function(f){if(null!=this.value)return this.value.getChild(f);if(!f.isEmpty()&&this.children.size>0){var g=f.getFront();return f=f.popFront(),this.children.has(g)?this.children.get(g).find(f):null}return null},y.prototype.remember=function(f,g){if(f.isEmpty())this.value=g,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(f,g);else{var b=f.getFront();this.children.has(b)||this.children.set(b,new y);var D=this.children.get(b);f=f.popFront(),D.remember(f,g)}},y.prototype.forget=function(f){if(f.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var g=this.value;this.value=null;var b=this;return g.forEachChild(de,function(z,Q){b.remember(new ct(z),Q)}),this.forget(f)}if(this.children.size>0){var D=f.getFront();return f=f.popFront(),this.children.has(D)&&this.children.get(D).forget(f)&&this.children.delete(D),0===this.children.size}return!0},y.prototype.forEachTree=function(f,g){null!==this.value?g(f,this.value):this.forEachChild(function(b,D){var x=new ct(f.toString()+"/"+b);D.forEachTree(x,g)})},y.prototype.forEachChild=function(f){this.children.forEach(function(g,b){f(b,g)})},y}(),Sn=(()=>(function(y){y[y.OVERWRITE=0]="OVERWRITE",y[y.MERGE=1]="MERGE",y[y.ACK_USER_WRITE=2]="ACK_USER_WRITE",y[y.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Sn||(Sn={})),Sn))(),qo=function(){function y(f,g,b,D){this.fromUser=f,this.fromServer=g,this.queryId=b,this.tagged=D,re.assert(!D||g,"Tagged queries must be from server.")}return y.User=new y(!0,!1,null,!1),y.Server=new y(!1,!0,null,!1),y.forServerTaggedQuery=function(f){return new y(!1,!0,f,!0)},y}(),da=function(){function y(f,g,b){this.path=f,this.affectedTree=g,this.revert=b,this.type=Sn.ACK_USER_WRITE,this.source=qo.User}return y.prototype.operationForChild=function(f){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return re.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var g=this.affectedTree.subtree(new ct(f));return new y(ct.Empty,g,this.revert)}return re.assert(this.path.getFront()===f,"operationForChild called for unrelated child."),new y(this.path.popFront(),this.affectedTree,this.revert)},y}(),qn=function(){function y(f,g){void 0===g&&(Hi||(Hi=new L(K)),g=Hi),this.value=f,this.children=g}return y.fromObject=function(f){var g=y.Empty;return Ve(f,function(b,D){g=g.set(new ct(b),D)}),g},y.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},y.prototype.findRootMostMatchingPathAndValue=function(f,g){if(null!=this.value&&g(this.value))return{path:ct.Empty,value:this.value};if(f.isEmpty())return null;var b=f.getFront(),D=this.children.get(b);if(null!==D){var x=D.findRootMostMatchingPathAndValue(f.popFront(),g);return null!=x?{path:new ct(b).child(x.path),value:x.value}:null}return null},y.prototype.findRootMostValueAndPath=function(f){return this.findRootMostMatchingPathAndValue(f,function(){return!0})},y.prototype.subtree=function(f){if(f.isEmpty())return this;var g=f.getFront(),b=this.children.get(g);return null!==b?b.subtree(f.popFront()):y.Empty},y.prototype.set=function(f,g){if(f.isEmpty())return new y(g,this.children);var b=f.getFront(),x=(this.children.get(b)||y.Empty).set(f.popFront(),g),z=this.children.insert(b,x);return new y(this.value,z)},y.prototype.remove=function(f){if(f.isEmpty())return this.children.isEmpty()?y.Empty:new y(null,this.children);var g=f.getFront(),b=this.children.get(g);if(b){var D=b.remove(f.popFront()),x=void 0;return x=D.isEmpty()?this.children.remove(g):this.children.insert(g,D),null===this.value&&x.isEmpty()?y.Empty:new y(this.value,x)}return this},y.prototype.get=function(f){if(f.isEmpty())return this.value;var g=f.getFront(),b=this.children.get(g);return b?b.get(f.popFront()):null},y.prototype.setTree=function(f,g){if(f.isEmpty())return g;var z,b=f.getFront(),x=(this.children.get(b)||y.Empty).setTree(f.popFront(),g);return z=x.isEmpty()?this.children.remove(b):this.children.insert(b,x),new y(this.value,z)},y.prototype.fold=function(f){return this.fold_(ct.Empty,f)},y.prototype.fold_=function(f,g){var b={};return this.children.inorderTraversal(function(D,x){b[D]=x.fold_(f.child(D),g)}),g(f,this.value,b)},y.prototype.findOnPath=function(f,g){return this.findOnPath_(f,ct.Empty,g)},y.prototype.findOnPath_=function(f,g,b){var D=!!this.value&&b(g,this.value);if(D)return D;if(f.isEmpty())return null;var x=f.getFront(),z=this.children.get(x);return z?z.findOnPath_(f.popFront(),g.child(x),b):null},y.prototype.foreachOnPath=function(f,g){return this.foreachOnPath_(f,ct.Empty,g)},y.prototype.foreachOnPath_=function(f,g,b){if(f.isEmpty())return this;this.value&&b(g,this.value);var D=f.getFront(),x=this.children.get(D);return x?x.foreachOnPath_(f.popFront(),g.child(D),b):y.Empty},y.prototype.foreach=function(f){this.foreach_(ct.Empty,f)},y.prototype.foreach_=function(f,g){this.children.inorderTraversal(function(b,D){D.foreach_(f.child(b),g)}),this.value&&g(f,this.value)},y.prototype.foreachChild=function(f){this.children.inorderTraversal(function(g,b){b.value&&f(g,b.value)})},y.Empty=new y(null),y}(),Hs=function(){function y(f,g){this.source=f,this.path=g,this.type=Sn.LISTEN_COMPLETE}return y.prototype.operationForChild=function(f){return this.path.isEmpty()?new y(this.source,ct.Empty):new y(this.source,this.path.popFront())},y}(),Go=function(){function y(f,g,b){this.source=f,this.path=g,this.snap=b,this.type=Sn.OVERWRITE}return y.prototype.operationForChild=function(f){return this.path.isEmpty()?new y(this.source,ct.Empty,this.snap.getImmediateChild(f)):new y(this.source,this.path.popFront(),this.snap)},y}(),Wo=function(){function y(f,g,b){this.source=f,this.path=g,this.children=b,this.type=Sn.MERGE}return y.prototype.operationForChild=function(f){if(this.path.isEmpty()){var g=this.children.subtree(new ct(f));return g.isEmpty()?null:g.value?new Go(this.source,ct.Empty,g.value):new y(this.source,ct.Empty,g)}return re.assert(this.path.getFront()===f,"Can't get a merge for a child not on the path of the operation"),new y(this.source,this.path.popFront(),this.children)},y.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},y}(),Eo=function(){function y(f,g,b){this.node_=f,this.fullyInitialized_=g,this.filtered_=b}return y.prototype.isFullyInitialized=function(){return this.fullyInitialized_},y.prototype.isFiltered=function(){return this.filtered_},y.prototype.isCompleteForPath=function(f){if(f.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var g=f.getFront();return this.isCompleteForChild(g)},y.prototype.isCompleteForChild=function(f){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(f)},y.prototype.getNode=function(){return this.node_},y}(),Pi=function(){function y(f,g){this.eventCache_=f,this.serverCache_=g}return y.prototype.updateEventSnap=function(f,g,b){return new y(new Eo(f,g,b),this.serverCache_)},y.prototype.updateServerSnap=function(f,g,b){return new y(this.eventCache_,new Eo(f,g,b))},y.prototype.getEventCache=function(){return this.eventCache_},y.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},y.prototype.getServerCache=function(){return this.serverCache_},y.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},y.Empty=new y(new Eo(vt.EMPTY_NODE,!1,!1),new Eo(vt.EMPTY_NODE,!1,!1)),y}(),Jn=function(){function y(f,g,b,D,x){this.type=f,this.snapshotNode=g,this.childName=b,this.oldSnap=D,this.prevName=x}return y.valueChange=function(f){return new y(y.VALUE,f)},y.childAddedChange=function(f,g){return new y(y.CHILD_ADDED,g,f)},y.childRemovedChange=function(f,g){return new y(y.CHILD_REMOVED,g,f)},y.childChangedChange=function(f,g,b){return new y(y.CHILD_CHANGED,g,f,b)},y.childMovedChange=function(f,g){return new y(y.CHILD_MOVED,g,f)},y.CHILD_ADDED="child_added",y.CHILD_REMOVED="child_removed",y.CHILD_CHANGED="child_changed",y.CHILD_MOVED="child_moved",y.VALUE="value",y}(),Fo=function(){function y(f){this.index_=f}return y.prototype.updateChild=function(f,g,b,D,x,z){re.assert(f.isIndexed(this.index_),"A node must be indexed if only a child is updated");var Q=f.getImmediateChild(g);return Q.getChild(D).equals(b.getChild(D))&&Q.isEmpty()===b.isEmpty()||(null!=z&&(b.isEmpty()?f.hasChild(g)?z.trackChildChange(Jn.childRemovedChange(g,Q)):re.assert(f.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?z.trackChildChange(Jn.childAddedChange(g,b)):z.trackChildChange(Jn.childChangedChange(g,b,Q))),f.isLeafNode()&&b.isEmpty())?f:f.updateImmediateChild(g,b).withIndex(this.index_)},y.prototype.updateFullNode=function(f,g,b){return null!=b&&(f.isLeafNode()||f.forEachChild(de,function(D,x){g.hasChild(D)||b.trackChildChange(Jn.childRemovedChange(D,x))}),g.isLeafNode()||g.forEachChild(de,function(D,x){if(f.hasChild(D)){var z=f.getImmediateChild(D);z.equals(x)||b.trackChildChange(Jn.childChangedChange(D,x,z))}else b.trackChildChange(Jn.childAddedChange(D,x))})),g.withIndex(this.index_)},y.prototype.updatePriority=function(f,g){return f.isEmpty()?vt.EMPTY_NODE:f.updatePriority(g)},y.prototype.filtersNodes=function(){return!1},y.prototype.getIndexedFilter=function(){return this},y.prototype.getIndex=function(){return this.index_},y}(),_r=function(){function y(){this.changeMap=new Map}return y.prototype.trackChildChange=function(f){var g=f.type,b=f.childName;re.assert(g===Jn.CHILD_ADDED||g===Jn.CHILD_CHANGED||g===Jn.CHILD_REMOVED,"Only child changes supported for tracking"),re.assert(".priority"!==b,"Only non-priority child changes can be tracked.");var D=this.changeMap.get(b);if(D){var x=D.type;if(g===Jn.CHILD_ADDED&&x===Jn.CHILD_REMOVED)this.changeMap.set(b,Jn.childChangedChange(b,f.snapshotNode,D.snapshotNode));else if(g===Jn.CHILD_REMOVED&&x===Jn.CHILD_ADDED)this.changeMap.delete(b);else if(g===Jn.CHILD_REMOVED&&x===Jn.CHILD_CHANGED)this.changeMap.set(b,Jn.childRemovedChange(b,D.oldSnap));else if(g===Jn.CHILD_CHANGED&&x===Jn.CHILD_ADDED)this.changeMap.set(b,Jn.childAddedChange(b,f.snapshotNode));else{if(g!==Jn.CHILD_CHANGED||x!==Jn.CHILD_CHANGED)throw re.assertionError("Illegal combination of changes: "+f+" occurred after "+D);this.changeMap.set(b,Jn.childChangedChange(b,f.snapshotNode,D.oldSnap))}}else this.changeMap.set(b,f)},y.prototype.getChanges=function(){return Array.from(this.changeMap.values())},y}(),zs=new(function(){function y(){}return y.prototype.getCompleteChild=function(f){return null},y.prototype.getChildAfterChild=function(f,g,b){return null},y}()),Es=function(){function y(f,g,b){void 0===b&&(b=null),this.writes_=f,this.viewCache_=g,this.optCompleteServerCache_=b}return y.prototype.getCompleteChild=function(f){var g=this.viewCache_.getEventCache();if(g.isCompleteForChild(f))return g.getNode().getImmediateChild(f);var b=null!=this.optCompleteServerCache_?new Eo(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(f,b)},y.prototype.getChildAfterChild=function(f,g,b){var D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),x=this.writes_.calcIndexedSlice(D,g,1,b,f);return 0===x.length?null:x[0]},y}(),qs=function(f,g){this.viewCache=f,this.changes=g},Ln=function(){function y(f){this.filter_=f}return y.prototype.assertIndexed=function(f){re.assert(f.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),re.assert(f.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},y.prototype.applyOperation=function(f,g,b,D){var z,Q,x=new _r;if(g.type===Sn.OVERWRITE){var ce=g;ce.source.fromUser?z=this.applyUserOverwrite_(f,ce.path,ce.snap,b,D,x):(re.assert(ce.source.fromServer,"Unknown source."),Q=ce.source.tagged||f.getServerCache().isFiltered()&&!ce.path.isEmpty(),z=this.applyServerOverwrite_(f,ce.path,ce.snap,b,D,Q,x))}else if(g.type===Sn.MERGE){var ae=g;ae.source.fromUser?z=this.applyUserMerge_(f,ae.path,ae.children,b,D,x):(re.assert(ae.source.fromServer,"Unknown source."),Q=ae.source.tagged||f.getServerCache().isFiltered(),z=this.applyServerMerge_(f,ae.path,ae.children,b,D,Q,x))}else if(g.type===Sn.ACK_USER_WRITE){var He=g;z=He.revert?this.revertUserWrite_(f,He.path,b,D,x):this.ackUserWrite_(f,He.path,He.affectedTree,b,D,x)}else{if(g.type!==Sn.LISTEN_COMPLETE)throw re.assertionError("Unknown operation type: "+g.type);z=this.listenComplete_(f,g.path,b,x)}var nt=x.getChanges();return y.maybeAddValueEvent_(f,z,nt),new qs(z,nt)},y.maybeAddValueEvent_=function(f,g,b){var D=g.getEventCache();if(D.isFullyInitialized()){var x=D.getNode().isLeafNode()||D.getNode().isEmpty(),z=f.getCompleteEventSnap();(b.length>0||!f.getEventCache().isFullyInitialized()||x&&!D.getNode().equals(z)||!D.getNode().getPriority().equals(z.getPriority()))&&b.push(Jn.valueChange(g.getCompleteEventSnap()))}},y.prototype.generateEventCacheAfterServerEvent_=function(f,g,b,D,x){var z=f.getEventCache();if(null!=b.shadowingWrite(g))return f;var Q=void 0,ce=void 0;if(g.isEmpty())if(re.assert(f.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),f.getServerCache().isFiltered()){var ae=f.getCompleteServerSnap(),nt=b.calcCompleteEventChildren(ae instanceof vt?ae:vt.EMPTY_NODE);Q=this.filter_.updateFullNode(f.getEventCache().getNode(),nt,x)}else{var _t=b.calcCompleteEventCache(f.getCompleteServerSnap());Q=this.filter_.updateFullNode(f.getEventCache().getNode(),_t,x)}else{var xt=g.getFront();if(".priority"===xt){re.assert(1===g.getLength(),"Can't have a priority with additional path components");var Zt=z.getNode();ce=f.getServerCache().getNode();var un=b.calcEventCacheAfterServerOverwrite(g,Zt,ce);Q=null!=un?this.filter_.updatePriority(Zt,un):z.getNode()}else{var Wn=g.popFront(),Zn=void 0;if(z.isCompleteForChild(xt)){ce=f.getServerCache().getNode();var vo=b.calcEventCacheAfterServerOverwrite(g,z.getNode(),ce);Zn=null!=vo?z.getNode().getImmediateChild(xt).updateChild(Wn,vo):z.getNode().getImmediateChild(xt)}else Zn=b.calcCompleteChild(xt,f.getServerCache());Q=null!=Zn?this.filter_.updateChild(z.getNode(),xt,Zn,Wn,D,x):z.getNode()}}return f.updateEventSnap(Q,z.isFullyInitialized()||g.isEmpty(),this.filter_.filtersNodes())},y.prototype.applyServerOverwrite_=function(f,g,b,D,x,z,Q){var ae,ce=f.getServerCache(),He=z?this.filter_:this.filter_.getIndexedFilter();if(g.isEmpty())ae=He.updateFullNode(ce.getNode(),b,null);else if(He.filtersNodes()&&!ce.isFiltered()){var nt=ce.getNode().updateChild(g,b);ae=He.updateFullNode(ce.getNode(),nt,null)}else{var _t=g.getFront();if(!ce.isCompleteForPath(g)&&g.getLength()>1)return f;var xt=g.popFront(),un=ce.getNode().getImmediateChild(_t).updateChild(xt,b);ae=".priority"===_t?He.updatePriority(ce.getNode(),un):He.updateChild(ce.getNode(),_t,un,xt,zs,null)}var Wn=f.updateServerSnap(ae,ce.isFullyInitialized()||g.isEmpty(),He.filtersNodes()),Zn=new Es(D,Wn,x);return this.generateEventCacheAfterServerEvent_(Wn,g,D,Zn,Q)},y.prototype.applyUserOverwrite_=function(f,g,b,D,x,z){var ce,ae,Q=f.getEventCache(),He=new Es(D,f,x);if(g.isEmpty())ae=this.filter_.updateFullNode(f.getEventCache().getNode(),b,z),ce=f.updateEventSnap(ae,!0,this.filter_.filtersNodes());else{var nt=g.getFront();if(".priority"===nt)ae=this.filter_.updatePriority(f.getEventCache().getNode(),b),ce=f.updateEventSnap(ae,Q.isFullyInitialized(),Q.isFiltered());else{var _t=g.popFront(),xt=Q.getNode().getImmediateChild(nt),Zt=void 0;if(_t.isEmpty())Zt=b;else{var un=He.getCompleteChild(nt);Zt=null!=un?".priority"===_t.getBack()&&un.getChild(_t.parent()).isEmpty()?un:un.updateChild(_t,b):vt.EMPTY_NODE}if(xt.equals(Zt))ce=f;else{var Wn=this.filter_.updateChild(Q.getNode(),nt,Zt,_t,He,z);ce=f.updateEventSnap(Wn,Q.isFullyInitialized(),this.filter_.filtersNodes())}}}return ce},y.cacheHasChild_=function(f,g){return f.getEventCache().isCompleteForChild(g)},y.prototype.applyUserMerge_=function(f,g,b,D,x,z){var Q=this,ce=f;return b.foreach(function(ae,He){var nt=g.child(ae);y.cacheHasChild_(f,nt.getFront())&&(ce=Q.applyUserOverwrite_(ce,nt,He,D,x,z))}),b.foreach(function(ae,He){var nt=g.child(ae);y.cacheHasChild_(f,nt.getFront())||(ce=Q.applyUserOverwrite_(ce,nt,He,D,x,z))}),ce},y.prototype.applyMerge_=function(f,g){return g.foreach(function(b,D){f=f.updateChild(b,D)}),f},y.prototype.applyServerMerge_=function(f,g,b,D,x,z,Q){var ce=this;if(f.getServerCache().getNode().isEmpty()&&!f.getServerCache().isFullyInitialized())return f;var He,ae=f;He=g.isEmpty()?b:qn.Empty.setTree(g,b);var nt=f.getServerCache().getNode();return He.children.inorderTraversal(function(_t,xt){if(nt.hasChild(_t)){var Zt=f.getServerCache().getNode().getImmediateChild(_t),un=ce.applyMerge_(Zt,xt);ae=ce.applyServerOverwrite_(ae,new ct(_t),un,D,x,z,Q)}}),He.children.inorderTraversal(function(_t,xt){var Zt=!f.getServerCache().isCompleteForChild(_t)&&null==xt.value;if(!nt.hasChild(_t)&&!Zt){var un=f.getServerCache().getNode().getImmediateChild(_t),Wn=ce.applyMerge_(un,xt);ae=ce.applyServerOverwrite_(ae,new ct(_t),Wn,D,x,z,Q)}}),ae},y.prototype.ackUserWrite_=function(f,g,b,D,x,z){if(null!=D.shadowingWrite(g))return f;var Q=f.getServerCache().isFiltered(),ce=f.getServerCache();if(null!=b.value){if(g.isEmpty()&&ce.isFullyInitialized()||ce.isCompleteForPath(g))return this.applyServerOverwrite_(f,g,ce.getNode().getChild(g),D,x,Q,z);if(g.isEmpty()){var ae=qn.Empty;return ce.getNode().forEachChild(Fe,function(nt,_t){ae=ae.set(new ct(nt),_t)}),this.applyServerMerge_(f,g,ae,D,x,Q,z)}return f}var He=qn.Empty;return b.foreach(function(nt,_t){var xt=g.child(nt);ce.isCompleteForPath(xt)&&(He=He.set(nt,ce.getNode().getChild(xt)))}),this.applyServerMerge_(f,g,He,D,x,Q,z)},y.prototype.listenComplete_=function(f,g,b,D){var x=f.getServerCache(),z=f.updateServerSnap(x.getNode(),x.isFullyInitialized()||g.isEmpty(),x.isFiltered());return this.generateEventCacheAfterServerEvent_(z,g,b,zs,D)},y.prototype.revertUserWrite_=function(f,g,b,D,x){var z;if(null!=b.shadowingWrite(g))return f;var Q=new Es(b,f,D),ce=f.getEventCache().getNode(),ae=void 0;if(g.isEmpty()||".priority"===g.getFront()){var He=void 0;if(f.getServerCache().isFullyInitialized())He=b.calcCompleteEventCache(f.getCompleteServerSnap());else{var nt=f.getServerCache().getNode();re.assert(nt instanceof vt,"serverChildren would be complete if leaf node"),He=b.calcCompleteEventChildren(nt)}ae=this.filter_.updateFullNode(ce,He=He,x)}else{var _t=g.getFront(),xt=b.calcCompleteChild(_t,f.getServerCache());null==xt&&f.getServerCache().isCompleteForChild(_t)&&(xt=ce.getImmediateChild(_t)),(ae=null!=xt?this.filter_.updateChild(ce,_t,xt,g.popFront(),Q,x):f.getEventCache().getNode().hasChild(_t)?this.filter_.updateChild(ce,_t,vt.EMPTY_NODE,g.popFront(),Q,x):ce).isEmpty()&&f.getServerCache().isFullyInitialized()&&(z=b.calcCompleteEventCache(f.getCompleteServerSnap())).isLeafNode()&&(ae=this.filter_.updateFullNode(ae,z,x))}return z=f.getServerCache().isFullyInitialized()||null!=b.shadowingWrite(ct.Empty),f.updateEventSnap(ae,z,this.filter_.filtersNodes())},y}(),ei=function(){function y(f){this.query_=f,this.index_=this.query_.getQueryParams().getIndex()}return y.prototype.generateEventsForChanges=function(f,g,b){var D=this,x=[],z=[];return f.forEach(function(Q){Q.type===Jn.CHILD_CHANGED&&D.index_.indexedValueChanged(Q.oldSnap,Q.snapshotNode)&&z.push(Jn.childMovedChange(Q.childName,Q.snapshotNode))}),this.generateEventsForType_(x,Jn.CHILD_REMOVED,f,b,g),this.generateEventsForType_(x,Jn.CHILD_ADDED,f,b,g),this.generateEventsForType_(x,Jn.CHILD_MOVED,z,b,g),this.generateEventsForType_(x,Jn.CHILD_CHANGED,f,b,g),this.generateEventsForType_(x,Jn.VALUE,f,b,g),x},y.prototype.generateEventsForType_=function(f,g,b,D,x){var z=this,Q=b.filter(function(ce){return ce.type===g});Q.sort(this.compareChanges_.bind(this)),Q.forEach(function(ce){var ae=z.materializeSingleChange_(ce,x);D.forEach(function(He){He.respondsTo(ce.type)&&f.push(He.createEvent(ae,z.query_))})})},y.prototype.materializeSingleChange_=function(f,g){return"value"===f.type||"child_removed"===f.type||(f.prevName=g.getPredecessorChildName(f.childName,f.snapshotNode,this.index_)),f},y.prototype.compareChanges_=function(f,g){if(null==f.childName||null==g.childName)throw re.assertionError("Should only compare child_ events.");var b=new _e(f.childName,f.snapshotNode),D=new _e(g.childName,g.snapshotNode);return this.index_.compare(b,D)},y}(),pa=function(){function y(f,g){this.query_=f,this.eventRegistrations_=[];var b=this.query_.getQueryParams(),D=new Fo(b.getIndex()),x=b.getNodeFilter();this.processor_=new Ln(x);var z=g.getServerCache(),Q=g.getEventCache(),ce=D.updateFullNode(vt.EMPTY_NODE,z.getNode(),null),ae=x.updateFullNode(vt.EMPTY_NODE,Q.getNode(),null),He=new Eo(ce,z.isFullyInitialized(),D.filtersNodes()),nt=new Eo(ae,Q.isFullyInitialized(),x.filtersNodes());this.viewCache_=new Pi(nt,He),this.eventGenerator_=new ei(this.query_)}return y.prototype.getQuery=function(){return this.query_},y.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},y.prototype.getCompleteServerCache=function(f){var g=this.viewCache_.getCompleteServerSnap();return g&&(this.query_.getQueryParams().loadsAllData()||!f.isEmpty()&&!g.getImmediateChild(f.getFront()).isEmpty())?g.getChild(f):null},y.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},y.prototype.addEventRegistration=function(f){this.eventRegistrations_.push(f)},y.prototype.removeEventRegistration=function(f,g){var b=[];if(g){re.assert(null==f,"A cancel should cancel all event registrations.");var D=this.query_.path;this.eventRegistrations_.forEach(function(ce){var ae=ce.createCancelEvent(g=g,D);ae&&b.push(ae)})}if(f){for(var x=[],z=0;z<this.eventRegistrations_.length;++z){var Q=this.eventRegistrations_[z];if(Q.matches(f)){if(f.hasAnyCallback()){x=x.concat(this.eventRegistrations_.slice(z+1));break}}else x.push(Q)}this.eventRegistrations_=x}else this.eventRegistrations_=[];return b},y.prototype.applyOperation=function(f,g,b){f.type===Sn.MERGE&&null!==f.source.queryId&&(re.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),re.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var D=this.viewCache_,x=this.processor_.applyOperation(D,f,g,b);return this.processor_.assertIndexed(x.viewCache),re.assert(x.viewCache.getServerCache().isFullyInitialized()||!D.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=x.viewCache,this.generateEventsForChanges_(x.changes,x.viewCache.getEventCache().getNode(),null)},y.prototype.getInitialEvents=function(f){var g=this.viewCache_.getEventCache(),b=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(de,function(x,z){b.push(Jn.childAddedChange(x,z))}),g.isFullyInitialized()&&b.push(Jn.valueChange(g.getNode())),this.generateEventsForChanges_(b,g.getNode(),f)},y.prototype.generateEventsForChanges_=function(f,g,b){return this.eventGenerator_.generateEventsForChanges(f,g,b?[b]:this.eventRegistrations_)},y}(),Ni=function(){function y(){this.views=new Map}return Object.defineProperty(y,"__referenceConstructor",{get:function(){return re.assert(Dt,"Reference.ts has not been loaded"),Dt},set:function(f){re.assert(!Dt,"__referenceConstructor has already been defined"),Dt=f},enumerable:!1,configurable:!0}),y.prototype.isEmpty=function(){return 0===this.views.size},y.prototype.applyOperation=function(f,g,b){var D,x,z=f.source.queryId;if(null!==z){var Q=this.views.get(z);return re.assert(null!=Q,"SyncTree gave us an op for an invalid query."),Q.applyOperation(f,g,b)}var ce=[];try{for(var ae=Z.__values(this.views.values()),He=ae.next();!He.done;He=ae.next())ce=ce.concat((Q=He.value).applyOperation(f,g,b))}catch(nt){D={error:nt}}finally{try{He&&!He.done&&(x=ae.return)&&x.call(ae)}finally{if(D)throw D.error}}return ce},y.prototype.addEventRegistration=function(f,g,b,D,x){var z=f.queryIdentifier(),Q=this.views.get(z);if(!Q){var ce=b.calcCompleteEventCache(x?D:null),ae=!1;ce?ae=!0:D instanceof vt?(ce=b.calcCompleteEventChildren(D),ae=!1):(ce=vt.EMPTY_NODE,ae=!1);var He=new Pi(new Eo(ce,ae,!1),new Eo(D,x,!1));Q=new pa(f,He),this.views.set(z,Q)}return Q.addEventRegistration(g),Q.getInitialEvents(g)},y.prototype.removeEventRegistration=function(f,g,b){var D,x,z=f.queryIdentifier(),Q=[],ce=[],ae=this.hasCompleteView();if("default"===z)try{for(var He=Z.__values(this.views.entries()),nt=He.next();!nt.done;nt=He.next()){var Zt,_t=Z.__read(nt.value,2),xt=_t[0];ce=ce.concat((Zt=_t[1]).removeEventRegistration(g,b)),Zt.isEmpty()&&(this.views.delete(xt),Zt.getQuery().getQueryParams().loadsAllData()||Q.push(Zt.getQuery()))}}catch(un){D={error:un}}finally{try{nt&&!nt.done&&(x=He.return)&&x.call(He)}finally{if(D)throw D.error}}else(Zt=this.views.get(z))&&(ce=ce.concat(Zt.removeEventRegistration(g,b)),Zt.isEmpty()&&(this.views.delete(z),Zt.getQuery().getQueryParams().loadsAllData()||Q.push(Zt.getQuery())));return ae&&!this.hasCompleteView()&&Q.push(new y.__referenceConstructor(f.repo,f.path)),{removed:Q,events:ce}},y.prototype.getQueryViews=function(){var f,g,b=[];try{for(var D=Z.__values(this.views.values()),x=D.next();!x.done;x=D.next()){var z=x.value;z.getQuery().getQueryParams().loadsAllData()||b.push(z)}}catch(Q){f={error:Q}}finally{try{x&&!x.done&&(g=D.return)&&g.call(D)}finally{if(f)throw f.error}}return b},y.prototype.getCompleteServerCache=function(f){var g,b,D=null;try{for(var x=Z.__values(this.views.values()),z=x.next();!z.done;z=x.next())D=D||z.value.getCompleteServerCache(f)}catch(ce){g={error:ce}}finally{try{z&&!z.done&&(b=x.return)&&b.call(x)}finally{if(g)throw g.error}}return D},y.prototype.viewForQuery=function(f){if(f.getQueryParams().loadsAllData())return this.getCompleteView();var b=f.queryIdentifier();return this.views.get(b)},y.prototype.viewExistsForQuery=function(f){return null!=this.viewForQuery(f)},y.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},y.prototype.getCompleteView=function(){var f,g;try{for(var b=Z.__values(this.views.values()),D=b.next();!D.done;D=b.next()){var x=D.value;if(x.getQuery().getQueryParams().loadsAllData())return x}}catch(z){f={error:z}}finally{try{D&&!D.done&&(g=b.return)&&g.call(b)}finally{if(f)throw f.error}}return null},y}(),Yr=function(){function y(f){this.writeTree_=f}return y.prototype.addWrite=function(f,g){if(f.isEmpty())return new y(new qn(g));var b=this.writeTree_.findRootMostValueAndPath(f);if(null!=b){var D=b.path,x=b.value,z=ct.relativePath(D,f);return x=x.updateChild(z,g),new y(this.writeTree_.set(D,x))}var Q=new qn(g);return new y(this.writeTree_.setTree(f,Q))},y.prototype.addWrites=function(f,g){var b=this;return Ve(g,function(D,x){b=b.addWrite(f.child(D),x)}),b},y.prototype.removeWrite=function(f){return f.isEmpty()?y.Empty:new y(this.writeTree_.setTree(f,qn.Empty))},y.prototype.hasCompleteWrite=function(f){return null!=this.getCompleteNode(f)},y.prototype.getCompleteNode=function(f){var g=this.writeTree_.findRootMostValueAndPath(f);return null!=g?this.writeTree_.get(g.path).getChild(ct.relativePath(g.path,f)):null},y.prototype.getCompleteChildren=function(){var f=[],g=this.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(de,function(b,D){f.push(new _e(b,D))}):this.writeTree_.children.inorderTraversal(function(b,D){null!=D.value&&f.push(new _e(b,D.value))}),f},y.prototype.childCompoundWrite=function(f){if(f.isEmpty())return this;var g=this.getCompleteNode(f);return new y(null!=g?new qn(g):this.writeTree_.subtree(f))},y.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},y.prototype.apply=function(f){return B(ct.Empty,this.writeTree_,f)},y.Empty=new y(new qn(null)),y}();function B(y,f,g){if(null!=f.value)return g.updateChild(y,f.value);var b=null;return f.children.inorderTraversal(function(D,x){".priority"===D?(re.assert(null!==x.value,"Priority writes must always be leaf nodes"),b=x.value):g=B(y.child(D),x,g)}),!g.getChild(y).isEmpty()&&null!==b&&(g=g.updateChild(y.child(".priority"),b)),g}var V=function(){function y(){this.visibleWrites_=Yr.Empty,this.allWrites_=[],this.lastWriteId_=-1}return y.prototype.childWrites=function(f){return new X(f,this)},y.prototype.addOverwrite=function(f,g,b,D){re.assert(b>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),this.allWrites_.push({path:f,snap:g,writeId:b,visible:D}),D&&(this.visibleWrites_=this.visibleWrites_.addWrite(f,g)),this.lastWriteId_=b},y.prototype.addMerge=function(f,g,b){re.assert(b>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:f,children:g,writeId:b,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(f,g),this.lastWriteId_=b},y.prototype.getWrite=function(f){for(var g=0;g<this.allWrites_.length;g++){var b=this.allWrites_[g];if(b.writeId===f)return b}return null},y.prototype.removeWrite=function(f){var g=this,b=this.allWrites_.findIndex(function(He){return He.writeId===f});re.assert(b>=0,"removeWrite called with nonexistent writeId.");var D=this.allWrites_[b];this.allWrites_.splice(b,1);for(var x=D.visible,z=!1,Q=this.allWrites_.length-1;x&&Q>=0;){var ce=this.allWrites_[Q];ce.visible&&(Q>=b&&this.recordContainsPath_(ce,D.path)?x=!1:D.path.contains(ce.path)&&(z=!0)),Q--}return!!x&&(z?(this.resetTree_(),!0):(D.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(D.path):Ve(D.children,function(He){g.visibleWrites_=g.visibleWrites_.removeWrite(D.path.child(He))}),!0))},y.prototype.getCompleteWriteData=function(f){return this.visibleWrites_.getCompleteNode(f)},y.prototype.calcCompleteEventCache=function(f,g,b,D){if(b||D){var ce=this.visibleWrites_.childCompoundWrite(f);return!D&&ce.isEmpty()?g:D||null!=g||ce.hasCompleteWrite(ct.Empty)?y.layerTree_(this.allWrites_,function(_t){return(_t.visible||D)&&(!b||!~b.indexOf(_t.writeId))&&(_t.path.contains(f)||f.contains(_t.path))},f).apply(g||vt.EMPTY_NODE):null}var x=this.visibleWrites_.getCompleteNode(f);if(null!=x)return x;var z=this.visibleWrites_.childCompoundWrite(f);return z.isEmpty()?g:null!=g||z.hasCompleteWrite(ct.Empty)?z.apply(g||vt.EMPTY_NODE):null},y.prototype.calcCompleteEventChildren=function(f,g){var b=vt.EMPTY_NODE,D=this.visibleWrites_.getCompleteNode(f);if(D)return D.isLeafNode()||D.forEachChild(de,function(Q,ce){b=b.updateImmediateChild(Q,ce)}),b;if(g){var x=this.visibleWrites_.childCompoundWrite(f);return g.forEachChild(de,function(Q,ce){var ae=x.childCompoundWrite(new ct(Q)).apply(ce);b=b.updateImmediateChild(Q,ae)}),x.getCompleteChildren().forEach(function(Q){b=b.updateImmediateChild(Q.name,Q.node)}),b}return this.visibleWrites_.childCompoundWrite(f).getCompleteChildren().forEach(function(Q){b=b.updateImmediateChild(Q.name,Q.node)}),b},y.prototype.calcEventCacheAfterServerOverwrite=function(f,g,b,D){re.assert(b||D,"Either existingEventSnap or existingServerSnap must exist");var x=f.child(g);if(this.visibleWrites_.hasCompleteWrite(x))return null;var z=this.visibleWrites_.childCompoundWrite(x);return z.isEmpty()?D.getChild(g):z.apply(D.getChild(g))},y.prototype.calcCompleteChild=function(f,g,b){var D=f.child(g),x=this.visibleWrites_.getCompleteNode(D);return null!=x?x:b.isCompleteForChild(g)?this.visibleWrites_.childCompoundWrite(D).apply(b.getNode().getImmediateChild(g)):null},y.prototype.shadowingWrite=function(f){return this.visibleWrites_.getCompleteNode(f)},y.prototype.calcIndexedSlice=function(f,g,b,D,x,z){var Q,ce=this.visibleWrites_.childCompoundWrite(f),ae=ce.getCompleteNode(ct.Empty);if(null!=ae)Q=ae;else{if(null==g)return[];Q=ce.apply(g)}if((Q=Q.withIndex(z)).isEmpty()||Q.isLeafNode())return[];for(var He=[],nt=z.getCompare(),_t=x?Q.getReverseIteratorFrom(b,z):Q.getIteratorFrom(b,z),xt=_t.getNext();xt&&He.length<D;)0!==nt(xt,b)&&He.push(xt),xt=_t.getNext();return He},y.prototype.recordContainsPath_=function(f,g){if(f.snap)return f.path.contains(g);for(var b in f.children)if(f.children.hasOwnProperty(b)&&f.path.child(b).contains(g))return!0;return!1},y.prototype.resetTree_=function(){this.visibleWrites_=y.layerTree_(this.allWrites_,y.DefaultFilter_,ct.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},y.DefaultFilter_=function(f){return f.visible},y.layerTree_=function(f,g,b){for(var D=Yr.Empty,x=0;x<f.length;++x){var z=f[x];if(g(z)){var Q=z.path,ce=void 0;if(z.snap)b.contains(Q)?(ce=ct.relativePath(b,Q),D=D.addWrite(ce,z.snap)):Q.contains(b)&&(ce=ct.relativePath(Q,b),D=D.addWrite(ct.Empty,z.snap.getChild(ce)));else{if(!z.children)throw re.assertionError("WriteRecord should have .snap or .children");if(b.contains(Q))ce=ct.relativePath(b,Q),D=D.addWrites(ce,z.children);else if(Q.contains(b))if((ce=ct.relativePath(Q,b)).isEmpty())D=D.addWrites(ct.Empty,z.children);else{var ae=re.safeGet(z.children,ce.getFront());if(ae){var He=ae.getChild(ce.popFront());D=D.addWrite(ct.Empty,He)}}}}}return D},y}(),X=function(){function y(f,g){this.treePath_=f,this.writeTree_=g}return y.prototype.calcCompleteEventCache=function(f,g,b){return this.writeTree_.calcCompleteEventCache(this.treePath_,f,g,b)},y.prototype.calcCompleteEventChildren=function(f){return this.writeTree_.calcCompleteEventChildren(this.treePath_,f)},y.prototype.calcEventCacheAfterServerOverwrite=function(f,g,b){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,f,g,b)},y.prototype.shadowingWrite=function(f){return this.writeTree_.shadowingWrite(this.treePath_.child(f))},y.prototype.calcIndexedSlice=function(f,g,b,D,x){return this.writeTree_.calcIndexedSlice(this.treePath_,f,g,b,D,x)},y.prototype.calcCompleteChild=function(f,g){return this.writeTree_.calcCompleteChild(this.treePath_,f,g)},y.prototype.child=function(f){return new y(this.treePath_.child(f),this.writeTree_)},y}(),pe=function(){function y(f){this.listenProvider_=f,this.syncPointTree_=qn.Empty,this.pendingWriteTree_=new V,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return y.prototype.applyUserOverwrite=function(f,g,b,D){return this.pendingWriteTree_.addOverwrite(f,g,b,D),D?this.applyOperationToSyncPoints_(new Go(qo.User,f,g)):[]},y.prototype.applyUserMerge=function(f,g,b){this.pendingWriteTree_.addMerge(f,g,b);var D=qn.fromObject(g);return this.applyOperationToSyncPoints_(new Wo(qo.User,f,D))},y.prototype.ackUserWrite=function(f,g){void 0===g&&(g=!1);var b=this.pendingWriteTree_.getWrite(f);if(this.pendingWriteTree_.removeWrite(f)){var x=qn.Empty;return null!=b.snap?x=x.set(ct.Empty,!0):Ve(b.children,function(z,Q){x=x.set(new ct(z),Q)}),this.applyOperationToSyncPoints_(new da(b.path,x,g))}return[]},y.prototype.applyServerOverwrite=function(f,g){return this.applyOperationToSyncPoints_(new Go(qo.Server,f,g))},y.prototype.applyServerMerge=function(f,g){var b=qn.fromObject(g);return this.applyOperationToSyncPoints_(new Wo(qo.Server,f,b))},y.prototype.applyListenComplete=function(f){return this.applyOperationToSyncPoints_(new Hs(qo.Server,f))},y.prototype.applyTaggedQueryOverwrite=function(f,g,b){var D=this.queryKeyForTag_(b);if(null!=D){var x=y.parseQueryKey_(D),z=x.path,Q=x.queryId,ce=ct.relativePath(z,f),ae=new Go(qo.forServerTaggedQuery(Q),ce,g);return this.applyTaggedOperation_(z,ae)}return[]},y.prototype.applyTaggedQueryMerge=function(f,g,b){var D=this.queryKeyForTag_(b);if(D){var x=y.parseQueryKey_(D),z=x.path,Q=x.queryId,ce=ct.relativePath(z,f),ae=qn.fromObject(g),He=new Wo(qo.forServerTaggedQuery(Q),ce,ae);return this.applyTaggedOperation_(z,He)}return[]},y.prototype.applyTaggedListenComplete=function(f,g){var b=this.queryKeyForTag_(g);if(b){var D=y.parseQueryKey_(b),x=D.path,z=D.queryId,Q=ct.relativePath(x,f),ce=new Hs(qo.forServerTaggedQuery(z),Q);return this.applyTaggedOperation_(x,ce)}return[]},y.prototype.addEventRegistration=function(f,g){var b=f.path,D=null,x=!1;this.syncPointTree_.foreachOnPath(b,function(un,Wn){var Zn=ct.relativePath(un,b);D=D||Wn.getCompleteServerCache(Zn),x=x||Wn.hasCompleteView()});var Q,z=this.syncPointTree_.get(b);z?(x=x||z.hasCompleteView(),D=D||z.getCompleteServerCache(ct.Empty)):(z=new Ni,this.syncPointTree_=this.syncPointTree_.set(b,z)),null!=D?Q=!0:(Q=!1,D=vt.EMPTY_NODE,this.syncPointTree_.subtree(b).foreachChild(function(un,Wn){var Zn=Wn.getCompleteServerCache(ct.Empty);Zn&&(D=D.updateImmediateChild(un,Zn))}));var ae=z.viewExistsForQuery(f);if(!ae&&!f.getQueryParams().loadsAllData()){var He=y.makeQueryKey_(f);re.assert(!this.queryToTagMap.has(He),"View does not exist, but we have a tag");var nt=y.getNextQueryTag_();this.queryToTagMap.set(He,nt),this.tagToQueryMap.set(nt,He)}var _t=this.pendingWriteTree_.childWrites(b),xt=z.addEventRegistration(f,g,_t,D,Q);if(!ae&&!x){var Zt=z.viewForQuery(f);xt=xt.concat(this.setupListener_(f,Zt))}return xt},y.prototype.removeEventRegistration=function(f,g,b){var D=this,x=f.path,z=this.syncPointTree_.get(x),Q=[];if(z&&("default"===f.queryIdentifier()||z.viewExistsForQuery(f))){var ce=z.removeEventRegistration(f,g,b);z.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(x));var ae=ce.removed;Q=ce.events;var He=-1!==ae.findIndex(function($i){return $i.getQueryParams().loadsAllData()}),nt=this.syncPointTree_.findOnPath(x,function($i,yo){return yo.hasCompleteView()});if(He&&!nt){var _t=this.syncPointTree_.subtree(x);if(!_t.isEmpty())for(var xt=this.collectDistinctViewsForSubTree_(_t),Zt=0;Zt<xt.length;++Zt){var un=xt[Zt],Wn=un.getQuery(),Zn=this.createListenerForView_(un);this.listenProvider_.startListening(y.queryForListening_(Wn),this.tagForQuery_(Wn),Zn.hashFn,Zn.onComplete)}}!nt&&ae.length>0&&!b&&(He?this.listenProvider_.stopListening(y.queryForListening_(f),null):ae.forEach(function($i){var yo=D.queryToTagMap.get(y.makeQueryKey_($i));D.listenProvider_.stopListening(y.queryForListening_($i),yo)})),this.removeTags_(ae)}return Q},y.prototype.calcCompleteEventCache=function(f,g){var D=this.pendingWriteTree_,x=this.syncPointTree_.findOnPath(f,function(z,Q){var ce=ct.relativePath(z,f),ae=Q.getCompleteServerCache(ce);if(ae)return ae});return D.calcCompleteEventCache(f,x,g,!0)},y.prototype.collectDistinctViewsForSubTree_=function(f){return f.fold(function(g,b,D){if(b&&b.hasCompleteView())return[b.getCompleteView()];var z=[];return b&&(z=b.getQueryViews()),Ve(D,function(Q,ce){z=z.concat(ce)}),z})},y.prototype.removeTags_=function(f){for(var g=0;g<f.length;++g){var b=f[g];if(!b.getQueryParams().loadsAllData()){var D=y.makeQueryKey_(b),x=this.queryToTagMap.get(D);this.queryToTagMap.delete(D),this.tagToQueryMap.delete(x)}}},y.queryForListening_=function(f){return f.getQueryParams().loadsAllData()&&!f.getQueryParams().isDefault()?f.getRef():f},y.prototype.setupListener_=function(f,g){var b=f.path,D=this.tagForQuery_(f),x=this.createListenerForView_(g),z=this.listenProvider_.startListening(y.queryForListening_(f),D,x.hashFn,x.onComplete),Q=this.syncPointTree_.subtree(b);if(D)re.assert(!Q.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var ce=Q.fold(function(nt,_t,xt){if(!nt.isEmpty()&&_t&&_t.hasCompleteView())return[_t.getCompleteView().getQuery()];var Zt=[];return _t&&(Zt=Zt.concat(_t.getQueryViews().map(function(un){return un.getQuery()}))),Ve(xt,function(un,Wn){Zt=Zt.concat(Wn)}),Zt}),ae=0;ae<ce.length;++ae){var He=ce[ae];this.listenProvider_.stopListening(y.queryForListening_(He),this.tagForQuery_(He))}return z},y.prototype.createListenerForView_=function(f){var g=this,b=f.getQuery(),D=this.tagForQuery_(b);return{hashFn:function(){return(f.getServerCache()||vt.EMPTY_NODE).hash()},onComplete:function(x){if("ok"===x)return D?g.applyTaggedListenComplete(b.path,D):g.applyListenComplete(b.path);var z=function(y,f){var g="Unknown Error";"too_big"===y?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===y?g="Client doesn't have permission to access the desired data.":"unavailable"===y&&(g="The service is unavailable");var b=new Error(y+" at "+f.path.toString()+": "+g);return b.code=y.toUpperCase(),b}(x,b);return g.removeEventRegistration(b,null,z)}}},y.makeQueryKey_=function(f){return f.path.toString()+"$"+f.queryIdentifier()},y.parseQueryKey_=function(f){var g=f.indexOf("$");return re.assert(-1!==g&&g<f.length-1,"Bad queryKey."),{queryId:f.substr(g+1),path:new ct(f.substr(0,g))}},y.prototype.queryKeyForTag_=function(f){return this.tagToQueryMap.get(f)},y.prototype.tagForQuery_=function(f){var g=y.makeQueryKey_(f);return this.queryToTagMap.get(g)},y.getNextQueryTag_=function(){return y.nextQueryTag_++},y.prototype.applyTaggedOperation_=function(f,g){var b=this.syncPointTree_.get(f);re.assert(b,"Missing sync point for query tag that we're tracking");var D=this.pendingWriteTree_.childWrites(f);return b.applyOperation(g,D,null)},y.prototype.applyOperationToSyncPoints_=function(f){return this.applyOperationHelper_(f,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ct.Empty))},y.prototype.applyOperationHelper_=function(f,g,b,D){if(f.path.isEmpty())return this.applyOperationDescendantsHelper_(f,g,b,D);var x=g.get(ct.Empty);null==b&&null!=x&&(b=x.getCompleteServerCache(ct.Empty));var z=[],Q=f.path.getFront(),ce=f.operationForChild(Q),ae=g.children.get(Q);if(ae&&ce){var He=b?b.getImmediateChild(Q):null,nt=D.child(Q);z=z.concat(this.applyOperationHelper_(ce,ae,He,nt))}return x&&(z=z.concat(x.applyOperation(f,D,b))),z},y.prototype.applyOperationDescendantsHelper_=function(f,g,b,D){var x=this,z=g.get(ct.Empty);null==b&&null!=z&&(b=z.getCompleteServerCache(ct.Empty));var Q=[];return g.children.inorderTraversal(function(ce,ae){var He=b?b.getImmediateChild(ce):null,nt=D.child(ce),_t=f.operationForChild(ce);_t&&(Q=Q.concat(x.applyOperationDescendantsHelper_(_t,ae,He,nt)))}),z&&(Q=Q.concat(z.applyOperation(f,D,b))),Q},y.nextQueryTag_=1,y}(),Ce=function(){function y(){this.rootNode_=vt.EMPTY_NODE}return y.prototype.getNode=function(f){return this.rootNode_.getChild(f)},y.prototype.updateSnapshot=function(f,g){this.rootNode_=this.rootNode_.updateChild(f,g)},y}(),me=function(){function y(){this.counters_={}}return y.prototype.incrementCounter=function(f,g){void 0===g&&(g=1),re.contains(this.counters_,f)||(this.counters_[f]=0),this.counters_[f]+=g},y.prototype.get=function(){return re.deepCopy(this.counters_)},y}(),$e=function(){function y(){}return y.getCollection=function(f){var g=f.toString();return this.collections_[g]||(this.collections_[g]=new me),this.collections_[g]},y.getOrCreateReporter=function(f,g){var b=f.toString();return this.reporters_[b]||(this.reporters_[b]=g()),this.reporters_[b]},y.collections_={},y.reporters_={},y}(),gt=function(){function y(f){this.collection_=f,this.last_=null}return y.prototype.get=function(){var f=this.collection_.get(),g=Z.__assign({},f);return this.last_&&Ve(this.last_,function(b,D){g[b]=g[b]-D}),this.last_=f,g},y}(),Kn=function(){function y(f,g){this.server_=g,this.statsToReport_={},this.statsListener_=new gt(f);var b=1e4+2e4*Math.random();fn(this.reportStats_.bind(this),Math.floor(b))}return y.prototype.includeStat=function(f){this.statsToReport_[f]=!0},y.prototype.reportStats_=function(){var f=this,g=this.statsListener_.get(),b={},D=!1;Ve(g,function(x,z){z>0&&re.contains(f.statsToReport_,x)&&(b[x]=z,D=!0)}),D&&this.server_.reportStats(b),fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},y}(),ln=function(){function y(){this.eventLists_=[],this.recursionDepth_=0}return y.prototype.queueEvents=function(f){for(var g=null,b=0;b<f.length;b++){var D=f[b],x=D.getPath();null!==g&&!x.equals(g.getPath())&&(this.eventLists_.push(g),g=null),null===g&&(g=new $r(x)),g.add(D)}g&&this.eventLists_.push(g)},y.prototype.raiseEventsAtPath=function(f,g){this.queueEvents(g),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.equals(f)})},y.prototype.raiseEventsForChangedPath=function(f,g){this.queueEvents(g),this.raiseQueuedEventsMatchingPredicate_(function(b){return b.contains(f)||f.contains(b)})},y.prototype.raiseQueuedEventsMatchingPredicate_=function(f){this.recursionDepth_++;for(var g=!0,b=0;b<this.eventLists_.length;b++){var D=this.eventLists_[b];D&&(f(D.getPath())?(this.eventLists_[b].raise(),this.eventLists_[b]=null):g=!1)}g&&(this.eventLists_=[]),this.recursionDepth_--},y}(),$r=function(){function y(f){this.path_=f,this.events_=[]}return y.prototype.add=function(f){this.events_.push(f)},y.prototype.raise=function(){for(var f=0;f<this.events_.length;f++){var g=this.events_[f];if(null!==g){this.events_[f]=null;var b=g.getEventRunner();Le&&Bt("event: "+g.toString()),Rt(b)}}},y.prototype.getPath=function(){return this.path_},y}(),ar=function(){function y(f){this.allowedEvents_=f,this.listeners_={},re.assert(Array.isArray(f)&&f.length>0,"Requires a non-empty array")}return y.prototype.trigger=function(f){for(var g=[],b=1;b<arguments.length;b++)g[b-1]=arguments[b];if(Array.isArray(this.listeners_[f]))for(var D=Z.__spread(this.listeners_[f]),x=0;x<D.length;x++)D[x].callback.apply(D[x].context,g)},y.prototype.on=function(f,g,b){this.validateEventType_(f),this.listeners_[f]=this.listeners_[f]||[],this.listeners_[f].push({callback:g,context:b});var D=this.getInitialEvent(f);D&&g.apply(b,D)},y.prototype.off=function(f,g,b){this.validateEventType_(f);for(var D=this.listeners_[f]||[],x=0;x<D.length;x++)if(D[x].callback===g&&(!b||b===D[x].context))return void D.splice(x,1)},y.prototype.validateEventType_=function(f){re.assert(this.allowedEvents_.find(function(g){return g===f}),"Unknown event: "+f)},y}(),yn=function(y){function f(){var b,D,g=y.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(D="visibilitychange",b="hidden"):void 0!==document.mozHidden?(D="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(D="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(D="webkitvisibilitychange",b="webkitHidden")),g.visible_=!0,D&&document.addEventListener(D,function(){var x=!document[b];x!==g.visible_&&(g.visible_=x,g.trigger("visible",x))},!1),g}return Z.__extends(f,y),f.getInstance=function(){return new f},f.prototype.getInitialEvent=function(g){return re.assert("visible"===g,"Unknown event type: "+g),[this.visible_]},f}(ar),Nr=function(y){function f(){var g=y.call(this,["online"])||this;return g.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!re.isMobileCordova()&&(window.addEventListener("online",function(){g.online_||(g.online_=!0,g.trigger("online",!0))},!1),window.addEventListener("offline",function(){g.online_&&(g.online_=!1,g.trigger("online",!1))},!1)),g}return Z.__extends(f,y),f.getInstance=function(){return new f},f.prototype.getInitialEvent=function(g){return re.assert("online"===g,"Unknown event type: "+g),[this.online_]},f.prototype.currentlyOnline=function(){return this.online_},f}(ar),Ei=function(){function y(f){this.onMessage_=f,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return y.prototype.closeAfter=function(f,g){this.closeAfterResponse=f,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},y.prototype.handleResponse=function(f,g){var b=this;this.pendingResponses[f]=g;for(var D=function(){var Q=x.pendingResponses[x.currentResponseNum];delete x.pendingResponses[x.currentResponseNum];for(var ce=function(He){Q[He]&&Rt(function(){b.onMessage_(Q[He])})},ae=0;ae<Q.length;++ae)ce(ae);if(x.currentResponseNum===x.closeAfterResponse)return x.onClose&&(x.onClose(),x.onClose=null),"break";x.currentResponseNum++},x=this;this.pendingResponses[this.currentResponseNum]&&"break"!==D(););},y}(),Li=function(){function y(f,g,b,D,x){this.connId=f,this.repoInfo=g,this.applicationId=b,this.transportSessionId=D,this.lastSessionId=x,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ft(f),this.stats_=$e.getCollection(g),this.urlFn=function(z){return g.connectionURL(ir,z)}}return y.prototype.open=function(f,g){var b=this;this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new Ei(f),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(y){if(re.isNodeSdk()||"complete"===document.readyState)y();else{var f=!1,g=function(){document.body?f||(f=!0,y()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Ws(function(){for(var z=[],Q=0;Q<arguments.length;Q++)z[Q]=arguments[Q];var ce=Z.__read(z,5),ae=ce[0],He=ce[1],nt=ce[2];if(b.incrementIncomingBytes_(z),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===ae)b.id=He,b.password=nt;else{if("close"!==ae)throw new Error("Unrecognized command received: "+ae);He?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(He,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var z=[],Q=0;Q<arguments.length;Q++)z[Q]=arguments[Q];var ce=Z.__read(z,2),ae=ce[0],He=ce[1];b.incrementIncomingBytes_(z),b.myPacketOrderer.handleResponse(ae,He)},function(){b.onClosed_()},b.urlFn);var D={start:"t"};D.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(D.cb=b.scriptTagHolder.uniqueCallbackIdentifier),D.v="5",b.transportSessionId&&(D.s=b.transportSessionId),b.lastSessionId&&(D.ls=b.lastSessionId),b.applicationId&&(D.p=b.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Kt)&&(D.r="f");var x=b.urlFn(D);b.log_("Connecting via long-poll to "+x),b.scriptTagHolder.addTag(x,function(){})}})},y.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},y.forceAllow=function(){y.forceAllow_=!0},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){return!(re.isNodeSdk()||!y.forceAllow_&&(y.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},y.prototype.markConnectionHealthy=function(){},y.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},y.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},y.prototype.send=function(f){var g=re.stringify(f);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);for(var b=re.base64Encode(g),D=se(b,1840),x=0;x<D.length;x++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[x]),this.curSegmentNum++},y.prototype.addDisconnectPingFrame=function(f,g){if(!re.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=f,b.pw=g,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},y.prototype.incrementIncomingBytes_=function(f){var g=re.stringify(f).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)},y}(),Ws=function(){function y(f,g,b,D){if(this.onDisconnect=b,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,re.isNodeSdk())this.commandCB=f,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=ft(),window["pLPCommand"+this.uniqueCallbackIdentifier]=f,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=y.createIFrame_();var x="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(x='<script>document.domain="'+document.domain+'";<\/script>');var Q="<html><body>"+x+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Q),this.myIFrame.doc.close()}catch(ce){Bt("frame writing exception"),ce.stack&&Bt(ce.stack),Bt(ce)}}}return y.createIFrame_=function(){var f=document.createElement("iframe");if(f.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(f);try{f.contentWindow.document||Bt("No IE domain setting required")}catch(D){var b=document.domain;f.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return f.contentDocument?f.doc=f.contentDocument:f.contentWindow?f.doc=f.contentWindow.document:f.document&&(f.doc=f.document),f},y.prototype.close=function(){var f=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==f.myIFrame&&(document.body.removeChild(f.myIFrame),f.myIFrame=null)},Math.floor(0)));var g=this.onDisconnect;g&&(this.onDisconnect=null,g())},y.prototype.startLongPoll=function(f,g){for(this.myID=f,this.myPW=g,this.alive=!0;this.newRequest_(););},y.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var f={};f.id=this.myID,f.pw=this.myPW,f.ser=this.currentSerial;for(var g=this.urlFn(f),b="",D=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var z=this.pendingSegs.shift();b=b+"&seg"+D+"="+z.seg+"&ts"+D+"="+z.ts+"&d"+D+"="+z.d,D++}return this.addLongPollTag_(g+=b,this.currentSerial),!0}return!1},y.prototype.enqueueSegment=function(f,g,b){this.pendingSegs.push({seg:f,ts:g,d:b}),this.alive&&this.newRequest_()},y.prototype.addLongPollTag_=function(f,g){var b=this;this.outstandingRequests.add(g);var D=function(){b.outstandingRequests.delete(g),b.newRequest_()},x=setTimeout(D,Math.floor(25e3));this.addTag(f,function(){clearTimeout(x),D()})},y.prototype.addTag=function(f,g){var b=this;re.isNodeSdk()?this.doNodeLongPoll(f,g):setTimeout(function(){try{if(!b.sendNewPolls)return;var D=b.myIFrame.doc.createElement("script");D.type="text/javascript",D.async=!0,D.src=f,D.onload=D.onreadystatechange=function(){var x=D.readyState;(!x||"loaded"===x||"complete"===x)&&(D.onload=D.onreadystatechange=null,D.parentNode&&D.parentNode.removeChild(D),g())},D.onerror=function(){Bt("Long-poll script failed to load: "+f),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(D)}catch(x){}},Math.floor(1))},y}(),Co="",Lo=null;"undefined"!=typeof MozWebSocket?Lo=MozWebSocket:"undefined"!=typeof WebSocket&&(Lo=WebSocket);var zi=function(){function y(f,g,b,D,x){this.connId=f,this.applicationId=b,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ft(this.connId),this.stats_=$e.getCollection(g),this.connURL=y.connectionURL_(g,D,x),this.nodeAdmin=g.nodeAdmin}return y.connectionURL_=function(f,g,b){var D={v:"5"};return!re.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Kt)&&(D.r="f"),g&&(D.s=g),b&&(D.ls=b),f.connectionURL(kr,D)},y.prototype.open=function(f,g){var b=this;this.onDisconnect=g,this.onMessage=f,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,et.set("previous_websocket_failure",!0);try{if(re.isNodeSdk()){var x={headers:{"User-Agent":"Firebase/5/"+Co+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},z=process.env,Q=0===this.connURL.indexOf("wss://")?z.HTTPS_PROXY||z.https_proxy:z.HTTP_PROXY||z.http_proxy;Q&&(x.proxy={origin:Q}),this.mySock=new Lo(this.connURL,[],x)}else this.mySock=new Lo(this.connURL,[],x={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(ae){this.log_("Error instantiating WebSocket.");var ce=ae.message||ae.data;return ce&&this.log_(ce),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(ae){b.handleIncomingFrame(ae)},this.mySock.onerror=function(ae){b.log_("WebSocket error.  Closing connection.");var He=ae.message||ae.data;He&&b.log_(He),b.onClosed_()}},y.prototype.start=function(){},y.forceDisallow=function(){y.forceDisallow_=!0},y.isAvailable=function(){var f=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(f=!0)}return!f&&null!==Lo&&!y.forceDisallow_},y.previouslyFailed=function(){return et.isInMemoryStorage||!0===et.get("previous_websocket_failure")},y.prototype.markConnectionHealthy=function(){et.remove("previous_websocket_failure")},y.prototype.appendFrame_=function(f){if(this.frames.push(f),this.frames.length===this.totalFrames){var g=this.frames.join("");this.frames=null;var b=re.jsonEval(g);this.onMessage(b)}},y.prototype.handleNewFrameCount_=function(f){this.totalFrames=f,this.frames=[]},y.prototype.extractFrameCount_=function(f){if(re.assert(null===this.frames,"We already have a frame buffer"),f.length<=6){var g=Number(f);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),f},y.prototype.handleIncomingFrame=function(f){if(null!==this.mySock){var g=f.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{var b=this.extractFrameCount_(g);null!==b&&this.appendFrame_(b)}}},y.prototype.send=function(f){this.resetKeepAlive();var g=re.stringify(f);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);var b=se(g,16384);b.length>1&&this.sendString_(String(b.length));for(var D=0;D<b.length;D++)this.sendString_(b[D])},y.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},y.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},y.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},y.prototype.resetKeepAlive=function(){var f=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){f.mySock&&f.sendString_("0"),f.resetKeepAlive()},Math.floor(45e3))},y.prototype.sendString_=function(f){try{this.mySock.send(f)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},y.responsesRequiredToBeHealthy=2,y.healthyTimeout=3e4,y}(),rs=function(){function y(f){this.initTransports_(f)}return Object.defineProperty(y,"ALL_TRANSPORTS",{get:function(){return[Li,zi]},enumerable:!1,configurable:!0}),y.prototype.initTransports_=function(f){var g,b,D=zi&&zi.isAvailable(),x=D&&!zi.previouslyFailed();if(f.webSocketOnly&&(D||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),x=!0),x)this.transports_=[zi];else{var z=this.transports_=[];try{for(var Q=Z.__values(y.ALL_TRANSPORTS),ce=Q.next();!ce.done;ce=Q.next()){var ae=ce.value;ae&&ae.isAvailable()&&z.push(ae)}}catch(He){g={error:He}}finally{try{ce&&!ce.done&&(b=Q.return)&&b.call(Q)}finally{if(g)throw g.error}}}},y.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},y.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},y}(),ou=function(){function y(f,g,b,D,x,z,Q,ce){this.id=f,this.repoInfo_=g,this.applicationId_=b,this.onMessage_=D,this.onReady_=x,this.onDisconnect_=z,this.onKill_=Q,this.lastSessionId=ce,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ft("c:"+this.id+":"),this.transportManager_=new rs(g),this.log_("Connection created"),this.start_()}return y.prototype.start_=function(){var f=this,g=this.transportManager_.initialTransport();this.conn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),D=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){f.conn_&&f.conn_.open(b,D)},Math.floor(0));var x=g.healthyTimeout||0;x>0&&(this.healthyTimeout_=fn(function(){f.healthyTimeout_=null,f.isHealthy_||(f.conn_&&f.conn_.bytesReceived>102400?(f.log_("Connection exceeded healthy timeout but has received "+f.conn_.bytesReceived+" bytes.  Marking connection healthy."),f.isHealthy_=!0,f.conn_.markConnectionHealthy()):f.conn_&&f.conn_.bytesSent>10240?f.log_("Connection exceeded healthy timeout but has sent "+f.conn_.bytesSent+" bytes.  Leaving connection alive."):(f.log_("Closing unhealthy connection after timeout."),f.close()))},Math.floor(x)))},y.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},y.prototype.disconnReceiver_=function(f){var g=this;return function(b){f===g.conn_?g.onConnectionLost_(b):f===g.secondaryConn_?(g.log_("Secondary connection lost."),g.onSecondaryConnectionLost_()):g.log_("closing an old connection")}},y.prototype.connReceiver_=function(f){var g=this;return function(b){2!==g.state_&&(f===g.rx_?g.onPrimaryMessageReceived_(b):f===g.secondaryConn_?g.onSecondaryMessageReceived_(b):g.log_("message on old connection"))}},y.prototype.sendRequest=function(f){this.sendData_({t:"d",d:f})},y.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},y.prototype.onSecondaryControl_=function(f){if("t"in f){var g=f.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},y.prototype.onSecondaryMessageReceived_=function(f){var g=le("t",f),b=le("d",f);if("c"===g)this.onSecondaryControl_(b);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(b)}},y.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},y.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},y.prototype.onPrimaryMessageReceived_=function(f){var g=le("t",f),b=le("d",f);"c"===g?this.onControl_(b):"d"===g&&this.onDataMessage_(b)},y.prototype.onDataMessage_=function(f){this.onPrimaryResponse_(),this.onMessage_(f)},y.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},y.prototype.onControl_=function(f){var g=le("t",f);if("d"in f){var b=f.d;if("h"===g)this.onHandshake_(b);else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(b):"r"===g?this.onReset_(b):"e"===g?ot("Server Error: "+b):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ot("Unknown control packet command: "+g)}},y.prototype.onHandshake_=function(f){var g=f.ts,b=f.v,D=f.h;this.sessionId=f.s,this.repoInfo_.updateHost(D),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==b&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())},y.prototype.tryStartUpgrade_=function(){var f=this.transportManager_.upgradeTransport();f&&this.startUpgrade_(f)},y.prototype.startUpgrade_=function(f){var g=this;this.secondaryConn_=new f(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=f.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),D=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,D),fn(function(){g.secondaryConn_&&(g.log_("Timed out trying to upgrade."),g.secondaryConn_.close())},Math.floor(6e4))},y.prototype.onReset_=function(f){this.log_("Reset packet received.  New host: "+f),this.repoInfo_.updateHost(f),1===this.state_?this.close():(this.closeConnections_(),this.start_())},y.prototype.onConnectionEstablished_=function(f,g){var b=this;this.log_("Realtime connection established."),this.conn_=f,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fn(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},y.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},y.prototype.onSecondaryConnectionLost_=function(){var f=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===f||this.rx_===f)&&this.close()},y.prototype.onConnectionLost_=function(f){this.conn_=null,f||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(et.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},y.prototype.onConnectionShutdown_=function(f){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(f),this.onKill_=null),this.onDisconnect_=null,this.close()},y.prototype.sendData_=function(f){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(f)},y.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},y.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},y}(),Cu=function(){function y(){}return y.prototype.put=function(f,g,b,D){},y.prototype.merge=function(f,g,b,D){},y.prototype.refreshAuthToken=function(f){},y.prototype.onDisconnectPut=function(f,g,b){},y.prototype.onDisconnectMerge=function(f,g,b){},y.prototype.onDisconnectCancel=function(f,g){},y.prototype.reportStats=function(f){},y}(),$s=1e3,Kr=function(y){function f(g,b,D,x,z,Q,ce){var ae=y.call(this)||this;if(ae.repoInfo_=g,ae.applicationId_=b,ae.onDataUpdate_=D,ae.onConnectStatus_=x,ae.onServerInfoUpdate_=z,ae.authTokenProvider_=Q,ae.authOverride_=ce,ae.id=f.nextPersistentConnectionId_++,ae.log_=Ft("p:"+ae.id+":"),ae.interruptReasons_={},ae.listens=new Map,ae.outstandingPuts_=[],ae.outstandingPutCount_=0,ae.onDisconnectRequestQueue_=[],ae.connected_=!1,ae.reconnectDelay_=$s,ae.maxReconnectDelay_=3e5,ae.securityDebugCallback_=null,ae.lastSessionId=null,ae.establishConnectionTimer_=null,ae.visible_=!1,ae.requestCBHash_={},ae.requestNumber_=0,ae.realtime_=null,ae.authToken_=null,ae.forceTokenRefresh_=!1,ae.invalidAuthTokenCount_=0,ae.firstConnection_=!0,ae.lastConnectionAttemptTime_=null,ae.lastConnectionEstablishedTime_=null,ce&&!re.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ae.scheduleConnect_(0),yn.getInstance().on("visible",ae.onVisible_,ae),-1===g.host.indexOf("fblocal")&&Nr.getInstance().on("online",ae.onOnline_,ae),ae}return Z.__extends(f,y),f.prototype.sendRequest=function(g,b,D){var x=++this.requestNumber_,z={r:x,a:g,b};this.log_(re.stringify(z)),re.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(z),D&&(this.requestCBHash_[x]=D)},f.prototype.listen=function(g,b,D,x){var z=g.queryIdentifier(),Q=g.path.toString();this.log_("Listen called for "+Q+" "+z),this.listens.has(Q)||this.listens.set(Q,new Map),re.assert(g.getQueryParams().isDefault()||!g.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),re.assert(!this.listens.get(Q).has(z),"listen() called twice for same path/queryId.");var ce={onComplete:x,hashFn:b,query:g,tag:D};this.listens.get(Q).set(z,ce),this.connected_&&this.sendListen_(ce)},f.prototype.sendListen_=function(g){var b=this,D=g.query,x=D.path.toString(),z=D.queryIdentifier();this.log_("Listen on "+x+" for "+z);var Q={p:x};g.tag&&(Q.q=D.queryObject(),Q.t=g.tag),Q.h=g.hashFn(),this.sendRequest("q",Q,function(ae){var He=ae.d,nt=ae.s;f.warnOnListenWarnings_(He,D),(b.listens.get(x)&&b.listens.get(x).get(z))===g&&(b.log_("listen response",ae),"ok"!==nt&&b.removeListen_(x,z),g.onComplete&&g.onComplete(nt,He))})},f.warnOnListenWarnings_=function(g,b){if(g&&"object"==typeof g&&re.contains(g,"w")){var D=re.safeGet(g,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){var x='".indexOn": "'+b.getQueryParams().getIndex().toString()+'"',z=b.path.toString();pt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+x+" at "+z+" to your security rules for better performance.")}}},f.prototype.refreshAuthToken=function(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(g)},f.prototype.reduceReconnectDelayIfAdminCredential_=function(g){(g&&40===g.length||re.isAdmin(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},f.prototype.tryAuth=function(){var g=this;if(this.connected_&&this.authToken_){var b=this.authToken_,D=re.isValidFormat(b)?"auth":"gauth",x={cred:b};null===this.authOverride_?x.noauth=!0:"object"==typeof this.authOverride_&&(x.authvar=this.authOverride_),this.sendRequest(D,x,function(z){var Q=z.s,ce=z.d||"error";g.authToken_===b&&("ok"===Q?g.invalidAuthTokenCount_=0:g.onAuthRevoked_(Q,ce))})}},f.prototype.unlisten=function(g,b){var D=g.path.toString(),x=g.queryIdentifier();this.log_("Unlisten called for "+D+" "+x),re.assert(g.getQueryParams().isDefault()||!g.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,x)&&this.connected_&&this.sendUnlisten_(D,x,g.queryObject(),b)},f.prototype.sendUnlisten_=function(g,b,D,x){this.log_("Unlisten on "+g+" for "+b);var z={p:g};x&&(z.q=D,z.t=x),this.sendRequest("n",z)},f.prototype.onDisconnectPut=function(g,b,D){this.connected_?this.sendOnDisconnect_("o",g,b,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:b,onComplete:D})},f.prototype.onDisconnectMerge=function(g,b,D){this.connected_?this.sendOnDisconnect_("om",g,b,D):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:b,onComplete:D})},f.prototype.onDisconnectCancel=function(g,b){this.connected_?this.sendOnDisconnect_("oc",g,null,b):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:b})},f.prototype.sendOnDisconnect_=function(g,b,D,x){var z={p:b,d:D};this.log_("onDisconnect "+g,z),this.sendRequest(g,z,function(Q){x&&setTimeout(function(){x(Q.s,Q.d)},Math.floor(0))})},f.prototype.put=function(g,b,D,x){this.putInternal("p",g,b,D,x)},f.prototype.merge=function(g,b,D,x){this.putInternal("m",g,b,D,x)},f.prototype.putInternal=function(g,b,D,x,z){var Q={p:b,d:D};void 0!==z&&(Q.h=z),this.outstandingPuts_.push({action:g,request:Q,onComplete:x}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},f.prototype.sendPut_=function(g){var b=this,D=this.outstandingPuts_[g].action,x=this.outstandingPuts_[g].request,z=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(D,x,function(Q){b.log_(D+" response",Q),delete b.outstandingPuts_[g],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),z&&z(Q.s,Q.d)})},f.prototype.reportStats=function(g){var b=this;if(this.connected_){var D={c:g};this.log_("reportStats",D),this.sendRequest("s",D,function(x){"ok"!==x.s&&b.log_("reportStats","Error sending stats: "+x.d)})}},f.prototype.onDataMessage_=function(g){if("r"in g){this.log_("from server: "+re.stringify(g));var b=g.r,D=this.requestCBHash_[b];D&&(delete this.requestCBHash_[b],D(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}},f.prototype.onDataPush_=function(g,b){this.log_("handleServerMessage",g,b),"d"===g?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===g?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===g?this.onListenRevoked_(b.p,b.q):"ac"===g?this.onAuthRevoked_(b.s,b.d):"sd"===g?this.onSecurityDebugPacket_(b):ot("Unrecognized action received from server: "+re.stringify(g)+"\nAre you using the latest client?")},f.prototype.onReady_=function(g,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},f.prototype.scheduleConnect_=function(g){var b=this;re.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(g))},f.prototype.onVisible_=function(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)),this.visible_=g},f.prototype.onOnline_=function(g){g?(this.log_("Browser went online."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},f.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,D=Math.max(0,this.reconnectDelay_-b);D=Math.random()*D,this.log_("Trying to reconnect in "+D+"ms"),this.scheduleConnect_(D),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},f.prototype.establishConnection_=function(){var g=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var b=this.onDataMessage_.bind(this),D=this.onReady_.bind(this),x=this.onRealtimeDisconnect_.bind(this),z=this.id+":"+f.nextConnectionId_++,Q=this,ce=this.lastSessionId,ae=!1,He=null,nt=function(){He?He.close():(ae=!0,x())};this.realtime_={close:nt,sendRequest:function(Zt){re.assert(He,"sendRequest call when we're not connected not allowed."),He.sendRequest(Zt)}};var xt=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(xt).then(function(Zt){ae?Bt("getToken() completed but was canceled"):(Bt("getToken() completed. Creating connection."),Q.authToken_=Zt&&Zt.accessToken,He=new ou(z,Q.repoInfo_,Q.applicationId_,b,D,x,function(un){pt(un+" ("+Q.repoInfo_.toString()+")"),Q.interrupt("server_kill")},ce))}).then(null,function(Zt){Q.log_("Failed to get token: "+Zt),ae||(g.repoInfo_.nodeAdmin&&pt(Zt),nt())})}},f.prototype.interrupt=function(g){Bt("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},f.prototype.resume=function(g){Bt("Resuming connection for reason: "+g),delete this.interruptReasons_[g],re.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0))},f.prototype.handleTimestamp_=function(g){var b=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},f.prototype.cancelSentTransactions_=function(){for(var g=0;g<this.outstandingPuts_.length;g++){var b=this.outstandingPuts_[g];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},f.prototype.onListenRevoked_=function(g,b){var D;D=b?b.map(function(z){return Tt(z)}).join("$"):"default";var x=this.removeListen_(g,D);x&&x.onComplete&&x.onComplete("permission_denied")},f.prototype.removeListen_=function(g,b){var x,D=new ct(g).toString();if(this.listens.has(D)){var z=this.listens.get(D);x=z.get(b),z.delete(b),0===z.size&&this.listens.delete(D)}else x=void 0;return x},f.prototype.onAuthRevoked_=function(g,b){Bt("Auth token revoked: "+g+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},f.prototype.onSecurityDebugPacket_=function(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))},f.prototype.restoreState_=function(){var g,b,D,x;this.tryAuth();try{for(var z=Z.__values(this.listens.values()),Q=z.next();!Q.done;Q=z.next()){var ce=Q.value;try{for(var ae=(D=void 0,Z.__values(ce.values())),He=ae.next();!He.done;He=ae.next())this.sendListen_(He.value)}catch(Zt){D={error:Zt}}finally{try{He&&!He.done&&(x=ae.return)&&x.call(ae)}finally{if(D)throw D.error}}}}catch(Zt){g={error:Zt}}finally{try{Q&&!Q.done&&(b=z.return)&&b.call(z)}finally{if(g)throw g.error}}for(var _t=0;_t<this.outstandingPuts_.length;_t++)this.outstandingPuts_[_t]&&this.sendPut_(_t);for(;this.onDisconnectRequestQueue_.length;){var xt=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(xt.action,xt.pathString,xt.data,xt.onComplete)}},f.prototype.sendConnectStats_=function(){var g={},b="js";re.isNodeSdk()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+b+"."+Co.replace(/\./g,"-")]=1,re.isMobileCordova()?g["framework.cordova"]=1:re.isReactNative()&&(g["framework.reactnative"]=1),this.reportStats(g)},f.prototype.shouldReconnect_=function(){var g=Nr.getInstance().currentlyOnline();return re.isEmpty(this.interruptReasons_)&&g},f.nextPersistentConnectionId_=0,f.nextConnectionId_=0,f}(Cu),Su=function(y){function f(g,b,D){var x=y.call(this)||this;return x.repoInfo_=g,x.onDataUpdate_=b,x.authTokenProvider_=D,x.log_=Ft("p:rest:"),x.listens_={},x}return Z.__extends(f,y),f.prototype.reportStats=function(g){throw new Error("Method not implemented.")},f.getListenId_=function(g,b){return void 0!==b?"tag$"+b:(re.assert(g.getQueryParams().isDefault(),"should have a tag if it's not a default query."),g.path.toString())},f.prototype.listen=function(g,b,D,x){var z=this,Q=g.path.toString();this.log_("Listen called for "+Q+" "+g.queryIdentifier());var ce=f.getListenId_(g,D),ae={};this.listens_[ce]=ae;var He=g.getQueryParams().toRestQueryStringParameters();this.restRequest_(Q+".json",He,function(nt,_t){var xt=_t;404===nt&&(xt=null,nt=null),null===nt&&z.onDataUpdate_(Q,xt,!1,D),re.safeGet(z.listens_,ce)===ae&&x(nt?401===nt?"permission_denied":"rest_error:"+nt:"ok",null)})},f.prototype.unlisten=function(g,b){var D=f.getListenId_(g,b);delete this.listens_[D]},f.prototype.refreshAuthToken=function(g){},f.prototype.restRequest_=function(g,b,D){var x=this;void 0===b&&(b={}),b.format="export",this.authTokenProvider_.getToken(!1).then(function(z){var Q=z&&z.accessToken;Q&&(b.auth=Q);var ce=(x.repoInfo_.secure?"https://":"http://")+x.repoInfo_.host+g+"?ns="+x.repoInfo_.namespace+re.querystring(b);x.log_("Sending REST request for "+ce);var ae=new XMLHttpRequest;ae.onreadystatechange=function(){if(D&&4===ae.readyState){x.log_("REST Response for "+ce+" received. status:",ae.status,"response:",ae.responseText);var He=null;if(ae.status>=200&&ae.status<300){try{He=re.jsonEval(ae.responseText)}catch(nt){pt("Failed to parse JSON response for "+ce+": "+ae.responseText)}D(null,He)}else 401!==ae.status&&404!==ae.status&&pt("Got unsuccessful REST response for "+ce+" Status: "+ae.status),D(ae.status);D=null}},ae.open("GET",ce,!0),ae.send()})},f}(Cu),jt="repo_interrupt",ni=function(){function y(f,g,b,D){var x=this;if(this.repoInfo_=f,this.app=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ln,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new js,this.persistentConnection_=null,this.stats_=$e.getCollection(f),g||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Su(this.repoInfo_,this.onDataUpdate_.bind(this),D),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var z=b.options.databaseAuthVariableOverride;if(null!=z){if("object"!=typeof z)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{re.stringify(z)}catch(Q){throw new Error("Invalid authOverride provided: "+Q)}}this.persistentConnection_=new Kr(this.repoInfo_,b.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),D,z),this.server_=this.persistentConnection_}D.addTokenChangeListener(function(Q){x.server_.refreshAuthToken(Q)}),this.statsReporter_=$e.getOrCreateReporter(f,function(){return new Kn(x.stats_,x.server_)}),this.transactionsInit_(),this.infoData_=new Ce,this.infoSyncTree_=new pe({startListening:function(Q,ce,ae,He){var nt=[],_t=x.infoData_.getNode(Q.path);return _t.isEmpty()||(nt=x.infoSyncTree_.applyServerOverwrite(Q.path,_t),setTimeout(function(){He("ok")},0)),nt},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new pe({startListening:function(Q,ce,ae,He){return x.server_.listen(Q,ae,ce,function(nt,_t){var xt=He(nt,_t);x.eventQueue_.raiseEventsForChangedPath(Q.path,xt)}),[]},stopListening:function(Q,ce){x.server_.unlisten(Q,ce)}})}return y.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},y.prototype.name=function(){return this.repoInfo_.namespace},y.prototype.serverTime=function(){var g=this.infoData_.getNode(new ct(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g},y.prototype.generateServerValues=function(){return function(y){return(y=y||{}).timestamp=y.timestamp||(new Date).getTime(),y}({timestamp:this.serverTime()})},y.prototype.onDataUpdate_=function(f,g,b,D){this.dataUpdateCount++;var x=new ct(f);g=this.interceptServerDataCallback_?this.interceptServerDataCallback_(f,g):g;var z=[];if(D)if(b){var Q=re.map(g,function(_t){return Un(_t)});z=this.serverSyncTree_.applyTaggedQueryMerge(x,Q,D)}else{var ce=Un(g);z=this.serverSyncTree_.applyTaggedQueryOverwrite(x,ce,D)}else if(b){var ae=re.map(g,function(_t){return Un(_t)});z=this.serverSyncTree_.applyServerMerge(x,ae)}else{var He=Un(g);z=this.serverSyncTree_.applyServerOverwrite(x,He)}var nt=x;z.length>0&&(nt=this.rerunTransactions_(x)),this.eventQueue_.raiseEventsForChangedPath(nt,z)},y.prototype.interceptServerData_=function(f){this.interceptServerDataCallback_=f},y.prototype.onConnectStatus_=function(f){this.updateInfo_("connected",f),!1===f&&this.runOnDisconnectEvents_()},y.prototype.onServerInfoUpdate_=function(f){var g=this;Ve(f,function(b,D){g.updateInfo_(b,D)})},y.prototype.updateInfo_=function(f,g){var b=new ct("/.info/"+f),D=Un(g);this.infoData_.updateSnapshot(b,D);var x=this.infoSyncTree_.applyServerOverwrite(b,D);this.eventQueue_.raiseEventsForChangedPath(b,x)},y.prototype.getNextWriteId_=function(){return this.nextWriteId_++},y.prototype.setWithPriority=function(f,g,b,D){var x=this;this.log_("set",{path:f.toString(),value:g,priority:b});var z=this.generateServerValues(),Q=Un(g,b),ce=this.serverSyncTree_.calcCompleteEventCache(f),ae=Hn(Q,ce,z),He=this.getNextWriteId_(),nt=this.serverSyncTree_.applyUserOverwrite(f,ae,He,!0);this.eventQueue_.queueEvents(nt),this.server_.put(f.toString(),Q.val(!0),function(xt,Zt){var un="ok"===xt;un||pt("set at "+f+" failed: "+xt);var Wn=x.serverSyncTree_.ackUserWrite(He,!un);x.eventQueue_.raiseEventsForChangedPath(f,Wn),x.callOnCompleteCallback(D,xt,Zt)});var _t=this.abortTransactions_(f);this.rerunTransactions_(_t),this.eventQueue_.raiseEventsForChangedPath(_t,[])},y.prototype.update=function(f,g,b){var D=this;this.log_("update",{path:f.toString(),value:g});var x=!0,z=this.generateServerValues(),Q={};if(Ve(g,function(He,nt){x=!1,Q[He]=no(f.child(He),Un(nt),D.serverSyncTree_,z)}),x)Bt("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(b,"ok");else{var ce=this.getNextWriteId_(),ae=this.serverSyncTree_.applyUserMerge(f,Q,ce);this.eventQueue_.queueEvents(ae),this.server_.merge(f.toString(),g,function(He,nt){var _t="ok"===He;_t||pt("update at "+f+" failed: "+He);var xt=D.serverSyncTree_.ackUserWrite(ce,!_t),Zt=xt.length>0?D.rerunTransactions_(f):f;D.eventQueue_.raiseEventsForChangedPath(Zt,xt),D.callOnCompleteCallback(b,He,nt)}),Ve(g,function(He){var nt=D.abortTransactions_(f.child(He));D.rerunTransactions_(nt)}),this.eventQueue_.raiseEventsForChangedPath(f,[])}},y.prototype.runOnDisconnectEvents_=function(){var f=this;this.log_("onDisconnectEvents");var g=this.generateServerValues(),b=new js;this.onDisconnect_.forEachTree(ct.Empty,function(x,z){var Q=no(x,z,f.serverSyncTree_,g);b.remember(x,Q)});var D=[];b.forEachTree(ct.Empty,function(x,z){D=D.concat(f.serverSyncTree_.applyServerOverwrite(x,z));var Q=f.abortTransactions_(x);f.rerunTransactions_(Q)}),this.onDisconnect_=new js,this.eventQueue_.raiseEventsForChangedPath(ct.Empty,D)},y.prototype.onDisconnectCancel=function(f,g){var b=this;this.server_.onDisconnectCancel(f.toString(),function(D,x){"ok"===D&&b.onDisconnect_.forget(f),b.callOnCompleteCallback(g,D,x)})},y.prototype.onDisconnectSet=function(f,g,b){var D=this,x=Un(g);this.server_.onDisconnectPut(f.toString(),x.val(!0),function(z,Q){"ok"===z&&D.onDisconnect_.remember(f,x),D.callOnCompleteCallback(b,z,Q)})},y.prototype.onDisconnectSetWithPriority=function(f,g,b,D){var x=this,z=Un(g,b);this.server_.onDisconnectPut(f.toString(),z.val(!0),function(Q,ce){"ok"===Q&&x.onDisconnect_.remember(f,z),x.callOnCompleteCallback(D,Q,ce)})},y.prototype.onDisconnectUpdate=function(f,g,b){var D=this;if(re.isEmpty(g))return Bt("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(b,"ok");this.server_.onDisconnectMerge(f.toString(),g,function(x,z){"ok"===x&&Ve(g,function(Q,ce){var ae=Un(ce);D.onDisconnect_.remember(f.child(Q),ae)}),D.callOnCompleteCallback(b,x,z)})},y.prototype.addEventCallbackForQuery=function(f,g){var b;b=".info"===f.path.getFront()?this.infoSyncTree_.addEventRegistration(f,g):this.serverSyncTree_.addEventRegistration(f,g),this.eventQueue_.raiseEventsAtPath(f.path,b)},y.prototype.removeEventCallbackForQuery=function(f,g){var b;b=".info"===f.path.getFront()?this.infoSyncTree_.removeEventRegistration(f,g):this.serverSyncTree_.removeEventRegistration(f,g),this.eventQueue_.raiseEventsAtPath(f.path,b)},y.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(jt)},y.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(jt)},y.prototype.stats=function(f){if(void 0===f&&(f=!1),"undefined"!=typeof console){var g;f?(this.statsListener_||(this.statsListener_=new gt(this.stats_)),g=this.statsListener_.get()):g=this.stats_.get();var b=Object.keys(g).reduce(function(D,x){return Math.max(x.length,D)},0);Ve(g,function(D,x){for(var z=D,Q=D.length;Q<b+2;Q++)z+=" ";console.log(z+x)})}},y.prototype.statsIncrementCounter=function(f){this.stats_.incrementCounter(f),this.statsReporter_.includeStat(f)},y.prototype.log_=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];var b="";this.persistentConnection_&&(b=this.persistentConnection_.id+":"),Bt.apply(void 0,Z.__spread([b],f))},y.prototype.callOnCompleteCallback=function(f,g,b){f&&Rt(function(){if("ok"===g)f(null);else{var D=(g||"error").toUpperCase(),x=D;b&&(x+=": "+b);var z=new Error(x);z.code=D,f(z)}})},Object.defineProperty(y.prototype,"database",{get:function(){return this.__database||(this.__database=new Xe(this))},enumerable:!1,configurable:!0}),y}(),qu=function(){function y(f){this.indexedFilter_=new Fo(f.getIndex()),this.index_=f.getIndex(),this.startPost_=y.getStartPost_(f),this.endPost_=y.getEndPost_(f)}return y.prototype.getStartPost=function(){return this.startPost_},y.prototype.getEndPost=function(){return this.endPost_},y.prototype.matches=function(f){return this.index_.compare(this.getStartPost(),f)<=0&&this.index_.compare(f,this.getEndPost())<=0},y.prototype.updateChild=function(f,g,b,D,x,z){return this.matches(new _e(g,b))||(b=vt.EMPTY_NODE),this.indexedFilter_.updateChild(f,g,b,D,x,z)},y.prototype.updateFullNode=function(f,g,b){g.isLeafNode()&&(g=vt.EMPTY_NODE);var D=g.withIndex(this.index_);D=D.updatePriority(vt.EMPTY_NODE);var x=this;return g.forEachChild(de,function(z,Q){x.matches(new _e(z,Q))||(D=D.updateImmediateChild(z,vt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(f,D,b)},y.prototype.updatePriority=function(f,g){return f},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.indexedFilter_},y.prototype.getIndex=function(){return this.index_},y.getStartPost_=function(f){if(f.hasStart()){var g=f.getIndexStartName();return f.getIndex().makePost(f.getIndexStartValue(),g)}return f.getIndex().minPost()},y.getEndPost_=function(f){if(f.hasEnd()){var g=f.getIndexEndName();return f.getIndex().makePost(f.getIndexEndValue(),g)}return f.getIndex().maxPost()},y}(),_a=function(){function y(f){this.rangedFilter_=new qu(f),this.index_=f.getIndex(),this.limit_=f.getLimit(),this.reverse_=!f.isViewFromLeft()}return y.prototype.updateChild=function(f,g,b,D,x,z){return this.rangedFilter_.matches(new _e(g,b))||(b=vt.EMPTY_NODE),f.getImmediateChild(g).equals(b)?f:f.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(f,g,b,D,x,z):this.fullLimitUpdateChild_(f,g,b,x,z)},y.prototype.updateFullNode=function(f,g,b){var D;if(g.isLeafNode()||g.isEmpty())D=vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){D=vt.EMPTY_NODE.withIndex(this.index_);var x=void 0;x=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var z=0;x.hasNext()&&z<this.limit_;){var Q=x.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Q)<=0:this.index_.compare(Q,this.rangedFilter_.getEndPost())<=0))break;D=D.updateImmediateChild(Q.name,Q.node),z++}}else{D=(D=g.withIndex(this.index_)).updatePriority(vt.EMPTY_NODE);var ae=void 0,He=void 0,nt=void 0;if(x=void 0,this.reverse_){x=D.getReverseIterator(this.index_),ae=this.rangedFilter_.getEndPost(),He=this.rangedFilter_.getStartPost();var _t=this.index_.getCompare();nt=function(Wn,Zn){return _t(Zn,Wn)}}else x=D.getIterator(this.index_),ae=this.rangedFilter_.getStartPost(),He=this.rangedFilter_.getEndPost(),nt=this.index_.getCompare();z=0;for(var xt=!1;x.hasNext();)Q=x.getNext(),!xt&&nt(ae,Q)<=0&&(xt=!0),xt&&z<this.limit_&&nt(Q,He)<=0?z++:D=D.updateImmediateChild(Q.name,vt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(f,D,b)},y.prototype.updatePriority=function(f,g){return f},y.prototype.filtersNodes=function(){return!0},y.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},y.prototype.getIndex=function(){return this.index_},y.prototype.fullLimitUpdateChild_=function(f,g,b,D,x){var z;if(this.reverse_){var Q=this.index_.getCompare();z=function(vo,$i){return Q($i,vo)}}else z=this.index_.getCompare();var ce=f;re.assert(ce.numChildren()===this.limit_,"");var ae=new _e(g,b),He=this.reverse_?ce.getFirstChild(this.index_):ce.getLastChild(this.index_),nt=this.rangedFilter_.matches(ae);if(ce.hasChild(g)){for(var _t=ce.getImmediateChild(g),xt=D.getChildAfterChild(this.index_,He,this.reverse_);null!=xt&&(xt.name===g||ce.hasChild(xt.name));)xt=D.getChildAfterChild(this.index_,xt,this.reverse_);var Zt=null==xt?1:z(xt,ae);if(nt&&!b.isEmpty()&&Zt>=0)return null!=x&&x.trackChildChange(Jn.childChangedChange(g,b,_t)),ce.updateImmediateChild(g,b);null!=x&&x.trackChildChange(Jn.childRemovedChange(g,_t));var Wn=ce.updateImmediateChild(g,vt.EMPTY_NODE);return null!=xt&&this.rangedFilter_.matches(xt)?(null!=x&&x.trackChildChange(Jn.childAddedChange(xt.name,xt.node)),Wn.updateImmediateChild(xt.name,xt.node)):Wn}return b.isEmpty()?f:nt&&z(He,ae)>=0?(null!=x&&(x.trackChildChange(Jn.childRemovedChange(He.name,He.node)),x.trackChildChange(Jn.childAddedChange(g,b))),ce.updateImmediateChild(g,b).updateImmediateChild(He.name,vt.EMPTY_NODE)):f},y}(),As=function(){function y(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}return y.prototype.hasStart=function(){return this.startSet_},y.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},y.prototype.getIndexStartValue=function(){return re.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},y.prototype.getIndexStartName=function(){return re.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},y.prototype.hasEnd=function(){return this.endSet_},y.prototype.getIndexEndValue=function(){return re.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},y.prototype.getIndexEndName=function(){return re.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:H},y.prototype.hasLimit=function(){return this.limitSet_},y.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},y.prototype.getLimit=function(){return re.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},y.prototype.getIndex=function(){return this.index_},y.prototype.copy_=function(){var f=new y;return f.limitSet_=this.limitSet_,f.limit_=this.limit_,f.startSet_=this.startSet_,f.indexStartValue_=this.indexStartValue_,f.startNameSet_=this.startNameSet_,f.indexStartName_=this.indexStartName_,f.endSet_=this.endSet_,f.indexEndValue_=this.indexEndValue_,f.endNameSet_=this.endNameSet_,f.indexEndName_=this.indexEndName_,f.index_=this.index_,f.viewFrom_=this.viewFrom_,f},y.prototype.limit=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_="",g},y.prototype.limitToFirst=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_=y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,g},y.prototype.limitToLast=function(f){var g=this.copy_();return g.limitSet_=!0,g.limit_=f,g.viewFrom_=y.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,g},y.prototype.startAt=function(f,g){var b=this.copy_();return b.startSet_=!0,void 0===f&&(f=null),b.indexStartValue_=f,null!=g?(b.startNameSet_=!0,b.indexStartName_=g):(b.startNameSet_=!1,b.indexStartName_=""),b},y.prototype.endAt=function(f,g){var b=this.copy_();return b.endSet_=!0,void 0===f&&(f=null),b.indexEndValue_=f,void 0!==g?(b.endNameSet_=!0,b.indexEndName_=g):(b.endNameSet_=!1,b.indexEndName_=""),b},y.prototype.orderBy=function(f){var g=this.copy_();return g.index_=f,g},y.prototype.getQueryObject=function(){var f=y.WIRE_PROTOCOL_CONSTANTS_,g={};if(this.startSet_&&(g[f.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(g[f.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(g[f.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(g[f.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){g[f.LIMIT]=this.limit_;var b=this.viewFrom_;""===b&&(b=this.isViewFromLeft()?f.VIEW_FROM_LEFT:f.VIEW_FROM_RIGHT),g[f.VIEW_FROM]=b}return this.index_!==de&&(g[f.INDEX]=this.index_.toString()),g},y.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},y.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===de},y.prototype.getNodeFilter=function(){return this.loadsAllData()?new Fo(this.getIndex()):this.hasLimit()?new _a(this):new qu(this)},y.prototype.toRestQueryStringParameters=function(){var b,f=y.REST_QUERY_CONSTANTS_,g={};return this.isDefault()||(this.index_===de?b=f.PRIORITY_INDEX:this.index_===eo?b=f.VALUE_INDEX:this.index_===Fe?b=f.KEY_INDEX:(re.assert(this.index_ instanceof Ho,"Unrecognized index type!"),b=this.index_.toString()),g[f.ORDER_BY]=re.stringify(b),this.startSet_&&(g[f.START_AT]=re.stringify(this.indexStartValue_),this.startNameSet_&&(g[f.START_AT]+=","+re.stringify(this.indexStartName_))),this.endSet_&&(g[f.END_AT]=re.stringify(this.indexEndValue_),this.endNameSet_&&(g[f.END_AT]+=","+re.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?g[f.LIMIT_TO_FIRST]=this.limit_:g[f.LIMIT_TO_LAST]=this.limit_)),g},y.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},y.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},y.DEFAULT=new y,y}(),yi=function(y){function f(g,b){if(!(g instanceof ni))throw new Error("new Reference() no longer supported - use app.database().");return y.call(this,g,b,As.DEFAULT,!1)||this}return Z.__extends(f,y),f.prototype.getKey=function(){return re.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},f.prototype.child=function(g){return re.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof g?g=String(g):g instanceof ct||(null===this.path.getFront()?hi("Reference.child",1,g,!1):sn("Reference.child",1,g,!1)),new f(this.repo,this.path.child(g))},f.prototype.getParent=function(){re.validateArgCount("Reference.parent",0,0,arguments.length);var g=this.path.parent();return null===g?null:new f(this.repo,g)},f.prototype.getRoot=function(){re.validateArgCount("Reference.root",0,0,arguments.length);for(var g=this;null!==g.getParent();)g=g.getParent();return g},f.prototype.databaseProp=function(){return this.repo.database},f.prototype.set=function(g,b){re.validateArgCount("Reference.set",1,2,arguments.length),nn("Reference.set",this.path),zt("Reference.set",1,g,this.path,!1),re.validateCallback("Reference.set",2,b,!0);var D=new re.Deferred;return this.repo.setWithPriority(this.path,g,null,D.wrapCallback(b)),D.promise},f.prototype.update=function(g,b){if(re.validateArgCount("Reference.update",1,2,arguments.length),nn("Reference.update",this.path),Array.isArray(g)){for(var D={},x=0;x<g.length;++x)D[""+x]=g[x];g=D,pt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Dn("Reference.update",1,g,this.path,!1),re.validateCallback("Reference.update",2,b,!0);var z=new re.Deferred;return this.repo.update(this.path,g,z.wrapCallback(b)),z.promise},f.prototype.setWithPriority=function(g,b,D){if(re.validateArgCount("Reference.setWithPriority",2,3,arguments.length),nn("Reference.setWithPriority",this.path),zt("Reference.setWithPriority",1,g,this.path,!1),wr("Reference.setWithPriority",2,b,!1),re.validateCallback("Reference.setWithPriority",3,D,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var x=new re.Deferred;return this.repo.setWithPriority(this.path,g,b,x.wrapCallback(D)),x.promise},f.prototype.remove=function(g){return re.validateArgCount("Reference.remove",0,1,arguments.length),nn("Reference.remove",this.path),re.validateCallback("Reference.remove",1,g,!0),this.set(null,g)},f.prototype.transaction=function(g,b,D){if(re.validateArgCount("Reference.transaction",1,3,arguments.length),nn("Reference.transaction",this.path),re.validateCallback("Reference.transaction",1,g,!1),re.validateCallback("Reference.transaction",2,b,!0),co("Reference.transaction",3,D,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===D&&(D=!0);var x=new re.Deferred;"function"==typeof b&&x.promise.catch(function(){});var z=function(Q,ce,ae){Q?x.reject(Q):x.resolve(new an(ce,ae)),"function"==typeof b&&b(Q,ce,ae)};return this.repo.startTransaction(this.path,g,z,D),x.promise},f.prototype.setPriority=function(g,b){re.validateArgCount("Reference.setPriority",1,2,arguments.length),nn("Reference.setPriority",this.path),wr("Reference.setPriority",1,g,!1),re.validateCallback("Reference.setPriority",2,b,!0);var D=new re.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),g,null,D.wrapCallback(b)),D.promise},f.prototype.push=function(g,b){re.validateArgCount("Reference.push",0,2,arguments.length),nn("Reference.push",this.path),zt("Reference.push",1,g,this.path,!0),re.validateCallback("Reference.push",2,b,!0);var ce,D=this.repo.serverTime(),x=Gi(D),z=this.child(x),Q=this.child(x);return ce=null!=g?z.set(g,b).then(function(){return Q}):Promise.resolve(Q),z.then=ce.then.bind(ce),z.catch=ce.then.bind(ce,void 0),"function"==typeof b&&ce.catch(function(){}),z},f.prototype.onDisconnect=function(){return nn("Reference.onDisconnect",this.path),new Fn(this.repo,this.path)},Object.defineProperty(f.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),f}(ts);ts.__referenceConstructor=yi,Ni.__referenceConstructor=yi;var Gu=function(){this.children={},this.childCount=0,this.value=null},Xs=function(){function y(f,g,b){void 0===f&&(f=""),void 0===g&&(g=null),void 0===b&&(b=new Gu),this.name_=f,this.parent_=g,this.node_=b}return y.prototype.subTree=function(f){for(var g=f instanceof ct?f:new ct(f),b=this,D=g.getFront();null!==D;)b=new y(D,b,re.safeGet(b.node_.children,D)||new Gu),D=(g=g.popFront()).getFront();return b},y.prototype.getValue=function(){return this.node_.value},y.prototype.setValue=function(f){re.assert(void 0!==f,"Cannot set value to undefined"),this.node_.value=f,this.updateParents_()},y.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},y.prototype.hasChildren=function(){return this.node_.childCount>0},y.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},y.prototype.forEachChild=function(f){var g=this;Ve(this.node_.children,function(b,D){f(new y(b,g,D))})},y.prototype.forEachDescendant=function(f,g,b){g&&!b&&f(this),this.forEachChild(function(D){D.forEachDescendant(f,!0,b)}),g&&b&&f(this)},y.prototype.forEachAncestor=function(f,g){for(var b=g?this:this.parent();null!==b;){if(f(b))return!0;b=b.parent()}return!1},y.prototype.forEachImmediateDescendantWithValue=function(f){this.forEachChild(function(g){null!==g.getValue()?f(g):g.forEachImmediateDescendantWithValue(f)})},y.prototype.path=function(){return new ct(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},y.prototype.name=function(){return this.name_},y.prototype.parent=function(){return this.parent_},y.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},y.prototype.updateChild_=function(f,g){var b=g.isEmpty(),D=re.contains(this.node_.children,f);b&&D?(delete this.node_.children[f],this.node_.childCount--,this.updateParents_()):!b&&!D&&(this.node_.children[f]=g.node_,this.node_.childCount++,this.updateParents_())},y}(),fi=(()=>(function(y){y[y.RUN=0]="RUN",y[y.SENT=1]="SENT",y[y.COMPLETED=2]="COMPLETED",y[y.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",y[y.NEEDS_ABORT=4]="NEEDS_ABORT"}(fi||(fi={})),fi))();ni.MAX_TRANSACTION_RETRIES_=25,ni.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Xs},ni.prototype.startTransaction=function(y,f,g,b){this.log_("transaction on "+y);var D=function(){},x=new yi(this,y);x.on("value",D);var Q={path:y,update:f,onComplete:g,status:null,order:ft(),applyLocally:b,retryCount:0,unwatcher:function(){x.off("value",D)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ce=this.getLatestState_(y);Q.currentInputSnapshot=ce;var ae=Q.update(ce.val());if(void 0===ae){if(Q.unwatcher(),Q.currentOutputSnapshotRaw=null,Q.currentOutputSnapshotResolved=null,Q.onComplete){var He=new No(Q.currentInputSnapshot,new yi(this,Q.path),de);Q.onComplete(null,!1,He)}}else{pn("transaction failed: Data returned ",ae,Q.path),Q.status=fi.RUN;var nt=this.transactionQueueTree_.subTree(y),_t=nt.getValue()||[];_t.push(Q),nt.setValue(_t);var xt=void 0;"object"==typeof ae&&null!==ae&&re.contains(ae,".priority")?(xt=re.safeGet(ae,".priority"),re.assert(Wt(xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):xt=(this.serverSyncTree_.calcCompleteEventCache(y)||vt.EMPTY_NODE).getPriority().val(),xt=xt;var un=this.generateServerValues(),Wn=Un(ae,xt),Zn=Hn(Wn,ce,un);Q.currentOutputSnapshotRaw=Wn,Q.currentOutputSnapshotResolved=Zn,Q.currentWriteId=this.getNextWriteId_();var vo=this.serverSyncTree_.applyUserOverwrite(y,Zn,Q.currentWriteId,Q.applyLocally);this.eventQueue_.raiseEventsForChangedPath(y,vo),this.sendReadyTransactions_()}},ni.prototype.getLatestState_=function(y,f){return this.serverSyncTree_.calcCompleteEventCache(y,f)||vt.EMPTY_NODE},ni.prototype.sendReadyTransactions_=function(y){var f=this;if(void 0===y&&(y=this.transactionQueueTree_),y||this.pruneCompletedTransactionsBelowNode_(y),null!==y.getValue()){var g=this.buildTransactionQueue_(y);re.assert(g.length>0,"Sending zero length transaction queue"),g.every(function(D){return D.status===fi.RUN})&&this.sendTransactionQueue_(y.path(),g)}else y.hasChildren()&&y.forEachChild(function(D){f.sendReadyTransactions_(D)})},ni.prototype.sendTransactionQueue_=function(y,f){for(var g=this,b=f.map(function(_t){return _t.currentWriteId}),D=this.getLatestState_(y,b),x=D,z=D.hash(),Q=0;Q<f.length;Q++){var ce=f[Q];re.assert(ce.status===fi.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),ce.status=fi.SENT,ce.retryCount++;var ae=ct.relativePath(y,ce.path);x=x.updateChild(ae,ce.currentOutputSnapshotRaw)}var He=x.val(!0),nt=y;this.server_.put(nt.toString(),He,function(_t){g.log_("transaction put response",{path:nt.toString(),status:_t});var xt=[];if("ok"===_t){for(var Zt=[],un=0;un<f.length;un++){if(f[un].status=fi.COMPLETED,xt=xt.concat(g.serverSyncTree_.ackUserWrite(f[un].currentWriteId)),f[un].onComplete){var Wn=f[un].currentOutputSnapshotResolved,Zn=new yi(g,f[un].path),vo=new No(Wn,Zn,de);Zt.push(f[un].onComplete.bind(null,null,!0,vo))}f[un].unwatcher()}for(g.pruneCompletedTransactionsBelowNode_(g.transactionQueueTree_.subTree(y)),g.sendReadyTransactions_(),g.eventQueue_.raiseEventsForChangedPath(y,xt),un=0;un<Zt.length;un++)Rt(Zt[un])}else{if("datastale"===_t)for(un=0;un<f.length;un++)f[un].status=f[un].status===fi.SENT_NEEDS_ABORT?fi.NEEDS_ABORT:fi.RUN;else for(pt("transaction at "+nt.toString()+" failed: "+_t),un=0;un<f.length;un++)f[un].status=fi.NEEDS_ABORT,f[un].abortReason=_t;g.rerunTransactions_(y)}},z)},ni.prototype.rerunTransactions_=function(y){var f=this.getAncestorTransactionNode_(y),g=f.path(),b=this.buildTransactionQueue_(f);return this.rerunTransactionQueue_(b,g),g},ni.prototype.rerunTransactionQueue_=function(y,f){if(0!==y.length){for(var g=[],b=[],x=y.filter(function(mn){return mn.status===fi.RUN}).map(function(mn){return mn.currentWriteId}),z=0;z<y.length;z++){var Q=y[z],ce=ct.relativePath(f,Q.path),ae=!1,He=void 0;if(re.assert(null!==ce,"rerunTransactionsUnderNode_: relativePath should not be null."),Q.status===fi.NEEDS_ABORT)ae=!0,He=Q.abortReason,b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0));else if(Q.status===fi.RUN)if(Q.retryCount>=ni.MAX_TRANSACTION_RETRIES_)ae=!0,He="maxretry",b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0));else{var nt=this.getLatestState_(Q.path,x);Q.currentInputSnapshot=nt;var _t=y[z].update(nt.val());if(void 0!==_t){pn("transaction failed: Data returned ",_t,Q.path);var xt=Un(_t);"object"==typeof _t&&null!=_t&&re.contains(_t,".priority")||(xt=xt.updatePriority(nt.getPriority()));var un=Q.currentWriteId,Wn=this.generateServerValues(),Zn=Hn(xt,nt,Wn);Q.currentOutputSnapshotRaw=xt,Q.currentOutputSnapshotResolved=Zn,Q.currentWriteId=this.getNextWriteId_(),x.splice(x.indexOf(un),1),b=(b=b.concat(this.serverSyncTree_.applyUserOverwrite(Q.path,Zn,Q.currentWriteId,Q.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(un,!0))}else ae=!0,He="nodata",b=b.concat(this.serverSyncTree_.ackUserWrite(Q.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(f,b),b=[],ae&&(y[z].status=fi.COMPLETED,setTimeout(y[z].unwatcher,Math.floor(0)),y[z].onComplete))if("nodata"===He){var vo=new yi(this,y[z].path),yo=new No(y[z].currentInputSnapshot,vo,de);g.push(y[z].onComplete.bind(null,null,!1,yo))}else g.push(y[z].onComplete.bind(null,new Error(He),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),z=0;z<g.length;z++)Rt(g[z]);this.sendReadyTransactions_()}},ni.prototype.getAncestorTransactionNode_=function(y){var f,g=this.transactionQueueTree_;for(f=y.getFront();null!==f&&null===g.getValue();)g=g.subTree(f),f=(y=y.popFront()).getFront();return g},ni.prototype.buildTransactionQueue_=function(y){var f=[];return this.aggregateTransactionQueuesForNode_(y,f),f.sort(function(g,b){return g.order-b.order}),f},ni.prototype.aggregateTransactionQueuesForNode_=function(y,f){var g=this,b=y.getValue();if(null!==b)for(var D=0;D<b.length;D++)f.push(b[D]);y.forEachChild(function(x){g.aggregateTransactionQueuesForNode_(x,f)})},ni.prototype.pruneCompletedTransactionsBelowNode_=function(y){var f=this,g=y.getValue();if(g){for(var b=0,D=0;D<g.length;D++)g[D].status!==fi.COMPLETED&&(g[b]=g[D],b++);g.length=b,y.setValue(g.length>0?g:null)}y.forEachChild(function(x){f.pruneCompletedTransactionsBelowNode_(x)})},ni.prototype.abortTransactions_=function(y){var f=this,g=this.getAncestorTransactionNode_(y).path(),b=this.transactionQueueTree_.subTree(y);return b.forEachAncestor(function(D){f.abortTransactionsOnNode_(D)}),this.abortTransactionsOnNode_(b),b.forEachDescendant(function(D){f.abortTransactionsOnNode_(D)}),g},ni.prototype.abortTransactionsOnNode_=function(y){var f=y.getValue();if(null!==f){for(var g=[],b=[],D=-1,x=0;x<f.length;x++)f[x].status!==fi.SENT_NEEDS_ABORT&&(f[x].status===fi.SENT?(re.assert(D===x-1,"All SENT items should be at beginning of queue."),D=x,f[x].status=fi.SENT_NEEDS_ABORT,f[x].abortReason="set"):(re.assert(f[x].status===fi.RUN,"Unexpected transaction status in abort"),f[x].unwatcher(),b=b.concat(this.serverSyncTree_.ackUserWrite(f[x].currentWriteId,!0)),f[x].onComplete&&g.push(f[x].onComplete.bind(null,new Error("set"),!1,null))));for(-1===D?y.setValue(null):f.length=D+1,this.eventQueue_.raiseEventsForChangedPath(y.path(),b),x=0;x<g.length;x++)Rt(g[x])}};var oe,w=function(){function y(f,g){var b=this;this.app_=f,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.get().then(function(D){return b.auth_=D})}return y.prototype.getToken=function(f){return this.auth_?this.auth_.getToken(f).catch(function(g){return g&&"auth/token-not-initialized"===g.code?(Bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)}):Promise.resolve(null)},y.prototype.addTokenChangeListener=function(f){this.auth_?this.auth_.addAuthTokenListener(f):(setTimeout(function(){return f(null)},0),this.authProvider_.get().then(function(g){return g.addAuthTokenListener(f)}))},y.prototype.removeTokenChangeListener=function(f){this.authProvider_.get().then(function(g){return g.removeAuthTokenListener(f)})},y.prototype.notifyForInvalidToken=function(){var f='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';pt(f+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},y}(),P=function(){function y(){}return y.prototype.getToken=function(f){return Promise.resolve({accessToken:y.EMULATOR_AUTH_TOKEN})},y.prototype.addTokenChangeListener=function(f){f(y.EMULATOR_AUTH_TOKEN)},y.prototype.removeTokenChangeListener=function(f){},y.prototype.notifyForInvalidToken=function(){},y.EMULATOR_AUTH_TOKEN="owner",y}(),Re=function(){function y(){this.repos_={},this.useRestClient_=!1}return y.getInstance=function(){return oe||(oe=new y),oe},y.prototype.interrupt=function(){var f,g,b,D;try{for(var x=Z.__values(Object.keys(this.repos_)),z=x.next();!z.done;z=x.next()){var Q=z.value;try{for(var ce=(b=void 0,Z.__values(Object.keys(this.repos_[Q]))),ae=ce.next();!ae.done;ae=ce.next())this.repos_[Q][ae.value].interrupt()}catch(nt){b={error:nt}}finally{try{ae&&!ae.done&&(D=ce.return)&&D.call(ce)}finally{if(b)throw b.error}}}}catch(nt){f={error:nt}}finally{try{z&&!z.done&&(g=x.return)&&g.call(x)}finally{if(f)throw f.error}}},y.prototype.resume=function(){var f,g,b,D;try{for(var x=Z.__values(Object.keys(this.repos_)),z=x.next();!z.done;z=x.next()){var Q=z.value;try{for(var ce=(b=void 0,Z.__values(Object.keys(this.repos_[Q]))),ae=ce.next();!ae.done;ae=ce.next())this.repos_[Q][ae.value].resume()}catch(nt){b={error:nt}}finally{try{ae&&!ae.done&&(D=ce.return)&&D.call(ce)}finally{if(b)throw b.error}}}}catch(nt){f={error:nt}}finally{try{z&&!z.done&&(g=x.return)&&g.call(x)}finally{if(f)throw f.error}}},y.prototype.databaseFromApp=function(f,g,b,D){var x=b||f.options.databaseURL;void 0===x&&(f.options.projectId||Qe("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bt("Using default host for project ",f.options.projectId),x=f.options.projectId+"-default-rtdb.firebaseio.com");var ce,z=Qn(x,D),Q=z.repoInfo,ae=void 0;"undefined"!=typeof process&&(ae=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ae?(ce=!0,Q=(z=Qn(x="http://"+ae+"?ns="+Q.namespace,D)).repoInfo):ce=!z.repoInfo.secure;var He=D&&ce?new P:new w(f,g);return Sr("Invalid Firebase Database URL",1,z),z.path.isEmpty()||Qe("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(Q,f,He).database},y.prototype.deleteRepo=function(f){var g=re.safeGet(this.repos_,f.app.name);(!g||re.safeGet(g,f.repoInfo_.toURLString())!==f)&&Qe("Database "+f.app.name+"("+f.repoInfo_+") has already been deleted."),f.interrupt(),delete g[f.repoInfo_.toURLString()]},y.prototype.createRepo=function(f,g,b){var D=re.safeGet(this.repos_,g.name);D||(this.repos_[g.name]=D={});var x=re.safeGet(D,f.toURLString());return x&&Qe("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),x=new ni(f,this.useRestClient_,g,b),D[f.toURLString()]=x,x},y.prototype.forceRestClient=function(f){this.useRestClient_=f},y}(),Xe=function(){function y(f){this.repo_=f,f instanceof ni||Qe("Don't call new Database() directly - please use firebase.database()."),this.root_=new yi(f,ct.Empty),this.INTERNAL=new cn(this)}return Object.defineProperty(y.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),y.prototype.ref=function(f){return this.checkDeleted_("ref"),re.validateArgCount("database.ref",0,1,arguments.length),f instanceof yi?this.refFromURL(f.toString()):void 0!==f?this.root_.child(f):this.root_},y.prototype.refFromURL=function(f){var g="database.refFromURL";this.checkDeleted_(g),re.validateArgCount(g,1,1,arguments.length);var b=Qn(f,this.repo_.repoInfo_.nodeAdmin);Sr(g,1,b);var D=b.repoInfo;return D.host!==this.repo_.repoInfo_.host&&Qe(g+": Host name does not match the current database: (found "+D.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(b.path.toString())},y.prototype.checkDeleted_=function(f){null===this.repo_&&Qe("Cannot call "+f+" on a deleted database.")},y.prototype.goOffline=function(){re.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},y.prototype.goOnline=function(){re.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},y.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(f){return{".sv":{increment:f}}}},y}(),cn=function(){function y(f){this.database=f}return y.prototype.delete=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(f){return this.database.checkDeleted_("delete"),Re.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},y}(),Fr=Object.freeze({__proto__:null,forceLongPolling:function(){zi.forceDisallow(),Li.forceAllow()},forceWebSockets:function(){Li.forceDisallow()},isWebSocketsAvailable:function(){return zi.isAvailable()},setSecurityDebugCallback:function(y,f){y.repo.persistentConnection_.securityDebugCallback_=f},stats:function(y,f){y.repo.stats(f)},statsIncrementCounter:function(y,f){y.repo.statsIncrementCounter(f)},dataUpdateCount:function(y){return y.repo.dataUpdateCount},interceptServerData:function(y,f){return y.repo.interceptServerData_(f)}}),Iu=Kr;Kr.prototype.simpleListen=function(y,f){this.sendRequest("q",{p:y},f)},Kr.prototype.echo=function(y,f){this.sendRequest("echo",{d:y},f)};var Gn=Object.freeze({__proto__:null,DataConnection:Iu,RealTimeConnection:ou,hijackHash:function(y){var f=Kr.prototype.put;return Kr.prototype.put=function(g,b,D,x){void 0!==x&&(x=y()),f.call(this,g,b,D,x)},function(){Kr.prototype.put=f}},ConnectionTarget:jn,queryIdentifier:function(y){return y.queryIdentifier()},forceRestClient:function(y){Re.getInstance().forceRestClient(y)}}),Wu=Xe.ServerValue;function ya(y){!function(y){Co=y}(y.SDK_VERSION);var f=y.INTERNAL.registerComponent(new rt.Component("database",function(g,b){var D=g.getProvider("app").getImmediate(),x=g.getProvider("auth-internal");return Re.getInstance().databaseFromApp(D,x,b)},"PUBLIC").setServiceProps({Reference:yi,Query:ts,Database:Xe,DataSnapshot:No,enableLogging:Je,INTERNAL:Fr,ServerValue:Wu,TEST_ACCESS:Gn}).setMultipleInstances(!0));y.registerVersion("@firebase/database","0.6.13"),re.isNodeSdk()&&(li.exports=f)}ya(Lt.default),bt.DataSnapshot=No,bt.Database=Xe,bt.OnDisconnect=Fn,bt.Query=ts,bt.Reference=yi,bt.ServerValue=Wu,bt.enableLogging=Je,bt.registerDatabase=ya},910:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var c,te=Ct(812),Z=Ct(279),re=Ct(300),Nt=Ct(704),rt=Ct(870),Tn=Ct(100),Cn=(c=Z)&&"object"==typeof c&&"default"in c?c:{default:c},be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(c){function a(u,d){var m=this;return(m=c.call(this,d)||this).code=u,m.message=d,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return te.__extends(a,c),a}(Error),et=new re.Logger("@firebase/firestore");function it(){return et.logLevel}function Ne(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(et.logLevel<=re.LogLevel.DEBUG){var d=a.map(Pt);et.debug.apply(et,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function ft(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(et.logLevel<=re.LogLevel.ERROR){var d=a.map(Pt);et.error.apply(et,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function bn(c){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(et.logLevel<=re.LogLevel.WARN){var d=a.map(Pt);et.warn.apply(et,te.__spreadArrays(["Firestore (7.24.0): "+c],d))}}function Pt(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(u){return c}}function Le(c){void 0===c&&(c="Unexpected state");var a="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+c;throw ft(a),new Error(a)}function dt(c,a){c||Le()}function Je(c,a){return c}function Bt(c){var a=0;for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&a++;return a}function Ft(c,a){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&a(u,c[u])}function ot(c){for(var a in c)if(Object.prototype.hasOwnProperty.call(c,a))return!1;return!0}var Qe=function(){function c(a,u,d){void 0===u?u=0:u>a.length&&Le(),void 0===d?d=a.length-u:d>a.length-u&&Le(),this.segments=a,this.offset=u,this.t=d}return Object.defineProperty(c.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return 0===c.i(this,a)},c.prototype.child=function(a){var u=this.segments.slice(this.offset,this.limit());return a instanceof c?a.forEach(function(d){u.push(d)}):u.push(a),this.o(u)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.u=function(a){return this.o(this.segments,this.offset+(a=void 0===a?1:a),this.length-a)},c.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},c.prototype.l=function(){return this.segments[this.offset]},c.prototype._=function(){return this.get(this.length-1)},c.prototype.get=function(a){return this.segments[this.offset+a]},c.prototype.m=function(){return 0===this.length},c.prototype.T=function(a){if(a.length<this.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==a.get(u))return!1;return!0},c.prototype.I=function(a){if(this.length+1!==a.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==a.get(u))return!1;return!0},c.prototype.forEach=function(a){for(var u=this.offset,d=this.limit();u<d;u++)a(this.segments[u])},c.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},c.i=function(a,u){for(var d=Math.min(a.length,u.length),m=0;m<d;m++){var E=a.get(m),T=u.get(m);if(E<T)return-1;if(E>T)return 1}return a.length<u.length?-1:a.length>u.length?1:0},c}(),pt=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.o=function(u,d,m){return new a(u,d,m)},a.prototype.R=function(){return this.A().join("/")},a.prototype.toString=function(){return this.R()},a.g=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];for(var m=[],E=0,T=u;E<T.length;E++){var k=T[E];if(k.indexOf("//")>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid segment ("+k+"). Paths must not contain // in them.");m.push.apply(m,k.split("/").filter(function(j){return j.length>0}))}return new a(m)},a.P=function(){return new a([])},a}(Qe),A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.o=function(u,d,m){return new a(u,d,m)},a.V=function(u){return A.test(u)},a.prototype.R=function(){return this.A().map(function(u){return u=u.replace("\\","\\\\").replace("`","\\`"),a.V(u)||(u="`"+u+"`"),u}).join(".")},a.prototype.toString=function(){return this.R()},a.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},a.v=function(){return new a(["__name__"])},a.S=function(u){for(var d=[],m="",E=0,T=function(){if(0===m.length)throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+u+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(m),m=""},k=!1;E<u.length;){var j=u[E];if("\\"===j){if(E+1===u.length)throw new Y(be.INVALID_ARGUMENT,"Path has trailing escape character: "+u);var ne=u[E+1];if("\\"!==ne&&"."!==ne&&"`"!==ne)throw new Y(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+u);m+=ne,E+=2}else"`"===j?(k=!k,E++):"."!==j||k?(m+=j,E++):(T(),E++)}if(T(),k)throw new Y(be.INVALID_ARGUMENT,"Unterminated ` in path: "+u);return new a(d)},a.P=function(){return new a([])},a}(Qe),I=function(){function c(a){this.path=a}return c.D=function(a){return new c(pt.g(a))},c.C=function(a){return new c(pt.g(a).u(5))},c.prototype.N=function(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a},c.prototype.isEqual=function(a){return null!==a&&0===pt.i(this.path,a.path)},c.prototype.toString=function(){return this.path.toString()},c.i=function(a,u){return pt.i(a.path,u.path)},c.F=function(a){return a.length%2==0},c.$=function(a){return new c(new pt(a.slice()))},c}();function F(c,a){if(0!==a.length)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() does not support arguments, but was called with "+Bn(a.length,"argument")+".")}function H(c,a,u){if(a.length!==u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires "+Bn(u,"argument")+", but was called with "+Bn(a.length,"argument")+".")}function R(c,a,u){if(a.length<u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires at least "+Bn(u,"argument")+", but was called with "+Bn(a.length,"argument")+".")}function K(c,a,u,d){if(a.length<u||a.length>d)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires between "+u+" and "+d+" arguments, but was called with "+Bn(a.length,"argument")+".")}function le(c,a,u,d){Pe(c,a,ct(u)+" argument",d)}function Tt(c,a,u,d){void 0!==d&&le(c,a,u,d)}function se(c,a,u,d){Pe(c,a,u+" option",d)}function Ve(c,a,u,d){void 0!==d&&se(c,a,u,d)}function It(c,a,u,d,m){void 0!==d&&function(E,T,k,j,ne){for(var fe=[],Te=0,De=ne;Te<De.length;Te++){var We=De[Te];if(We===j)return;fe.push(wt(We))}var st=wt(j);throw new Y(be.INVALID_ARGUMENT,"Invalid value "+st+" provided to function "+E+'() for option "'+k+'". Acceptable values: '+fe.join(", "))}(c,0,u,d,m)}function xe(c,a,u,d){if(!a.some(function(m){return m===d}))throw new Y(be.INVALID_ARGUMENT,"Invalid value "+wt(d)+" provided to function "+c+"() for its "+ct(u)+" argument. Acceptable values: "+a.join(", "));return d}function Pe(c,a,u,d){if(!("object"===a?Ge(d):"non-empty string"===a?"string"==typeof d&&""!==d:typeof d===a)){var m=wt(d);throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+u+" to be of type "+a+", but it was: "+m)}}function Ge(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function wt(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var a=function(u){if(u.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(u.constructor.toString());if(d&&d.length>1)return d[1]}return null}(c);return a?"a custom "+a+" object":"an object"}return"function"==typeof c?"a function":Le()}function en(c,a,u){if(void 0===u)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires a valid "+ct(a)+" argument, but it was undefined.")}function Rt(c,a,u){Ft(a,function(d,m){if(u.indexOf(d)<0)throw new Y(be.INVALID_ARGUMENT,"Unknown option '"+d+"' passed to function "+c+"(). Available options: "+u.join(", "))})}function tn(c,a,u,d){var m=wt(d);return new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+ct(u)+" argument to be a "+a+", but it was: "+m)}function fn(c,a,u){if(u<=0)throw new Y(be.INVALID_ARGUMENT,"Function "+c+"() requires its "+ct(a)+" argument to be a positive number, but it was: "+u+".")}function ct(c){switch(c){case 1:return"first";case 2:return"second";case 3:return"third";default:return c+"th"}}function Bn(c,a){return c+" "+a+(1===c?"":"s")}function Ur(c){var a="undefined"!=typeof self&&(self.crypto||self.msCrypto),u=new Uint8Array(c);if(a&&"function"==typeof a.getRandomValues)a.getRandomValues(u);else for(var d=0;d<c;d++)u[d]=Math.floor(256*Math.random());return u}var dn=function(){function c(){}return c.k=function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=Math.floor(256/a.length)*a.length,d="";d.length<20;)for(var m=Ur(40),E=0;E<m.length;++E)d.length<20&&m[E]<u&&(d+=a.charAt(m[E]%a.length));return d},c}();function Ht(c,a){return c<a?-1:c>a?1:0}function wn(c,a,u){return c.length===a.length&&c.every(function(d,m){return u(d,a[m])})}function rn(c){return c+"\0"}var Kt=function(){function c(a){this.M=a}return c.fromBase64String=function(a){return new c(atob(a))},c.fromUint8Array=function(a){return new c(function(u){for(var d="",m=0;m<u.length;++m)d+=String.fromCharCode(u[m]);return d}(a))},c.prototype.toBase64=function(){return btoa(this.M)},c.prototype.toUint8Array=function(){return function(a){for(var u=new Uint8Array(a.length),d=0;d<a.length;d++)u[d]=a.charCodeAt(d);return u}(this.M)},c.prototype.O=function(){return 2*this.M.length},c.prototype.L=function(a){return Ht(this.M,a.M)},c.prototype.isEqual=function(a){return this.M===a.M},c}();Kt.B=new Kt("");var kn=function(){function c(a){this.q=a}return c.fromBase64String=function(a){try{return new c(Kt.fromBase64String(a))}catch(u){throw new Y(be.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+u)}},c.fromUint8Array=function(a){return new c(Kt.fromUint8Array(a))},c.prototype.toBase64=function(){return this.q.toBase64()},c.prototype.toUint8Array=function(){return this.q.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(a){return this.q.isEqual(a.q)},c}();function tr(){if("undefined"==typeof Uint8Array)throw new Y(be.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function kr(){if("undefined"==typeof atob)throw new Y(be.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ir=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.fromBase64String=function(u){H("Blob.fromBase64String",arguments,1),le("Blob.fromBase64String","string",1,u),kr();try{return new a(Kt.fromBase64String(u))}catch(d){throw new Y(be.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+d)}},a.fromUint8Array=function(u){if(H("Blob.fromUint8Array",arguments,1),tr(),!(u instanceof Uint8Array))throw tn("Blob.fromUint8Array","Uint8Array",1,u);return new a(Kt.fromUint8Array(u))},a.prototype.toBase64=function(){return H("Blob.toBase64",arguments,0),kr(),c.prototype.toBase64.call(this)},a.prototype.toUint8Array=function(){return H("Blob.toUint8Array",arguments,0),tr(),c.prototype.toUint8Array.call(this)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(kn),jn=function(c,a,u,d,m,E){this.U=c,this.persistenceKey=a,this.host=u,this.ssl=d,this.forceLongPolling=m,this.W=E},ii=function(){function c(a,u){this.projectId=a,this.database=u||"(default)"}return Object.defineProperty(c.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return a instanceof c&&a.projectId===this.projectId&&a.database===this.database},c.prototype.L=function(a){return Ht(this.projectId,a.projectId)||Ht(this.database,a.database)},c}(),Ar=function(){function c(a,u){this.K=a,this.G=u,this.H={}}return c.prototype.get=function(a){var u=this.K(a),d=this.H[u];if(void 0!==d)for(var m=0,E=d;m<E.length;m++){var T=E[m],j=T[1];if(this.G(T[0],a))return j}},c.prototype.has=function(a){return void 0!==this.get(a)},c.prototype.set=function(a,u){var d=this.K(a),m=this.H[d];if(void 0!==m){for(var E=0;E<m.length;E++)if(this.G(m[E][0],a))return void(m[E]=[a,u]);m.push([a,u])}else this.H[d]=[[a,u]]},c.prototype.delete=function(a){var u=this.K(a),d=this.H[u];if(void 0===d)return!1;for(var m=0;m<d.length;m++)if(this.G(d[m][0],a))return 1===d.length?delete this.H[u]:d.splice(m,1),!0;return!1},c.prototype.forEach=function(a){Ft(this.H,function(u,d){for(var m=0,E=d;m<E.length;m++){var T=E[m];a(T[0],T[1])}})},c.prototype.m=function(){return ot(this.H)},c}(),Qn=function(){function c(a,u){if(this.seconds=a,this.nanoseconds=u,u<0)throw new Y(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(u>=1e9)throw new Y(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(a<-62135596800)throw new Y(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a);if(a>=253402300800)throw new Y(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+a)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(a){return c.fromMillis(a.getTime())},c.fromMillis=function(a){var u=Math.floor(a/1e3);return new c(u,1e6*(a-1e3*u))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype.Y=function(a){return this.seconds===a.seconds?Ht(this.nanoseconds,a.nanoseconds):Ht(this.seconds,a.seconds)},c.prototype.isEqual=function(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),On=function(){function c(a){this.timestamp=a}return c.J=function(a){return new c(a)},c.min=function(){return new c(new Qn(0,0))},c.prototype.L=function(a){return this.timestamp.Y(a.timestamp)},c.prototype.isEqual=function(a){return this.timestamp.isEqual(a.timestamp)},c.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.Z=function(){return this.timestamp},c}();function ci(c){return null==c}function je(c){return 0===c&&1/c==-1/0}function ge(c){return"number"==typeof c&&Number.isInteger(c)&&!je(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var qe=function(c,a,u,d,m,E,T){void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===E&&(E=null),void 0===T&&(T=null),this.path=c,this.collectionGroup=a,this.orderBy=u,this.filters=d,this.limit=m,this.startAt=E,this.endAt=T,this.tt=null};function Ye(c,a,u,d,m,E,T){return void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===E&&(E=null),void 0===T&&(T=null),new qe(c,a,u,d,m,E,T)}function Ue(c){var a=Je(c);if(null===a.tt){var u=a.path.R();null!==a.collectionGroup&&(u+="|cg:"+a.collectionGroup),u+="|f:",u+=a.filters.map(function(d){return(m=d).field.R()+m.op.toString()+at(m.value);var m}).join(","),u+="|ob:",u+=a.orderBy.map(function(d){return(m=d).field.R()+m.dir;var m}).join(","),ci(a.limit)||(u+="|l:",u+=a.limit),a.startAt&&(u+="|lb:",u+=Ks(a.startAt)),a.endAt&&(u+="|ub:",u+=Ks(a.endAt)),a.tt=u}return a.tt}function Wt(c,a){if(c.limit!==a.limit||c.orderBy.length!==a.orderBy.length)return!1;for(var u=0;u<c.orderBy.length;u++)if(!La(c.orderBy[u],a.orderBy[u]))return!1;if(c.filters.length!==a.filters.length)return!1;for(var d=0;d<c.filters.length;d++)if((m=c.filters[d]).op!==(E=a.filters[d]).op||!m.field.isEqual(E.field)||!we(m.value,E.value))return!1;var m,E;return c.collectionGroup===a.collectionGroup&&!!c.path.isEqual(a.path)&&!!mo(c.startAt,a.startAt)&&mo(c.endAt,a.endAt)}function zt(c){return I.F(c.path)&&null===c.collectionGroup&&0===c.filters.length}var pn,on,Dn=function(){function c(a,u,d,m,E,T,k){void 0===E&&(E=On.min()),void 0===T&&(T=On.min()),void 0===k&&(k=Kt.B),this.target=a,this.targetId=u,this.et=d,this.sequenceNumber=m,this.nt=E,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=k}return c.prototype.st=function(a){return new c(this.target,this.targetId,this.et,a,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.it=function(a,u){return new c(this.target,this.targetId,this.et,this.sequenceNumber,u,this.lastLimboFreeSnapshotVersion,a)},c.prototype.rt=function(a){return new c(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,a,this.resumeToken)},c}(),wr=function(c){this.count=c};function Xn(c){switch(c){case be.OK:return Le();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Le()}}function Cr(c){if(void 0===c)return ft("GRPC error has no .code"),be.UNKNOWN;switch(c){case pn.OK:return be.OK;case pn.CANCELLED:return be.CANCELLED;case pn.UNKNOWN:return be.UNKNOWN;case pn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case pn.INTERNAL:return be.INTERNAL;case pn.UNAVAILABLE:return be.UNAVAILABLE;case pn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case pn.NOT_FOUND:return be.NOT_FOUND;case pn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case pn.ABORTED:return be.ABORTED;case pn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case pn.DATA_LOSS:return be.DATA_LOSS;default:return Le()}}(on=pn||(pn={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";var sn=function(){function c(a,u){this.i=a,this.root=u||nn.EMPTY}return c.prototype.ot=function(a,u){return new c(this.i,this.root.ot(a,u,this.i).copy(null,null,nn.at,null,null))},c.prototype.remove=function(a){return new c(this.i,this.root.remove(a,this.i).copy(null,null,nn.at,null,null))},c.prototype.get=function(a){for(var u=this.root;!u.m();){var d=this.i(a,u.key);if(0===d)return u.value;d<0?u=u.left:d>0&&(u=u.right)}return null},c.prototype.indexOf=function(a){for(var u=0,d=this.root;!d.m();){var m=this.i(a,d.key);if(0===m)return u+d.left.size;m<0?d=d.left:(u+=d.left.size+1,d=d.right)}return-1},c.prototype.m=function(){return this.root.m()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.ct=function(){return this.root.ct()},c.prototype.ut=function(){return this.root.ut()},c.prototype.ht=function(a){return this.root.ht(a)},c.prototype.forEach=function(a){this.ht(function(u,d){return a(u,d),!1})},c.prototype.toString=function(){var a=[];return this.ht(function(u,d){return a.push(u+":"+d),!1}),"{"+a.join(", ")+"}"},c.prototype.lt=function(a){return this.root.lt(a)},c.prototype._t=function(){return new hi(this.root,null,this.i,!1)},c.prototype.ft=function(a){return new hi(this.root,a,this.i,!1)},c.prototype.dt=function(){return new hi(this.root,null,this.i,!0)},c.prototype.wt=function(a){return new hi(this.root,a,this.i,!0)},c}(),hi=function(){function c(a,u,d,m){this.Tt=m,this.Et=[];for(var E=1;!a.m();)if(E=u?d(a.key,u):1,m&&(E*=-1),E<0)a=this.Tt?a.left:a.right;else{if(0===E){this.Et.push(a);break}this.Et.push(a),a=this.Tt?a.right:a.left}}return c.prototype.It=function(){var a=this.Et.pop(),u={key:a.key,value:a.value};if(this.Tt)for(a=a.left;!a.m();)this.Et.push(a),a=a.right;else for(a=a.right;!a.m();)this.Et.push(a),a=a.left;return u},c.prototype.At=function(){return this.Et.length>0},c.prototype.Rt=function(){if(0===this.Et.length)return null;var a=this.Et[this.Et.length-1];return{key:a.key,value:a.value}},c}(),nn=function(){function c(a,u,d,m,E){this.key=a,this.value=u,this.color=null!=d?d:c.RED,this.left=null!=m?m:c.EMPTY,this.right=null!=E?E:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(a,u,d,m,E){return new c(null!=a?a:this.key,null!=u?u:this.value,null!=d?d:this.color,null!=m?m:this.left,null!=E?E:this.right)},c.prototype.m=function(){return!1},c.prototype.ht=function(a){return this.left.ht(a)||a(this.key,this.value)||this.right.ht(a)},c.prototype.lt=function(a){return this.right.lt(a)||a(this.key,this.value)||this.left.lt(a)},c.prototype.min=function(){return this.left.m()?this:this.left.min()},c.prototype.ct=function(){return this.min().key},c.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},c.prototype.ot=function(a,u,d){var m=this,E=d(a,m.key);return(m=E<0?m.copy(null,null,null,m.left.ot(a,u,d),null):0===E?m.copy(null,u,null,null,null):m.copy(null,null,null,null,m.right.ot(a,u,d))).gt()},c.prototype.Pt=function(){if(this.left.m())return c.EMPTY;var a=this;return a.left.yt()||a.left.left.yt()||(a=a.Vt()),(a=a.copy(null,null,null,a.left.Pt(),null)).gt()},c.prototype.remove=function(a,u){var d,m=this;if(u(a,m.key)<0)m.left.m()||m.left.yt()||m.left.left.yt()||(m=m.Vt()),m=m.copy(null,null,null,m.left.remove(a,u),null);else{if(m.left.yt()&&(m=m.bt()),m.right.m()||m.right.yt()||m.right.left.yt()||(m=m.vt()),0===u(a,m.key)){if(m.right.m())return c.EMPTY;d=m.right.min(),m=m.copy(d.key,d.value,null,null,m.right.Pt())}m=m.copy(null,null,null,null,m.right.remove(a,u))}return m.gt()},c.prototype.yt=function(){return this.color},c.prototype.gt=function(){var a=this;return a.right.yt()&&!a.left.yt()&&(a=a.St()),a.left.yt()&&a.left.left.yt()&&(a=a.bt()),a.left.yt()&&a.right.yt()&&(a=a.Dt()),a},c.prototype.Vt=function(){var a=this.Dt();return a.right.left.yt()&&(a=(a=(a=a.copy(null,null,null,null,a.right.bt())).St()).Dt()),a},c.prototype.vt=function(){var a=this.Dt();return a.left.left.yt()&&(a=(a=a.bt()).Dt()),a},c.prototype.St=function(){var a=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)},c.prototype.bt=function(){var a=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)},c.prototype.Dt=function(){var a=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,u)},c.prototype.Ct=function(){var a=this.Nt();return Math.pow(2,a)<=this.size+1},c.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Le();var a=this.left.Nt();if(a!==this.right.Nt())throw Le();return a+(this.yt()?0:1)},c}();nn.EMPTY=null,nn.RED=!0,nn.at=!1,nn.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),c.prototype.copy=function(a,u,d,m,E){return this},c.prototype.ot=function(a,u,d){return new nn(a,u)},c.prototype.remove=function(a,u){return this},c.prototype.m=function(){return!0},c.prototype.ht=function(a){return!1},c.prototype.lt=function(a){return!1},c.prototype.ct=function(){return null},c.prototype.ut=function(){return null},c.prototype.yt=function(){return!1},c.prototype.Ct=function(){return!0},c.prototype.Nt=function(){return 0},c}());var Sr=function(){function c(a){this.i=a,this.data=new sn(this.i)}return c.prototype.has=function(a){return null!==this.data.get(a)},c.prototype.first=function(){return this.data.ct()},c.prototype.last=function(){return this.data.ut()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(a){return this.data.indexOf(a)},c.prototype.forEach=function(a){this.data.ht(function(u,d){return a(u),!1})},c.prototype.Ft=function(a,u){for(var d=this.data.ft(a[0]);d.At();){var m=d.It();if(this.i(m.key,a[1])>=0)return;u(m.key)}},c.prototype.xt=function(a,u){var d;for(d=void 0!==u?this.data.ft(u):this.data._t();d.At();)if(!a(d.It().key))return},c.prototype.$t=function(a){var u=this.data.ft(a);return u.At()?u.It().key:null},c.prototype._t=function(){return new co(this.data._t())},c.prototype.ft=function(a){return new co(this.data.ft(a))},c.prototype.add=function(a){return this.copy(this.data.remove(a).ot(a,!0))},c.prototype.delete=function(a){return this.has(a)?this.copy(this.data.remove(a)):this},c.prototype.m=function(){return this.data.m()},c.prototype.kt=function(a){var u=this;return u.size<a.size&&(u=a,a=this),a.forEach(function(d){u=u.add(d)}),u},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var u=this.data._t(),d=a.data._t();u.At();){var m=u.It().key,E=d.It().key;if(0!==this.i(m,E))return!1}return!0},c.prototype.A=function(){var a=[];return this.forEach(function(u){a.push(u)}),a},c.prototype.toString=function(){var a=[];return this.forEach(function(u){return a.push(u)}),"SortedSet("+a.toString()+")"},c.prototype.copy=function(a){var u=new c(this.i);return u.data=a,u},c}(),co=function(){function c(a){this.Mt=a}return c.prototype.It=function(){return this.Mt.It().key},c.prototype.At=function(){return this.Mt.At()},c}(),Fn=new sn(I.i);function an(){return Fn}function Gi(){return an()}var _e=new sn(I.i);function Be(){return _e}var Ke=new sn(I.i),mt=new Sr(I.i);function Fe(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var u=mt,d=0,m=c;d<m.length;d++){var E=m[d];u=u.add(E)}return u}var tt=new Sr(Ht);function Ot(){return tt}var Qt=function(){function c(a){this.i=a?function(u,d){return a(u,d)||I.i(u.key,d.key)}:function(u,d){return I.i(u.key,d.key)},this.Ot=Be(),this.Lt=new sn(this.i)}return c.Bt=function(a){return new c(a.i)},c.prototype.has=function(a){return null!=this.Ot.get(a)},c.prototype.get=function(a){return this.Ot.get(a)},c.prototype.first=function(){return this.Lt.ct()},c.prototype.last=function(){return this.Lt.ut()},c.prototype.m=function(){return this.Lt.m()},c.prototype.indexOf=function(a){var u=this.Ot.get(a);return u?this.Lt.indexOf(u):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a){this.Lt.ht(function(u,d){return a(u),!1})},c.prototype.add=function(a){var u=this.delete(a.key);return u.copy(u.Ot.ot(a.key,a),u.Lt.ot(a,null))},c.prototype.delete=function(a){var u=this.get(a);return u?this.copy(this.Ot.remove(a),this.Lt.remove(u)):this},c.prototype.isEqual=function(a){if(!(a instanceof c)||this.size!==a.size)return!1;for(var u=this.Lt._t(),d=a.Lt._t();u.At();){var m=u.It().key,E=d.It().key;if(!m.isEqual(E))return!1}return!0},c.prototype.toString=function(){var a=[];return this.forEach(function(u){a.push(u.toString())}),0===a.length?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"},c.prototype.copy=function(a,u){var d=new c;return d.i=this.i,d.Ot=a,d.Lt=u,d},c}(),vn=function(){function c(){this.qt=new sn(I.i)}return c.prototype.track=function(a){var u=a.doc.key,d=this.qt.get(u);d?0!==a.type&&3===d.type?this.qt=this.qt.ot(u,a):3===a.type&&1!==d.type?this.qt=this.qt.ot(u,{type:d.type,doc:a.doc}):2===a.type&&2===d.type?this.qt=this.qt.ot(u,{type:2,doc:a.doc}):2===a.type&&0===d.type?this.qt=this.qt.ot(u,{type:0,doc:a.doc}):1===a.type&&0===d.type?this.qt=this.qt.remove(u):1===a.type&&2===d.type?this.qt=this.qt.ot(u,{type:1,doc:d.doc}):0===a.type&&1===d.type?this.qt=this.qt.ot(u,{type:2,doc:a.doc}):Le():this.qt=this.qt.ot(u,a)},c.prototype.Ut=function(){var a=[];return this.qt.ht(function(u,d){a.push(d)}),a},c}(),At=function(){function c(a,u,d,m,E,T,k,j){this.query=a,this.docs=u,this.Qt=d,this.docChanges=m,this.Wt=E,this.fromCache=T,this.jt=k,this.Kt=j}return c.Gt=function(a,u,d,m){var E=[];return u.forEach(function(T){E.push({type:0,doc:T})}),new c(a,u,Qt.Bt(u),E,d,m,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){if(!(this.fromCache===a.fromCache&&this.jt===a.jt&&this.Wt.isEqual(a.Wt)&&Io(this.query,a.query)&&this.docs.isEqual(a.docs)&&this.Qt.isEqual(a.Qt)))return!1;var u=this.docChanges,d=a.docChanges;if(u.length!==d.length)return!1;for(var m=0;m<u.length;m++)if(u[m].type!==d[m].type||!u[m].doc.isEqual(d[m].doc))return!1;return!0},c}(),Jt=function(){function c(a,u,d,m,E){this.nt=a,this.zt=u,this.Ht=d,this.Yt=m,this.Jt=E}return c.Xt=function(a,u){var d=new Map;return d.set(a,Mr.Zt(a,u)),new c(On.min(),d,Ot(),an(),Fe())},c}(),Mr=function(){function c(a,u,d,m,E){this.resumeToken=a,this.te=u,this.ee=d,this.ne=m,this.se=E}return c.Zt=function(a,u){return new c(Kt.B,u,Fe(),Fe(),Fe())},c}(),or=function(c,a,u,d){this.ie=c,this.removedTargetIds=a,this.key=u,this.re=d},mr=function(c,a){this.targetId=c,this.oe=a},Wr=function(c,a,u,d){void 0===u&&(u=Kt.B),void 0===d&&(d=null),this.state=c,this.targetIds=a,this.resumeToken=u,this.cause=d},ve=function(){function c(){this.ae=0,this.ce=ke(),this.ue=Kt.B,this.he=!1,this.le=!0}return Object.defineProperty(c.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),c.prototype.de=function(a){a.O()>0&&(this.le=!0,this.ue=a)},c.prototype.we=function(){var a=Fe(),u=Fe(),d=Fe();return this.ce.forEach(function(m,E){switch(E){case 0:a=a.add(m);break;case 2:u=u.add(m);break;case 1:d=d.add(m);break;default:Le()}}),new Mr(this.ue,this.he,a,u,d)},c.prototype.me=function(){this.le=!1,this.ce=ke()},c.prototype.Te=function(a,u){this.le=!0,this.ce=this.ce.ot(a,u)},c.prototype.Ee=function(a){this.le=!0,this.ce=this.ce.remove(a)},c.prototype.Ie=function(){this.ae+=1},c.prototype.Ae=function(){this.ae-=1},c.prototype.Re=function(){this.le=!0,this.he=!0},c}(),de=function(){function c(a){this.ge=a,this.Pe=new Map,this.ye=an(),this.Ve=Se(),this.pe=new Sr(Ht)}return c.prototype.be=function(a){for(var u=0,d=a.ie;u<d.length;u++){var m=d[u];a.re instanceof Or?this.ve(m,a.re):a.re instanceof ui&&this.Se(m,a.key,a.re)}for(var E=0,T=a.removedTargetIds;E<T.length;E++)this.Se(T[E],a.key,a.re)},c.prototype.De=function(a){var u=this;this.Ce(a,function(d){var m=u.Ne(d);switch(a.state){case 0:u.Fe(d)&&m.de(a.resumeToken);break;case 1:m.Ae(),m._e||m.me(),m.de(a.resumeToken);break;case 2:m.Ae(),m._e||u.removeTarget(d);break;case 3:u.Fe(d)&&(m.Re(),m.de(a.resumeToken));break;case 4:u.Fe(d)&&(u.xe(d),m.de(a.resumeToken));break;default:Le()}})},c.prototype.Ce=function(a,u){var d=this;a.targetIds.length>0?a.targetIds.forEach(u):this.Pe.forEach(function(m,E){d.Fe(E)&&u(E)})},c.prototype.$e=function(a){var u=a.targetId,d=a.oe.count,m=this.ke(u);if(m){var E=m.target;if(zt(E))if(0===d){var T=new I(E.path);this.Se(u,T,new ui(T,On.min()))}else dt(1===d);else this.Me(u)!==d&&(this.xe(u),this.pe=this.pe.add(u))}},c.prototype.Oe=function(a){var u=this,d=new Map;this.Pe.forEach(function(T,k){var j=u.ke(k);if(j){if(T.te&&zt(j.target)){var ne=new I(j.target.path);null!==u.ye.get(ne)||u.Le(k,ne)||u.Se(k,ne,new ui(ne,a))}T.fe&&(d.set(k,T.we()),T.me())}});var m=Fe();this.Ve.forEach(function(T,k){var j=!0;k.xt(function(ne){var fe=u.ke(ne);return!fe||2===fe.et||(j=!1,!1)}),j&&(m=m.add(T))});var E=new Jt(a,d,this.pe,this.ye,m);return this.ye=an(),this.Ve=Se(),this.pe=new Sr(Ht),E},c.prototype.ve=function(a,u){if(this.Fe(a)){var d=this.Le(a,u.key)?2:0;this.Ne(a).Te(u.key,d),this.ye=this.ye.ot(u.key,u),this.Ve=this.Ve.ot(u.key,this.Be(u.key).add(a))}},c.prototype.Se=function(a,u,d){if(this.Fe(a)){var m=this.Ne(a);this.Le(a,u)?m.Te(u,1):m.Ee(u),this.Ve=this.Ve.ot(u,this.Be(u).delete(a)),d&&(this.ye=this.ye.ot(u,d))}},c.prototype.removeTarget=function(a){this.Pe.delete(a)},c.prototype.Me=function(a){var u=this.Ne(a).we();return this.ge.qe(a).size+u.ee.size-u.se.size},c.prototype.Ie=function(a){this.Ne(a).Ie()},c.prototype.Ne=function(a){var u=this.Pe.get(a);return u||(u=new ve,this.Pe.set(a,u)),u},c.prototype.Be=function(a){var u=this.Ve.get(a);return u||(u=new Sr(Ht),this.Ve=this.Ve.ot(a,u)),u},c.prototype.Fe=function(a){var u=null!==this.ke(a);return u||Ne("WatchChangeAggregator","Detected inactive target",a),u},c.prototype.ke=function(a){var u=this.Pe.get(a);return u&&u._e?null:this.ge.Ue(a)},c.prototype.xe=function(a){var u=this;this.Pe.set(a,new ve),this.ge.qe(a).forEach(function(d){u.Se(a,d,null)})},c.prototype.Le=function(a,u){return this.ge.qe(a).has(u)},c}();function Se(){return new sn(I.i)}function ke(){return new sn(I.i)}function ie(c){var a,u;return"server_timestamp"===(null===(u=((null===(a=null==c?void 0:c.mapValue)||void 0===a?void 0:a.fields)||{}).__type__)||void 0===u?void 0:u.stringValue)}function L(c){var a=c.mapValue.fields.__previous_value__;return ie(a)?L(a):a}function $(c){var a=vt(c.mapValue.fields.__local_write_time__.timestampValue);return new Qn(a.seconds,a.nanos)}var ue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ee(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?ie(c)?4:10:Le()}function we(c,a){var m,u=Ee(c);if(u!==Ee(a))return!1;switch(u){case 0:return!0;case 1:return c.booleanValue===a.booleanValue;case 4:return $(c).isEqual($(a));case 3:return function(d,m){if("string"==typeof d.timestampValue&&"string"==typeof m.timestampValue&&d.timestampValue.length===m.timestampValue.length)return d.timestampValue===m.timestampValue;var E=vt(d.timestampValue),T=vt(m.timestampValue);return E.seconds===T.seconds&&E.nanos===T.nanos}(c,a);case 5:return c.stringValue===a.stringValue;case 6:return m=a,nr(c.bytesValue).isEqual(nr(m.bytesValue));case 7:return c.referenceValue===a.referenceValue;case 8:return function(d,m){return sr(d.geoPointValue.latitude)===sr(m.geoPointValue.latitude)&&sr(d.geoPointValue.longitude)===sr(m.geoPointValue.longitude)}(c,a);case 2:return function(d,m){if("integerValue"in d&&"integerValue"in m)return sr(d.integerValue)===sr(m.integerValue);if("doubleValue"in d&&"doubleValue"in m){var E=sr(d.doubleValue),T=sr(m.doubleValue);return E===T?je(E)===je(T):isNaN(E)&&isNaN(T)}return!1}(c,a);case 9:return wn(c.arrayValue.values||[],a.arrayValue.values||[],we);case 10:return function(d,m){var E=d.mapValue.fields||{},T=m.mapValue.fields||{};if(Bt(E)!==Bt(T))return!1;for(var k in E)if(E.hasOwnProperty(k)&&(void 0===T[k]||!we(E[k],T[k])))return!1;return!0}(c,a);default:return Le()}}function ze(c,a){return void 0!==(c.values||[]).find(function(u){return we(u,a)})}function Mt(c,a){var m,E,T,k,u=Ee(c),d=Ee(a);if(u!==d)return Ht(u,d);switch(u){case 0:return 0;case 1:return Ht(c.booleanValue,a.booleanValue);case 2:return E=a,(T=sr((m=c).integerValue||m.doubleValue))<(k=sr(E.integerValue||E.doubleValue))?-1:T>k?1:T===k?0:isNaN(T)?isNaN(k)?0:-1:1;case 3:return qt(c.timestampValue,a.timestampValue);case 4:return qt($(c),$(a));case 5:return Ht(c.stringValue,a.stringValue);case 6:return function(m,E){var T=nr(m),k=nr(E);return T.L(k)}(c.bytesValue,a.bytesValue);case 7:return function(m,E){for(var T=m.split("/"),k=E.split("/"),j=0;j<T.length&&j<k.length;j++){var ne=Ht(T[j],k[j]);if(0!==ne)return ne}return Ht(T.length,k.length)}(c.referenceValue,a.referenceValue);case 8:return function(m,E){var T=Ht(sr(m.latitude),sr(E.latitude));return 0!==T?T:Ht(sr(m.longitude),sr(E.longitude))}(c.geoPointValue,a.geoPointValue);case 9:return function(m,E){for(var T=m.values||[],k=E.values||[],j=0;j<T.length&&j<k.length;++j){var ne=Mt(T[j],k[j]);if(ne)return ne}return Ht(T.length,k.length)}(c.arrayValue,a.arrayValue);case 10:return function(m,E){var T=m.fields||{},k=Object.keys(T),j=E.fields||{},ne=Object.keys(j);k.sort(),ne.sort();for(var fe=0;fe<k.length&&fe<ne.length;++fe){var Te=Ht(k[fe],ne[fe]);if(0!==Te)return Te;var De=Mt(T[k[fe]],j[ne[fe]]);if(0!==De)return De}return Ht(k.length,ne.length)}(c.mapValue,a.mapValue);default:throw Le()}}function qt(c,a){if("string"==typeof c&&"string"==typeof a&&c.length===a.length)return Ht(c,a);var u=vt(c),d=vt(a),m=Ht(u.seconds,d.seconds);return 0!==m?m:Ht(u.nanos,d.nanos)}function at(c){return gn(c)}function gn(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(m=vt(c.timestampValue)).seconds+","+m.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?nr(c.bytesValue).toBase64():"referenceValue"in c?I.C(c.referenceValue).toString():"geoPointValue"in c?"geo("+(a=c.geoPointValue).latitude+","+a.longitude+")":"arrayValue"in c?function(d){for(var m="[",E=!0,T=0,k=d.values||[];T<k.length;T++)E?E=!1:m+=",",m+=gn(k[T]);return m+"]"}(c.arrayValue):"mapValue"in c?function(d){for(var m="{",E=!0,T=0,k=Object.keys(d.fields||{}).sort();T<k.length;T++){var j=k[T];E?E=!1:m+=",",m+=j+":"+gn(d.fields[j])}return m+"}"}(c.mapValue):Le();var m,a}function vt(c){if(dt(!!c),"string"==typeof c){var a=0,u=ue.exec(c);if(dt(!!u),u[1]){var d=u[1];d=(d+"000000000").substr(0,9),a=Number(d)}var m=new Date(c);return{seconds:Math.floor(m.getTime()/1e3),nanos:a}}return{seconds:sr(c.seconds),nanos:sr(c.nanos)}}function sr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function nr(c){return"string"==typeof c?Kt.fromBase64String(c):Kt.fromUint8Array(c)}function Zi(c,a){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+a.path.R()}}function Un(c){return!!c&&"integerValue"in c}function Bs(c){return!!c&&"arrayValue"in c}function eo(c){return!!c&&"nullValue"in c}function Ho(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function No(c){return!!c&&"mapValue"in c}var wu={asc:"ASCENDING",desc:"DESCENDING"},xn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ws=function(c,a){this.U=c,this.Qe=a};function es(c){return{integerValue:""+c}}function to(c,a){if(c.Qe){if(isNaN(a))return{doubleValue:"NaN"};if(a===1/0)return{doubleValue:"Infinity"};if(a===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(a)?"-0":a}}function ts(c,a){return ge(a)?es(a):to(c,a)}function nu(c,a){return c.Qe?new Date(1e3*a.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+a.nanoseconds).slice(-9)+"Z":{seconds:""+a.seconds,nanos:a.nanoseconds}}function ho(c,a){return c.Qe?a.toBase64():a.toUint8Array()}function ki(c,a){return nu(c,a.Z())}function zo(c){return dt(!!c),On.J((u=vt(c),new Qn(u.seconds,u.nanos)));var u}function Fa(c,a){return(u=c,new pt(["projects",u.projectId,"databases",u.database])).child("documents").child(a).R();var u}function rr(c){var a=pt.g(c);return dt(Ln(a)),a}function no(c,a){return Fa(c.U,a.path)}function Hn(c,a){var u=rr(a);return dt(u.get(1)===c.U.projectId),dt(!u.get(3)&&!c.U.database||u.get(3)===c.U.database),new I(qo(u))}function Wi(c,a){return Fa(c.U,a)}function js(c){var a=rr(c);return 4===a.length?pt.P():qo(a)}function Sn(c){return new pt(["projects",c.U.projectId,"databases",c.U.database]).R()}function qo(c){return dt(c.length>4&&"documents"===c.get(4)),c.u(5)}function da(c,a,u){return{name:no(c,a),fields:u.proto.mapValue.fields}}function Hi(c,a){var u,m;if(a instanceof ti)u={update:da(c,a.key,a.value)};else if(a instanceof hr)u={delete:no(c,a.key)};else if(a instanceof cr)u={update:da(c,a.key,a.data),updateMask:qs(a.We)};else if(a instanceof Fi)u={transform:{document:no(c,a.key),fieldTransforms:a.fieldTransforms.map(function(d){return function(m,E){var T=E.transform;if(T instanceof Yr)return{fieldPath:E.field.R(),setToServerValue:"REQUEST_TIME"};if(T instanceof B)return{fieldPath:E.field.R(),appendMissingElements:{values:T.elements}};if(T instanceof X)return{fieldPath:E.field.R(),removeAllFromArray:{values:T.elements}};if(T instanceof Ce)return{fieldPath:E.field.R(),increment:T.je};throw Le()}(0,d)})}};else{if(!(a instanceof ga))return Le();u={verify:no(c,a.key)}}return a.Ge.Ke||(u.currentDocument=void 0!==(m=a.Ge).updateTime?{updateTime:ki(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Le()),u}function $t(c,a){var fe,u=a.currentDocument?void 0!==(fe=a.currentDocument).updateTime?Vt.updateTime(zo(fe.updateTime)):void 0!==fe.exists?Vt.exists(fe.exists):Vt.ze():Vt.ze();if(a.update){var d=Hn(c,a.update.name),m=new Gs({mapValue:{fields:a.update.fields}});if(a.updateMask){var E=function(fe){return new gt((fe.fieldPaths||[]).map(function(De){return M.S(De)}))}(a.updateMask);return new cr(d,m,E,u)}return new ti(d,m,u)}if(a.delete){var T=Hn(c,a.delete);return new hr(T,u)}if(a.transform){var k=Hn(c,a.transform.document),j=a.transform.fieldTransforms.map(function(fe){return function(Te,De){var We=null;"setToServerValue"in De?(dt("REQUEST_TIME"===De.setToServerValue),We=new Yr):"appendMissingElements"in De?We=new B(De.appendMissingElements.values||[]):"removeAllFromArray"in De?We=new X(De.removeAllFromArray.values||[]):"increment"in De?We=new Ce(Te,De.increment):Le();var Gt=M.S(De.fieldPath);return new yt(Gt,We)}(c,fe)});return dt(!0===u.exists),new Fi(k,j)}if(a.verify){var ne=Hn(c,a.verify);return new ga(ne,u)}return Le()}function qn(c,a){return{documents:[Wi(c,a.path)]}}function Hs(c,a){var u={structuredQuery:{}},d=a.path;null!==a.collectionGroup?(u.parent=Wi(c,d),u.structuredQuery.from=[{collectionId:a.collectionGroup,allDescendants:!0}]):(u.parent=Wi(c,d.h()),u.structuredQuery.from=[{collectionId:d._()}]);var m=function(k){if(0!==k.length){var j=k.map(function(ne){return function(fe){if("=="===fe.op){if(Ho(fe.value))return{unaryFilter:{field:_r(fe.field),op:"IS_NAN"}};if(eo(fe.value))return{unaryFilter:{field:_r(fe.field),op:"IS_NULL"}}}else if("!="===fe.op){if(Ho(fe.value))return{unaryFilter:{field:_r(fe.field),op:"IS_NOT_NAN"}};if(eo(fe.value))return{unaryFilter:{field:_r(fe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(fe.field),op:Fo(fe.op),value:fe.value}}}(ne)});return 1===j.length?j[0]:{compositeFilter:{op:"AND",filters:j}}}}(a.filters);m&&(u.structuredQuery.where=m);var E=function(k){if(0!==k.length)return k.map(function(j){return{field:_r((ne=j).field),direction:Jn(ne.dir)};var ne})}(a.orderBy);E&&(u.structuredQuery.orderBy=E);var j,T=(j=a.limit,c.Qe||ci(j)?j:{value:j});return null!==T&&(u.structuredQuery.limit=T),a.startAt&&(u.structuredQuery.startAt=Eo(a.startAt)),a.endAt&&(u.structuredQuery.endAt=Eo(a.endAt)),u}function Go(c){var a=js(c.parent),u=c.structuredQuery,d=u.from?u.from.length:0,m=null;if(d>0){dt(1===d);var E=u.from[0];E.allDescendants?m=E.collectionId:a=a.child(E.collectionId)}var T=[];u.where&&(T=Wo(u.where));var k=[];u.orderBy&&(k=u.orderBy.map(function(Te){return new Qs(fo((De=Te).field),function(We){switch(We){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));var Te,De,j=null;u.limit&&(j=ci(De="object"==typeof(Te=u.limit)?Te.value:Te)?null:De);var ne=null;u.startAt&&(ne=Pi(u.startAt));var fe=null;return u.endAt&&(fe=Pi(u.endAt)),zi($o(a,m,k,T,j,"F",ne,fe))}function Wo(c){return c?void 0!==c.unaryFilter?[Es(c)]:void 0!==c.fieldFilter?[zs(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(a){return Wo(a)}).reduce(function(a,u){return a.concat(u)}):Le():[]}function Eo(c){return{before:c.before,values:c.position}}function Pi(c){return new $s(c.values||[],!!c.before)}function Jn(c){return wu[c]}function Fo(c){return xn[c]}function _r(c){return{fieldPath:c.R()}}function fo(c){return M.S(c.fieldPath)}function zs(c){return mi.create(fo(c.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(c.fieldFilter.op),c.fieldFilter.value)}function Es(c){switch(c.unaryFilter.op){case"IS_NAN":var a=fo(c.unaryFilter.field);return mi.create(a,"==",{doubleValue:NaN});case"IS_NULL":var u=fo(c.unaryFilter.field);return mi.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=fo(c.unaryFilter.field);return mi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=fo(c.unaryFilter.field);return mi.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function qs(c){var a=[];return c.fields.forEach(function(u){return a.push(u.R())}),{fieldPaths:a}}function Ln(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}var ei=function(){this.He=void 0};function pa(c,a,u){return c instanceof Yr?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=u).seconds,nanos:d.nanoseconds}}}},(m=a)&&(E.fields.__previous_value__=m),{mapValue:E}):c instanceof B?V(c,a):c instanceof X?pe(c,a):function(d,m){var E=Ni(d,m),T=me(E)+me(d.je);return Un(E)&&Un(d.je)?es(T):to(d.serializer,T)}(c,a);var d,m,E}function Dt(c,a,u){return c instanceof B?V(c,a):c instanceof X?pe(c,a):u}function Ni(c,a){return c instanceof Ce?Un(u=a)||(d=u)&&"doubleValue"in d?a:{integerValue:0}:null;var d,u}var Yr=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a}(ei),B=function(c){function a(u){var d=this;return(d=c.call(this)||this).elements=u,d}return te.__extends(a,c),a}(ei);function V(c,a){for(var u=$e(a),d=function(T){u.some(function(k){return we(k,T)})||u.push(T)},m=0,E=c.elements;m<E.length;m++)d(E[m]);return{arrayValue:{values:u}}}var X=function(c){function a(u){var d=this;return(d=c.call(this)||this).elements=u,d}return te.__extends(a,c),a}(ei);function pe(c,a){for(var u=$e(a),d=function(T){u=u.filter(function(k){return!we(k,T)})},m=0,E=c.elements;m<E.length;m++)d(E[m]);return{arrayValue:{values:u}}}var Ce=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).serializer=u,m.je=d,m}return te.__extends(a,c),a}(ei);function me(c){return sr(c.integerValue||c.doubleValue)}function $e(c){return Bs(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var gt=function(){function c(a){this.fields=a,a.sort(M.i)}return c.prototype.Ye=function(a){for(var u=0,d=this.fields;u<d.length;u++)if(d[u].T(a))return!0;return!1},c.prototype.isEqual=function(a){return wn(this.fields,a.fields,function(u,d){return u.isEqual(d)})},c}(),yt=function(c,a){this.field=c,this.transform=a},kt=function(c,a){this.version=c,this.transformResults=a},Vt=function(){function c(a,u){this.updateTime=a,this.exists=u}return c.ze=function(){return new c},c.exists=function(a){return new c(void 0,a)},c.updateTime=function(a){return new c(a)},Object.defineProperty(c.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)},c}();function Kn(c,a){return void 0!==c.updateTime?a instanceof Or&&a.version.isEqual(c.updateTime):void 0===c.exists||c.exists===a instanceof Or}var ln=function(){};function $r(c,a,u){return c instanceof ti?new Or((d=c).key,u.version,d.value,{hasCommittedMutations:!0}):c instanceof cr?function(d,m,E){if(!Kn(d.Ge,m))return new jr(d.key,E.version);var T=Qr(d,m);return new Or(d.key,E.version,T,{hasCommittedMutations:!0})}(c,a,u):c instanceof Fi?function(d,m,E){if(dt(null!=E.transformResults),!Kn(d.Ge,m))return new jr(d.key,E.version);var T=po(0,m),k=function(fe,Te,De){var We=[];dt(fe.length===De.length);for(var st=0;st<De.length;st++){var Et=fe[st],Gt=Et.transform,_n=null;Te instanceof Or&&(_n=Te.field(Et.field)),We.push(Dt(Gt,_n,De[st]))}return We}(d.fieldTransforms,m,E.transformResults),j=E.version,ne=Br(d,T.data(),k);return new Or(d.key,j,ne,{hasCommittedMutations:!0})}(c,a,u):function(d,m,E){return new ui(d.key,E.version,{hasCommittedMutations:!0})}(c,0,u);var d}function ar(c,a,u,d){return c instanceof ti?function(m,E){if(!Kn(m.Ge,E))return E;var T=Ei(E);return new Or(m.key,T,m.value,{Je:!0})}(c,a):c instanceof cr?function(m,E){if(!Kn(m.Ge,E))return E;var T=Ei(E),k=Qr(m,E);return new Or(m.key,T,k,{Je:!0})}(c,a):c instanceof Fi?function(m,E,T,k){if(!Kn(m.Ge,E))return E;var j=po(0,E),ne=function(Te,De,We,st){for(var Et=[],Gt=0,_n=Te;Gt<_n.length;Gt++){var $n=_n[Gt],ur=$n.transform,zr=null;We instanceof Or&&(zr=We.field($n.field)),null===zr&&st instanceof Or&&(zr=st.field($n.field)),Et.push(pa(ur,zr,De))}return Et}(m.fieldTransforms,T,E,k),fe=Br(m,j.data(),ne);return new Or(m.key,j.version,fe,{Je:!0})}(c,a,d,u):Kn((m=c).Ge,E=a)?new ui(m.key,On.min()):E;var m,E}function yn(c,a){return c instanceof Fi?function(u,d){for(var m=null,E=0,T=u.fieldTransforms;E<T.length;E++){var k=T[E],j=d instanceof Or?d.field(k.field):void 0,ne=Ni(k.transform,j||null);null!=ne&&(m=null==m?(new ns).set(k.field,ne):m.set(k.field,ne))}return m?m.Xe():null}(c,a):null}function Nr(c,a){return c.type===a.type&&!!c.key.isEqual(a.key)&&!!c.Ge.isEqual(a.Ge)&&(0===c.type?c.value.isEqual(a.value):1===c.type?c.data.isEqual(a.data)&&c.We.isEqual(a.We):2!==c.type||wn(c.fieldTransforms,c.fieldTransforms,function(u,d){return(m=u).field.isEqual((E=d).field)&&(k=E.transform,(T=m.transform)instanceof B&&k instanceof B||T instanceof X&&k instanceof X?wn(T.elements,k.elements,we):T instanceof Ce&&k instanceof Ce?we(T.je,k.je):T instanceof Yr&&k instanceof Yr);var m,E,T,k}))}function Ei(c){return c instanceof Or?c.version:On.min()}var ti=function(c){function a(u,d,m){var E=this;return(E=c.call(this)||this).key=u,E.value=d,E.Ge=m,E.type=0,E}return te.__extends(a,c),a}(ln),cr=function(c){function a(u,d,m,E){var T=this;return(T=c.call(this)||this).key=u,T.data=d,T.We=m,T.Ge=E,T.type=1,T}return te.__extends(a,c),a}(ln);function Qr(c,a){return u=c,d=a instanceof Or?a.data():Gs.empty(),m=new ns(d),u.We.fields.forEach(function(E){if(!E.m()){var T=u.data.field(E);null!==T?m.set(E,T):m.delete(E)}}),m.Xe();var u,d,m}var Fi=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.fieldTransforms=d,m.type=2,m.Ge=Vt.exists(!0),m}return te.__extends(a,c),a}(ln);function po(c,a){return a}function Br(c,a,u){for(var d=new ns(a),m=0;m<c.fieldTransforms.length;m++)d.set(c.fieldTransforms[m].field,u[m]);return d.Xe()}var hr=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.Ge=d,m.type=3,m}return te.__extends(a,c),a}(ln),ga=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).key=u,m.Ge=d,m.type=4,m}return te.__extends(a,c),a}(ln),Gs=function(){function c(a){this.proto=a}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(a){if(a.m())return this.proto;for(var u=this.proto,d=0;d<a.length-1;++d)if(!u.mapValue.fields||!No(u=u.mapValue.fields[a.get(d)]))return null;return(u=(u.mapValue.fields||{})[a._()])||null},c.prototype.isEqual=function(a){return we(this.proto,a.proto)},c}(),ns=function(){function c(a){void 0===a&&(a=Gs.empty()),this.Ze=a,this.tn=new Map}return c.prototype.set=function(a,u){return this.en(a,u),this},c.prototype.delete=function(a){return this.en(a,null),this},c.prototype.en=function(a,u){for(var d=this.tn,m=0;m<a.length-1;++m){var E=a.get(m),T=d.get(E);T instanceof Map?d=T:T&&10===Ee(T)?(T=new Map(Object.entries(T.mapValue.fields||{})),d.set(E,T),d=T):(T=new Map,d.set(E,T),d=T)}d.set(a._(),u)},c.prototype.Xe=function(){var a=this.nn(M.P(),this.tn);return null!=a?new Gs(a):this.Ze},c.prototype.nn=function(a,u){var d=this,m=!1,E=this.Ze.field(a),T=No(E)?Object.assign({},E.mapValue.fields):{};return u.forEach(function(k,j){if(k instanceof Map){var ne=d.nn(a.child(j),k);null!=ne&&(T[j]=ne,m=!0)}else null!==k?(T[j]=k,m=!0):T.hasOwnProperty(j)&&(delete T[j],m=!0)}),m?{mapValue:{fields:T}}:null},c}();function zu(c){var a=[];return Ft(c.fields||{},function(u,d){var m=new M([u]);if(No(d)){var E=zu(d.mapValue).fields;if(0===E.length)a.push(m);else for(var T=0,k=E;T<k.length;T++)a.push(m.child(k[T]))}else a.push(m)}),new gt(a)}var oi=function(c,a){this.key=c,this.version=a},Or=function(c){function a(u,d,m,E){var T=this;return(T=c.call(this,u,d)||this).sn=m,T.Je=!!E.Je,T.hasCommittedMutations=!!E.hasCommittedMutations,T}return te.__extends(a,c),a.prototype.field=function(u){return this.sn.field(u)},a.prototype.data=function(){return this.sn},a.prototype.rn=function(){return this.sn.proto},a.prototype.isEqual=function(u){return u instanceof a&&this.key.isEqual(u.key)&&this.version.isEqual(u.version)&&this.Je===u.Je&&this.hasCommittedMutations===u.hasCommittedMutations&&this.sn.isEqual(u.sn)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a}(oi),ui=function(c){function a(u,d,m){var E=this;return(E=c.call(this,u,d)||this).hasCommittedMutations=!(!m||!m.hasCommittedMutations),E}return te.__extends(a,c),a.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(u){return u instanceof a&&u.hasCommittedMutations===this.hasCommittedMutations&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},a}(oi),jr=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(u){return u instanceof a&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},a}(oi),Cs=function(c,a,u,d,m,E,T,k){void 0===a&&(a=null),void 0===u&&(u=[]),void 0===d&&(d=[]),void 0===m&&(m=null),void 0===E&&(E="F"),void 0===T&&(T=null),void 0===k&&(k=null),this.path=c,this.collectionGroup=a,this.on=u,this.filters=d,this.limit=m,this.an=E,this.startAt=T,this.endAt=k,this.cn=null,this.un=null};function $o(c,a,u,d,m,E,T,k){return new Cs(c,a,u,d,m,E,T,k)}function Li(c){return new Cs(c)}function Ws(c){return!ci(c.limit)&&"F"===c.an}function Co(c){return!ci(c.limit)&&"L"===c.an}function Ss(c){return c.on.length>0?c.on[0].field:null}function So(c){for(var a=0,u=c.filters;a<u.length;a++){var d=u[a];if(d.hn())return d.field}return null}function Is(c){return null!==c.collectionGroup}function Lo(c){var a=Je(c);if(null===a.cn){a.cn=[];var u=So(a),d=Ss(a);if(null!==u&&null===d)u.p()||a.cn.push(new Qs(u)),a.cn.push(new Qs(M.v(),"asc"));else{for(var m=!1,E=0,T=a.on;E<T.length;E++){var k=T[E];a.cn.push(k),k.field.p()&&(m=!0)}if(!m){var j=a.on.length>0?a.on[a.on.length-1].dir:"asc";a.cn.push(new Qs(M.v(),j))}}}return a.cn}function zi(c){var a=Je(c);if(!a.un)if("F"===a.an)a.un=Ye(a.path,a.collectionGroup,Lo(a),a.filters,a.limit,a.startAt,a.endAt);else{for(var u=[],d=0,m=Lo(a);d<m.length;d++){var E=m[d];u.push(new Qs(E.field,"desc"===E.dir?"asc":"desc"))}var k=a.endAt?new $s(a.endAt.position,!a.endAt.before):null,j=a.startAt?new $s(a.startAt.position,!a.startAt.before):null;a.un=Ye(a.path,a.collectionGroup,u,a.filters,a.limit,k,j)}return a.un}function rs(c,a,u){return new Cs(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),a,u,c.startAt,c.endAt)}function bl(c,a){return new Cs(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,a,c.endAt)}function wl(c,a){return new Cs(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,c.startAt,a)}function Io(c,a){return Wt(zi(c),zi(a))&&c.an===a.an}function ru(c){return Ue(zi(c))+"|lt:"+c.an}function Ts(c){return"Query(target="+(u=(a=zi(c)).path.R(),null!==a.collectionGroup&&(u+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(u+=", filters: ["+a.filters.map(function(d){return(m=d).field.R()+" "+m.op+" "+at(m.value);var m}).join(", ")+"]"),ci(a.limit)||(u+=", limit: "+a.limit),a.orderBy.length>0&&(u+=", orderBy: ["+a.orderBy.map(function(d){return(m=d).field.R()+" ("+m.dir+")";var m}).join(", ")+"]"),a.startAt&&(u+=", startAt: "+Ks(a.startAt)),a.endAt&&(u+=", endAt: "+Ks(a.endAt)),"Target("+u+"); limitType=")+c.an+")";var a,u}function Ds(c,a){return m=(d=a).key.path,(null!==(u=c).collectionGroup?d.key.N(u.collectionGroup)&&u.path.T(m):I.F(u.path)?u.path.isEqual(m):u.path.I(m))&&function(u,d){for(var m=0,E=u.on;m<E.length;m++){var T=E[m];if(!T.field.p()&&null===d.field(T.field))return!1}return!0}(c,a)&&function(u,d){for(var m=0,E=u.filters;m<E.length;m++)if(!E[m].matches(d))return!1;return!0}(c,a)&&function(u,d){return!(u.startAt&&!Ys(u.startAt,Lo(u),d)||u.endAt&&Ys(u.endAt,Lo(u),d))}(c,a);var u,d,m}function Vi(c){return function(a,u){for(var d=!1,m=0,E=Lo(c);m<E.length;m++){var T=E[m],k=Hr(T,a,u);if(0!==k)return k;d=d||T.field.p()}return 0}}var mi=function(c){function a(u,d,m){var E=this;return(E=c.call(this)||this).field=u,E.op=d,E.value=m,E}return te.__extends(a,c),a.create=function(u,d,m){if(u.p())return"in"===d||"not-in"===d?this.ln(u,d,m):new go(u,d,m);if(eo(m)){if("=="!==d&&"!="!==d)throw new Y(be.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new a(u,d,m)}if(Ho(m)){if("=="!==d&&"!="!==d)throw new Y(be.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new a(u,d,m)}return"array-contains"===d?new El(u,m):"in"===d?new ac(u,m):"not-in"===d?new ou(u,m):"array-contains-any"===d?new Cu(u,m):new a(u,d,m)},a.ln=function(u,d,m){return"in"===d?new Eu(u,m):new iu(u,m)},a.prototype.matches=function(u){var d=u.field(this.field);return"!="===this.op?null!==d&&this._n(Mt(d,this.value)):null!==d&&Ee(this.value)===Ee(d)&&this._n(Mt(d,this.value))},a.prototype._n=function(u){switch(this.op){case"<":return u<0;case"<=":return u<=0;case"==":return 0===u;case"!=":return 0!==u;case">":return u>0;case">=":return u>=0;default:return Le()}},a.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},a}(function(){}),go=function(c){function a(u,d,m){var E=this;return(E=c.call(this,u,d,m)||this).key=I.C(m.referenceValue),E}return te.__extends(a,c),a.prototype.matches=function(u){var d=I.i(u.key,this.key);return this._n(d)},a}(mi),Eu=function(c){function a(u,d){var m=this;return(m=c.call(this,u,"in",d)||this).keys=ma(0,d),m}return te.__extends(a,c),a.prototype.matches=function(u){return this.keys.some(function(d){return d.isEqual(u.key)})},a}(mi),iu=function(c){function a(u,d){var m=this;return(m=c.call(this,u,"not-in",d)||this).keys=ma(0,d),m}return te.__extends(a,c),a.prototype.matches=function(u){return!this.keys.some(function(d){return d.isEqual(u.key)})},a}(mi);function ma(c,a){var u;return((null===(u=a.arrayValue)||void 0===u?void 0:u.values)||[]).map(function(d){return I.C(d.referenceValue)})}var El=function(c){function a(u,d){return c.call(this,u,"array-contains",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=u.field(this.field);return Bs(d)&&ze(d.arrayValue,this.value)},a}(mi),ac=function(c){function a(u,d){return c.call(this,u,"in",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=u.field(this.field);return null!==d&&ze(this.value.arrayValue,d)},a}(mi),ou=function(c){function a(u,d){return c.call(this,u,"not-in",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){if(ze(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=u.field(this.field);return null!==d&&!ze(this.value.arrayValue,d)},a}(mi),Cu=function(c){function a(u,d){return c.call(this,u,"array-contains-any",d)||this}return te.__extends(a,c),a.prototype.matches=function(u){var d=this,m=u.field(this.field);return!(!Bs(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(E){return ze(d.value.arrayValue,E)})},a}(mi),$s=function(c,a){this.position=c,this.before=a};function Ks(c){return(c.before?"b":"a")+":"+c.position.map(function(a){return at(a)}).join(",")}function Ys(c,a,u){for(var d=0,m=0;m<c.position.length;m++){var E=a[m],T=c.position[m];if(d=E.field.p()?I.i(I.C(T.referenceValue),u.key):Mt(T,u.field(E.field)),"desc"===E.dir&&(d*=-1),0!==d)break}return c.before?d<=0:d<0}function mo(c,a){if(null===c)return null===a;if(null===a||c.before!==a.before||c.position.length!==a.position.length)return!1;for(var u=0;u<c.position.length;u++)if(!we(c.position[u],a.position[u]))return!1;return!0}var Qs=function(c,a){void 0===a&&(a="asc"),this.field=c,this.dir=a};function Hr(c,a,u){var m,T,k,j,d=c.field.p()?I.i(a.key,u.key):(T=u,k=a.field(m=c.field),j=T.field(m),null!==k&&null!==j?Mt(k,j):Le());switch(c.dir){case"asc":return d;case"desc":return-1*d;default:return Le()}}function La(c,a){return c.dir===a.dir&&c.field.isEqual(a.field)}var Kr=function(){var c=this;this.promise=new Promise(function(a,u){c.resolve=a,c.reject=u})},Su=function(){function c(a,u,d,m,E){void 0===d&&(d=1e3),void 0===m&&(m=1.5),void 0===E&&(E=6e4),this.fn=a,this.dn=u,this.wn=d,this.mn=m,this.Tn=E,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return c.prototype.reset=function(){this.En=0},c.prototype.Rn=function(){this.En=this.Tn},c.prototype.gn=function(a){var u=this;this.cancel();var d=Math.floor(this.En+this.Pn()),m=Math.max(0,Date.now()-this.An),E=Math.max(0,d-m);E>0&&Ne("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.En+" ms, delay with jitter: "+d+" ms, last attempt: "+m+" ms ago)"),this.In=this.fn.yn(this.dn,E,function(){return u.An=Date.now(),a()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},c.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},c.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},c.prototype.Pn=function(){return(Math.random()-.5)*this.En},c}(),jt=function(){function c(a){var u=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,a(function(d){u.Sn=!0,u.result=d,u.bn&&u.bn(d)},function(d){u.Sn=!0,u.error=d,u.vn&&u.vn(d)})}return c.prototype.catch=function(a){return this.next(void 0,a)},c.prototype.next=function(a,u){var d=this;return this.Dn&&Le(),this.Dn=!0,this.Sn?this.error?this.Cn(u,this.error):this.Nn(a,this.result):new c(function(m,E){d.bn=function(T){d.Nn(a,T).next(m,E)},d.vn=function(T){d.Cn(u,T).next(m,E)}})},c.prototype.Fn=function(){var a=this;return new Promise(function(u,d){a.next(u,d)})},c.prototype.xn=function(a){try{var u=a();return u instanceof c?u:c.resolve(u)}catch(d){return c.reject(d)}},c.prototype.Nn=function(a,u){return a?this.xn(function(){return a(u)}):c.resolve(u)},c.prototype.Cn=function(a,u){return a?this.xn(function(){return a(u)}):c.reject(u)},c.resolve=function(a){return new c(function(u,d){u(a)})},c.reject=function(a){return new c(function(u,d){d(a)})},c.$n=function(a){return new c(function(u,d){var m=0,E=0,T=!1;a.forEach(function(k){++m,k.next(function(){++E,T&&E===m&&u()},function(j){return d(j)})}),T=!0,E===m&&u()})},c.kn=function(a){for(var u=c.resolve(!1),d=function(T){u=u.next(function(k){return k?c.resolve(k):T()})},m=0,E=a;m<E.length;m++)d(E[m]);return u},c.forEach=function(a,u){var d=this,m=[];return a.forEach(function(E,T){m.push(u.call(d,E,T))}),this.$n(m)},c}(),ni=function(){function c(a,u,d){this.name=a,this.version=u,this.Mn=d,12.2===c.On(Nt.getUA())&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(a){return Ne("SimpleDb","Removing database:",a),Xs(window.indexedDB.deleteDatabase(a)).Fn()},c.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(c.Bn())return!0;var a=Nt.getUA(),u=c.On(a),d=0<u&&u<10,m=c.qn(a),E=0<m&&m<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0||d||E)},c.Bn=function(){var a;return"undefined"!=typeof process&&"YES"===(null===(a=process.env)||void 0===a?void 0:a.Un)},c.Qn=function(a,u){return a.store(u)},c.On=function(a){var u=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=u?u[1].split("_").slice(0,2).join("."):"-1";return Number(d)},c.qn=function(a){var u=a.match(/Android ([\d.]+)/i),d=u?u[1].split(".").slice(0,2).join("."):"-1";return Number(d)},c.prototype.Wn=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(Ne("SimpleDb","Opening database:",this.name),u=this,[4,new Promise(function(E,T){var k=indexedDB.open(d.name,d.version);k.onsuccess=function(j){E(j.target.result)},k.onblocked=function(){T(new _a(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},k.onerror=function(j){var ne=j.target.error;T("VersionError"===ne.name?new Y(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _a(a,ne))},k.onupgradeneeded=function(j){Ne("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',j.oldVersion),d.Mn.createOrUpgrade(j.target.result,k.transaction,j.oldVersion,d.version).next(function(){Ne("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:u.db=m.sent(),m.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(E){return d.jn(E)}),this.db)]}})})},c.prototype.Kn=function(a){this.jn=a,this.db&&(this.db.onversionchange=function(u){return a(u)})},c.prototype.runTransaction=function(a,u,d,m){return te.__awaiter(this,void 0,void 0,function(){var E,T,k,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:E="readonly"===u,T=0,k=function(){var Te,De,We,st,Et;return te.__generator(this,function(Gt){switch(Gt.label){case 0:++T,Gt.label=1;case 1:return Gt.trys.push([1,4,,5]),[4,j.Wn(a)];case 2:return j.db=Gt.sent(),Te=yi.open(j.db,a,E?"readonly":"readwrite",d),De=m(Te).catch(function(_n){return Te.abort(_n),jt.reject(_n)}).Fn(),We={},De.catch(function(){}),[4,Te.Gn];case 3:return[2,(We.value=(Gt.sent(),De),We)];case 4:return Ne("SimpleDb","Transaction failed with error:",(st=Gt.sent()).message,"Retrying:",Et="FirebaseError"!==st.name&&T<3),j.close(),Et?[3,5]:[2,{value:Promise.reject(st)}];case 5:return[2]}})},j=this,fe.label=1;case 1:return[5,k()];case 2:if("object"==typeof(ne=fe.sent()))return[2,ne.value];fe.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),qu=function(){function c(a){this.zn=a,this.Hn=!1,this.Yn=null}return Object.defineProperty(c.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(a){this.zn=a},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Hn=!0},c.prototype.Xn=function(a){this.Yn=a},c.prototype.delete=function(){return Xs(this.zn.delete())},c}(),_a=function(c){function a(u,d){var m=this;return(m=c.call(this,be.UNAVAILABLE,"IndexedDB transaction '"+u+"' failed: "+d)||this).name="IndexedDbTransactionError",m}return te.__extends(a,c),a}(Y);function As(c){return"IndexedDbTransactionError"===c.name}var yi=function(){function c(a,u){var d=this;this.action=a,this.transaction=u,this.aborted=!1,this.Zn=new Kr,this.transaction.oncomplete=function(){d.Zn.resolve()},this.transaction.onabort=function(){u.error?d.Zn.reject(new _a(a,u.error)):d.Zn.resolve()},this.transaction.onerror=function(m){var E=w(m.target.error);d.Zn.reject(new _a(a,E))}}return c.open=function(a,u,d,m){try{return new c(u,a.transaction(m,d))}catch(E){throw new _a(u,E)}},Object.defineProperty(c.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(a){a&&this.Zn.reject(a),this.aborted||(Ne("SimpleDb","Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(a){var u=this.transaction.objectStore(a);return new Gu(u)},c}(),Gu=function(){function c(a){this.store=a}return c.prototype.put=function(a,u){var d;return void 0!==u?(Ne("SimpleDb","PUT",this.store.name,a,u),d=this.store.put(u,a)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",a),d=this.store.put(a)),Xs(d)},c.prototype.add=function(a){return Ne("SimpleDb","ADD",this.store.name,a,a),Xs(this.store.add(a))},c.prototype.get=function(a){var u=this;return Xs(this.store.get(a)).next(function(d){return void 0===d&&(d=null),Ne("SimpleDb","GET",u.store.name,a,d),d})},c.prototype.delete=function(a){return Ne("SimpleDb","DELETE",this.store.name,a),Xs(this.store.delete(a))},c.prototype.count=function(){return Ne("SimpleDb","COUNT",this.store.name),Xs(this.store.count())},c.prototype.ts=function(a,u){var d=this.cursor(this.options(a,u)),m=[];return this.es(d,function(E,T){m.push(T)}).next(function(){return m})},c.prototype.ns=function(a,u){Ne("SimpleDb","DELETE ALL",this.store.name);var d=this.options(a,u);d.ss=!1;var m=this.cursor(d);return this.es(m,function(E,T,k){return k.delete()})},c.prototype.rs=function(a,u){var d;u?d=a:(d={},u=a);var m=this.cursor(d);return this.es(m,u)},c.prototype.os=function(a){var u=this.cursor({});return new jt(function(d,m){u.onerror=function(E){var T=w(E.target.error);m(T)},u.onsuccess=function(E){var T=E.target.result;T?a(T.primaryKey,T.value).next(function(k){k?T.continue():d()}):d()}})},c.prototype.es=function(a,u){var d=[];return new jt(function(m,E){a.onerror=function(T){E(T.target.error)},a.onsuccess=function(T){var k=T.target.result;if(k){var j=new qu(k),ne=u(k.primaryKey,k.value,j);if(ne instanceof jt){var fe=ne.catch(function(Te){return j.done(),jt.reject(Te)});d.push(fe)}j.Sn?m():null===j.Jn?k.continue():k.continue(j.Jn)}else m()}}).next(function(){return jt.$n(d)})},c.prototype.options=function(a,u){var d=void 0;return void 0!==a&&("string"==typeof a?d=a:u=a),{index:d,range:u}},c.prototype.cursor=function(a){var u="next";if(a.reverse&&(u="prev"),a.index){var d=this.store.index(a.index);return a.ss?d.openKeyCursor(a.range,u):d.openCursor(a.range,u)}return this.store.openCursor(a.range,u)},c}();function Xs(c){return new jt(function(a,u){c.onsuccess=function(d){a(d.target.result)},c.onerror=function(d){var m=w(d.target.error);u(m)}})}var fi=!1;function w(c){var a=ni.On(Nt.getUA());if(a>=12.2&&a<13){var u="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(u)>=0){var d=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+u+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fi||(fi=!0,setTimeout(function(){throw d},0)),d}}return c}function P(){return"undefined"!=typeof window?window:null}function q(){return"undefined"!=typeof document?document:null}var oe=function(){function c(a,u,d,m,E){this.cs=a,this.dn=u,this.us=d,this.op=m,this.hs=E,this.ls=new Kr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(T){})}return c._s=function(a,u,d,m,E){var T=new c(a,u,Date.now()+d,m,E);return T.start(d),T},c.prototype.start=function(a){var u=this;this.fs=setTimeout(function(){return u.ds()},a)},c.prototype.pn=function(){return this.ds()},c.prototype.cancel=function(a){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Y(be.CANCELLED,"Operation cancelled"+(a?": "+a:""))))},c.prototype.ds=function(){var a=this;this.cs.ws(function(){return null!==a.fs?(a.clearTimeout(),a.op().then(function(u){return a.ls.resolve(u)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},c}(),Re=function(){function c(){var a=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Su(this,"async_queue_retry"),this.Vs=function(){var d=q();d&&Ne("AsyncQueue","Visibility state changed to  ",d.visibilityState),a.ys.Vn()};var u=q();u&&"function"==typeof u.addEventListener&&u.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(c.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),c.prototype.ws=function(a){this.enqueue(a)},c.prototype.bs=function(a){this.vs(),this.Ss(a)},c.prototype.Ds=function(){if(!this.Is){this.Is=!0;var a=q();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Vs)}},c.prototype.enqueue=function(a){return this.vs(),this.Is?new Promise(function(u){}):this.Ss(a)},c.prototype.Cs=function(a){var u=this;this.ws(function(){return u.Es.push(a),u.Ns()})},c.prototype.Ns=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){switch(d.label){case 0:if(0===this.Es.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return d.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!As(a=d.sent()))throw a;return Ne("AsyncQueue","Operation failed with retryable error: "+a),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return u.Ns()}),d.label=5;case 5:return[2]}})})},c.prototype.Ss=function(a){var u=this,d=this.Ts.then(function(){return u.gs=!0,a().catch(function(m){throw u.Rs=m,u.gs=!1,ft("INTERNAL UNHANDLED ERROR: ",(T=(E=m).message||"",E.stack&&(T=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),T)),m;var E,T}).then(function(m){return u.gs=!1,m})});return this.Ts=d,d},c.prototype.yn=function(a,u,d){var m=this;this.vs(),this.Ps.indexOf(a)>-1&&(u=0);var E=oe._s(this,a,u,d,function(T){return m.Fs(T)});return this.As.push(E),E},c.prototype.vs=function(){this.Rs&&Le()},c.prototype.xs=function(){},c.prototype.$s=function(){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){switch(u.label){case 0:return[4,a=this.Ts];case 1:u.sent(),u.label=2;case 2:if(a!==this.Ts)return[3,0];u.label=3;case 3:return[2]}})})},c.prototype.ks=function(a){for(var u=0,d=this.As;u<d.length;u++)if(d[u].dn===a)return!0;return!1},c.prototype.Ms=function(a){var u=this;return this.$s().then(function(){u.As.sort(function(T,k){return T.us-k.us});for(var d=0,m=u.As;d<m.length;d++){var E=m[d];if(E.pn(),"all"!==a&&E.dn===a)break}return u.$s()})},c.prototype.Os=function(a){this.Ps.push(a)},c.prototype.Fs=function(a){var u=this.As.indexOf(a);this.As.splice(u,1)},c}();function Xe(c,a){if(ft("AsyncQueue",a+": "+c),As(c))return new Y(be.UNAVAILABLE,a+": "+c);throw c}var cn=function(){this.Ls=void 0,this.listeners=[]},Pn=function(){this.Bs=new Ar(function(c){return ru(c)},Io),this.onlineState="Unknown",this.qs=new Set};function Ir(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,E,T,k,j;return te.__generator(this,function(ne){switch(ne.label){case 0:if(u=Je(c),m=!1,(E=u.Bs.get(d=a.query))||(m=!0,E=new cn),!m)return[3,4];ne.label=1;case 1:return ne.trys.push([1,3,,4]),T=E,[4,u.Us(d)];case 2:return T.Ls=ne.sent(),[3,4];case 3:return k=ne.sent(),j=Xe(k,"Initialization of query '"+Ts(a.query)+"' failed"),[2,void a.onError(j)];case 4:return u.Bs.set(d,E),E.listeners.push(a),a.Qs(u.onlineState),E.Ls&&a.Ws(E.Ls)&&Va(u),[2]}})})}function oo(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,E,T;return te.__generator(this,function(k){return u=Je(c),m=!1,(E=u.Bs.get(d=a.query))&&(T=E.listeners.indexOf(a))>=0&&(E.listeners.splice(T,1),m=0===E.listeners.length),m?[2,(u.Bs.delete(d),u.js(d))]:[2]})})}function so(c,a){for(var u=Je(c),d=!1,m=0,E=a;m<E.length;m++){var T=E[m],j=u.Bs.get(T.query);if(j){for(var ne=0,fe=j.listeners;ne<fe.length;ne++)fe[ne].Ws(T)&&(d=!0);j.Ls=T}}d&&Va(u)}function Ci(c,a,u){var d=Je(c),m=d.Bs.get(a);if(m)for(var E=0,T=m.listeners;E<T.length;E++)T[E].onError(u);d.Bs.delete(a)}function Va(c){c.qs.forEach(function(a){a.next()})}var Ms=function(){function c(a,u,d){this.query=a,this.Ks=u,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=d||{}}return c.prototype.Ws=function(a){if(!this.options.includeMetadataChanges){for(var u=[],d=0,m=a.docChanges;d<m.length;d++){var E=m[d];3!==E.type&&u.push(E)}a=new At(a.query,a.docs,a.Qt,u,a.Wt,a.fromCache,a.jt,!0)}var T=!1;return this.Gs?this.Hs(a)&&(this.Ks.next(a),T=!0):this.Ys(a,this.onlineState)&&(this.Js(a),T=!0),this.zs=a,T},c.prototype.onError=function(a){this.Ks.error(a)},c.prototype.Qs=function(a){this.onlineState=a;var u=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,a)&&(this.Js(this.zs),u=!0),u},c.prototype.Ys=function(a,u){return!a.fromCache||!(this.options.Xs&&"Offline"!==u||a.docs.m()&&"Offline"!==u)},c.prototype.Hs=function(a){return a.docChanges.length>0||!!(a.jt||this.zs&&this.zs.hasPendingWrites!==a.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.Js=function(a){a=At.Gt(a.query,a.docs,a.Wt,a.fromCache),this.Gs=!0,this.Ks.next(a)},c}(),Xr=function(){function c(a){this.uid=a}return c.prototype.Zs=function(){return null!=this.uid},c.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(a){return a.uid===this.uid},c}();Xr.UNAUTHENTICATED=new Xr(null),Xr.ei=new Xr("google-credentials-uid"),Xr.ni=new Xr("first-party-uid");var Fr=function(){function c(a,u){var d=this;this.previousValue=a,u&&(u.si=function(m){return d.ii(m)},this.ri=function(m){return u.oi(m)})}return c.prototype.ii=function(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue},c.prototype.next=function(){var a=++this.previousValue;return this.ri&&this.ri(a),a},c}();function Iu(c,a){return"firestore_clients_"+c+"_"+a}function uc(c,a,u){var d="firestore_mutations_"+c+"_"+u;return a.Zs()&&(d+="_"+a.uid),d}function Cl(c,a){return"firestore_targets_"+c+"_"+a}Fr.ai=-1;var va=function(){function c(a,u,d,m){this.user=a,this.batchId=u,this.state=d,this.error=m}return c.ci=function(a,u,d){var m=JSON.parse(d),E="object"==typeof m&&-1!==["pending","acknowledged","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error),T=void 0;return E&&m.error&&(E="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(T=new Y(m.error.code,m.error.message)),E?new c(a,u,m.state,T):(ft("SharedClientState","Failed to parse mutation state for ID '"+u+"': "+d),null)},c.prototype.ui=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),Ua=function(){function c(a,u,d){this.targetId=a,this.state=u,this.error=d}return c.ci=function(a,u){var d=JSON.parse(u),m="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error),E=void 0;return m&&d.error&&(m="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(E=new Y(d.error.code,d.error.message)),m?new c(a,d.state,E):(ft("SharedClientState","Failed to parse target state for ID '"+a+"': "+u),null)},c.prototype.ui=function(){var a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)},c}(),Sl=function(){function c(a,u){this.clientId=a,this.activeTargetIds=u}return c.ci=function(a,u){for(var d=JSON.parse(u),m="object"==typeof d&&d.activeTargetIds instanceof Array,E=Ot(),T=0;m&&T<d.activeTargetIds.length;++T)m=ge(d.activeTargetIds[T]),E=E.add(d.activeTargetIds[T]);return m?new c(a,E):(ft("SharedClientState","Failed to parse client data for instance '"+a+"': "+u),null)},c}(),Gn=function(){function c(a,u){this.clientId=a,this.onlineState=u}return c.ci=function(a){var u=JSON.parse(a);return"object"==typeof u&&-1!==["Unknown","Online","Offline"].indexOf(u.onlineState)&&"string"==typeof u.clientId?new c(u.clientId,u.onlineState):(ft("SharedClientState","Failed to parse online state: "+a),null)},c}(),_o=function(){function c(){this.activeTargetIds=Ot()}return c.prototype.hi=function(a){this.activeTargetIds=this.activeTargetIds.add(a)},c.prototype.li=function(a){this.activeTargetIds=this.activeTargetIds.delete(a)},c.prototype.ui=function(){var a={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(a)},c}(),bi=function(){function c(a,u,d,m,E){this.window=a,this.fn=u,this.persistenceKey=d,this._i=m,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new sn(Ht),this.Ei=!1,this.Ii=[];var T=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Ai=Iu(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new _o),this.gi=new RegExp("^firestore_clients_"+T+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+T+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+T+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return c.Ln=function(a){return!(!a||!a.localStorage)},c.prototype.start=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,m,E,T,k,j,ne,fe,De=this;return te.__generator(this,function(We){switch(We.label){case 0:return[4,this.fi.pi()];case 1:for(a=We.sent(),u=0,d=a;u<d.length;u++)(m=d[u])!==this._i&&(E=this.getItem(Iu(this.persistenceKey,m)))&&(T=Sl.ci(m,E))&&(this.Ti=this.Ti.ot(T.clientId,T));for(this.bi(),(k=this.storage.getItem(this.Vi))&&(j=this.vi(k))&&this.Si(j),ne=0,fe=this.Ii;ne<fe.length;ne++)this.mi(fe[ne]);return this.Ii=[],this.window.addEventListener("unload",function(){return De.Di()}),this.Ei=!0,[2]}})})},c.prototype.oi=function(a){this.setItem(this.Ri,JSON.stringify(a))},c.prototype.Ci=function(){return this.Ni(this.Ti)},c.prototype.Fi=function(a){var u=!1;return this.Ti.forEach(function(d,m){m.activeTargetIds.has(a)&&(u=!0)}),u},c.prototype.xi=function(a){this.$i(a,"pending")},c.prototype.ki=function(a,u,d){this.$i(a,u,d),this.Mi(a)},c.prototype.Oi=function(a){var u="not-current";if(this.Fi(a)){var d=this.storage.getItem(Cl(this.persistenceKey,a));if(d){var m=Ua.ci(a,d);m&&(u=m.state)}}return this.Li.hi(a),this.bi(),u},c.prototype.Bi=function(a){this.Li.li(a),this.bi()},c.prototype.qi=function(a){return this.Li.activeTargetIds.has(a)},c.prototype.Ui=function(a){this.removeItem(Cl(this.persistenceKey,a))},c.prototype.Qi=function(a,u,d){this.Wi(a,u,d)},c.prototype.ji=function(a,u,d){var m=this;u.forEach(function(E){m.Mi(E)}),this.currentUser=a,d.forEach(function(E){m.xi(E)})},c.prototype.Ki=function(a){this.Gi(a)},c.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},c.prototype.getItem=function(a){var u=this.storage.getItem(a);return Ne("SharedClientState","READ",a,u),u},c.prototype.setItem=function(a,u){Ne("SharedClientState","SET",a,u),this.storage.setItem(a,u)},c.prototype.removeItem=function(a){Ne("SharedClientState","REMOVE",a),this.storage.removeItem(a)},c.prototype.mi=function(a){var u=this,d=a;if(d.storageArea===this.storage){if(Ne("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Ai)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return te.__awaiter(u,void 0,void 0,function(){var m,E,T,k,j,ne;return te.__generator(this,function(fe){if(this.Ei){if(null!==d.key)if(this.gi.test(d.key)){if(null==d.newValue)return m=this.zi(d.key),[2,this.Hi(m,null)];if(E=this.Yi(d.key,d.newValue))return[2,this.Hi(E.clientId,E)]}else if(this.Pi.test(d.key)){if(null!==d.newValue&&(T=this.Ji(d.key,d.newValue)))return[2,this.Xi(T)]}else if(this.yi.test(d.key)){if(null!==d.newValue&&(k=this.Zi(d.key,d.newValue)))return[2,this.tr(k)]}else if(d.key===this.Vi){if(null!==d.newValue&&(j=this.vi(d.newValue)))return[2,this.Si(j)]}else d.key===this.Ri&&(ne=function(Te){var De=Fr.ai;if(null!=Te)try{var We=JSON.parse(Te);dt("number"==typeof We),De=We}catch(st){ft("SharedClientState","Failed to read sequence number from WebStorage",st)}return De}(d.newValue))!==Fr.ai&&this.si(ne)}else this.Ii.push(d);return[2]})})})}},Object.defineProperty(c.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),c.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},c.prototype.$i=function(a,u,d){var m=new va(this.currentUser,a,u,d),E=uc(this.persistenceKey,this.currentUser,a);this.setItem(E,m.ui())},c.prototype.Mi=function(a){var u=uc(this.persistenceKey,this.currentUser,a);this.removeItem(u)},c.prototype.Gi=function(a){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:a}))},c.prototype.Wi=function(a,u,d){var m=Cl(this.persistenceKey,a),E=new Ua(a,u,d);this.setItem(m,E.ui())},c.prototype.zi=function(a){var u=this.gi.exec(a);return u?u[1]:null},c.prototype.Yi=function(a,u){var d=this.zi(a);return Sl.ci(d,u)},c.prototype.Ji=function(a,u){var d=this.Pi.exec(a),m=Number(d[1]);return va.ci(new Xr(void 0!==d[2]?d[2]:null),m,u)},c.prototype.Zi=function(a,u){var d=this.yi.exec(a),m=Number(d[1]);return Ua.ci(m,u)},c.prototype.vi=function(a){return Gn.ci(a)},c.prototype.Xi=function(a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){return a.user.uid===this.currentUser.uid?[2,this.fi.er(a.batchId,a.state,a.error)]:(Ne("SharedClientState","Ignoring mutation for non-active user "+a.user.uid),[2])})})},c.prototype.tr=function(a){return this.fi.nr(a.targetId,a.state,a.error)},c.prototype.Hi=function(a,u){var d=this,m=u?this.Ti.ot(a,u):this.Ti.remove(a),E=this.Ni(this.Ti),T=this.Ni(m),k=[],j=[];return T.forEach(function(ne){E.has(ne)||k.push(ne)}),E.forEach(function(ne){T.has(ne)||j.push(ne)}),this.fi.sr(k,j).then(function(){d.Ti=m})},c.prototype.Si=function(a){this.Ti.get(a.clientId)&&this.di(a.onlineState)},c.prototype.Ni=function(a){var u=Ot();return a.forEach(function(d,m){u=u.kt(m.activeTargetIds)}),u},c}(),Wu=function(){function c(){this.ir=new _o,this.rr={},this.di=null,this.si=null}return c.prototype.xi=function(a){},c.prototype.ki=function(a,u,d){},c.prototype.Oi=function(a){return this.ir.hi(a),this.rr[a]||"not-current"},c.prototype.Qi=function(a,u,d){this.rr[a]=u},c.prototype.Bi=function(a){this.ir.li(a)},c.prototype.qi=function(a){return this.ir.activeTargetIds.has(a)},c.prototype.Ui=function(a){delete this.rr[a]},c.prototype.Ci=function(){return this.ir.activeTargetIds},c.prototype.Fi=function(a){return this.ir.activeTargetIds.has(a)},c.prototype.start=function(){return this.ir=new _o,Promise.resolve()},c.prototype.ji=function(a,u,d){},c.prototype.Ki=function(a){},c.prototype.Di=function(){},c.prototype.oi=function(a){},c}(),ya=function(){function c(a,u,d,m){this.batchId=a,this.ar=u,this.baseMutations=d,this.mutations=m}return c.prototype.cr=function(a,u,d){for(var m=d.ur,E=0;E<this.mutations.length;E++){var T=this.mutations[E];T.key.isEqual(a)&&(u=$r(T,u,m[E]))}return u},c.prototype.hr=function(a,u){for(var d=0,m=this.baseMutations;d<m.length;d++){var E=m[d];E.key.isEqual(a)&&(u=ar(E,u,u,this.ar))}for(var T=u,k=0,j=this.mutations;k<j.length;k++){var ne=j[k];ne.key.isEqual(a)&&(u=ar(ne,u,T,this.ar))}return u},c.prototype.lr=function(a){var u=this,d=a;return this.mutations.forEach(function(m){var E=u.hr(m.key,a.get(m.key));E&&(d=d.ot(m.key,E))}),d},c.prototype.keys=function(){return this.mutations.reduce(function(a,u){return a.add(u.key)},Fe())},c.prototype.isEqual=function(a){return this.batchId===a.batchId&&wn(this.mutations,a.mutations,function(u,d){return Nr(u,d)})&&wn(this.baseMutations,a.baseMutations,function(u,d){return Nr(u,d)})},c}(),y=function(){function c(a,u,d,m){this.batch=a,this._r=u,this.ur=d,this.dr=m}return c.from=function(a,u,d){dt(a.mutations.length===d.length);for(var m=Ke,E=a.mutations,T=0;T<E.length;T++)m=m.ot(E[T].key,d[T].version);return new c(a,u,d,m)},c}(),f=function(){function c(){this.wr=new Ar(function(a){return a.toString()},function(a,u){return a.isEqual(u)}),this.mr=!1}return Object.defineProperty(c.prototype,"readTime",{get:function(){return this.Tr},set:function(a){this.Tr=a},enumerable:!1,configurable:!0}),c.prototype.Er=function(a,u){this.Ir(),this.readTime=u,this.wr.set(a.key,a)},c.prototype.Ar=function(a,u){this.Ir(),u&&(this.readTime=u),this.wr.set(a,null)},c.prototype.Rr=function(a,u){this.Ir();var d=this.wr.get(u);return void 0!==d?jt.resolve(d):this.gr(a,u)},c.prototype.getEntries=function(a,u){return this.Pr(a,u)},c.prototype.apply=function(a){return this.Ir(),this.mr=!0,this.yr(a)},c.prototype.Ir=function(){},c}(),g="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b=function(){function c(){this.Vr=[]}return c.prototype.pr=function(a){this.Vr.push(a)},c.prototype.br=function(){this.Vr.forEach(function(a){return a()})},c}(),D=function(){function c(a,u,d){this.vr=a,this.Sr=u,this.Dr=d}return c.prototype.Cr=function(a,u){var d=this;return this.Sr.Nr(a,u).next(function(m){return d.Fr(a,u,m)})},c.prototype.Fr=function(a,u,d){return this.vr.Rr(a,u).next(function(m){for(var E=0,T=d;E<T.length;E++)m=T[E].hr(u,m);return m})},c.prototype.$r=function(a,u,d){var m=Gi();return u.forEach(function(E,T){for(var k=0,j=d;k<j.length;k++)T=j[k].hr(E,T);m=m.ot(E,T)}),m},c.prototype.kr=function(a,u){var d=this;return this.vr.getEntries(a,u).next(function(m){return d.Mr(a,m)})},c.prototype.Mr=function(a,u){var d=this;return this.Sr.Or(a,u).next(function(m){var E=d.$r(a,u,m),T=an();return E.forEach(function(k,j){j||(j=new ui(k,On.min())),T=T.ot(k,j)}),T})},c.prototype.Lr=function(a,u,d){return I.F((m=u).path)&&null===m.collectionGroup&&0===m.filters.length?this.Br(a,u.path):Is(u)?this.qr(a,u,d):this.Ur(a,u,d);var m},c.prototype.Br=function(a,u){return this.Cr(a,new I(u)).next(function(d){var m=Be();return d instanceof Or&&(m=m.ot(d.key,d)),m})},c.prototype.qr=function(a,u,d){var m=this,E=u.collectionGroup,T=Be();return this.Dr.Qr(a,E).next(function(k){return jt.forEach(k,function(j){var fe,Te,ne=(fe=u,Te=j.child(E),new Cs(Te,null,fe.on.slice(),fe.filters.slice(),fe.limit,fe.an,fe.startAt,fe.endAt));return m.Ur(a,ne,d).next(function(fe){fe.forEach(function(Te,De){T=T.ot(Te,De)})})}).next(function(){return T})})},c.prototype.Ur=function(a,u,d){var m,E,T=this;return this.vr.Lr(a,u,d).next(function(k){return m=k,T.Sr.Wr(a,u)}).next(function(k){return T.jr(a,E=k,m).next(function(j){m=j;for(var ne=0,fe=E;ne<fe.length;ne++)for(var Te=fe[ne],De=0,We=Te.mutations;De<We.length;De++){var st=We[De],Et=st.key,Gt=m.get(Et),_n=ar(st,Gt,Gt,Te.ar);m=_n instanceof Or?m.ot(Et,_n):m.remove(Et)}})}).next(function(){return m.forEach(function(k,j){Ds(u,j)||(m=m.remove(k))}),m})},c.prototype.jr=function(a,u,d){for(var m=Fe(),E=0,T=u;E<T.length;E++)for(var k=0,j=T[E].mutations;k<j.length;k++){var ne=j[k];ne instanceof cr&&null===d.get(ne.key)&&(m=m.add(ne.key))}var fe=d;return this.vr.getEntries(a,m).next(function(Te){return Te.forEach(function(De,We){null!==We&&We instanceof Or&&(fe=fe.ot(De,We))}),fe})},c}(),x=function(){function c(a,u,d,m){this.targetId=a,this.fromCache=u,this.Kr=d,this.Gr=m}return c.zr=function(a,u){for(var d=Fe(),m=Fe(),E=0,T=u.docChanges;E<T.length;E++){var k=T[E];switch(k.type){case 0:d=d.add(k.doc.key);break;case 1:m=m.add(k.doc.key)}}return new c(a,u.fromCache,d,m)},c}();function z(c,a){var d=c[1],E=a[1],T=Ht(c[0],a[0]);return 0===T?Ht(d,E):T}var Q=function(){function c(a){this.Hr=a,this.buffer=new Sr(z),this.Yr=0}return c.prototype.Jr=function(){return++this.Yr},c.prototype.Xr=function(a){var u=[a,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(u);else{var d=this.buffer.last();z(u,d)<0&&(this.buffer=this.buffer.delete(d).add(u))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),ce={Zr:!1,eo:0,no:0,so:0},ae=function(){function c(a,u,d){this.io=a,this.ro=u,this.oo=d}return c.ao=function(a){return new c(a,c.co,c.uo)},c}();ae.ho=-1,ae.lo=1048576,ae._o=41943040,ae.co=10,ae.uo=1e3,ae.fo=new ae(ae._o,ae.co,ae.uo),ae.do=new ae(ae.ho,0,0);var He=function(){function c(a,u){this.wo=a,this.cs=u,this.mo=!1,this.To=null}return c.prototype.start=function(a){this.wo.params.io!==ae.ho&&this.Eo(a)},c.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(c.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),c.prototype.Eo=function(a){var u=this,d=this.mo?3e5:6e4;Ne("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.To=this.cs.yn("lru_garbage_collection",d,function(){return te.__awaiter(u,void 0,void 0,function(){var m;return te.__generator(this,function(E){switch(E.label){case 0:this.To=null,this.mo=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,a.Io(this.wo)];case 2:return E.sent(),[3,7];case 3:return As(m=E.sent())?(Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,ba(m)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.Eo(a)];case 8:return E.sent(),[2]}})})})},c}(),nt=function(){function c(a,u){this.Ao=a,this.params=u}return c.prototype.Ro=function(a,u){return this.Ao.Po(a).next(function(d){return Math.floor(u/100*d)})},c.prototype.yo=function(a,u){var d=this;if(0===u)return jt.resolve(Fr.ai);var m=new Q(u);return this.Ao.Ce(a,function(E){return m.Xr(E.sequenceNumber)}).next(function(){return d.Ao.Vo(a,function(E){return m.Xr(E)})}).next(function(){return m.maxValue})},c.prototype.po=function(a,u,d){return this.Ao.po(a,u,d)},c.prototype.bo=function(a,u){return this.Ao.bo(a,u)},c.prototype.vo=function(a,u){var d=this;return this.params.io===ae.ho?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(ce)):this.So(a).next(function(m){return m<d.params.io?(Ne("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+d.params.io),ce):d.Do(a,u)})},c.prototype.So=function(a){return this.Ao.So(a)},c.prototype.Do=function(a,u){var d,m,E,T,k,j,ne,fe=this,Te=Date.now();return this.Ro(a,this.params.ro).next(function(De){return De>fe.params.oo?(Ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+fe.params.oo+" from "+De),m=fe.params.oo):m=De,T=Date.now(),fe.yo(a,m)}).next(function(De){return d=De,k=Date.now(),fe.po(a,d,u)}).next(function(De){return E=De,j=Date.now(),fe.bo(a,d)}).next(function(De){return ne=Date.now(),it()<=re.LogLevel.DEBUG&&Ne("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(T-Te)+"ms\n\tDetermined least recently used "+m+" in "+(k-T)+"ms\n\tRemoved "+E+" targets in "+(j-k)+"ms\n\tRemoved "+De+" documents in "+(ne-j)+"ms\nTotal Duration: "+(ne-Te)+"ms"),jt.resolve({Zr:!0,eo:m,no:E,so:De})})},c}();function _t(c){for(var a="",u=0;u<c.length;u++)a.length>0&&(a=Zt(a)),a=xt(c.get(u),a);return Zt(a)}function xt(c,a){for(var u=a,d=c.length,m=0;m<d;m++){var E=c.charAt(m);switch(E){case"\0":u+="\x01\x10";break;case"\x01":u+="\x01\x11";break;default:u+=E}}return u}function Zt(c){return c+"\x01\x01"}function un(c){var a=c.length;if(dt(a>=2),2===a)return dt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),pt.P();for(var u=a-2,d=[],m="",E=0;E<a;){var T=c.indexOf("\x01",E);switch((T<0||T>u)&&Le(),c.charAt(T+1)){case"\x01":var k=c.substring(E,T),j=void 0;0===m.length?j=k:(j=m+=k,m=""),d.push(j);break;case"\x10":m+=c.substring(E,T),m+="\0";break;case"\x11":m+=c.substring(E,T+1);break;default:Le()}E=T+2}return new pt(d)}var Wn=function(c){this.Co=c};function Zn(c,a){if(a.document)return j=!!a.hasCommittedMutations,ne=Hn(c.Co,(k=a.document).name),fe=zo(k.updateTime),Te=new Gs({mapValue:{fields:k.fields}}),new Or(ne,fe,Te,{hasCommittedMutations:!!j});var k,j,ne,fe,Te;if(a.noDocument){var u=I.$(a.noDocument.path),d=Ki(a.noDocument.readTime);return new ui(u,d,{hasCommittedMutations:!!a.hasCommittedMutations})}if(a.unknownDocument){var m=I.$(a.unknownDocument.path),E=Ki(a.unknownDocument.version);return new jr(m,E)}return Le()}function vo(c,a,u){var De,We,d=$i(u),m=a.key.path.h().A();if(a instanceof Or){var E={name:no(De=c.Co,(We=a).key),fields:We.rn().mapValue.fields,updateTime:nu(De,We.version.Z())};return new Si(null,null,E,a.hasCommittedMutations,d,m)}if(a instanceof ui){var k=a.key.path.A(),j=mn(a.version),ne=a.hasCommittedMutations;return new Si(null,new Em(k,j),null,ne,d,m)}if(a instanceof jr){var fe=a.key.path.A(),Te=mn(a.version);return new Si(new Cm(fe,Te),null,null,!0,d,m)}return Le()}function $i(c){var a=c.Z();return[a.seconds,a.nanoseconds]}function yo(c){var a=new Qn(c[0],c[1]);return On.J(a)}function mn(c){var a=c.Z();return new ro(a.seconds,a.nanoseconds)}function Ki(c){var a=new Qn(c.seconds,c.nanoseconds);return On.J(a)}function hs(c,a){var u=(a.baseMutations||[]).map(function(E){return $t(c.Co,E)}),d=a.mutations.map(function(E){return $t(c.Co,E)}),m=Qn.fromMillis(a.localWriteTimeMs);return new ya(a.batchId,m,u,d)}function oh(c){var a,u,d=Ki(c.readTime),m=void 0!==c.lastLimboFreeSnapshotVersion?Ki(c.lastLimboFreeSnapshotVersion):On.min();return void 0!==c.query.documents?(dt(1===(u=c.query).documents.length),a=zi(Li(js(u.documents[0])))):a=Go(c.query),new Dn(a,c.targetId,0,c.lastListenSequenceNumber,d,m,Kt.fromBase64String(c.resumeToken))}function Jh(c,a){var u,d=mn(a.nt),m=mn(a.lastLimboFreeSnapshotVersion);u=zt(a.target)?qn(c.Co,a.target):Hs(c.Co,a.target);var E=a.resumeToken.toBase64();return new Vo(a.targetId,Ue(a.target),d,E,a.sequenceNumber,m,u)}var sh=function(){function c(a,u,d,m){this.userId=a,this.serializer=u,this.Dr=d,this.No=m,this.Fo={}}return c.xo=function(a,u,d,m){return dt(""!==a.uid),new c(a.Zs()?a.uid:"",u,d,m)},c.prototype.$o=function(a){var u=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tu(a).rs({index:wi.userMutationsIndex,range:d},function(m,E,T){u=!1,T.done()}).next(function(){return u})},c.prototype.ko=function(a,u,d,m){var E=this,T=Du(a),k=Tu(a);return k.add({}).next(function(j){dt("number"==typeof j);for(var ne=new ya(j,u,d,m),fe=function(_n,$n,ur){var zr=ur.baseMutations.map(function(Bi){return Hi(_n.Co,Bi)}),_i=ur.mutations.map(function(Bi){return Hi(_n.Co,Bi)});return new wi($n,ur.batchId,ur.ar.toMillis(),zr,_i)}(E.serializer,E.userId,ne),Te=[],De=new Sr(function(_n,$n){return Ht(_n.R(),$n.R())}),We=0,st=m;We<st.length;We++){var Et=st[We],Gt=Yo.key(E.userId,Et.key.path,j);De=De.add(Et.key.path.h()),Te.push(k.put(fe)),Te.push(T.put(Gt,Yo.PLACEHOLDER))}return De.forEach(function(_n){Te.push(E.Dr.Mo(a,_n))}),a.pr(function(){E.Fo[j]=ne.keys()}),jt.$n(Te).next(function(){return ne})})},c.prototype.Oo=function(a,u){var d=this;return Tu(a).get(u).next(function(m){return m?(dt(m.userId===d.userId),hs(d.serializer,m)):null})},c.prototype.Lo=function(a,u){var d=this;return this.Fo[u]?jt.resolve(this.Fo[u]):this.Oo(a,u).next(function(m){if(m){var E=m.keys();return d.Fo[u]=E,E}return null})},c.prototype.Bo=function(a,u){var d=this,m=u+1,E=IDBKeyRange.lowerBound([this.userId,m]),T=null;return Tu(a).rs({index:wi.userMutationsIndex,range:E},function(k,j,ne){j.userId===d.userId&&(dt(j.batchId>=m),T=hs(d.serializer,j)),ne.done()}).next(function(){return T})},c.prototype.qo=function(a){var u=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return Tu(a).rs({index:wi.userMutationsIndex,range:u,reverse:!0},function(m,E,T){d=E.batchId,T.done()}).next(function(){return d})},c.prototype.Uo=function(a){var u=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tu(a).ts(wi.userMutationsIndex,d).next(function(m){return m.map(function(E){return hs(u.serializer,E)})})},c.prototype.Nr=function(a,u){var d=this,m=Yo.prefixForPath(this.userId,u.path),E=IDBKeyRange.lowerBound(m),T=[];return Du(a).rs({range:E},function(k,j,ne){var fe=k[0],De=k[2],We=un(k[1]);if(fe===d.userId&&u.path.isEqual(We))return Tu(a).get(De).next(function(st){if(!st)throw Le();dt(st.userId===d.userId),T.push(hs(d.serializer,st))});ne.done()}).next(function(){return T})},c.prototype.Or=function(a,u){var d=this,m=new Sr(Ht),E=[];return u.forEach(function(T){var k=Yo.prefixForPath(d.userId,T.path),j=IDBKeyRange.lowerBound(k),ne=Du(a).rs({range:j},function(fe,Te,De){var We=fe[0],Et=fe[2],Gt=un(fe[1]);We===d.userId&&T.path.isEqual(Gt)?m=m.add(Et):De.done()});E.push(ne)}),jt.$n(E).next(function(){return d.Qo(a,m)})},c.prototype.Wr=function(a,u){var d=this,m=u.path,E=m.length+1,T=Yo.prefixForPath(this.userId,m),k=IDBKeyRange.lowerBound(T),j=new Sr(Ht);return Du(a).rs({range:k},function(ne,fe,Te){var De=ne[0],st=ne[2],Et=un(ne[1]);De===d.userId&&m.T(Et)?Et.length===E&&(j=j.add(st)):Te.done()}).next(function(){return d.Qo(a,j)})},c.prototype.Qo=function(a,u){var d=this,m=[],E=[];return u.forEach(function(T){E.push(Tu(a).get(T).next(function(k){if(null===k)throw Le();dt(k.userId===d.userId),m.push(hs(d.serializer,k))}))}),jt.$n(E).next(function(){return m})},c.prototype.Wo=function(a,u){var d=this;return lc(a.jo,this.userId,u).next(function(m){return a.pr(function(){d.Ko(u.batchId)}),jt.forEach(m,function(E){return d.No.Go(a,E)})})},c.prototype.Ko=function(a){delete this.Fo[a]},c.prototype.zo=function(a){var u=this;return this.$o(a).next(function(d){if(!d)return jt.resolve();var m=IDBKeyRange.lowerBound(Yo.prefixForUser(u.userId)),E=[];return Du(a).rs({range:m},function(T,k,j){if(T[0]===u.userId){var ne=un(T[1]);E.push(ne)}else j.done()}).next(function(){dt(0===E.length)})})},c.prototype.Ho=function(a,u){return ah(a,this.userId,u)},c.prototype.Yo=function(a){var u=this;return Il(a).get(this.userId).next(function(d){return d||new Au(u.userId,-1,"")})},c}();function ah(c,a,u){var d=Yo.prefixForPath(a,u.path),m=d[1],E=IDBKeyRange.lowerBound(d),T=!1;return Du(c).rs({range:E,ss:!0},function(k,j,ne){k[0]===a&&k[1]===m&&(T=!0),ne.done()}).next(function(){return T})}function lc(c,a,u){var d=c.store(wi.store),m=c.store(Yo.store),E=[],T=IDBKeyRange.only(u.batchId),k=0,j=d.rs({range:T},function(st,Et,Gt){return k++,Gt.delete()});E.push(j.next(function(){dt(1===k)}));for(var ne=[],fe=0,Te=u.mutations;fe<Te.length;fe++){var De=Te[fe],We=Yo.key(a,De.key.path,u.batchId);E.push(m.delete(We)),ne.push(De.key)}return jt.$n(E).next(function(){return ne})}function Tu(c){return fs.Qn(c,wi.store)}function Du(c){return fs.Qn(c,Yo.store)}function Il(c){return fs.Qn(c,Au.store)}var Zh=function(){function c(a,u){this.serializer=a,this.Dr=u}return c.prototype.Er=function(a,u,d){return Ba(a).put(su(u),d)},c.prototype.Ar=function(a,u){var d=Ba(a),m=su(u);return d.delete(m)},c.prototype.updateMetadata=function(a,u){var d=this;return this.getMetadata(a).next(function(m){return m.byteSize+=u,d.Jo(a,m)})},c.prototype.Rr=function(a,u){var d=this;return Ba(a).get(su(u)).next(function(m){return d.Xo(m)})},c.prototype.Zo=function(a,u){var d=this;return Ba(a).get(su(u)).next(function(m){var E=d.Xo(m);return E?{ta:E,size:$u(m)}:null})},c.prototype.getEntries=function(a,u){var d=this,m=Gi();return this.ea(a,u,function(E,T){var k=d.Xo(T);m=m.ot(E,k)}).next(function(){return m})},c.prototype.na=function(a,u){var d=this,m=Gi(),E=new sn(I.i);return this.ea(a,u,function(T,k){var j=d.Xo(k);j?(m=m.ot(T,j),E=E.ot(T,$u(k))):(m=m.ot(T,null),E=E.ot(T,0))}).next(function(){return{sa:m,ia:E}})},c.prototype.ea=function(a,u,d){if(u.m())return jt.resolve();var m=IDBKeyRange.bound(u.first().path.A(),u.last().path.A()),E=u._t(),T=E.It();return Ba(a).rs({range:m},function(k,j,ne){for(var fe=I.$(k);T&&I.i(T,fe)<0;)d(T,null),T=E.It();T&&T.isEqual(fe)&&(d(T,j),T=E.At()?E.It():null),T?ne.Xn(T.path.A()):ne.done()}).next(function(){for(;T;)d(T,null),T=E.At()?E.It():null})},c.prototype.Lr=function(a,u,d){var m=this,E=Be(),T=u.path.length+1,k={};if(d.isEqual(On.min())){var j=u.path.A();k.range=IDBKeyRange.lowerBound(j)}else{var ne=u.path.A(),fe=$i(d);k.range=IDBKeyRange.lowerBound([ne,fe],!0),k.index=Si.collectionReadTimeIndex}return Ba(a).rs(k,function(Te,De,We){if(Te.length===T){var st=Zn(m.serializer,De);u.path.T(st.key.path)?st instanceof Or&&Ds(u,st)&&(E=E.ot(st.key,st)):We.done()}}).next(function(){return E})},c.prototype.ra=function(a){return new cc(this,!!a&&a.oa)},c.prototype.aa=function(a){return this.getMetadata(a).next(function(u){return u.byteSize})},c.prototype.getMetadata=function(a){return nd(a).get(Os.key).next(function(u){return dt(!!u),u})},c.prototype.Jo=function(a,u){return nd(a).put(Os.key,u)},c.prototype.Xo=function(a){if(a){var u=Zn(this.serializer,a);return u instanceof ui&&u.version.isEqual(On.min())?null:u}return null},c}(),cc=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).ca=u,m.oa=d,m.ua=new Ar(function(E){return E.toString()},function(E,T){return E.isEqual(T)}),m}return te.__extends(a,c),a.prototype.yr=function(u){var d=this,m=[],E=0,T=new Sr(function(k,j){return Ht(k.R(),j.R())});return this.wr.forEach(function(k,j){var ne=d.ua.get(k);if(j){var fe=vo(d.ca.serializer,j,d.readTime);T=T.add(k.path.h());var Te=$u(fe);E+=Te-ne,m.push(d.ca.Er(u,k,fe))}else if(E-=ne,d.oa){var De=vo(d.ca.serializer,new ui(k,On.min()),d.readTime);m.push(d.ca.Er(u,k,De))}else m.push(d.ca.Ar(u,k))}),T.forEach(function(k){m.push(d.ca.Dr.Mo(u,k))}),m.push(this.ca.updateMetadata(u,E)),jt.$n(m)},a.prototype.gr=function(u,d){var m=this;return this.ca.Zo(u,d).next(function(E){return null===E?(m.ua.set(d,0),null):(m.ua.set(d,E.size),E.ta)})},a.prototype.Pr=function(u,d){var m=this;return this.ca.na(u,d).next(function(E){var T=E.sa;return E.ia.forEach(function(k,j){m.ua.set(k,j)}),T})},a}(f);function nd(c){return fs.Qn(c,Os.store)}function Ba(c){return fs.Qn(c,Si.store)}function su(c){return c.path.A()}function $u(c){var a;if(c.document)a=c.document;else if(c.unknownDocument)a=c.unknownDocument;else{if(!c.noDocument)throw Le();a=c.noDocument}return JSON.stringify(a).length}var wm=function(){function c(){this.ha=new Ko}return c.prototype.Mo=function(a,u){return this.ha.add(u),jt.resolve()},c.prototype.Qr=function(a,u){return jt.resolve(this.ha.getEntries(u))},c}(),Ko=function(){function c(){this.index={}}return c.prototype.add=function(a){var u=a._(),d=a.h(),m=this.index[u]||new Sr(pt.i),E=!m.has(d);return this.index[u]=m.add(d),E},c.prototype.has=function(a){var u=a._(),d=a.h(),m=this.index[u];return m&&m.has(d)},c.prototype.getEntries=function(a){return(this.index[a]||new Sr(pt.i)).A()},c}(),Ku=function(){function c(a){this.serializer=a}return c.prototype.createOrUpgrade=function(a,u,d,m){var E=this;dt(d<m&&d>=0&&m<=10);var j,T=new yi("createOrUpgrade",u);d<1&&m>=1&&(a.createObjectStore(To.store),(j=a).createObjectStore(Au.store,{keyPath:Au.keyPath}),j.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0}),j.createObjectStore(Yo.store),Mu(a),function(j){j.createObjectStore(Si.store)}(a));var k=jt.resolve();return d<3&&m>=3&&(0!==d&&(function(j){j.deleteObjectStore(Do.store),j.deleteObjectStore(Vo.store),j.deleteObjectStore(xs.store)}(a),Mu(a)),k=k.next(function(){return function(j){var ne=j.store(xs.store),fe=new xs(0,0,On.min().Z(),0);return ne.put(xs.key,fe)}(T)})),d<4&&m>=4&&(0!==d&&(k=k.next(function(){return function(j,ne){return ne.store(wi.store).ts().next(function(fe){j.deleteObjectStore(wi.store),j.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0});var Te=ne.store(wi.store),De=fe.map(function(We){return Te.put(We)});return jt.$n(De)})}(a,T)})),k=k.next(function(){!function(j){j.createObjectStore(Js.store,{keyPath:Js.keyPath})}(a)})),d<5&&m>=5&&(k=k.next(function(){return E.removeAcknowledgedMutations(T)})),d<6&&m>=6&&(k=k.next(function(){return function(j){j.createObjectStore(Os.store)}(a),E.addDocumentGlobal(T)})),d<7&&m>=7&&(k=k.next(function(){return E.ensureSequenceNumbers(T)})),d<8&&m>=8&&(k=k.next(function(){return E.createCollectionParentIndex(a,T)})),d<9&&m>=9&&(k=k.next(function(){(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(a),function(j){var ne=j.objectStore(Si.store);ne.createIndex(Si.readTimeIndex,Si.readTimeIndexPath,{unique:!1}),ne.createIndex(Si.collectionReadTimeIndex,Si.collectionReadTimeIndexPath,{unique:!1})}(u)})),d<10&&m>=10&&(k=k.next(function(){return E.rewriteCanonicalIds(T)})),k},c.prototype.addDocumentGlobal=function(a){var u=0;return a.store(Si.store).rs(function(d,m){u+=$u(m)}).next(function(){var d=new Os(u);return a.store(Os.store).put(Os.key,d)})},c.prototype.removeAcknowledgedMutations=function(a){var u=this,d=a.store(Au.store),m=a.store(wi.store);return d.ts().next(function(E){return jt.forEach(E,function(T){var k=IDBKeyRange.bound([T.userId,-1],[T.userId,T.lastAcknowledgedBatchId]);return m.ts(wi.userMutationsIndex,k).next(function(j){return jt.forEach(j,function(ne){dt(ne.userId===T.userId);var fe=hs(u.serializer,ne);return lc(a,T.userId,fe).next(function(){})})})})})},c.prototype.ensureSequenceNumbers=function(a){var u=a.store(Do.store),d=a.store(Si.store);return a.store(xs.store).get(xs.key).next(function(m){var E=[];return d.rs(function(T,k){var j=new pt(T),ne=[0,_t(j)];E.push(u.get(ne).next(function(fe){return fe?jt.resolve():u.put(new Do(0,_t(j),m.highestListenSequenceNumber))}))}).next(function(){return jt.$n(E)})})},c.prototype.createCollectionParentIndex=function(a,u){a.createObjectStore(Yu.store,{keyPath:Yu.keyPath});var d=u.store(Yu.store),m=new Ko,E=function(T){if(m.add(T)){var k=T._(),j=T.h();return d.put({collectionId:k,parent:_t(j)})}};return u.store(Si.store).rs({ss:!0},function(T,k){var j=new pt(T);return E(j.h())}).next(function(){return u.store(Yo.store).rs({ss:!0},function(T,k){var ne=un(T[1]);return E(ne.h())})})},c.prototype.rewriteCanonicalIds=function(a){var u=this,d=a.store(Vo.store);return d.rs(function(m,E){var T=oh(E),k=Jh(u.serializer,T);return d.put(k)})},c}(),ro=function(c,a){this.seconds=c,this.nanoseconds=a},To=function(c,a,u){this.ownerId=c,this.allowTabSynchronization=a,this.leaseTimestampMs=u};To.store="owner",To.key="owner";var Au=function(c,a,u){this.userId=c,this.lastAcknowledgedBatchId=a,this.lastStreamToken=u};Au.store="mutationQueues",Au.keyPath="userId";var wi=function(c,a,u,d,m){this.userId=c,this.batchId=a,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=m};wi.store="mutations",wi.keyPath="batchId",wi.userMutationsIndex="userMutationsIndex",wi.userMutationsKeyPath=["userId","batchId"];var Yo=function(){function c(){}return c.prefixForUser=function(a){return[a]},c.prefixForPath=function(a,u){return[a,_t(u)]},c.key=function(a,u,d){return[a,_t(u),d]},c}();Yo.store="documentMutations",Yo.PLACEHOLDER=new Yo;var Em=function(c,a){this.path=c,this.readTime=a},Cm=function(c,a){this.path=c,this.version=a},Si=function(c,a,u,d,m,E){this.unknownDocument=c,this.noDocument=a,this.document=u,this.hasCommittedMutations=d,this.readTime=m,this.parentPath=E};Si.store="remoteDocuments",Si.readTimeIndex="readTimeIndex",Si.readTimeIndexPath="readTime",Si.collectionReadTimeIndex="collectionReadTimeIndex",Si.collectionReadTimeIndexPath=["parentPath","readTime"];var Os=function(c){this.byteSize=c};Os.store="remoteDocumentGlobal",Os.key="remoteDocumentGlobalKey";var Vo=function(c,a,u,d,m,E,T){this.targetId=c,this.canonicalId=a,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=E,this.query=T};Vo.store="targets",Vo.keyPath="targetId",Vo.queryTargetsIndexName="queryTargetsIndex",Vo.queryTargetsKeyPath=["canonicalId","targetId"];var Do=function(c,a,u){this.targetId=c,this.path=a,this.sequenceNumber=u};Do.store="targetDocuments",Do.keyPath=["targetId","path"],Do.documentTargetsIndex="documentTargetsIndex",Do.documentTargetsKeyPath=["path","targetId"];var xs=function(c,a,u,d){this.highestTargetId=c,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=u,this.targetCount=d};xs.key="targetGlobalKey",xs.store="targetGlobal";var Yu=function(c,a){this.collectionId=c,this.parent=a};function Mu(c){c.createObjectStore(Do.store,{keyPath:Do.keyPath}).createIndex(Do.documentTargetsIndex,Do.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Vo.store,{keyPath:Vo.keyPath}).createIndex(Vo.queryTargetsIndexName,Vo.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(xs.store)}Yu.store="collectionParents",Yu.keyPath=["collectionId","parent"];var Js=function(c,a,u,d){this.clientId=c,this.updateTimeMs=a,this.networkEnabled=u,this.inForeground=d};Js.store="clientMetadata",Js.keyPath="clientId";var Ep=te.__spreadArrays(te.__spreadArrays(te.__spreadArrays([Au.store,wi.store,Yo.store,Si.store,Vo.store,To.store,xs.store,Do.store],[Js.store]),[Os.store]),[Yu.store]),ef=function(){function c(){this.la=new Ko}return c.prototype.Mo=function(a,u){var d=this;if(!this.la.has(u)){var m=u._(),E=u.h();a.pr(function(){d.la.add(u)});var T={collectionId:m,parent:_t(E)};return Tl(a).put(T)}return jt.resolve()},c.prototype.Qr=function(a,u){var d=[],m=IDBKeyRange.bound([u,""],[rn(u),""],!1,!0);return Tl(a).ts(m).next(function(E){for(var T=0,k=E;T<k.length;T++){var j=k[T];if(j.collectionId!==u)break;d.push(un(j.parent))}return d})},c}();function Tl(c){return fs.Qn(c,Yu.store)}var Dl=function(){function c(a){this._a=a}return c.prototype.next=function(){return this._a+=2,this._a},c.fa=function(){return new c(0)},c.da=function(){return new c(-1)},c}(),rd=function(){function c(a,u){this.No=a,this.serializer=u}return c.prototype.wa=function(a){var u=this;return this.ma(a).next(function(d){var m=new Dl(d.highestTargetId);return d.highestTargetId=m.next(),u.Ta(a,d).next(function(){return d.highestTargetId})})},c.prototype.Ea=function(a){return this.ma(a).next(function(u){return On.J(new Qn(u.lastRemoteSnapshotVersion.seconds,u.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.Ia=function(a){return this.ma(a).next(function(u){return u.highestListenSequenceNumber})},c.prototype.Aa=function(a,u,d){var m=this;return this.ma(a).next(function(E){return E.highestListenSequenceNumber=u,d&&(E.lastRemoteSnapshotVersion=d.Z()),u>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=u),m.Ta(a,E)})},c.prototype.Ra=function(a,u){var d=this;return this.ga(a,u).next(function(){return d.ma(a).next(function(m){return m.targetCount+=1,d.Pa(u,m),d.Ta(a,m)})})},c.prototype.ya=function(a,u){return this.ga(a,u)},c.prototype.Va=function(a,u){var d=this;return this.pa(a,u.targetId).next(function(){return Al(a).delete(u.targetId)}).next(function(){return d.ma(a)}).next(function(m){return dt(m.targetCount>0),m.targetCount-=1,d.Ta(a,m)})},c.prototype.po=function(a,u,d){var m=this,E=0,T=[];return Al(a).rs(function(k,j){var ne=oh(j);ne.sequenceNumber<=u&&null===d.get(ne.targetId)&&(E++,T.push(m.Va(a,ne)))}).next(function(){return jt.$n(T)}).next(function(){return E})},c.prototype.Ce=function(a,u){return Al(a).rs(function(d,m){var E=oh(m);u(E)})},c.prototype.ma=function(a){return Sm(a).get(xs.key).next(function(u){return dt(null!==u),u})},c.prototype.Ta=function(a,u){return Sm(a).put(xs.key,u)},c.prototype.ga=function(a,u){return Al(a).put(Jh(this.serializer,u))},c.prototype.Pa=function(a,u){var d=!1;return a.targetId>u.highestTargetId&&(u.highestTargetId=a.targetId,d=!0),a.sequenceNumber>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=a.sequenceNumber,d=!0),d},c.prototype.ba=function(a){return this.ma(a).next(function(u){return u.targetCount})},c.prototype.va=function(a,u){var d=Ue(u),m=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),E=null;return Al(a).rs({range:m,index:Vo.queryTargetsIndexName},function(T,k,j){var ne=oh(k);Wt(u,ne.target)&&(E=ne,j.done())}).next(function(){return E})},c.prototype.Sa=function(a,u,d){var m=this,E=[],T=Qu(a);return u.forEach(function(k){var j=_t(k.path);E.push(T.put(new Do(d,j))),E.push(m.No.Da(a,d,k))}),jt.$n(E)},c.prototype.Ca=function(a,u,d){var m=this,E=Qu(a);return jt.forEach(u,function(T){var k=_t(T.path);return jt.$n([E.delete([d,k]),m.No.Na(a,d,T)])})},c.prototype.pa=function(a,u){var d=Qu(a),m=IDBKeyRange.bound([u],[u+1],!1,!0);return d.delete(m)},c.prototype.Fa=function(a,u){var d=IDBKeyRange.bound([u],[u+1],!1,!0),m=Qu(a),E=Fe();return m.rs({range:d,ss:!0},function(T,k,j){var ne=un(T[1]),fe=new I(ne);E=E.add(fe)}).next(function(){return E})},c.prototype.Ho=function(a,u){var d=_t(u.path),m=IDBKeyRange.bound([d],[rn(d)],!1,!0),E=0;return Qu(a).rs({index:Do.documentTargetsIndex,ss:!0,range:m},function(T,k,j){0!==T[0]&&(E++,j.done())}).next(function(){return E>0})},c.prototype.Ue=function(a,u){return Al(a).get(u).next(function(d){return d?oh(d):null})},c}();function Al(c){return fs.Qn(c,Vo.store)}function Sm(c){return fs.Qn(c,xs.store)}function Qu(c){return fs.Qn(c,Do.store)}var Ml="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uh=function(c){function a(u,d){var m=this;return(m=c.call(this)||this).jo=u,m.xa=d,m}return te.__extends(a,c),a}(b),fs=function(){function c(a,u,d,m,E,T,k,j,ne,fe){if(this.allowTabSynchronization=a,this.persistenceKey=u,this.clientId=d,this.fn=E,this.window=T,this.document=k,this.$a=ne,this.ka=fe,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(Te){return Promise.resolve()},!c.Ln())throw new Y(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new hc(this,m),this.Wa=u+"main",this.serializer=new Wn(j),this.ja=new ni(this.Wa,10,new Ku(this.serializer)),this.Ka=new rd(this.No,this.serializer),this.Dr=new ef,this.vr=new Zh(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===fe&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.Qn=function(a,u){if(a instanceof uh)return ni.Qn(a.jo,u);throw Le()},c.prototype.start=function(){var a=this;return this.za().then(function(){if(!a.isPrimary&&!a.allowTabSynchronization)throw new Y(be.FAILED_PRECONDITION,Ml);return a.Ha(),a.Ya(),a.Ja(),a.runTransaction("getHighestListenSequenceNumber","readonly",function(u){return a.Ka.Ia(u)})}).then(function(u){a.Ma=new Fr(u,a.$a)}).then(function(){a.Oa=!0}).catch(function(u){return a.ja&&a.ja.close(),Promise.reject(u)})},c.prototype.Xa=function(a){var u=this;return this.Qa=function(d){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return this.Ei?[2,a(d)]:[2]})})},a(this.isPrimary)},c.prototype.Za=function(a){var u=this;this.ja.Kn(function(d){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){switch(m.label){case 0:return null===d.newVersion?[4,a()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},c.prototype.tc=function(a){var u=this;this.networkEnabled!==a&&(this.networkEnabled=a,this.fn.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},c.prototype.za=function(){var a=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(u){return lh(u).put(new Js(a.clientId,Date.now(),a.networkEnabled,a.inForeground)).next(function(){if(a.isPrimary)return a.ec(u).next(function(d){d||(a.isPrimary=!1,a.fn.Cs(function(){return a.Qa(!1)}))})}).next(function(){return a.nc(u)}).next(function(d){return a.isPrimary&&!d?a.sc(u).next(function(){return!1}):!!d&&a.ic(u).next(function(){return!0})})}).catch(function(u){if(As(u))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",u),a.isPrimary;if(!a.allowTabSynchronization)throw u;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",u),!1}).then(function(u){a.isPrimary!==u&&a.fn.Cs(function(){return a.Qa(u)}),a.isPrimary=u})},c.prototype.ec=function(a){var u=this;return ja(a).get(To.key).next(function(d){return jt.resolve(u.rc(d))})},c.prototype.oc=function(a){return lh(a).delete(this.clientId)},c.prototype.ac=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,E=this;return te.__generator(this,function(T){switch(T.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(k){var j=c.Qn(k,Js.store);return j.ts().next(function(ne){var fe=E.uc(ne,18e5),Te=ne.filter(function(De){return-1===fe.indexOf(De)});return jt.forEach(Te,function(De){return j.delete(De.clientId)}).next(function(){return Te})})}).catch(function(){return[]})]);case 1:if(a=T.sent(),this.Ga)for(u=0,d=a;u<d.length;u++)this.Ga.removeItem(this.hc(d[u].clientId));T.label=2;case 2:return[2]}})})},c.prototype.Ja=function(){var a=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return a.za().then(function(){return a.ac()}).then(function(){return a.Ja()})})},c.prototype.rc=function(a){return!!a&&a.ownerId===this.clientId},c.prototype.nc=function(a){var u=this;return this.ka?jt.resolve(!0):ja(a).get(To.key).next(function(d){if(null!==d&&u.cc(d.leaseTimestampMs,5e3)&&!u.lc(d.ownerId)){if(u.rc(d)&&u.networkEnabled)return!0;if(!u.rc(d)){if(!d.allowTabSynchronization)throw new Y(be.FAILED_PRECONDITION,Ml);return!1}}return!(!u.networkEnabled||!u.inForeground)||lh(a).ts().next(function(m){return void 0===u.uc(m,5e3).find(function(E){return!(u.clientId===E.clientId||!(!u.networkEnabled&&E.networkEnabled||!u.inForeground&&E.inForeground&&u.networkEnabled===E.networkEnabled))})})}).next(function(d){return u.isPrimary!==d&&Ne("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},c.prototype.Di=function(){return te.__awaiter(this,void 0,void 0,function(){var a=this;return te.__generator(this,function(u){switch(u.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[To.store,Js.store],function(d){var m=new uh(d,Fr.ai);return a.sc(m).next(function(){return a.oc(m)})})];case 1:return u.sent(),this.ja.close(),this.wc(),[2]}})})},c.prototype.uc=function(a,u){var d=this;return a.filter(function(m){return d.cc(m.updateTimeMs,u)&&!d.lc(m.clientId)})},c.prototype.pi=function(){var a=this;return this.runTransaction("getActiveClients","readonly",function(u){return lh(u).ts().next(function(d){return a.uc(d,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.mc=function(a){return sh.xo(a,this.serializer,this.Dr,this.No)},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.Ic=function(){return this.Dr},c.prototype.runTransaction=function(a,u,d){var E,m=this;return Ne("IndexedDbPersistence","Starting transaction:",a),this.ja.runTransaction(a,"readonly"===u?"readonly":"readwrite",Ep,function(k){return E=new uh(k,m.Ma?m.Ma.next():Fr.ai),"readwrite-primary"===u?m.ec(E).next(function(j){return!!j||m.nc(E)}).next(function(j){if(!j)throw ft("Failed to obtain primary lease for action '"+a+"'."),m.isPrimary=!1,m.fn.Cs(function(){return m.Qa(!1)}),new Y(be.FAILED_PRECONDITION,g);return d(E)}).next(function(j){return m.ic(E).next(function(){return j})}):m.Ac(E).next(function(){return d(E)})}).then(function(k){return E.br(),k})},c.prototype.Ac=function(a){var u=this;return ja(a).get(To.key).next(function(d){if(null!==d&&u.cc(d.leaseTimestampMs,5e3)&&!u.lc(d.ownerId)&&!u.rc(d)&&!(u.ka||u.allowTabSynchronization&&d.allowTabSynchronization))throw new Y(be.FAILED_PRECONDITION,Ml)})},c.prototype.ic=function(a){var u=new To(this.clientId,this.allowTabSynchronization,Date.now());return ja(a).put(To.key,u)},c.Ln=function(){return ni.Ln()},c.prototype.sc=function(a){var u=this,d=ja(a);return d.get(To.key).next(function(m){return u.rc(m)?(Ne("IndexedDbPersistence","Releasing primary lease."),d.delete(To.key)):jt.resolve()})},c.prototype.cc=function(a,u){var d=Date.now();return!(a<d-u||a>d&&(ft("Detected an update time that is in the future: "+a+" > "+d),1))},c.prototype.Ha=function(){var a=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){a.fn.ws(function(){return a.inForeground="visible"===a.document.visibilityState,a.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},c.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},c.prototype.Ya=function(){var a,u=this;"function"==typeof(null===(a=this.window)||void 0===a?void 0:a.addEventListener)&&(this.La=function(){u._c(),u.fn.ws(function(){return u.Di()})},this.window.addEventListener("unload",this.La))},c.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},c.prototype.lc=function(a){var u;try{var d=null!==(null===(u=this.Ga)||void 0===u?void 0:u.getItem(this.hc(a)));return Ne("IndexedDbPersistence","Client '"+a+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(m){return ft("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},c.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(a){ft("Failed to set zombie client id.",a)}},c.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(a){}},c.prototype.hc=function(a){return"firestore_zombie_"+this.persistenceKey+"_"+a},c}();function ja(c){return fs.Qn(c,To.store)}function lh(c){return fs.Qn(c,Js.store)}var hc=function(){function c(a,u){this.db=a,this.wo=new nt(this,u)}return c.prototype.Po=function(a){var u=this.Rc(a);return this.db.Tc().ba(a).next(function(d){return u.next(function(m){return d+m})})},c.prototype.Rc=function(a){var u=0;return this.Vo(a,function(d){u++}).next(function(){return u})},c.prototype.Ce=function(a,u){return this.db.Tc().Ce(a,u)},c.prototype.Vo=function(a,u){return this.gc(a,function(d,m){return u(m)})},c.prototype.Da=function(a,u,d){return Ou(a,d)},c.prototype.Na=function(a,u,d){return Ou(a,d)},c.prototype.po=function(a,u,d){return this.db.Tc().po(a,u,d)},c.prototype.Go=function(a,u){return Ou(a,u)},c.prototype.Pc=function(a,u){return m=u,E=!1,Il(d=a).os(function(T){return ah(d,T,m).next(function(k){return k&&(E=!0),jt.resolve(!k)})}).next(function(){return E});var d,m,E},c.prototype.bo=function(a,u){var d=this,m=this.db.Ec().ra(),E=[],T=0;return this.gc(a,function(k,j){if(j<=u){var ne=d.Pc(a,k).next(function(fe){if(!fe)return T++,m.Rr(a,k).next(function(){return m.Ar(k),Qu(a).delete([0,_t(k.path)])})});E.push(ne)}}).next(function(){return jt.$n(E)}).next(function(){return m.apply(a)}).next(function(){return T})},c.prototype.removeTarget=function(a,u){var d=u.st(a.xa);return this.db.Tc().ya(a,d)},c.prototype.yc=function(a,u){return Ou(a,u)},c.prototype.gc=function(a,u){var d,m=Qu(a),E=Fr.ai;return m.rs({index:Do.documentTargetsIndex},function(T,k){var ne=k.path,fe=k.sequenceNumber;0===T[0]?(E!==Fr.ai&&u(new I(un(d)),E),E=fe,d=ne):E=Fr.ai}).next(function(){E!==Fr.ai&&u(new I(un(d)),E)})},c.prototype.So=function(a){return this.db.Ec().aa(a)},c}();function Ou(c,a){return Qu(c).put((d=c.xa,new Do(0,_t(a.path),d)));var d}function id(c,a){var u=c.projectId;return c.j||(u+="."+c.database),"firestore/"+a+"/"+u+"/"}var fc=function(){function c(a,u,d){this.persistence=a,this.Vc=u,this.bc=new sn(Ht),this.vc=new Ar(function(m){return Ue(m)},Wt),this.Sc=On.min(),this.Sr=a.mc(d),this.Dc=a.Ec(),this.Ka=a.Tc(),this.Cc=new D(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return c.prototype.Io=function(a){var u=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return a.vo(d,u.bc)})},c}();function dc(c,a){var u=Je(c);return u.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var T,k,j,ne,fe,Te,De,m=a.batch.keys(),E=u.Dc.ra({oa:!0});return(T=u,k=d,j=a,ne=E,fe=j.batch,Te=fe.keys(),De=jt.resolve(),Te.forEach(function(We){De=De.next(function(){return ne.Rr(k,We)}).next(function(st){var Et=st,Gt=j.dr.get(We);dt(null!==Gt),(!Et||Et.version.L(Gt)<0)&&(Et=fe.cr(We,Et,j))&&ne.Er(Et,j._r)})}),De.next(function(){return T.Sr.Wo(k,fe)})).next(function(){return E.apply(d)}).next(function(){return u.Sr.zo(d)}).next(function(){return u.Cc.kr(d,m)})})}function Xu(c){var a=Je(c);return a.persistence.runTransaction("Get last remote snapshot version","readonly",function(u){return a.Ka.Ea(u)})}function Im(c,a){var u=Je(c),d=a.nt,m=u.bc;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var T=u.Dc.ra({oa:!0});m=u.bc;var k=[];a.zt.forEach(function(Te,De){var Gt,_n,$n,We=m.get(De);if(We){k.push(u.Ka.Ca(E,Te.se,De).next(function(){return u.Ka.Sa(E,Te.ee,De)}));var st=Te.resumeToken;if(st.O()>0){var Et=We.it(st,d).st(E.xa);m=m.ot(De,Et),Gt=We,$n=Te,dt((_n=Et).resumeToken.O()>0),(0===Gt.resumeToken.O()||_n.nt.X()-Gt.nt.X()>=3e8||$n.ee.size+$n.ne.size+$n.se.size>0)&&k.push(u.Ka.ya(E,Et))}}});var j=an(),ne=Fe();if(a.Yt.forEach(function(Te,De){ne=ne.add(Te)}),k.push(T.getEntries(E,ne).next(function(Te){a.Yt.forEach(function(De,We){var st=Te.get(De);We instanceof ui&&We.version.isEqual(On.min())?(T.Ar(De,d),j=j.ot(De,We)):null==st||We.version.L(st.version)>0||0===We.version.L(st.version)&&st.hasPendingWrites?(T.Er(We,d),j=j.ot(De,We)):Ne("LocalStore","Ignoring outdated watch update for ",De,". Current version:",st.version," Watch version:",We.version),a.Jt.has(De)&&k.push(u.persistence.No.yc(E,De))})})),!d.isEqual(On.min())){var fe=u.Ka.Ea(E).next(function(Te){return u.Ka.Aa(E,E.xa,d)});k.push(fe)}return jt.$n(k).next(function(){return T.apply(E)}).next(function(){return u.Cc.Mr(E,j)})}).then(function(E){return u.bc=m,E})}function od(c,a){var u=Je(c);return u.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===a&&(a=-1),u.Sr.Bo(d,a)})}function Ju(c,a){var u=Je(c);return u.persistence.runTransaction("Allocate target","readwrite",function(d){var m;return u.Ka.va(d,a).next(function(E){return E?jt.resolve(m=E):u.Ka.wa(d).next(function(T){return m=new Dn(a,T,0,d.xa),u.Ka.Ra(d,m).next(function(){return m})})})}).then(function(d){var m=u.bc.get(d.targetId);return(null===m||d.nt.L(m.nt)>0)&&(u.bc=u.bc.ot(d.targetId,d),u.vc.set(a,d.targetId)),d})}function Zu(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E,T;return te.__generator(this,function(k){switch(k.label){case 0:d=Je(c),m=d.bc.get(a),E=u?"readwrite":"readwrite-primary",k.label=1;case 1:return k.trys.push([1,4,,5]),u?[3,3]:[4,d.persistence.runTransaction("Release target",E,function(j){return d.persistence.No.removeTarget(j,m)})];case 2:k.sent(),k.label=3;case 3:return[3,5];case 4:if(!As(T=k.sent()))throw T;return Ne("LocalStore","Failed to update sequence numbers for target "+a+": "+T),[3,5];case 5:return d.bc=d.bc.remove(a),d.vc.delete(m.target),[2]}})})}function pc(c,a,u){var d=Je(c),m=On.min(),E=Fe();return d.persistence.runTransaction("Execute query","readonly",function(T){return(k=d,j=T,ne=zi(a),fe=Je(k),Te=fe.vc.get(ne),void 0!==Te?jt.resolve(fe.bc.get(Te)):fe.Ka.va(j,ne)).next(function(k){if(k)return m=k.lastLimboFreeSnapshotVersion,d.Ka.Fa(T,k.targetId).next(function(j){E=j})}).next(function(){return d.Vc.Lr(T,a,u?m:On.min(),u?E:Fe())}).next(function(k){return{documents:k,Fc:E}});var k,j,ne,fe,Te})}function Ol(c,a){var u=Je(c),d=Je(u.Ka),m=u.bc.get(a);return m?Promise.resolve(m.target):u.persistence.runTransaction("Get target data","readonly",function(E){return d.Ue(E,a).next(function(T){return T?T.target:null})})}function ch(c){var a=Je(c);return a.persistence.runTransaction("Get new document changes","readonly",function(u){return m=u,E=a.Sc,T=Je(a.Dc),k=an(),j=$i(E),ne=Ba(m),fe=IDBKeyRange.lowerBound(j,!0),ne.rs({index:Si.readTimeIndex,range:fe},function(Te,De){var We=Zn(T.serializer,De);k=k.ot(We.key,We),j=De.readTime}).next(function(){return{xc:k,readTime:yo(j)}});var m,E,T,k,j,ne,fe}).then(function(u){var d=u.xc;return a.Sc=u.readTime,d})}function tf(c){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){return[2,(a=Je(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return E=Ba(d),T=On.min(),E.rs({index:Si.readTimeIndex,reverse:!0},function(k,j,ne){j.readTime&&(T=yo(j.readTime)),ne.done()}).next(function(){return T});var E,T}).then(function(d){a.Sc=d})]})})}function ba(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){if(c.code!==be.FAILED_PRECONDITION||c.message!==g)throw c;return Ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ds=function(){function c(){this.$c=new Sr(Ao.kc),this.Mc=new Sr(Ao.Oc)}return c.prototype.m=function(){return this.$c.m()},c.prototype.Da=function(a,u){var d=new Ao(a,u);this.$c=this.$c.add(d),this.Mc=this.Mc.add(d)},c.prototype.Lc=function(a,u){var d=this;a.forEach(function(m){return d.Da(m,u)})},c.prototype.Na=function(a,u){this.Bc(new Ao(a,u))},c.prototype.qc=function(a,u){var d=this;a.forEach(function(m){return d.Na(m,u)})},c.prototype.Uc=function(a){var u=this,d=new I(new pt([])),m=new Ao(d,a),E=new Ao(d,a+1),T=[];return this.Mc.Ft([m,E],function(k){u.Bc(k),T.push(k.key)}),T},c.prototype.Qc=function(){var a=this;this.$c.forEach(function(u){return a.Bc(u)})},c.prototype.Bc=function(a){this.$c=this.$c.delete(a),this.Mc=this.Mc.delete(a)},c.prototype.Wc=function(a){var u=new I(new pt([])),d=new Ao(u,a),m=new Ao(u,a+1),E=Fe();return this.Mc.Ft([d,m],function(T){E=E.add(T.key)}),E},c.prototype.Ho=function(a){var u=new Ao(a,0),d=this.$c.$t(u);return null!==d&&a.isEqual(d.key)},c}(),Ao=function(){function c(a,u){this.key=a,this.jc=u}return c.kc=function(a,u){return I.i(a.key,u.key)||Ht(a.jc,u.jc)},c.Oc=function(a,u){return Ht(a.jc,u.jc)||I.i(a.key,u.key)},c}(),sd=function(c,a){this.user=a,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+c},nf=function(){function c(){this.Gc=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.zc=function(){},c.prototype.Hc=function(a){this.Gc=a,a(Xr.UNAUTHENTICATED)},c.prototype.Yc=function(){this.Gc=null},c}(),ad=function(){function c(a){var u=this;this.Jc=null,this.currentUser=Xr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){u.Zc++,u.currentUser=u.tu(),u.Xc=!0,u.Gc&&u.Gc(u.currentUser)},this.Zc=0,this.auth=a.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),a.get().then(function(d){u.auth=d,u.Jc&&u.auth.addAuthTokenListener(u.Jc)},function(){}))}return c.prototype.getToken=function(){var a=this,u=this.Zc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(m){return a.Zc!==u?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),a.getToken()):m?(dt("string"==typeof m.accessToken),new sd(m.accessToken,a.currentUser)):null}):Promise.resolve(null)},c.prototype.zc=function(){this.forceRefresh=!0},c.prototype.Hc=function(a){this.Gc=a,this.Xc&&a(this.currentUser)},c.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},c.prototype.tu=function(){var a=this.auth&&this.auth.getUid();return dt(null===a||"string"==typeof a),new Xr(a)},c}(),ud=function(){function c(a,u){this.eu=a,this.nu=u,this.type="FirstParty",this.user=Xr.ni}return Object.defineProperty(c.prototype,"Kc",{get:function(){var a={"X-Goog-AuthUser":this.nu},u=this.eu.auth.getAuthHeaderValueForFirstParty([]);return u&&(a.Authorization=u),a},enumerable:!1,configurable:!0}),c}(),rf=function(){function c(a,u){this.eu=a,this.nu=u}return c.prototype.getToken=function(){return Promise.resolve(new ud(this.eu,this.nu))},c.prototype.Hc=function(a){a(Xr.ni)},c.prototype.Yc=function(){},c.prototype.zc=function(){},c}(),gc=function(){function c(a,u,d,m,E,T){this.fn=a,this.su=d,this.iu=m,this.ru=E,this.listener=T,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Su(a,u)}return c.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.uu=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.hu()},c.prototype.stop=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){switch(a.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},c.prototype.lu=function(){this.state=0,this.ys.reset()},c.prototype._u=function(){var a=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return a.fu()}))},c.prototype.du=function(a){this.wu(),this.stream.send(a)},c.prototype.fu=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return this.uu()?[2,this.close(0)]:[2]})})},c.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},c.prototype.close=function(a,u){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==a?this.ys.reset():u&&u.code===be.RESOURCE_EXHAUSTED?(ft(u.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):u&&u.code===be.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=a,[4,this.listener.Tu(u)];case 1:return d.sent(),[2]}})})},c.prototype.mu=function(){},c.prototype.auth=function(){var a=this;this.state=1;var u=this.Eu(this.ou),d=this.ou;this.ru.getToken().then(function(m){a.ou===d&&a.Iu(m)},function(m){u(function(){var E=new Y(be.UNKNOWN,"Fetching auth token failed: "+m.message);return a.Au(E)})})},c.prototype.Iu=function(a){var u=this,d=this.Eu(this.ou);this.stream=this.Ru(a),this.stream.gu(function(){d(function(){return u.state=2,u.listener.gu()})}),this.stream.Tu(function(m){d(function(){return u.Au(m)})}),this.stream.onMessage(function(m){d(function(){return u.onMessage(m)})})},c.prototype.hu=function(){var a=this;this.state=4,this.ys.gn(function(){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(u){return this.state=0,this.start(),[2]})})})},c.prototype.Au=function(a){return Ne("PersistentStream","close with error: "+a),this.stream=null,this.close(3,a)},c.prototype.Eu=function(a){var u=this;return function(d){u.fn.ws(function(){return u.ou===a?d():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),xl=function(c){function a(u,d,m,E,T){var k=this;return(k=c.call(this,u,"listen_stream_connection_backoff","listen_stream_idle",d,m,T)||this).serializer=E,k}return te.__extends(a,c),a.prototype.Ru=function(u){return this.iu.Pu("Listen",u)},a.prototype.onMessage=function(u){this.ys.reset();var d=function(E,T){var k,Ia;if("targetChange"in T){var j="NO_CHANGE"===(Ia=T.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ia?1:"REMOVE"===Ia?2:"CURRENT"===Ia?3:"RESET"===Ia?4:Le(),ne=T.targetChange.targetIds||[],fe=function(Ia,Qi){return Ia.Qe?(dt(void 0===Qi||"string"==typeof Qi),Kt.fromBase64String(Qi||"")):(dt(void 0===Qi||Qi instanceof Uint8Array),Kt.fromUint8Array(Qi||new Uint8Array))}(E,T.targetChange.resumeToken),Te=T.targetChange.cause,De=Te&&function(Ia){var Qi=void 0===Ia.code?be.UNKNOWN:Cr(Ia.code);return new Y(Qi,Ia.message||"")}(Te);k=new Wr(j,ne,fe,De||null)}else if("documentChange"in T){var We=T.documentChange,st=Hn(E,We.document.name),Et=zo(We.document.updateTime),Gt=new Gs({mapValue:{fields:We.document.fields}}),_n=new Or(st,Et,Gt,{});k=new or(We.targetIds||[],We.removedTargetIds||[],_n.key,_n)}else if("documentDelete"in T){var zr=T.documentDelete,_i=Hn(E,zr.document),Bi=zr.readTime?zo(zr.readTime):On.min(),fu=new ui(_i,Bi);k=new or([],zr.removedTargetIds||[],fu.key,fu)}else if("documentRemove"in T){var zl=T.documentRemove,Ih=Hn(E,zl.document);k=new or([],zl.removedTargetIds||[],Ih,null)}else{if(!("filter"in T))return Le();var du=T.filter,Th=new wr(du.count||0);k=new mr(du.targetId,Th)}return k}(this.serializer,u),m=function(E){if(!("targetChange"in E))return On.min();var T=E.targetChange;return T.targetIds&&T.targetIds.length?On.min():T.readTime?zo(T.readTime):On.min()}(u);return this.listener.yu(d,m)},a.prototype.Vu=function(u){var E,T,k,j,d={};d.database=Sn(this.serializer),d.addTarget=(E=this.serializer,(k=zt(j=(T=u).target)?{documents:qn(E,j)}:{query:Hs(E,j)}).targetId=T.targetId,T.resumeToken.O()>0&&(k.resumeToken=ho(E,T.resumeToken)),k);var m=function(E,T){var k=function(j,ne){switch(ne){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,T.et);return null==k?null:{"goog-listen-tags":k}}(0,u);m&&(d.labels=m),this.du(d)},a.prototype.pu=function(u){var d={};d.database=Sn(this.serializer),d.removeTarget=u,this.du(d)},a}(gc),au=function(c){function a(u,d,m,E,T){var k=this;return(k=c.call(this,u,"write_stream_connection_backoff","write_stream_idle",d,m,T)||this).serializer=E,k.bu=!1,k}return te.__extends(a,c),Object.defineProperty(a.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},a.prototype.mu=function(){this.bu&&this.Su([])},a.prototype.Ru=function(u){return this.iu.Pu("Write",u)},a.prototype.onMessage=function(u){if(dt(!!u.streamToken),this.lastStreamToken=u.streamToken,this.bu){this.ys.reset();var d=(T=u.commitTime,(E=u.writeResults)&&E.length>0?(dt(void 0!==T),E.map(function(k){return function(j,ne){var fe=zo(j.updateTime?j.updateTime:ne);fe.isEqual(On.min())&&(fe=zo(ne));var Te=null;return j.transformResults&&j.transformResults.length>0&&(Te=j.transformResults),new kt(fe,Te)}(k,T)})):[]),m=zo(u.commitTime);return this.listener.Du(m,d)}var E,T;return dt(!u.writeResults||0===u.writeResults.length),this.bu=!0,this.listener.Cu()},a.prototype.Nu=function(){var u={};u.database=Sn(this.serializer),this.du(u)},a.prototype.Su=function(u){var d=this,m={streamToken:this.lastStreamToken,writes:u.map(function(E){return Hi(d.serializer,E)})};this.du(m)},a}(gc),mc=function(c){function a(u,d,m){var E=this;return(E=c.call(this)||this).credentials=u,E.iu=d,E.serializer=m,E.Fu=!1,E}return te.__extends(a,c),a.prototype.xu=function(){if(this.Fu)throw new Y(be.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.$u=function(u,d,m){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.$u(u,d,m,T)}).catch(function(T){throw T.code===be.UNAUTHENTICATED&&E.credentials.zc(),T})},a.prototype.ku=function(u,d,m){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.ku(u,d,m,T)}).catch(function(T){throw T.code===be.UNAUTHENTICATED&&E.credentials.zc(),T})},a.prototype.terminate=function(){this.Fu=!1},a}(function(){}),el=function(){function c(a,u){this.cs=a,this.di=u,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return c.prototype.Bu=function(){var a=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return a.Ou=null,a.Uu("Backend didn't respond within 10 seconds."),a.qu("Offline"),Promise.resolve()}))},c.prototype.Qu=function(a){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+a.toString()),this.qu("Offline")))},c.prototype.set=function(a){this.Wu(),this.Mu=0,"Online"===a&&(this.Lu=!1),this.qu(a)},c.prototype.qu=function(a){a!==this.state&&(this.state=a,this.di(a))},c.prototype.Uu=function(a){var u="Could not reach Cloud Firestore backend. "+a+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(ft(u),this.Lu=!1):Ne("OnlineStateTracker",u)},c.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},c}(),of=function(c,a,u,d,m){var E=this;this.ju=c,this.Ku=a,this.cs=u,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=m,this.Xu.Zu(function(T){u.ws(function(){return te.__awaiter(E,void 0,void 0,function(){return te.__generator(this,function(k){switch(k.label){case 0:return bo(this)?(Ne("RemoteStore","Restarting streams for network reachability change."),[4,function(j){return te.__awaiter(this,void 0,void 0,function(){var ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return(ne=Je(j)).Yu.add(4),[4,Jr(ne)];case 1:return fe.sent(),ne.th.set("Unknown"),ne.Yu.delete(4),[4,uu(ne)];case 2:return fe.sent(),[2]}})})}(this)]):[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})})}),this.th=new el(u,d)};function uu(c){return te.__awaiter(this,void 0,void 0,function(){var a,u;return te.__generator(this,function(d){switch(d.label){case 0:if(!bo(c))return[3,4];a=0,u=c.Ju,d.label=1;case 1:return a<u.length?[4,(0,u[a])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function Jr(c){return te.__awaiter(this,void 0,void 0,function(){var a,u;return te.__generator(this,function(d){switch(d.label){case 0:a=0,u=c.Ju,d.label=1;case 1:return a<u.length?[4,(0,u[a])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}function _c(c){return te.__awaiter(this,void 0,void 0,function(){var a;return te.__generator(this,function(u){switch(u.label){case 0:return a=Je(c),Ne("RemoteStore","RemoteStore shutting down."),a.Yu.add(5),[4,Jr(a)];case 1:return u.sent(),a.Xu.Di(),a.th.set("Unknown"),[2]}})})}function wa(c,a){var u=Je(c);u.Hu.has(a.targetId)||(u.Hu.set(a.targetId,a),vc(u)?Zs(u):wc(u).uu()&&xu(u,a))}function is(c,a){var u=Je(c),d=wc(u);u.Hu.delete(a),d.uu()&&Mo(u,a),0===u.Hu.size&&(d.uu()?d._u():bo(u)&&u.th.set("Unknown"))}function xu(c,a){c.eh.Ie(a.targetId),wc(c).Vu(a)}function Mo(c,a){c.eh.Ie(a),wc(c).pu(a)}function Zs(c){c.eh=new de({qe:function(a){return c.Gu.qe(a)},Ue:function(a){return c.Hu.get(a)||null}}),wc(c).start(),c.th.Bu()}function vc(c){return bo(c)&&!wc(c).cu()&&c.Hu.size>0}function bo(c){return 0===Je(c).Yu.size}function Cp(c){c.eh=void 0}function yc(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return c.Hu.forEach(function(u,d){xu(c,u)}),[2]})})}function Sp(c,a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){return Cp(c),vc(c)?(c.th.Qu(a),Zs(c)):c.th.set("Unknown"),[2]})})}function hh(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E;return te.__generator(this,function(T){switch(T.label){case 0:if(c.th.set("Online"),!(a instanceof Wr&&2===a.state&&a.cause))return[3,6];T.label=1;case 1:return T.trys.push([1,3,,5]),[4,function(k,j){return te.__awaiter(this,void 0,void 0,function(){var ne,fe,Te,De;return te.__generator(this,function(We){switch(We.label){case 0:ne=j.cause,fe=0,Te=j.targetIds,We.label=1;case 1:return fe<Te.length?k.Hu.has(De=Te[fe])?[4,k.Gu.nh(De,ne)]:[3,3]:[3,5];case 2:We.sent(),k.Hu.delete(De),k.eh.removeTarget(De),We.label=3;case 3:We.label=4;case 4:return fe++,[3,1];case 5:return[2]}})})}(c,a)];case 2:return T.sent(),[3,5];case 3:return d=T.sent(),Ne("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),d),[4,fh(c,d)];case 4:return T.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof or?c.eh.be(a):a instanceof mr?c.eh.$e(a):c.eh.De(a),u.isEqual(On.min()))return[3,13];T.label=7;case 7:return T.trys.push([7,11,,13]),[4,Xu(c.ju)];case 8:return m=T.sent(),u.L(m)>=0?[4,(k=c,j=u,ne=k.eh.Oe(j),ne.zt.forEach(function(fe,Te){if(fe.resumeToken.O()>0){var De=k.Hu.get(Te);De&&k.Hu.set(Te,De.it(fe.resumeToken,j))}}),ne.Ht.forEach(function(fe){var Te=k.Hu.get(fe);if(Te){k.Hu.set(fe,Te.it(Kt.B,Te.nt)),Mo(k,fe);var De=new Dn(Te.target,fe,1,Te.sequenceNumber);xu(k,De)}}),k.Gu.sh(ne))]:[3,10];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return Ne("RemoteStore","Failed to raise snapshot:",E=T.sent()),[4,fh(c,E)];case 12:return T.sent(),[3,13];case 13:return[2]}var k,j,ne})})}function fh(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d=this;return te.__generator(this,function(m){switch(m.label){case 0:if(!As(a))throw a;return c.Yu.add(1),[4,Jr(c)];case 1:return m.sent(),c.th.set("Offline"),u||(u=function(){return Xu(c.ju)}),c.cs.Cs(function(){return te.__awaiter(d,void 0,void 0,function(){return te.__generator(this,function(E){switch(E.label){case 0:return Ne("RemoteStore","Retrying IndexedDB access"),[4,u()];case 1:return E.sent(),c.Yu.delete(1),[4,uu(c)];case 2:return E.sent(),[2]}})})}),[2]}})})}function Xt(c,a){return a().catch(function(u){return fh(c,u,a)})}function bc(c){return te.__awaiter(this,void 0,void 0,function(){var a,u,d,m,E;return te.__generator(this,function(T){switch(T.label){case 0:a=Je(c),u=Ru(a),d=a.zu.length>0?a.zu[a.zu.length-1].batchId:-1,T.label=1;case 1:if(!(bo(k=a)&&k.zu.length<10))return[3,7];T.label=2;case 2:return T.trys.push([2,4,,6]),[4,od(a.ju,d)];case 3:return null===(m=T.sent())?(0===a.zu.length&&u._u(),[3,7]):(d=m.batchId,function(k,j){k.zu.push(j);var ne=Ru(k);ne.uu()&&ne.vu&&ne.Su(j.mutations)}(a,m),[3,6]);case 4:return E=T.sent(),[4,fh(a,E)];case 5:return T.sent(),[3,6];case 6:return[3,1];case 7:return Rs(a)&&Ip(a),[2]}var k})})}function Rs(c){return bo(c)&&!Ru(c).cu()&&c.zu.length>0}function Ip(c){Ru(c).start()}function Tp(c){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){return Ru(c).Nu(),[2]})})}function Rl(c){return te.__awaiter(this,void 0,void 0,function(){var a,u,d;return te.__generator(this,function(E){for(a=Ru(c),u=0,d=c.zu;u<d.length;u++)a.Su(d[u].mutations);return[2]})})}function qv(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m;return te.__generator(this,function(E){switch(E.label){case 0:return d=c.zu.shift(),m=y.from(d,a,u),[4,Xt(c,function(){return c.Gu.ih(m)})];case 1:return E.sent(),[4,bc(c)];case 2:return E.sent(),[2]}})})}function sf(c,a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){switch(u.label){case 0:return a&&Ru(c).vu?[4,function(d,m){return te.__awaiter(this,void 0,void 0,function(){var E,T;return te.__generator(this,function(k){switch(k.label){case 0:return Xn(T=m.code)&&T!==be.ABORTED?(E=d.zu.shift(),Ru(d).lu(),[4,Xt(d,function(){return d.Gu.rh(E.batchId,m)})]):[3,3];case 1:return k.sent(),[4,bc(d)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}(c,a)]:[3,2];case 1:u.sent(),u.label=2;case 2:return Rs(c)&&Ip(c),[2]}})})}function lu(c,a){return te.__awaiter(this,void 0,void 0,function(){var u;return te.__generator(this,function(m){switch(m.label){case 0:return u=Je(c),a?(u.Yu.delete(2),[4,uu(u)]):[3,2];case 1:return m.sent(),[3,5];case 2:return a?[3,4]:(u.Yu.add(2),[4,Jr(u)]);case 3:m.sent(),u.th.set("Unknown"),m.label=4;case 4:m.label=5;case 5:return[2]}})})}function wc(c){var u,d,m,E,a=this;return c.oh||(c.oh=(u=c.Ku,d=c.cs,m={gu:yc.bind(null,c),Tu:Sp.bind(null,c),yu:hh.bind(null,c)},(E=Je(u)).xu(),new xl(d,E.iu,E.credentials,E.serializer,m)),c.Ju.push(function(u){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return u?(c.oh.lu(),vc(c)?Zs(c):c.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.oh.stop()];case 2:d.sent(),Cp(c),d.label=3;case 3:return[2]}})})})),c.oh}function Ru(c){var u,d,m,E,a=this;return c.ah||(c.ah=(u=c.Ku,d=c.cs,m={gu:Tp.bind(null,c),Tu:sf.bind(null,c),Cu:Rl.bind(null,c),Du:qv.bind(null,c)},(E=Je(u)).xu(),new au(d,E.iu,E.credentials,E.serializer,m)),c.Ju.push(function(u){return te.__awaiter(a,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return u?(c.ah.lu(),[4,bc(c)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,c.ah.stop()];case 3:d.sent(),c.zu.length>0&&(Ne("RemoteStore","Stopping write stream with "+c.zu.length+" pending writes"),c.zu=[]),d.label=4;case 4:return[2]}})})})),c.ah}var ld=function(c){this.key=c},os=function(c){this.key=c},Dp=function(){function c(a,u){this.query=a,this.uh=u,this.hh=null,this.te=!1,this.lh=Fe(),this.Wt=Fe(),this._h=Vi(a),this.fh=new Qt(this._h)}return Object.defineProperty(c.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),c.prototype.wh=function(a,u){var d=this,m=u?u.mh:new vn,E=u?u.fh:this.fh,T=u?u.Wt:this.Wt,k=E,j=!1,ne=Ws(this.query)&&E.size===this.query.limit?E.last():null,fe=Co(this.query)&&E.size===this.query.limit?E.first():null;if(a.ht(function(De,We){var st=E.get(De),Et=We instanceof Or?We:null;Et&&(Et=Ds(d.query,Et)?Et:null);var Gt=!!st&&d.Wt.has(st.key),_n=!!Et&&(Et.Je||d.Wt.has(Et.key)&&Et.hasCommittedMutations),$n=!1;st&&Et?st.data().isEqual(Et.data())?Gt!==_n&&(m.track({type:3,doc:Et}),$n=!0):d.Th(st,Et)||(m.track({type:2,doc:Et}),$n=!0,(ne&&d._h(Et,ne)>0||fe&&d._h(Et,fe)<0)&&(j=!0)):!st&&Et?(m.track({type:0,doc:Et}),$n=!0):st&&!Et&&(m.track({type:1,doc:st}),$n=!0,(ne||fe)&&(j=!0)),$n&&(Et?(k=k.add(Et),T=_n?T.add(De):T.delete(De)):(k=k.delete(De),T=T.delete(De)))}),Ws(this.query)||Co(this.query))for(;k.size>this.query.limit;){var Te=Ws(this.query)?k.last():k.first();k=k.delete(Te.key),T=T.delete(Te.key),m.track({type:1,doc:Te})}return{fh:k,mh:m,Eh:j,Wt:T}},c.prototype.Th=function(a,u){return a.Je&&u.hasCommittedMutations&&!u.Je},c.prototype.yr=function(a,u,d){var m=this,E=this.fh;this.fh=a.fh,this.Wt=a.Wt;var T=a.mh.Ut();T.sort(function(fe,Te){return We=Te.type,(st=function(Et){switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(fe.type)-st(We)||m._h(fe.doc,Te.doc);var We,st}),this.Ih(d);var k=u?this.Ah():[],j=0===this.lh.size&&this.te?1:0,ne=j!==this.hh;return this.hh=j,0!==T.length||ne?{snapshot:new At(this.query,a.fh,E,T,a.Wt,0===j,ne,!1),Rh:k}:{Rh:k}},c.prototype.Qs=function(a){return this.te&&"Offline"===a?(this.te=!1,this.yr({fh:this.fh,mh:new vn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},c.prototype.gh=function(a){return!this.uh.has(a)&&!!this.fh.has(a)&&!this.fh.get(a).Je},c.prototype.Ih=function(a){var u=this;a&&(a.ee.forEach(function(d){return u.uh=u.uh.add(d)}),a.ne.forEach(function(d){}),a.se.forEach(function(d){return u.uh=u.uh.delete(d)}),this.te=a.te)},c.prototype.Ah=function(){var a=this;if(!this.te)return[];var u=this.lh;this.lh=Fe(),this.fh.forEach(function(m){a.gh(m.key)&&(a.lh=a.lh.add(m.key))});var d=[];return u.forEach(function(m){a.lh.has(m)||d.push(new os(m))}),this.lh.forEach(function(m){u.has(m)||d.push(new ld(m))}),d},c.prototype.Ph=function(a){this.uh=a.Fc,this.lh=Fe();var u=this.wh(a.documents);return this.yr(u,!0)},c.prototype.yh=function(){return At.Gt(this.query,this.fh,this.Wt,0===this.hh)},c}(),Oo=function(c,a,u){this.query=c,this.targetId=a,this.view=u},tl=function(c){this.key=c,this.Vh=!1},af=function(){function c(a,u,d,m,E,T){this.ju=a,this.ph=u,this.bh=d,this.Sh=m,this.currentUser=E,this.Dh=T,this.Ch={},this.Nh=new Ar(function(k){return ru(k)},Io),this.Fh=new Map,this.xh=[],this.$h=new sn(I.i),this.kh=new Map,this.Mh=new ds,this.Oh={},this.Lh=new Map,this.Bh=Dl.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(c.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),c}();function Ap(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,m,E,T,k;return te.__generator(this,function(j){switch(j.label){case 0:return u=hf(c),(E=u.Nh.get(a))?(u.Sh.Oi(E.targetId),m=E.view.yh(),[3,4]):[3,1];case 1:return[4,Ju(u.ju,zi(a))];case 2:return T=j.sent(),k=u.Sh.Oi(T.targetId),[4,kl(u,a,T.targetId,"current"===k)];case 3:m=j.sent(),u.Uh&&wa(u.ph,T),j.label=4;case 4:return[2,m]}})})}function kl(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,E,T,k,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return c.Qh=function(Te,De,We){return function(st,Et,Gt,_n){return te.__awaiter(this,void 0,void 0,function(){var $n,ur,zr;return te.__generator(this,function(_i){switch(_i.label){case 0:return($n=Et.view.wh(Gt)).Eh?[4,pc(st.ju,Et.query,!1).then(function(Bi){return Et.view.wh(Bi.documents,$n)})]:[3,2];case 1:$n=_i.sent(),_i.label=2;case 2:return ur=_n&&_n.zt.get(Et.targetId),zr=Et.view.yr($n,st.Uh,ur),[2,(lf(st,Et.targetId,zr.Rh),zr.snapshot)]}})})}(c,Te,De,We)},[4,pc(c.ju,a,!0)];case 1:return m=fe.sent(),E=new Dp(a,m.Fc),T=E.wh(m.documents),k=Mr.Zt(u,d&&"Offline"!==c.onlineState),j=E.yr(T,c.Uh,k),lf(c,u,j.Rh),ne=new Oo(a,u,E),[2,(c.Nh.set(a,ne),c.Fh.has(u)?c.Fh.get(u).push(a):c.Fh.set(u,[a]),j.snapshot)]}})})}function ps(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(E){switch(E.label){case 0:return u=Je(c),d=u.Nh.get(a),(m=u.Fh.get(d.targetId)).length>1?[2,(u.Fh.set(d.targetId,m.filter(function(T){return!Io(T,a)})),void u.Nh.delete(a))]:u.Uh?(u.Sh.Bi(d.targetId),u.Sh.Fi(d.targetId)?[3,2]:[4,Zu(u.ju,d.targetId,!1).then(function(){u.Sh.Ui(d.targetId),is(u.ph,d.targetId),Pl(u,d.targetId)}).catch(ba)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Pl(u,d.targetId),[4,Zu(u.ju,d.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function gs(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d;return te.__generator(this,function(m){switch(m.label){case 0:u=Je(c),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,Im(u.ju,a)];case 2:return d=m.sent(),a.zt.forEach(function(E,T){var k=u.kh.get(T);k&&(dt(E.ee.size+E.ne.size+E.se.size<=1),E.ee.size>0?k.Vh=!0:E.ne.size>0?dt(k.Vh):E.se.size>0&&(dt(k.Vh),k.Vh=!1))}),[4,ea(u,d,a)];case 3:return m.sent(),[3,6];case 4:return[4,ba(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function Ec(c,a,u){var d=Je(c);if(d.Uh&&0===u||!d.Uh&&1===u){var m=[];d.Nh.forEach(function(E,T){var k=T.view.Qs(a);k.snapshot&&m.push(k.snapshot)}),function(E,T){var k=Je(E);k.onlineState=T;var j=!1;k.Bs.forEach(function(ne,fe){for(var Te=0,De=fe.listeners;Te<De.length;Te++)De[Te].Qs(T)&&(j=!0)}),j&&Va(k)}(d.bh,a),m.length&&d.Ch.yu(m),d.onlineState=a,d.Uh&&d.Sh.Ki(a)}}function ku(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E,T,k,j;return te.__generator(this,function(ne){switch(ne.label){case 0:return(d=Je(c)).Sh.Qi(a,"rejected",u),m=d.kh.get(a),(E=m&&m.key)?(T=(T=new sn(I.i)).ot(E,new ui(E,On.min())),k=Fe().add(E),j=new Jt(On.min(),new Map,new Sr(Ht),T,k),[4,gs(d,j)]):[3,2];case 1:return ne.sent(),d.$h=d.$h.remove(E),d.kh.delete(a),Pu(d),[3,4];case 2:return[4,Zu(d.ju,a,!1).then(function(){return Pl(d,a,u)}).catch(ba)];case 3:ne.sent(),ne.label=4;case 4:return[2]}})})}function Ha(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(E){switch(E.label){case 0:u=Je(c),d=a.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,dc(u.ju,a)];case 2:return m=E.sent(),uf(u,d,null),Cc(u,d),u.Sh.ki(d,"acknowledged"),[4,ea(u,m)];case 3:return E.sent(),[3,6];case 4:return[4,ba(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function cd(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m;return te.__generator(this,function(E){switch(E.label){case 0:d=Je(c),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(T=d.ju,k=a,j=Je(T),j.persistence.runTransaction("Reject batch","readwrite-primary",function(ne){var fe;return j.Sr.Oo(ne,k).next(function(Te){return dt(null!==Te),fe=Te.keys(),j.Sr.Wo(ne,Te)}).next(function(){return j.Sr.zo(ne)}).next(function(){return j.Cc.kr(ne,fe)})}))];case 2:return m=E.sent(),uf(d,a,u),Cc(d,a),d.Sh.ki(a,"rejected",u),[4,ea(d,m)];case 3:return E.sent(),[3,6];case 4:return[4,ba(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var T,k,j})})}function Cc(c,a){(c.Lh.get(a)||[]).forEach(function(u){u.resolve()}),c.Lh.delete(a)}function uf(c,a,u){var d=Je(c),m=d.Oh[d.currentUser.ti()];if(m){var E=m.get(a);E&&(u?E.reject(u):E.resolve(),m=m.remove(a)),d.Oh[d.currentUser.ti()]=m}}function Pl(c,a,u){void 0===u&&(u=null),c.Sh.Bi(a);for(var d=0,m=c.Fh.get(a);d<m.length;d++){var E=m[d];c.Nh.delete(E),u&&c.Ch.Wh(E,u)}c.Fh.delete(a),c.Uh&&c.Mh.Uc(a).forEach(function(T){c.Mh.Ho(T)||hd(c,T)})}function hd(c,a){var u=c.$h.get(a);null!==u&&(is(c.ph,u),c.$h=c.$h.remove(a),c.kh.delete(u),Pu(c))}function lf(c,a,u){for(var d=0,m=u;d<m.length;d++){var E=m[d];E instanceof ld?(c.Mh.Da(E.key,a),ms(c,E)):E instanceof os?(Ne("SyncEngine","Document no longer in limbo: "+E.key),c.Mh.Na(E.key,a),c.Mh.Ho(E.key)||hd(c,E.key)):Le()}}function ms(c,a){var u=a.key;c.$h.get(u)||(Ne("SyncEngine","New document in limbo: "+u),c.xh.push(u),Pu(c))}function Pu(c){for(;c.xh.length>0&&c.$h.size<c.Dh;){var a=c.xh.shift(),u=c.Bh.next();c.kh.set(u,new tl(a)),c.$h=c.$h.ot(a,u),wa(c.ph,new Dn(zi(Li(a.path)),u,2,Fr.ai))}}function ea(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E,T;return te.__generator(this,function(k){switch(k.label){case 0:return d=Je(c),m=[],E=[],T=[],d.Nh.m()?[3,3]:(d.Nh.forEach(function(j,ne){T.push(d.Qh(ne,a,u).then(function(fe){if(fe){d.Uh&&d.Sh.Qi(ne.targetId,fe.fromCache?"not-current":"current"),m.push(fe);var Te=x.zr(ne.targetId,fe);E.push(Te)}}))}),[4,Promise.all(T)]);case 1:return k.sent(),d.Ch.yu(m),[4,function(j,ne){return te.__awaiter(this,void 0,void 0,function(){var fe,Te,De,We,st,Et,Gt,$n;return te.__generator(this,function(ur){switch(ur.label){case 0:fe=Je(j),ur.label=1;case 1:return ur.trys.push([1,3,,4]),[4,fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(zr){return jt.forEach(ne,function(_i){return jt.forEach(_i.Kr,function(Bi){return fe.persistence.No.Da(zr,_i.targetId,Bi)}).next(function(){return jt.forEach(_i.Gr,function(Bi){return fe.persistence.No.Na(zr,_i.targetId,Bi)})})})})];case 2:return ur.sent(),[3,4];case 3:if(!As(Te=ur.sent()))throw Te;return Ne("LocalStore","Failed to update sequence numbers: "+Te),[3,4];case 4:for(De=0,We=ne;De<We.length;De++)Et=(st=We[De]).targetId,st.fromCache||(Gt=fe.bc.get(Et),$n=Gt.rt(Gt.nt),fe.bc=fe.bc.ot(Et,$n));return[2]}})})}(d.ju,E)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}function Mp(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d;return te.__generator(this,function(m){switch(m.label){case 0:return(u=Je(c)).currentUser.isEqual(a)?[3,3]:(Ne("SyncEngine","User change. New user:",a.ti()),[4,function(E,T){return te.__awaiter(this,void 0,void 0,function(){var k,j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:return k=Je(E),j=k.Sr,ne=k.Cc,[4,k.persistence.runTransaction("Handle user change","readonly",function(De){var We;return k.Sr.Uo(De).next(function(st){return We=st,j=k.persistence.mc(T),ne=new D(k.Dc,j,k.persistence.Ic()),j.Uo(De)}).next(function(st){for(var Et=[],Gt=[],_n=Fe(),$n=0,ur=We;$n<ur.length;$n++){var zr=ur[$n];Et.push(zr.batchId);for(var _i=0,Bi=zr.mutations;_i<Bi.length;_i++)_n=_n.add(Bi[_i].key)}for(var vr=0,zl=st;vr<zl.length;vr++){var Ih=zl[vr];Gt.push(Ih.batchId);for(var vf=0,du=Ih.mutations;vf<du.length;vf++)_n=_n.add(du[vf].key)}return ne.kr(De,_n).next(function(Th){return{jh:Th,Kh:Et,Gh:Gt}})})})];case 1:return fe=Te.sent(),[2,(k.Sr=j,k.Cc=ne,k.Vc.Nc(k.Cc),fe)]}})})}(u.ju,a)]);case 1:return d=m.sent(),u.currentUser=a,(E=u).Lh.forEach(function(k){k.forEach(function(j){j.reject(new Y(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Lh.clear(),u.Sh.ji(a,d.Kh,d.Gh),[4,ea(u,d.jh)];case 2:m.sent(),m.label=3;case 3:return[2]}var E})})}function Op(c,a){var u=Je(c),d=u.kh.get(a);if(d&&d.Vh)return Fe().add(d.key);var m=Fe(),E=u.Fh.get(a);if(!E)return m;for(var T=0,k=E;T<k.length;T++){var ne=u.Nh.get(k[T]);m=m.kt(ne.view.dh)}return m}function Tm(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m;return te.__generator(this,function(E){switch(E.label){case 0:return[4,pc((u=Je(c)).ju,a.query,!0)];case 1:return d=E.sent(),m=a.view.Ph(d),[2,(u.Uh&&lf(u,a.targetId,m.Rh),m)]}})})}function xp(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,E;return te.__generator(this,function(T){switch(T.label){case 0:return[4,(k=(m=Je(c)).ju,j=a,ne=Je(k),fe=Je(ne.Sr),ne.persistence.runTransaction("Lookup mutation documents","readonly",function(Te){return fe.Lo(Te,j).next(function(De){return De?ne.Cc.kr(Te,De):jt.resolve(null)})}))];case 1:return null===(E=T.sent())?[3,6]:"pending"!==u?[3,3]:[4,bc(m.ph)];case 2:return T.sent(),[3,4];case 3:"acknowledged"===u||"rejected"===u?(uf(m,a,d||null),Cc(m,a),function(k,j){Je(Je(k).Sr).Ko(j)}(m.ju,a)):Le(),T.label=4;case 4:return[4,ea(m,E)];case 5:return T.sent(),[3,7];case 6:Ne("SyncEngine","Cannot apply mutation batch with id: "+a),T.label=7;case 7:return[2]}var k,j,ne,fe})})}function fd(c,a){return te.__awaiter(this,void 0,void 0,function(){var u,d,m,E,T,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:return hf(u=Je(c)),nl(u),!0!==a||!0===u.qh?[3,3]:(d=u.Sh.Ci(),[4,dh(u,d.A())]);case 1:return m=fe.sent(),u.qh=!0,[4,lu(u.ph,!0)];case 2:for(fe.sent(),E=0,T=m;E<T.length;E++)wa(u.ph,T[E]);return[3,7];case 3:return!1!==a||!1===u.qh?[3,7]:(j=[],ne=Promise.resolve(),u.Fh.forEach(function(Te,De){u.Sh.qi(De)?j.push(De):ne=ne.then(function(){return Pl(u,De),Zu(u.ju,De,!0)}),is(u.ph,De)}),[4,ne]);case 4:return fe.sent(),[4,dh(u,j)];case 5:return fe.sent(),(De=Je(u)).kh.forEach(function(We,st){is(De.ph,st)}),De.Mh.Qc(),De.kh=new Map,De.$h=new sn(I.i),u.qh=!1,[4,lu(u.ph,!1)];case 6:fe.sent(),fe.label=7;case 7:return[2]}var De})})}function dh(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E,T,k,j,ne,fe,Te,De,st,Et,Gt;return te.__generator(this,function(_n){switch(_n.label){case 0:d=Je(c),m=[],E=[],T=0,k=a,_n.label=1;case 1:return T<k.length?(ne=void 0,(fe=d.Fh.get(j=k[T]))&&0!==fe.length?[4,Ju(d.ju,zi(fe[0]))]:[3,7]):[3,13];case 2:ne=_n.sent(),Te=0,De=fe,_n.label=3;case 3:return Te<De.length?(st=d.Nh.get(De[Te]),[4,Tm(d,st)]):[3,6];case 4:(Et=_n.sent()).snapshot&&E.push(Et.snapshot),_n.label=5;case 5:return Te++,[3,3];case 6:return[3,11];case 7:return[4,Ol(d.ju,j)];case 8:return Gt=_n.sent(),[4,Ju(d.ju,Gt)];case 9:return ne=_n.sent(),[4,kl(d,cf(Gt),j,!1)];case 10:_n.sent(),_n.label=11;case 11:m.push(ne),_n.label=12;case 12:return T++,[3,1];case 13:return[2,(d.Ch.yu(E),m)]}})})}function cf(c){return $o(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function ss(c){var a=Je(c);return Je(Je(a.ju).persistence).pi()}function Sc(c,a,u,d){return te.__awaiter(this,void 0,void 0,function(){var m,E,T;return te.__generator(this,function(k){switch(k.label){case 0:return(m=Je(c)).qh?(Ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Fh.has(a))return[3,8];switch(u){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ch(m.ju)];case 3:return E=k.sent(),T=Jt.Xt(a,"current"===u),[4,ea(m,E,T)];case 4:return k.sent(),[3,8];case 5:return[4,Zu(m.ju,a,!0)];case 6:return k.sent(),Pl(m,a,d),[3,8];case 7:Le(),k.label=8;case 8:return[2]}})})}function Ic(c,a,u){return te.__awaiter(this,void 0,void 0,function(){var d,m,E,T,k,j,ne,fe,Te;return te.__generator(this,function(We){switch(We.label){case 0:if(!(d=hf(c)).qh)return[3,10];m=0,E=a,We.label=1;case 1:return m<E.length?d.Fh.has(T=E[m])?(Ne("SyncEngine","Adding an already active target "+T),[3,5]):[4,Ol(d.ju,T)]:[3,6];case 2:return k=We.sent(),[4,Ju(d.ju,k)];case 3:return j=We.sent(),[4,kl(d,cf(k),j.targetId,!1)];case 4:We.sent(),wa(d.ph,j),We.label=5;case 5:return m++,[3,1];case 6:ne=function(st){return te.__generator(this,function(Et){switch(Et.label){case 0:return d.Fh.has(st)?[4,Zu(d.ju,st,!1).then(function(){is(d.ph,st),Pl(d,st)}).catch(ba)]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return[2]}})},fe=0,Te=u,We.label=7;case 7:return fe<Te.length?[5,ne(Te[fe])]:[3,10];case 8:We.sent(),We.label=9;case 9:return fe++,[3,7];case 10:return[2]}})})}function hf(c){var a=Je(c);return a.ph.Gu.sh=gs.bind(null,a),a.ph.Gu.qe=Op.bind(null,a),a.ph.Gu.nh=ku.bind(null,a),a.Ch.yu=so.bind(null,a.bh),a.Ch.Wh=Ci.bind(null,a.bh),a}function nl(c){var a=Je(c);return a.ph.Gu.ih=Ha.bind(null,a),a.ph.Gu.rh=cd.bind(null,a),a}var Nl=function(){function c(){}return c.prototype.Nc=function(a){this.zh=a},c.prototype.Lr=function(a,u,d,m){var T,E=this;return 0===(T=u).filters.length&&null===T.limit&&null==T.startAt&&null==T.endAt&&(0===T.on.length||1===T.on.length&&T.on[0].field.p())||d.isEqual(On.min())?this.Hh(a,u):this.zh.kr(a,m).next(function(T){var k=E.Yh(u,T);return(Ws(u)||Co(u))&&E.Eh(u.an,k,m,d)?E.Hh(a,u):(it()<=re.LogLevel.DEBUG&&Ne("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ts(u)),E.zh.Lr(a,u,d).next(function(j){return k.forEach(function(ne){j=j.ot(ne.key,ne)}),j}))})},c.prototype.Yh=function(a,u){var d=new Sr(Vi(a));return u.forEach(function(m,E){E instanceof Or&&Ds(a,E)&&(d=d.add(E))}),d},c.prototype.Eh=function(a,u,d,m){if(d.size!==u.size)return!0;var E="F"===a?u.last():u.first();return!!E&&(E.hasPendingWrites||E.version.L(m)>0)},c.prototype.Hh=function(a,u){return it()<=re.LogLevel.DEBUG&&Ne("IndexFreeQueryEngine","Using full collection scan to execute query:",Ts(u)),this.zh.Lr(a,u,On.min())},c}(),cu=function(){function c(a,u){this.Dr=a,this.No=u,this.Sr=[],this.Jh=1,this.Xh=new Sr(Ao.kc)}return c.prototype.$o=function(a){return jt.resolve(0===this.Sr.length)},c.prototype.ko=function(a,u,d,m){var E=this.Jh;this.Jh++;var T=new ya(E,u,d,m);this.Sr.push(T);for(var k=0,j=m;k<j.length;k++){var ne=j[k];this.Xh=this.Xh.add(new Ao(ne.key,E)),this.Dr.Mo(a,ne.key.path.h())}return jt.resolve(T)},c.prototype.Oo=function(a,u){return jt.resolve(this.Zh(u))},c.prototype.Bo=function(a,u){var m=this.tl(u+1),E=m<0?0:m;return jt.resolve(this.Sr.length>E?this.Sr[E]:null)},c.prototype.qo=function(){return jt.resolve(0===this.Sr.length?-1:this.Jh-1)},c.prototype.Uo=function(a){return jt.resolve(this.Sr.slice())},c.prototype.Nr=function(a,u){var d=this,m=new Ao(u,0),E=new Ao(u,Number.POSITIVE_INFINITY),T=[];return this.Xh.Ft([m,E],function(k){var j=d.Zh(k.jc);T.push(j)}),jt.resolve(T)},c.prototype.Or=function(a,u){var d=this,m=new Sr(Ht);return u.forEach(function(E){var T=new Ao(E,0),k=new Ao(E,Number.POSITIVE_INFINITY);d.Xh.Ft([T,k],function(j){m=m.add(j.jc)})}),jt.resolve(this.el(m))},c.prototype.Wr=function(a,u){var d=u.path,m=d.length+1,E=d;I.F(E)||(E=E.child(""));var T=new Ao(new I(E),0),k=new Sr(Ht);return this.Xh.xt(function(j){var ne=j.key.path;return!!d.T(ne)&&(ne.length===m&&(k=k.add(j.jc)),!0)},T),jt.resolve(this.el(k))},c.prototype.el=function(a){var u=this,d=[];return a.forEach(function(m){var E=u.Zh(m);null!==E&&d.push(E)}),d},c.prototype.Wo=function(a,u){var d=this;dt(0===this.nl(u.batchId,"removed")),this.Sr.shift();var m=this.Xh;return jt.forEach(u.mutations,function(E){var T=new Ao(E.key,u.batchId);return m=m.delete(T),d.No.Go(a,E.key)}).next(function(){d.Xh=m})},c.prototype.Ko=function(a){},c.prototype.Ho=function(a,u){var d=new Ao(u,0),m=this.Xh.$t(d);return jt.resolve(u.isEqual(m&&m.key))},c.prototype.zo=function(a){return jt.resolve()},c.prototype.nl=function(a,u){return this.tl(a)},c.prototype.tl=function(a){return 0===this.Sr.length?0:a-this.Sr[0].batchId},c.prototype.Zh=function(a){var u=this.tl(a);return u<0||u>=this.Sr.length?null:this.Sr[u]},c}(),ph=function(){function c(a,u){this.Dr=a,this.sl=u,this.docs=new sn(I.i),this.size=0}return c.prototype.Er=function(a,u,d){var m=u.key,E=this.docs.get(m),T=E?E.size:0,k=this.sl(u);return this.docs=this.docs.ot(m,{ta:u,size:k,readTime:d}),this.size+=k-T,this.Dr.Mo(a,m.path.h())},c.prototype.Ar=function(a){var u=this.docs.get(a);u&&(this.docs=this.docs.remove(a),this.size-=u.size)},c.prototype.Rr=function(a,u){var d=this.docs.get(u);return jt.resolve(d?d.ta:null)},c.prototype.getEntries=function(a,u){var d=this,m=Gi();return u.forEach(function(E){var T=d.docs.get(E);m=m.ot(E,T?T.ta:null)}),jt.resolve(m)},c.prototype.Lr=function(a,u,d){for(var m=Be(),E=new I(u.path.child("")),T=this.docs.ft(E);T.At();){var k=T.It(),ne=k.value,fe=ne.ta,Te=ne.readTime;if(!u.path.T(k.key.path))break;Te.L(d)<=0||fe instanceof Or&&Ds(u,fe)&&(m=m.ot(fe.key,fe))}return jt.resolve(m)},c.prototype.il=function(a,u){return jt.forEach(this.docs,function(d){return u(d)})},c.prototype.ra=function(a){return new Rp(this)},c.prototype.aa=function(a){return jt.resolve(this.size)},c}(),Rp=function(c){function a(u){var d=this;return(d=c.call(this)||this).ca=u,d}return te.__extends(a,c),a.prototype.yr=function(u){var d=this,m=[];return this.wr.forEach(function(E,T){T?m.push(d.ca.Er(u,T,d.readTime)):d.ca.Ar(E)}),jt.$n(m)},a.prototype.gr=function(u,d){return this.ca.Rr(u,d)},a.prototype.Pr=function(u,d){return this.ca.getEntries(u,d)},a}(f),Dm=function(){function c(a){this.persistence=a,this.rl=new Ar(function(u){return Ue(u)},Wt),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.ol=0,this.al=new ds,this.targetCount=0,this.cl=Dl.fa()}return c.prototype.Ce=function(a,u){return this.rl.forEach(function(d,m){return u(m)}),jt.resolve()},c.prototype.Ea=function(a){return jt.resolve(this.lastRemoteSnapshotVersion)},c.prototype.Ia=function(a){return jt.resolve(this.ol)},c.prototype.wa=function(a){return this.highestTargetId=this.cl.next(),jt.resolve(this.highestTargetId)},c.prototype.Aa=function(a,u,d){return d&&(this.lastRemoteSnapshotVersion=d),u>this.ol&&(this.ol=u),jt.resolve()},c.prototype.ga=function(a){this.rl.set(a.target,a);var u=a.targetId;u>this.highestTargetId&&(this.cl=new Dl(u),this.highestTargetId=u),a.sequenceNumber>this.ol&&(this.ol=a.sequenceNumber)},c.prototype.Ra=function(a,u){return this.ga(u),this.targetCount+=1,jt.resolve()},c.prototype.ya=function(a,u){return this.ga(u),jt.resolve()},c.prototype.Va=function(a,u){return this.rl.delete(u.target),this.al.Uc(u.targetId),this.targetCount-=1,jt.resolve()},c.prototype.po=function(a,u,d){var m=this,E=0,T=[];return this.rl.forEach(function(k,j){j.sequenceNumber<=u&&null===d.get(j.targetId)&&(m.rl.delete(k),T.push(m.pa(a,j.targetId)),E++)}),jt.$n(T).next(function(){return E})},c.prototype.ba=function(a){return jt.resolve(this.targetCount)},c.prototype.va=function(a,u){var d=this.rl.get(u)||null;return jt.resolve(d)},c.prototype.Sa=function(a,u,d){return this.al.Lc(u,d),jt.resolve()},c.prototype.Ca=function(a,u,d){this.al.qc(u,d);var m=this.persistence.No,E=[];return m&&u.forEach(function(T){E.push(m.Go(a,T))}),jt.$n(E)},c.prototype.pa=function(a,u){return this.al.Uc(u),jt.resolve()},c.prototype.Fa=function(a,u){var d=this.al.Wc(u);return jt.resolve(d)},c.prototype.Ho=function(a,u){return jt.resolve(this.al.Ho(u))},c}(),dd=function(){function c(a){var u=this;this.ul={},this.Ma=new Fr(0),this.Oa=!1,this.Oa=!0,this.No=a(this),this.Ka=new Dm(this),this.Dr=new wm,this.vr=new ph(this.Dr,function(E){return u.No.hl(E)})}return c.prototype.start=function(){return Promise.resolve()},c.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.Za=function(){},c.prototype.tc=function(){},c.prototype.Ic=function(){return this.Dr},c.prototype.mc=function(a){var u=this.ul[a.ti()];return u||(u=new cu(this.Dr,this.No),this.ul[a.ti()]=u),u},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.runTransaction=function(a,u,d){var m=this;Ne("MemoryPersistence","Starting transaction:",a);var E=new Gv(this.Ma.next());return this.No.ll(),d(E).next(function(T){return m.No._l(E).next(function(){return T})}).Fn().then(function(T){return E.br(),T})},c.prototype.fl=function(a,u){return jt.kn(Object.values(this.ul).map(function(d){return function(){return d.Ho(a,u)}}))},c}(),Gv=function(c){function a(u){var d=this;return(d=c.call(this)||this).xa=u,d}return te.__extends(a,c),a}(b),pd=function(){function c(a){this.persistence=a,this.dl=new ds,this.wl=null}return c.ml=function(a){return new c(a)},Object.defineProperty(c.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Le()},enumerable:!1,configurable:!0}),c.prototype.Da=function(a,u,d){return this.dl.Da(d,u),this.Tl.delete(d.toString()),jt.resolve()},c.prototype.Na=function(a,u,d){return this.dl.Na(d,u),this.Tl.add(d.toString()),jt.resolve()},c.prototype.Go=function(a,u){return this.Tl.add(u.toString()),jt.resolve()},c.prototype.removeTarget=function(a,u){var d=this;this.dl.Uc(u.targetId).forEach(function(E){return d.Tl.add(E.toString())});var m=this.persistence.Tc();return m.Fa(a,u.targetId).next(function(E){E.forEach(function(T){return d.Tl.add(T.toString())})}).next(function(){return m.Va(a,u)})},c.prototype.ll=function(){this.wl=new Set},c.prototype._l=function(a){var u=this,d=this.persistence.Ec().ra();return jt.forEach(this.Tl,function(m){var E=I.D(m);return u.El(a,E).next(function(T){T||d.Ar(E)})}).next(function(){return u.wl=null,d.apply(a)})},c.prototype.yc=function(a,u){var d=this;return this.El(a,u).next(function(m){m?d.Tl.delete(u.toString()):d.Tl.add(u.toString())})},c.prototype.hl=function(a){return 0},c.prototype.El=function(a,u){var d=this;return jt.kn([function(){return jt.resolve(d.dl.Ho(u))},function(){return d.persistence.Tc().Ho(a,u)},function(){return d.persistence.fl(a,u)}])},c}(),gh=function(){function c(a){this.Il=a.Il,this.Al=a.Al}return c.prototype.gu=function(a){this.Rl=a},c.prototype.Tu=function(a){this.gl=a},c.prototype.onMessage=function(a){this.Pl=a},c.prototype.close=function(){this.Al()},c.prototype.send=function(a){this.Il(a)},c.prototype.yl=function(){this.Rl()},c.prototype.Vl=function(a){this.gl(a)},c.prototype.pl=function(a){this.Pl(a)},c}(),Fl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},kp=function(c){function a(u){var d=this;return(d=c.call(this,u)||this).forceLongPolling=u.forceLongPolling,d.W=u.W,d}return te.__extends(a,c),a.prototype.Nl=function(u,d,m,E){return new Promise(function(T,k){var j=new rt.XhrIo;j.listenOnce(rt.EventType.COMPLETE,function(){try{switch(j.getLastErrorCode()){case rt.ErrorCode.NO_ERROR:var fe=j.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(fe)),T(fe);break;case rt.ErrorCode.TIMEOUT:Ne("Connection",'RPC "'+u+'" timed out'),k(new Y(be.DEADLINE_EXCEEDED,"Request time out"));break;case rt.ErrorCode.HTTP_ERROR:var Te=j.getStatus();if(Ne("Connection",'RPC "'+u+'" failed with status:',Te,"response text:",j.getResponseText()),Te>0){var De=j.getResponseJson().error;if(De&&De.status&&De.message){var We=(Et=De.status.toLowerCase().replace("_","-"),Object.values(be).indexOf(Et)>=0?Et:be.UNKNOWN);k(new Y(We,De.message))}else k(new Y(be.UNKNOWN,"Server responded with status "+j.getStatus()))}else k(new Y(be.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ne("Connection",'RPC "'+u+'" completed.')}var Et});var ne=JSON.stringify(E);j.send(d,"POST",ne,m,15)})},a.prototype.Pu=function(u,d){var m=[this.vl,"/","google.firestore.v1.Firestore","/",u,"/channel"],E=rt.createWebChannelTransport(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(T.initMessageHeaders,d),Nt.isMobileCordova()||Nt.isReactNative()||Nt.isElectron()||Nt.isIE()||Nt.isUWP()||Nt.isBrowserExtension()||(T.httpHeadersOverwriteParam="$httpHeaders");var k=m.join("");Ne("Connection","Creating WebChannel: "+k,T);var j=E.createWebChannel(k,T),ne=!1,fe=!1,Te=new gh({Il:function(We){fe?Ne("Connection","Not sending because WebChannel is closed:",We):(ne||(Ne("Connection","Opening WebChannel transport."),j.open(),ne=!0),Ne("Connection","WebChannel sending:",We),j.send(We))},Al:function(){return j.close()}}),De=function(We,st){j.listen(We,function(Et){try{st(Et)}catch(Gt){setTimeout(function(){throw Gt},0)}})};return De(rt.WebChannel.EventType.OPEN,function(){fe||Ne("Connection","WebChannel transport opened.")}),De(rt.WebChannel.EventType.CLOSE,function(){fe||(fe=!0,Ne("Connection","WebChannel transport closed"),Te.Vl())}),De(rt.WebChannel.EventType.ERROR,function(We){fe||(fe=!0,bn("Connection","WebChannel transport errored:",We),Te.Vl(new Y(be.UNAVAILABLE,"The operation could not be completed")))}),De(rt.WebChannel.EventType.MESSAGE,function(We){var st;if(!fe){var Et=We.data[0];dt(!!Et);var _n=Et.error||(null===(st=Et[0])||void 0===st?void 0:st.error);if(_n){Ne("Connection","WebChannel received error:",_n);var $n=_n.status,ur=function(_i){var Bi=pn[_i];if(void 0!==Bi)return Cr(Bi)}($n),zr=_n.message;void 0===ur&&(ur=be.INTERNAL,zr="Unknown error status: "+$n+" with message "+_n.message),fe=!0,Te.Vl(new Y(ur,zr)),j.close()}else Ne("Connection","WebChannel received:",Et),Te.pl(Et)}}),setTimeout(function(){Te.yl()},0),Te},a}(function(){function c(a){this.bl=a,this.U=a.U,this.vl=(a.ssl?"https":"http")+"://"+a.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return c.prototype.$u=function(a,u,d,m){var E=this.Dl(a,u);Ne("RestConnection","Sending: ",E,d);var T={};return this.Cl(T,m),this.Nl(a,E,T,d).then(function(k){return Ne("RestConnection","Received: ",k),k},function(k){throw bn("RestConnection",a+" failed with error: ",k,"url: ",E,"request:",d),k})},c.prototype.ku=function(a,u,d,m){return this.$u(a,u,d,m)},c.prototype.Cl=function(a,u){if(a["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",a["Content-Type"]="text/plain",u)for(var d in u.Kc)u.Kc.hasOwnProperty(d)&&(a[d]=u.Kc[d])},c.prototype.Dl=function(a,u){return this.vl+"/v1/"+u+":"+Fl[a]},c}()),Me=function(){function c(){var a=this;this.Fl=function(){return a.xl()},this.$l=function(){return a.kl()},this.Ml=[],this.Ol()}return c.prototype.Zu=function(a){this.Ml.push(a)},c.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},c.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},c.prototype.xl=function(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var a=0,u=this.Ml;a<u.length;a++)(0,u[a])(0)},c.prototype.kl=function(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var a=0,u=this.Ml;a<u.length;a++)(0,u[a])(1)},c.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),mh=function(){function c(){}return c.prototype.Zu=function(a){},c.prototype.Di=function(){},c}();function Tc(c){return new ws(c,!0)}var Ea="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",za=function(){function c(){}return c.prototype.initialize=function(a){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(u){switch(u.label){case 0:return this.Sh=this.Ll(a),this.persistence=this.Bl(a),[4,this.persistence.start()];case 1:return u.sent(),this.ql=this.Ul(a),this.ju=this.Ql(a),[2]}})})},c.prototype.Ul=function(a){return null},c.prototype.Ql=function(a){return u=this.persistence,d=new Nl,new fc(u,d,a.Wl);var u,d},c.prototype.Bl=function(a){if(a.persistenceSettings.jl)throw new Y(be.FAILED_PRECONDITION,Ea);return new dd(pd.ml)},c.prototype.Ll=function(a){return new Wu},c.prototype.terminate=function(){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(a){switch(a.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return a.sent(),[4,this.persistence.Di()];case 2:return a.sent(),[2]}})})},c.prototype.clearPersistence=function(a,u){throw new Y(be.FAILED_PRECONDITION,Ea)},c}(),Am=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.initialize=function(u){return te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(E){switch(E.label){case 0:return[4,c.prototype.initialize.call(this,u)];case 1:return E.sent(),d=this.Kl.fi,this.Sh instanceof bi?(this.Sh.fi={er:xp.bind(null,d),nr:Sc.bind(null,d),sr:Ic.bind(null,d),pi:ss.bind(null,d)},[4,this.Sh.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.Xa(function(T){return te.__awaiter(m,void 0,void 0,function(){return te.__generator(this,function(k){switch(k.label){case 0:return[4,fd(this.Kl.fi,T)];case 1:return k.sent(),this.ql&&(T&&!this.ql.Ei?this.ql.start(this.ju):T||this.ql.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},a.prototype.Ll=function(u){if(u.persistenceSettings.jl&&u.persistenceSettings.synchronizeTabs){var d=P();if(!bi.Ln(d))throw new Y(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=id(u.bl.U,u.bl.persistenceKey);return new bi(d,u.cs,m,u.clientId,u.Wl)}return new Wu},a}(function(c){function a(u){var d=this;return(d=c.call(this)||this).Kl=u,d}return te.__extends(a,c),a.prototype.initialize=function(u){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(d){switch(d.label){case 0:return[4,c.prototype.initialize.call(this,u)];case 1:return d.sent(),[4,tf(this.ju)];case 2:return d.sent(),[4,this.Kl.initialize(this,u)];case 3:return d.sent(),[4,nl(this.Kl.fi)];case 4:return d.sent(),[4,bc(this.Kl.ph)];case 5:return d.sent(),[2]}})})},a.prototype.Ul=function(u){return new He(this.persistence.No.wo,u.cs)},a.prototype.Bl=function(u){var d=id(u.bl.U,u.bl.persistenceKey),m=Tc(u.bl.U);return new fs(u.persistenceSettings.synchronizeTabs,d,u.clientId,ae.ao(u.persistenceSettings.cacheSizeBytes),u.cs,P(),q(),m,this.Sh,u.persistenceSettings.ka)},a.prototype.Ll=function(u){return new Wu},a.prototype.clearPersistence=function(u,d){return function(m){return te.__awaiter(this,void 0,void 0,function(){return te.__generator(this,function(T){switch(T.label){case 0:return ni.Ln()?[4,ni.delete(m+"main")]:[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(id(u,d))},a}(za)),ta=function(){function c(){}return c.prototype.initialize=function(a,u){return te.__awaiter(this,void 0,void 0,function(){var d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.ju?[3,2]:(this.ju=a.ju,this.Sh=a.Sh,this.Ku=this.Gl(u),this.ph=this.zl(u),this.bh=this.Hl(u),this.fi=this.Yl(u),this.Sh.di=function(E){return Ec(d.fi,E,1)},this.ph.Gu.Jl=Mp.bind(null,this.fi),[4,lu(this.ph,this.fi.Uh)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},c.prototype.Hl=function(a){return new Pn},c.prototype.Gl=function(a){var d=Tc(a.bl.U),m=new kp(a.bl);return new mc(a.credentials,m,d)},c.prototype.zl=function(a){var u,d,m,E,T,k=this;return u=this.ju,d=this.Ku,m=a.cs,E=function(j){return Ec(k.fi,j,0)},T=Me.Ln()?new Me:new mh,new of(u,d,m,E,T)},c.prototype.Yl=function(a){return j=!a.persistenceSettings.jl||!a.persistenceSettings.synchronizeTabs,ne=new af(this.ju,this.ph,this.bh,this.Sh,a.Wl,a.Dh),j&&(ne.qh=!0),ne;var j,ne},c.prototype.terminate=function(){return _c(this.ph)},c}(),qa=function(){function c(a){this.observer=a,this.muted=!1}return c.prototype.next=function(a){this.observer.next&&this.Xl(this.observer.next,a)},c.prototype.error=function(a){this.observer.error?this.Xl(this.observer.error,a):console.error("Uncaught Error in snapshot listener:",a)},c.prototype.Zl=function(){this.muted=!0},c.prototype.Xl=function(a,u){var d=this;this.muted||setTimeout(function(){d.muted||a(u)},0)},c}(),Dc=function(c){!function(u,d,m,E){if(!(d instanceof Array)||d.length<1)throw new Y(be.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Bn(1,"element")+".")}(0,c);for(var a=0;a<c.length;++a)if(le("FieldPath","string",a,c[a]),0===c[a].length)throw new Y(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new M(c)},Ui=function(c){function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return c.call(this,u)||this}return te.__extends(a,c),a.documentId=function(){return new a(M.v().R())},a.prototype.isEqual=function(u){if(!(u instanceof a))throw tn("isEqual","FieldPath",1,u);return this.t_.isEqual(u.t_)},a}(Dc),Yi=new RegExp("[~\\*/\\[\\]]"),Ca=function(c){this.e_=c},ks=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.n_=function(u){if(2!==u.s_)throw u.i_(1===u.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return u.We.push(u.path),null},a.prototype.isEqual=function(u){return u instanceof a},a}(Ca);function gd(c,a,u){return new wh({s_:3,r_:a.settings.r_,methodName:c.e_,o_:u},a.U,a.serializer,a.ignoreUndefinedProperties)}var _h=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.n_=function(u){return new yt(u.path,new Yr)},a.prototype.isEqual=function(u){return u instanceof a},a}(Ca),Ll=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).a_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=gd(this,u,!0),m=this.a_.map(function(T){return Nu(T,d)}),E=new B(m);return new yt(u.path,E)},a.prototype.isEqual=function(u){return this===u},a}(Ca),vh=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).a_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=gd(this,u,!0),m=this.a_.map(function(T){return Nu(T,d)}),E=new X(m);return new yt(u.path,E)},a.prototype.isEqual=function(u){return this===u},a}(Ca),yh=function(c){function a(u,d){var m=this;return(m=c.call(this,u)||this).c_=d,m}return te.__extends(a,c),a.prototype.n_=function(u){var d=new Ce(u.serializer,ts(u.serializer,this.c_));return new yt(u.path,d)},a.prototype.isEqual=function(u){return this===u},a}(Ca),Ac=function(){function c(a,u){if(H("GeoPoint",arguments,2),le("GeoPoint","number",1,a),le("GeoPoint","number",2,u),!isFinite(a)||a<-90||a>90)throw new Y(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(u)||u<-180||u>180)throw new Y(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+u);this.u_=a,this.h_=u}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){return this.u_===a.u_&&this.h_===a.h_},c.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},c.prototype.Y=function(a){return Ht(this.u_,a.u_)||Ht(this.h_,a.h_)},c}(),ff=function(c){this.l_=c},Mc=/^__.*__$/,Sa=function(c,a,u){this.__=c,this.f_=a,this.d_=u},Mm=function(){function c(a,u,d){this.data=a,this.We=u,this.fieldTransforms=d}return c.prototype.w_=function(a,u){var d=[];return d.push(null!==this.We?new cr(a,this.data,this.We,u):new ti(a,this.data,u)),this.fieldTransforms.length>0&&d.push(new Fi(a,this.fieldTransforms)),d},c}(),Om=function(){function c(a,u,d){this.data=a,this.We=u,this.fieldTransforms=d}return c.prototype.w_=function(a,u){var d=[new cr(a,this.data,this.We,u)];return this.fieldTransforms.length>0&&d.push(new Fi(a,this.fieldTransforms)),d},c}();function bh(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var wh=function(){function c(a,u,d,m,E,T){this.settings=a,this.U=u,this.serializer=d,this.ignoreUndefinedProperties=m,void 0===E&&this.m_(),this.fieldTransforms=E||[],this.We=T||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),c.prototype.T_=function(a){return new c(Object.assign(Object.assign({},this.settings),a),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},c.prototype.E_=function(a){var u,d=null===(u=this.path)||void 0===u?void 0:u.child(a),m=this.T_({path:d,o_:!1});return m.I_(a),m},c.prototype.A_=function(a){var u,d=null===(u=this.path)||void 0===u?void 0:u.child(a),m=this.T_({path:d,o_:!1});return m.m_(),m},c.prototype.R_=function(a){return this.T_({path:void 0,o_:!0})},c.prototype.i_=function(a){return xc(a,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},c.prototype.contains=function(a){return void 0!==this.We.find(function(u){return a.T(u)})||void 0!==this.fieldTransforms.find(function(u){return a.T(u.field)})},c.prototype.m_=function(){if(this.path)for(var a=0;a<this.path.length;a++)this.I_(this.path.get(a))},c.prototype.I_=function(a){if(0===a.length)throw this.i_("Document fields must not be empty");if(bh(this.s_)&&Mc.test(a))throw this.i_('Document fields cannot begin and end with "__"')},c}(),hu=function(){function c(a,u,d){this.U=a,this.ignoreUndefinedProperties=u,this.serializer=d||Tc(a)}return c.prototype.P_=function(a,u,d,m){return void 0===m&&(m=!1),new wh({s_:a,methodName:u,r_:d,path:M.P(),o_:!1,g_:m},this.U,this.serializer,this.ignoreUndefinedProperties)},c}();function Eh(c,a,u,d,m,E){void 0===E&&(E={});var T=c.P_(E.merge||E.mergeFields?2:0,a,u,m);rl("Data must be an object, but it was:",T,d);var k,j,ne=Vl(d,T);if(E.merge)k=new gt(T.We),j=T.fieldTransforms;else if(E.mergeFields){for(var fe=[],Te=0,De=E.mergeFields;Te<De.length;Te++){var We=De[Te],st=void 0;if(We instanceof Dc)st=We.t_;else{if("string"!=typeof We)throw Le();st=Ul(a,We,u)}if(!T.contains(st))throw new Y(be.INVALID_ARGUMENT,"Field '"+st+"' is specified in your field mask but missing from your input data.");vd(fe,st)||fe.push(st)}k=new gt(fe),j=T.fieldTransforms.filter(function(Et){return k.Ye(Et.field)})}else k=null,j=T.fieldTransforms;return new Mm(new Gs(ne),k,j)}function na(c,a,u,d){var m=c.P_(1,a,u);rl("Data must be an object, but it was:",m,d);var E=[],T=new ns;Ft(d,function(j,ne){var fe=Ul(a,j,u),Te=m.A_(fe);if(ne instanceof ks||ne instanceof ff&&ne.l_ instanceof ks)E.push(fe);else{var De=Nu(ne,Te);null!=De&&(E.push(fe),T.set(fe,De))}});var k=new gt(E);return new Om(T.Xe(),k,m.fieldTransforms)}function md(c,a,u,d,m,E){var T=c.P_(1,a,u),k=[Oc(a,d,u)],j=[m];if(E.length%2!=0)throw new Y(be.INVALID_ARGUMENT,"Function "+a+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var ne=0;ne<E.length;ne+=2)k.push(Oc(a,E[ne])),j.push(E[ne+1]);for(var fe=[],Te=new ns,De=k.length-1;De>=0;--De)if(!vd(fe,k[De])){var We=k[De],st=j[De],Et=T.A_(We);if(st instanceof ks||st instanceof ff&&st.l_ instanceof ks)fe.push(We);else{var Gt=Nu(st,Et);null!=Gt&&(fe.push(We),Te.set(We,Gt))}}var _n=new gt(fe);return new Om(Te.Xe(),_n,T.fieldTransforms)}function Ch(c,a,u,d){return void 0===d&&(d=!1),Nu(u,c.P_(d?4:3,a))}function Nu(c,a){if(c instanceof ff&&(c=c.l_),_d(c))return rl("Unsupported field value:",a,c),Vl(c,a);if(c instanceof Ca)return function(u,d){if(!bh(d.s_))throw d.i_(u.e_+"() can only be used with update() and set()");if(!d.path)throw d.i_(u.e_+"() is not currently supported inside arrays");var m=u.n_(d);m&&d.fieldTransforms.push(m)}(c,a),null;if(a.path&&a.We.push(a.path),c instanceof Array){if(a.settings.o_&&4!==a.s_)throw a.i_("Nested arrays are not supported");return function(u,d){for(var m=[],E=0,T=0,k=u;T<k.length;T++){var j=Nu(k[T],d.R_(E));null==j&&(j={nullValue:"NULL_VALUE"}),m.push(j),E++}return{arrayValue:{values:m}}}(c,a)}return function(u,d){if(null===u)return{nullValue:"NULL_VALUE"};if("number"==typeof u)return ts(d.serializer,u);if("boolean"==typeof u)return{booleanValue:u};if("string"==typeof u)return{stringValue:u};if(u instanceof Date){var m=Qn.fromDate(u);return{timestampValue:nu(d.serializer,m)}}if(u instanceof Qn){var E=new Qn(u.seconds,1e3*Math.floor(u.nanoseconds/1e3));return{timestampValue:nu(d.serializer,E)}}if(u instanceof Ac)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof kn)return{bytesValue:ho(d.serializer,u.q)};if(u instanceof Sa){var T=d.U,k=u.__;if(!k.isEqual(T))throw d.i_("Document reference is for database "+k.projectId+"/"+k.database+" but should be for database "+T.projectId+"/"+T.database);return{referenceValue:Fa(u.__||d.U,u.f_.path)}}if(void 0===u&&d.ignoreUndefinedProperties)return null;throw d.i_("Unsupported field value: "+wt(u))}(c,a)}function Vl(c,a){var u={};return ot(c)?a.path&&a.path.length>0&&a.We.push(a.path):Ft(c,function(d,m){var E=Nu(m,a.E_(d));null!=E&&(u[d]=E)}),{mapValue:{fields:u}}}function _d(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Qn||c instanceof Ac||c instanceof kn||c instanceof Sa||c instanceof Ca)}function rl(c,a,u){if(!_d(u)||!Ge(u)){var d=wt(u);throw a.i_("an object"===d?c+" a custom object":c+" "+d)}}function Oc(c,a,u){if(a instanceof Dc)return a.t_;if("string"==typeof a)return Ul(c,a);throw xc("Field path arguments must be of type string or FieldPath.",c,!1,void 0,u)}function Ul(c,a,u){try{return function(m){if(m.search(Yi)>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ui.bind.apply(Ui,te.__spreadArrays([void 0],m.split("."))))}catch(E){throw new Y(be.INVALID_ARGUMENT,"Invalid field path ("+m+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(a).t_}catch(m){throw xc((d=m)instanceof Error?d.message:d.toString(),c,!1,void 0,u)}var d}function xc(c,a,u,d,m){var E=d&&!d.m(),T=void 0!==m,k="Function "+a+"() called with invalid data";u&&(k+=" (via `toFirestore()`)");var j="";return(E||T)&&(j+=" (found",E&&(j+=" in field "+d),T&&(j+=" in document "+m),j+=")"),new Y(be.INVALID_ARGUMENT,(k+=". ")+c+j)}function vd(c,a){return c.some(function(u){return u.isEqual(a)})}var yd=function(){function c(a){this.Ku=a,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return c.prototype.v_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:if(this.S_(),this.mutations.length>0)throw new Y(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,T){return te.__awaiter(this,void 0,void 0,function(){var k,j,ne,fe,Te,De;return te.__generator(this,function(We){switch(We.label){case 0:return k=Je(E),j=Sn(k.serializer)+"/documents",ne={documents:T.map(function(st){return no(k.serializer,st)})},[4,k.ku("BatchGetDocuments",j,ne)];case 1:return fe=We.sent(),Te=new Map,fe.forEach(function(st){var Gt,_n,Et=(Gt=k.serializer,"found"in(_n=st)?function($n,ur){dt(!!ur.found);var zr=Hn($n,ur.found.name),_i=zo(ur.found.updateTime),Bi=new Gs({mapValue:{fields:ur.found.fields}});return new Or(zr,_i,Bi,{})}(Gt,_n):"missing"in _n?function($n,ur){dt(!!ur.missing),dt(!!ur.readTime);var zr=Hn($n,ur.missing),_i=zo(ur.readTime);return new ui(zr,_i)}(Gt,_n):Le());Te.set(Et.key.toString(),Et)}),De=[],[2,(T.forEach(function(st){var Et=Te.get(st.toString());dt(!!Et),De.push(Et)}),De)]}})})}(this.Ku,a)];case 1:return[2,((u=m.sent()).forEach(function(E){E instanceof ui||E instanceof Or?d.D_(E):Le()}),u)]}})})},c.prototype.set=function(a,u){this.write(u.w_(a,this.Ge(a))),this.b_.add(a.toString())},c.prototype.update=function(a,u){try{this.write(u.w_(a,this.C_(a)))}catch(d){this.p_=d}this.b_.add(a.toString())},c.prototype.delete=function(a){this.write([new hr(a,this.Ge(a))]),this.b_.add(a.toString())},c.prototype.commit=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){switch(d.label){case 0:if(this.S_(),this.p_)throw this.p_;return a=this.y_,this.mutations.forEach(function(m){a.delete(m.key.toString())}),a.forEach(function(m,E){var T=I.D(E);u.mutations.push(new ga(T,u.Ge(T)))}),[4,function(m,E){return te.__awaiter(this,void 0,void 0,function(){var T,k,j;return te.__generator(this,function(ne){switch(ne.label){case 0:return T=Je(m),k=Sn(T.serializer)+"/documents",j={writes:E.map(function(fe){return Hi(T.serializer,fe)})},[4,T.$u("Commit",k,j)];case 1:return ne.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return d.sent(),this.V_=!0,[2]}})})},c.prototype.D_=function(a){var u;if(a instanceof Or)u=a.version;else{if(!(a instanceof ui))throw Le();u=On.min()}var d=this.y_.get(a.key.toString());if(d){if(!u.isEqual(d))throw new Y(be.ABORTED,"Document version changed between two reads.")}else this.y_.set(a.key.toString(),u)},c.prototype.Ge=function(a){var u=this.y_.get(a.toString());return!this.b_.has(a.toString())&&u?Vt.updateTime(u):Vt.ze()},c.prototype.C_=function(a){var u=this.y_.get(a.toString());if(!this.b_.has(a.toString())&&u){if(u.isEqual(On.min()))throw new Y(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vt.updateTime(u)}return Vt.exists(!0)},c.prototype.write=function(a){this.S_(),this.mutations=this.mutations.concat(a)},c.prototype.S_=function(){},c}(),Pp=function(){function c(a,u,d,m){this.cs=a,this.Ku=u,this.updateFunction=d,this.ls=m,this.N_=5,this.ys=new Su(this.cs,"transaction_retry")}return c.prototype.run=function(){this.F_()},c.prototype.F_=function(){var a=this;this.ys.gn(function(){return te.__awaiter(a,void 0,void 0,function(){var u,d,m=this;return te.__generator(this,function(E){return u=new yd(this.Ku),(d=this.x_(u))&&d.then(function(T){m.cs.ws(function(){return u.commit().then(function(){m.ls.resolve(T)}).catch(function(k){m.k_(k)})})}).catch(function(T){m.k_(T)}),[2]})})})},c.prototype.x_=function(a){try{var u=this.updateFunction(a);return!ci(u)&&u.catch&&u.then?u:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.ls.reject(d),null}},c.prototype.k_=function(a){var u=this;this.N_>0&&this.M_(a)?(this.N_-=1,this.cs.ws(function(){return u.F_(),Promise.resolve()})):this.ls.reject(a)},c.prototype.M_=function(a){if("FirebaseError"===a.name){var u=a.code;return"aborted"===u||"failed-precondition"===u||!Xn(u)}return!1},c}(),Bl=function(){function c(a,u){this.credentials=a,this.cs=u,this.clientId=dn.k(),this.O_=new Kr}return c.prototype.start=function(a,u,d,m){var E=this;this.L_(),this.bl=a;var T=new Kr,k=!1;return this.credentials.Hc(function(j){if(!k)return k=!0,Ne("FirestoreClient","Initializing. user=",j.uid),E.B_(u,d,m,j,T).then(E.O_.resolve,E.O_.reject);E.cs.Cs(function(){return function(ne,fe){return te.__awaiter(this,void 0,void 0,function(){var Te,De;return te.__generator(this,function(We){switch(We.label){case 0:return(Te=Je(ne)).cs.xs(),Ne("RemoteStore","RemoteStore received new credentials"),De=bo(Te),Te.Yu.add(3),[4,Jr(Te)];case 1:return We.sent(),De&&Te.th.set("Unknown"),[4,Te.Gu.Jl(fe)];case 2:return We.sent(),Te.Yu.delete(3),[4,uu(Te)];case 3:return We.sent(),[2]}})})}(E.ph,j)})}),this.cs.ws(function(){return E.O_.promise}),T.promise},c.prototype.enableNetwork=function(){var a=this;return this.L_(),this.cs.enqueue(function(){return a.persistence.tc(!0),(d=Je(a.ph)).Yu.delete(0),uu(d);var d})},c.prototype.B_=function(a,u,d,m,E){return te.__awaiter(this,void 0,void 0,function(){var T,k,j=this;return te.__generator(this,function(ne){switch(ne.label){case 0:return ne.trys.push([0,3,,4]),[4,a.initialize(T={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:m,Dh:100,persistenceSettings:d})];case 1:return ne.sent(),[4,u.initialize(a,T)];case 2:return ne.sent(),this.persistence=a.persistence,this.Sh=a.Sh,this.ju=a.ju,this.ql=a.ql,this.Ku=u.Ku,this.ph=u.ph,this.fi=u.fi,this.q_=u.bh,this.q_.Us=Ap.bind(null,this.fi),this.q_.js=ps.bind(null,this.fi),this.persistence.Za(function(){return te.__awaiter(j,void 0,void 0,function(){return te.__generator(this,function(fe){switch(fe.label){case 0:return[4,this.terminate()];case 1:return fe.sent(),[2]}})})}),E.resolve(),[3,4];case 3:if(k=ne.sent(),E.reject(k),!this.U_(k))throw k;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+k),this.B_(new za,new ta,{jl:!1},m,E))];case 4:return[2]}})})},c.prototype.U_=function(a){return"FirebaseError"===a.name?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code},c.prototype.L_=function(){if(this.cs.ps)throw new Y(be.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.disableNetwork=function(){var a=this;return this.L_(),this.cs.enqueue(function(){return a.persistence.tc(!1),function(u){return te.__awaiter(this,void 0,void 0,function(){var d;return te.__generator(this,function(m){switch(m.label){case 0:return(d=Je(u)).Yu.add(0),[4,Jr(d)];case 1:return m.sent(),d.th.set("Offline"),[2]}})})}(a.ph)})},c.prototype.terminate=function(){var a=this;this.cs.Ds();var u=new Kr;return this.cs.bs(function(){return te.__awaiter(a,void 0,void 0,function(){var d,m;return te.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,_c(this.ph)];case 1:return E.sent(),[4,this.Sh.Di()];case 2:return E.sent(),[4,this.persistence.Di()];case 3:return E.sent(),this.credentials.Yc(),u.resolve(),[3,5];case 4:return d=E.sent(),m=Xe(d,"Failed to shutdown persistence"),u.reject(m),[3,5];case 5:return[2]}})})}),u.promise},c.prototype.waitForPendingWrites=function(){var a=this;this.L_();var u=new Kr;return this.cs.ws(function(){return function(d,m){return te.__awaiter(this,void 0,void 0,function(){var E,T,k,j,ne;return te.__generator(this,function(fe){switch(fe.label){case 0:bo((E=Je(d)).ph)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,(Te=E.ju,De=Je(Te),De.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(We){return De.Sr.qo(We)}))];case 2:return-1===(T=fe.sent())?[2,void m.resolve()]:((k=E.Lh.get(T)||[]).push(m),E.Lh.set(T,k),[3,4]);case 3:return j=fe.sent(),ne=Xe(j,"Initialization of waitForPendingWrites() operation failed"),m.reject(ne),[3,4];case 4:return[2]}var Te,De})})}(a.fi,u)}),u.promise},c.prototype.listen=function(a,u,d){var m=this;this.L_();var E=new qa(d),T=new Ms(a,E,u);return this.cs.ws(function(){return Ir(m.q_,T)}),function(){E.Zl(),m.cs.ws(function(){return oo(m.q_,T)})}},c.prototype.Q_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),u=new Kr,[2,(this.cs.ws(function(){return function(E,T,k){return te.__awaiter(this,void 0,void 0,function(){var j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:return Te.trys.push([0,2,,3]),[4,(De=E,We=T,st=Je(De),st.persistence.runTransaction("read document","readonly",function(Et){return st.Cc.Cr(Et,We)}))];case 1:return(j=Te.sent())instanceof Or?k.resolve(j):j instanceof ui?k.resolve(null):k.reject(new Y(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ne=Te.sent(),fe=Xe(ne,"Failed to get document '"+T+" from cache"),k.reject(fe),[3,3];case 3:return[2]}var De,We,st})})}(d.ju,a,u)}),u.promise)]}})})},c.prototype.W_=function(a,u){return void 0===u&&(u={}),te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),d=new Kr,[2,(this.cs.ws(function(){return T=m.q_,k=m.cs,j=a,ne=u,fe=d,Te=new qa({next:function(We){k.ws(function(){return oo(T,De)});var st=We.docs.has(j);!st&&We.fromCache?fe.reject(new Y(be.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&We.fromCache&&ne&&"server"===ne.source?fe.reject(new Y(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):fe.resolve(We)},error:function(We){return fe.reject(We)}}),De=new Ms(Li(j.path),Te,{includeMetadataChanges:!0,Xs:!0}),Ir(T,De);var T,k,j,ne,fe,Te,De}),d.promise)]}})})},c.prototype.j_=function(a){return te.__awaiter(this,void 0,void 0,function(){var u,d=this;return te.__generator(this,function(m){switch(m.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return m.sent(),u=new Kr,[2,(this.cs.ws(function(){return function(E,T,k){return te.__awaiter(this,void 0,void 0,function(){var j,ne,fe,Te,De,We;return te.__generator(this,function(st){switch(st.label){case 0:return st.trys.push([0,2,,3]),[4,pc(E,T,!0)];case 1:return j=st.sent(),ne=new Dp(T,j.Fc),fe=ne.wh(j.documents),Te=ne.yr(fe,!1),k.resolve(Te.snapshot),[3,3];case 2:return De=st.sent(),We=Xe(De,"Failed to execute query '"+T+" against cache"),k.reject(We),[3,3];case 3:return[2]}})})}(d.ju,a,u)}),u.promise)]}})})},c.prototype.K_=function(a,u){return void 0===u&&(u={}),te.__awaiter(this,void 0,void 0,function(){var d,m=this;return te.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),d=new Kr,[2,(this.cs.ws(function(){return T=m.q_,k=m.cs,j=a,ne=u,fe=d,Te=new qa({next:function(We){k.ws(function(){return oo(T,De)}),We.fromCache&&"server"===ne.source?fe.reject(new Y(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):fe.resolve(We)},error:function(We){return fe.reject(We)}}),De=new Ms(j,Te,{includeMetadataChanges:!0,Xs:!0}),Ir(T,De);var T,k,j,ne,fe,Te,De}),d.promise)]}})})},c.prototype.write=function(a){var u=this;this.L_();var d=new Kr;return this.cs.ws(function(){return function(m,E,T){return te.__awaiter(this,void 0,void 0,function(){var k,j,ne,fe;return te.__generator(this,function(Te){switch(Te.label){case 0:k=nl(m),Te.label=1;case 1:return Te.trys.push([1,5,,6]),[4,(De=k.ju,We=E,Et=Je(De),Gt=Qn.now(),_n=We.reduce(function($n,ur){return $n.add(ur.key)},Fe()),Et.persistence.runTransaction("Locally write mutations","readwrite",function($n){return Et.Cc.kr($n,_n).next(function(ur){st=ur;for(var zr=[],_i=0,Bi=We;_i<Bi.length;_i++){var fu=Bi[_i],vr=yn(fu,st.get(fu.key));null!=vr&&zr.push(new cr(fu.key,vr,zu(vr.proto.mapValue),Vt.exists(!0)))}return Et.Sr.ko($n,Gt,zr,We)})}).then(function($n){var ur=$n.lr(st);return{batchId:$n.batchId,wr:ur}}))];case 2:return j=Te.sent(),k.Sh.xi(j.batchId),function(De,We,st){var Et=De.Oh[De.currentUser.ti()];Et||(Et=new sn(Ht)),Et=Et.ot(We,st),De.Oh[De.currentUser.ti()]=Et}(k,j.batchId,T),[4,ea(k,j.wr)];case 3:return Te.sent(),[4,bc(k.ph)];case 4:return Te.sent(),[3,6];case 5:return ne=Te.sent(),fe=Xe(ne,"Failed to persist write"),T.reject(fe),[3,6];case 6:return[2]}var De,We,st,Et,Gt,_n})})}(u.fi,a,d)}),d.promise},c.prototype.U=function(){return this.bl.U},c.prototype.G_=function(a){var u=this;this.L_();var d=new qa(a);return this.cs.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return[2,(E=this.q_,T=d,Je(E).qs.add(T),void T.next())];var E,T})})}),function(){d.Zl(),u.cs.ws(function(){return te.__awaiter(u,void 0,void 0,function(){return te.__generator(this,function(m){return[2,(E=this.q_,T=d,void Je(E).qs.delete(T))];var E,T})})})}},Object.defineProperty(c.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),c.prototype.transaction=function(a){var u=this;this.L_();var d=new Kr;return this.cs.ws(function(){return new Pp(u.cs,u.Ku,a,d).run(),Promise.resolve()}),d.promise},c}();function Rc(c){return function(a,u){if("object"!=typeof a||null===a)return!1;for(var d=a,m=0,E=["next","error","complete"];m<E.length;m++){var T=E[m];if(T in d&&"function"==typeof d[T])return!0}return!1}(c)}var il=function(){function c(a,u,d,m,E){this.U=a,this.timestampsInSnapshots=u,this.H_=d,this.Y_=m,this.J_=E}return c.prototype.X_=function(a){switch(Ee(a)){case 0:return null;case 1:return a.booleanValue;case 2:return sr(a.integerValue||a.doubleValue);case 3:return this.Z_(a.timestampValue);case 4:return this.tf(a);case 5:return a.stringValue;case 6:return this.J_(nr(a.bytesValue));case 7:return this.ef(a.referenceValue);case 8:return this.nf(a.geoPointValue);case 9:return this.sf(a.arrayValue);case 10:return this.if(a.mapValue);default:throw Le()}},c.prototype.if=function(a){var u=this,d={};return Ft(a.fields||{},function(m,E){d[m]=u.X_(E)}),d},c.prototype.nf=function(a){return new Ac(sr(a.latitude),sr(a.longitude))},c.prototype.sf=function(a){var u=this;return(a.values||[]).map(function(d){return u.X_(d)})},c.prototype.tf=function(a){switch(this.H_){case"previous":var u=L(a);return null==u?null:this.X_(u);case"estimate":return this.Z_($(a));default:return null}},c.prototype.Z_=function(a){var u=vt(a),d=new Qn(u.seconds,u.nanos);return this.timestampsInSnapshots?d:d.toDate()},c.prototype.ef=function(a){var u=pt.g(a);dt(Ln(u));var d=new ii(u.get(1),u.get(3)),m=new I(u.u(5));return d.isEqual(this.U)||ft("Document "+m+" contains a document reference within a different database ("+d.projectId+"/"+d.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(m)},c}(),bd=ae.ho,Np=function(){function c(a){var u,d,m,E,T;if(void 0===a.host){if(void 0!==a.ssl)throw new Y(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else se("settings","non-empty string","host",a.host),this.host=a.host,Ve("settings","boolean","ssl",a.ssl),this.ssl=null===(u=a.ssl)||void 0===u||u;if(Rt("settings",a,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Ve("settings","object","credentials",a.credentials),this.credentials=a.credentials,Ve("settings","boolean","timestampsInSnapshots",a.timestampsInSnapshots),Ve("settings","boolean","ignoreUndefinedProperties",a.ignoreUndefinedProperties),!0===a.timestampsInSnapshots?ft("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===a.timestampsInSnapshots&&ft("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(d=a.timestampsInSnapshots)||void 0===d||d,this.ignoreUndefinedProperties=null!==(m=a.ignoreUndefinedProperties)&&void 0!==m&&m,Ve("settings","number","cacheSizeBytes",a.cacheSizeBytes),void 0===a.cacheSizeBytes)this.cacheSizeBytes=ae._o;else{if(a.cacheSizeBytes!==bd&&a.cacheSizeBytes<ae.lo)throw new Y(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ae.lo);this.cacheSizeBytes=a.cacheSizeBytes}Ve("settings","boolean","experimentalForceLongPolling",a.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(E=a.experimentalForceLongPolling)&&void 0!==E&&E,Ve("settings","boolean","experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(T=a.experimentalAutoDetectLongPolling)&&void 0!==T&&T,function(k,j,ne,fe){if(!0===j&&!0===fe)throw new Y(be.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,a.experimentalForceLongPolling,0,a.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(a){return this.host===a.host&&this.ssl===a.ssl&&this.timestampsInSnapshots===a.timestampsInSnapshots&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties},c}(),wd=function(){function c(a,u,d,m){var E=this;if(void 0===d&&(d=new za),void 0===m&&(m=new ta),this.rf=d,this.af=m,this.cf=null,this.uf=new Re,this.INTERNAL={delete:function(){return te.__awaiter(E,void 0,void 0,function(){return te.__generator(this,function(j){switch(j.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return j.sent(),[2]}})})}},"object"==typeof a.options){var T=a;this.cf=T,this.__=c._f(T),this.ff=T.name,this.df=new ad(u)}else{var k=a;if(!k.projectId)throw new Y(be.INVALID_ARGUMENT,"Must provide projectId");this.__=new ii(k.projectId,k.database),this.ff="[DEFAULT]",this.df=new nf}this.wf=new Np({})}return Object.defineProperty(c.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new hu(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),c.prototype.settings=function(a){H("Firestore.settings",arguments,1),le("Firestore.settings","object",1,a),a.merge&&delete(a=Object.assign(Object.assign({},this.wf),a)).merge;var u=new Np(a);if(this.lf&&!this.wf.isEqual(u))throw new Y(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=u,void 0!==u.credentials&&(this.df=function(d){if(!d)return new nf;switch(d.type){case"gapi":var m=d.client;return dt(!("object"!=typeof m||null===m||!m.auth||!m.auth.getAuthHeaderValueForFirstParty)),new rf(m,d.sessionIndex||"0");case"provider":return d.client;default:throw new Y(be.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(u.credentials))},c.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},c.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},c.prototype.enablePersistence=function(a){var u,d;if(this.lf)throw new Y(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var m=!1,E=!1;if(a&&(void 0!==a.experimentalTabSynchronization&&ft("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),m=null!==(d=null!==(u=a.synchronizeTabs)&&void 0!==u?u:a.experimentalTabSynchronization)&&void 0!==d&&d,E=!!a.experimentalForceOwningTab&&a.experimentalForceOwningTab,m&&E))throw new Y(be.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:m,ka:E})},c.prototype.clearPersistence=function(){return te.__awaiter(this,void 0,void 0,function(){var a,u=this;return te.__generator(this,function(d){if(void 0!==this.lf&&!this.lf.z_)throw new Y(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return a=new Kr,[2,(this.uf.bs(function(){return te.__awaiter(u,void 0,void 0,function(){var m;return te.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return E.sent(),a.resolve(),[3,3];case 2:return m=E.sent(),a.reject(m),[3,3];case 3:return[2]}})})}),a.promise)]})})},c.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(c.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),c.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},c.prototype.onSnapshotsInSync=function(a){return this.hf(),Rc(a)?this.lf.G_(a):(le("Firestore.onSnapshotsInSync","function",1,a),this.lf.G_({next:a}))},c.prototype.hf=function(){return this.lf||this.Ef(new za,new ta,{jl:!1}),this.lf},c.prototype.Af=function(){return new jn(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},c.prototype.Ef=function(a,u,d){var m=this.Af();return this.lf=new Bl(this.df,this.uf),this.lf.start(m,a,u,d)},c._f=function(a){if(!Object.prototype.hasOwnProperty.call(a.options,"projectId"))throw new Y(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var d=a.options.projectId;if(!d||"string"!=typeof d)throw new Y(be.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ii(d)},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.cf)throw new Y(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),c.prototype.collection=function(a){return H("Firestore.collection",arguments,1),le("Firestore.collection","non-empty string",1,a),this.hf(),new Pc(pt.g(a),this,null)},c.prototype.doc=function(a){return H("Firestore.doc",arguments,1),le("Firestore.doc","non-empty string",1,a),this.hf(),Fu.Rf(pt.g(a),this,null)},c.prototype.collectionGroup=function(a){if(H("Firestore.collectionGroup",arguments,1),le("Firestore.collectionGroup","non-empty string",1,a),a.indexOf("/")>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new kc((u=a,new Cs(pt.P(),u)),this,null);var u},c.prototype.runTransaction=function(a){var u=this;return H("Firestore.runTransaction",arguments,1),le("Firestore.runTransaction","function",1,a),this.hf().transaction(function(d){return a(new Ii(u,d))})},c.prototype.batch=function(){return this.hf(),new ra(this)},Object.defineProperty(c,"logLevel",{get:function(){switch(it()){case re.LogLevel.DEBUG:return"debug";case re.LogLevel.ERROR:return"error";case re.LogLevel.SILENT:return"silent";case re.LogLevel.WARN:return"warn";case re.LogLevel.INFO:return"info";case re.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),c.setLogLevel=function(a){H("Firestore.setLogLevel",arguments,1),xe("setLogLevel",["debug","error","silent","warn","info","verbose"],1,a),et.setLogLevel(a)},c.prototype.gf=function(){return this.wf.timestampsInSnapshots},c.prototype.Pf=function(){return this.wf},c}(),Ii=function(){function c(a,u){this.yf=a,this.Vf=u}return c.prototype.get=function(a){var u=this;H("Transaction.get",arguments,1);var d=ia("Transaction.get",a,this.yf);return this.Vf.v_([d.f_]).then(function(m){if(!m||1!==m.length)return Le();var E=m[0];if(E instanceof ui)return new jl(u.yf,d.f_,null,!1,!1,d.d_);if(E instanceof Or)return new jl(u.yf,d.f_,E,!1,!1,d.d_);throw Le()})},c.prototype.set=function(a,u,d){K("Transaction.set",arguments,2,3);var m=ia("Transaction.set",a,this.yf);d=Hl("Transaction.set",d);var E=_f(m.d_,u,d),T=Eh(this.yf.mf,"Transaction.set",m.f_,E,null!==m.d_,d);return this.Vf.set(m.f_,T),this},c.prototype.update=function(a,u,d){for(var m,E,T=[],k=3;k<arguments.length;k++)T[k-3]=arguments[k];return"string"==typeof u||u instanceof Ui?(R("Transaction.update",arguments,3),m=ia("Transaction.update",a,this.yf),E=md(this.yf.mf,"Transaction.update",m.f_,u,d,T)):(H("Transaction.update",arguments,2),m=ia("Transaction.update",a,this.yf),E=na(this.yf.mf,"Transaction.update",m.f_,u)),this.Vf.update(m.f_,E),this},c.prototype.delete=function(a){H("Transaction.delete",arguments,1);var u=ia("Transaction.delete",a,this.yf);return this.Vf.delete(u.f_),this},c}(),ra=function(){function c(a){this.yf=a,this.pf=[],this.bf=!1}return c.prototype.set=function(a,u,d){K("WriteBatch.set",arguments,2,3),this.vf();var m=ia("WriteBatch.set",a,this.yf);d=Hl("WriteBatch.set",d);var E=_f(m.d_,u,d),T=Eh(this.yf.mf,"WriteBatch.set",m.f_,E,null!==m.d_,d);return this.pf=this.pf.concat(T.w_(m.f_,Vt.ze())),this},c.prototype.update=function(a,u,d){for(var m,E,T=[],k=3;k<arguments.length;k++)T[k-3]=arguments[k];return this.vf(),"string"==typeof u||u instanceof Ui?(R("WriteBatch.update",arguments,3),m=ia("WriteBatch.update",a,this.yf),E=md(this.yf.mf,"WriteBatch.update",m.f_,u,d,T)):(H("WriteBatch.update",arguments,2),m=ia("WriteBatch.update",a,this.yf),E=na(this.yf.mf,"WriteBatch.update",m.f_,u)),this.pf=this.pf.concat(E.w_(m.f_,Vt.exists(!0))),this},c.prototype.delete=function(a){H("WriteBatch.delete",arguments,1),this.vf();var u=ia("WriteBatch.delete",a,this.yf);return this.pf=this.pf.concat(new hr(u.f_,Vt.ze())),this},c.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},c.prototype.vf=function(){if(this.bf)throw new Y(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}(),Fu=function(c){function a(u,d,m){var E=this;return(E=c.call(this,d.__,u,m)||this).f_=u,E.firestore=d,E.d_=m,E.lf=E.firestore.hf(),E}return te.__extends(a,c),a.Rf=function(u,d,m){if(u.length%2!=0)throw new Y(be.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+u.R()+" has "+u.length);return new a(new I(u),d,m)},Object.defineProperty(a.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new Pc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),a.prototype.collection=function(u){if(H("DocumentReference.collection",arguments,1),le("DocumentReference.collection","non-empty string",1,u),!u)throw new Y(be.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var d=pt.g(u);return new Pc(this.f_.path.child(d),this.firestore,null)},a.prototype.isEqual=function(u){if(!(u instanceof a))throw tn("isEqual","DocumentReference",1,u);return this.firestore===u.firestore&&this.f_.isEqual(u.f_)&&this.d_===u.d_},a.prototype.set=function(u,d){K("DocumentReference.set",arguments,1,2),d=Hl("DocumentReference.set",d);var m=_f(this.d_,u,d),E=Eh(this.firestore.mf,"DocumentReference.set",this.f_,m,null!==this.d_,d);return this.lf.write(E.w_(this.f_,Vt.ze()))},a.prototype.update=function(u,d){for(var m,E=[],T=2;T<arguments.length;T++)E[T-2]=arguments[T];return"string"==typeof u||u instanceof Ui?(R("DocumentReference.update",arguments,2),m=md(this.firestore.mf,"DocumentReference.update",this.f_,u,d,E)):(H("DocumentReference.update",arguments,1),m=na(this.firestore.mf,"DocumentReference.update",this.f_,u)),this.lf.write(m.w_(this.f_,Vt.exists(!0)))},a.prototype.delete=function(){return H("DocumentReference.delete",arguments,0),this.lf.write([new hr(this.f_,Vt.ze())])},a.prototype.onSnapshot=function(){for(var u,d,m,E=this,T=[],k=0;k<arguments.length;k++)T[k]=arguments[k];K("DocumentReference.onSnapshot",arguments,1,4);var j={includeMetadataChanges:!1},ne=0;"object"!=typeof T[ne]||Rc(T[ne])||(Rt("DocumentReference.onSnapshot",j=T[ne],["includeMetadataChanges"]),Ve("DocumentReference.onSnapshot","boolean","includeMetadataChanges",j.includeMetadataChanges),ne++);var fe={includeMetadataChanges:j.includeMetadataChanges};if(Rc(T[ne])){var Te=T[ne];T[ne]=null===(u=Te.next)||void 0===u?void 0:u.bind(Te),T[ne+1]=null===(d=Te.error)||void 0===d?void 0:d.bind(Te),T[ne+2]=null===(m=Te.complete)||void 0===m?void 0:m.bind(Te)}else le("DocumentReference.onSnapshot","function",ne,T[ne]),Tt("DocumentReference.onSnapshot","function",ne+1,T[ne+1]),Tt("DocumentReference.onSnapshot","function",ne+2,T[ne+2]);var De={next:function(We){T[ne]&&T[ne](E.Sf(We))},error:T[ne+1],complete:T[ne+2]};return this.lf.listen(Li(this.f_.path),fe,De)},a.prototype.get=function(u){var d=this;K("DocumentReference.get",arguments,0,1),Ga("DocumentReference.get",u);var m=this.firestore.hf();return u&&"cache"===u.source?m.Q_(this.f_).then(function(E){return new jl(d.firestore,d.f_,E,!0,E instanceof Or&&E.Je,d.d_)}):m.W_(this.f_,u).then(function(E){return d.Sf(E)})},a.prototype.withConverter=function(u){return new a(this.f_,this.firestore,u)},a.prototype.Sf=function(u){var d=u.docs.get(this.f_);return new jl(this.firestore,this.f_,d,u.fromCache,u.hasPendingWrites,this.d_)},a}(Sa),Fp=function(){function c(a,u){this.hasPendingWrites=a,this.fromCache=u}return c.prototype.isEqual=function(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache},c}(),jl=function(){function c(a,u,d,m,E,T){this.yf=a,this.f_=u,this.Df=d,this.Cf=m,this.Nf=E,this.d_=T}return c.prototype.data=function(a){var u=this;if(K("DocumentSnapshot.data",arguments,0,1),a=Cd("DocumentSnapshot.data",a),this.Df){if(this.d_){var d=new df(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(d,a)}return new il(this.yf.__,this.yf.gf(),a.serverTimestamps||"none",function(m){return new Fu(m,u.yf,null)},function(m){return new ir(m)}).X_(this.Df.rn())}},c.prototype.get=function(a,u){var d=this;if(K("DocumentSnapshot.get",arguments,1,2),u=Cd("DocumentSnapshot.get",u),this.Df){var m=this.Df.data().field(Oc("DocumentSnapshot.get",a,this.f_));if(null!==m)return new il(this.yf.__,this.yf.gf(),u.serverTimestamps||"none",function(E){return new Fu(E,d.yf,d.d_)},function(E){return new ir(E)}).X_(m)}},Object.defineProperty(c.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new Fu(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return new Fp(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(a){if(!(a instanceof c))throw tn("isEqual","DocumentSnapshot",1,a);return this.yf===a.yf&&this.Cf===a.Cf&&this.f_.isEqual(a.f_)&&(null===this.Df?null===a.Df:this.Df.isEqual(a.Df))&&this.d_===a.d_},c}(),df=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.prototype.data=function(u){return c.prototype.data.call(this,u)},a}(jl);function xm(c,a,u,d,m,E,T){var k;if(m.p()){if("array-contains"===E||"array-contains-any"===E)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){pf(T,E);for(var j=[],ne=0,fe=T;ne<fe.length;ne++)j.push(Sh(d,c,fe[ne]));k={arrayValue:{values:j}}}else k=Sh(d,c,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||pf(T,E),k=Ch(u,a,T,"in"===E||"not-in"===E);var De=mi.create(m,E,k);return function(We,st){if(st.hn()){var Et=So(We);if(null!==Et&&!Et.isEqual(st.field))throw new Y(be.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Et.toString()+"' and '"+st.field.toString()+"'");var Gt=Ss(We);null!==Gt&&Ed(0,st.field,Gt)}var _n=function($n,ur){for(var zr=0,_i=$n.filters;zr<_i.length;zr++){var Bi=_i[zr];if(ur.indexOf(Bi.op)>=0)return Bi.op}return null}(We,function($n){switch($n){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(st.op));if(null!==_n)throw new Y(be.INVALID_ARGUMENT,_n===st.op?"Invalid query. You cannot use more than one '"+st.op.toString()+"' filter.":"Invalid query. You cannot use '"+st.op.toString()+"' filters with '"+_n.toString()+"' filters.")}(c,De),De}function Rm(c,a,u){if(null!==c.startAt)throw new Y(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Y(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var d=new Qs(a,u);return function(m,E){if(null===Ss(m)){var T=So(m);null!==T&&Ed(0,T,E.field)}}(c,d),d}function Sh(c,a,u){if("string"==typeof u){if(""===u)throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Is(a)&&-1!==u.indexOf("/"))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+u+"' contains a '/' character.");var d=a.path.child(pt.g(u));if(!I.F(d))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return Zi(c,new I(d))}if(u instanceof Sa)return Zi(c,u.f_);throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+wt(u)+".")}function pf(c,a){if(!Array.isArray(c)||0===c.length)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+a.toString()+"' filters.");if(c.length>10)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===a||"array-contains-any"===a){if(c.indexOf(null)>=0)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters cannot contain 'null' in the value array.");if(c.filter(function(u){return Number.isNaN(u)}).length>0)throw new Y(be.INVALID_ARGUMENT,"Invalid Query. '"+a.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Ed(c,a,u){if(!u.isEqual(a))throw new Y(be.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+a.toString()+"' and so you must also use '"+a.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+u.toString()+"' instead.")}function gf(c){if(Co(c)&&0===c.on.length)throw new Y(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kc=function(){function c(a,u,d){this.Ff=a,this.firestore=u,this.d_=d}return c.prototype.where=function(a,u,d){H("Query.where",arguments,3),en("Query.where",3,d);var k,ne,m=xe("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,u),E=Oc("Query.where",a),T=xm(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,E,m,d);return new c((ne=(k=this.Ff).filters.concat([T]),new Cs(k.path,k.collectionGroup,k.on.slice(),ne,k.limit,k.an,k.startAt,k.endAt)),this.firestore,this.d_)},c.prototype.orderBy=function(a,u){var d;if(K("Query.orderBy",arguments,1,2),Tt("Query.orderBy","non-empty string",2,u),void 0===u||"asc"===u)d="asc";else{if("desc"!==u)throw new Y(be.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+u+"', expected 'asc' or 'desc'.");d="desc"}var T,j,m=Oc("Query.orderBy",a),E=Rm(this.Ff,m,d);return new c((j=(T=this.Ff).on.concat([E]),new Cs(T.path,T.collectionGroup,j,T.filters.slice(),T.limit,T.an,T.startAt,T.endAt)),this.firestore,this.d_)},c.prototype.limit=function(a){return H("Query.limit",arguments,1),le("Query.limit","number",1,a),fn("Query.limit",1,a),new c(rs(this.Ff,a,"F"),this.firestore,this.d_)},c.prototype.limitToLast=function(a){return H("Query.limitToLast",arguments,1),le("Query.limitToLast","number",1,a),fn("Query.limitToLast",1,a),new c(rs(this.Ff,a,"L"),this.firestore,this.d_)},c.prototype.startAt=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.startAt",arguments,1);var m=this.xf("Query.startAt",a,u,!0);return new c(bl(this.Ff,m),this.firestore,this.d_)},c.prototype.startAfter=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.startAfter",arguments,1);var m=this.xf("Query.startAfter",a,u,!1);return new c(bl(this.Ff,m),this.firestore,this.d_)},c.prototype.endBefore=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.endBefore",arguments,1);var m=this.xf("Query.endBefore",a,u,!0);return new c(wl(this.Ff,m),this.firestore,this.d_)},c.prototype.endAt=function(a){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];R("Query.endAt",arguments,1);var m=this.xf("Query.endAt",a,u,!1);return new c(wl(this.Ff,m),this.firestore,this.d_)},c.prototype.isEqual=function(a){if(!(a instanceof c))throw tn("isEqual","Query",1,a);return this.firestore===a.firestore&&Io(this.Ff,a.Ff)&&this.d_===a.d_},c.prototype.withConverter=function(a){return new c(this.Ff,this.firestore,a)},c.prototype.xf=function(a,u,d,m){if(en(a,1,u),u instanceof jl)return H(a,te.__spreadArrays([u],d),1),function(T,k,j,ne,fe){if(!ne)throw new Y(be.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+j+"().");for(var Te=[],De=0,We=Lo(T);De<We.length;De++){var st=We[De];if(st.field.p())Te.push(Zi(k,ne.key));else{var Et=ne.field(st.field);if(ie(Et))throw new Y(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+st.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Et){var Gt=st.field.R();throw new Y(be.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Gt+"' (used as the orderBy) does not exist.")}Te.push(Et)}}return new $s(Te,fe)}(this.Ff,this.firestore.__,a,u.Df,m);var E=[u].concat(d);return function(T,k,j,ne,fe,Te){var De=T.on;if(fe.length>De.length)throw new Y(be.INVALID_ARGUMENT,"Too many arguments provided to "+ne+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var We=[],st=0;st<fe.length;st++){var Et=fe[st];if(De[st].field.p()){if("string"!=typeof Et)throw new Y(be.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+ne+"(), but got a "+typeof Et);if(!Is(T)&&-1!==Et.indexOf("/"))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+ne+"() must be a plain document ID, but '"+Et+"' contains a slash.");var Gt=T.path.child(pt.g(Et));if(!I.F(Gt))throw new Y(be.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+ne+"() must result in a valid document path, but '"+Gt+"' is not because it contains an odd number of segments.");var _n=new I(Gt);We.push(Zi(k,_n))}else{var $n=Ch(j,ne,Et);We.push($n)}}return new $s(We,Te)}(this.Ff,this.firestore.__,this.firestore.mf,a,E,m)},c.prototype.onSnapshot=function(){for(var a,u,d,m=this,E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];K("Query.onSnapshot",arguments,1,4);var k={},j=0;if("object"!=typeof E[j]||Rc(E[j])||(Rt("Query.onSnapshot",k=E[j],["includeMetadataChanges"]),Ve("Query.onSnapshot","boolean","includeMetadataChanges",k.includeMetadataChanges),j++),Rc(E[j])){var ne=E[j];E[j]=null===(a=ne.next)||void 0===a?void 0:a.bind(ne),E[j+1]=null===(u=ne.error)||void 0===u?void 0:u.bind(ne),E[j+2]=null===(d=ne.complete)||void 0===d?void 0:d.bind(ne)}else le("Query.onSnapshot","function",j,E[j]),Tt("Query.onSnapshot","function",j+1,E[j+1]),Tt("Query.onSnapshot","function",j+2,E[j+2]);var fe={next:function(Te){E[j]&&E[j](new mf(m.firestore,m.Ff,Te,m.d_))},error:E[j+1],complete:E[j+2]};return gf(this.Ff),this.firestore.hf().listen(this.Ff,k,fe)},c.prototype.get=function(a){var u=this;K("Query.get",arguments,0,1),Ga("Query.get",a),gf(this.Ff);var d=this.firestore.hf();return(a&&"cache"===a.source?d.j_(this.Ff):d.K_(this.Ff,a)).then(function(m){return new mf(u.firestore,u.Ff,m,u.d_)})},c}(),mf=function(){function c(a,u,d,m){this.yf=a,this.$f=u,this.kf=d,this.d_=m,this.Mf=null,this.Of=null,this.metadata=new Fp(d.hasPendingWrites,d.fromCache)}return Object.defineProperty(c.prototype,"docs",{get:function(){var a=[];return this.forEach(function(u){return a.push(u)}),a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(a,u){var d=this;K("QuerySnapshot.forEach",arguments,1,2),le("QuerySnapshot.forEach","function",1,a),this.kf.docs.forEach(function(m){a.call(u,d.Lf(m,d.metadata.fromCache,d.kf.Wt.has(m.key)))})},Object.defineProperty(c.prototype,"query",{get:function(){return new kc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(a){a&&(Rt("QuerySnapshot.docChanges",a,["includeMetadataChanges"]),Ve("QuerySnapshot.docChanges","boolean","includeMetadataChanges",a.includeMetadataChanges));var u=!(!a||!a.includeMetadataChanges);if(u&&this.kf.Kt)throw new Y(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===u||(this.Mf=function(d,m,E){if(d.Qt.m()){var T=0;return d.docChanges.map(function(j){return{type:"added",doc:E(j.doc,d.fromCache,d.Wt.has(j.doc.key)),oldIndex:-1,newIndex:T++}})}var k=d.Qt;return d.docChanges.filter(function(j){return m||3!==j.type}).map(function(j){var ne=E(j.doc,d.fromCache,d.Wt.has(j.doc.key)),fe=-1,Te=-1;return 0!==j.type&&(fe=k.indexOf(j.doc.key),k=k.delete(j.doc.key)),1!==j.type&&(Te=(k=k.add(j.doc)).indexOf(j.doc.key)),{type:Lp(j.type),doc:ne,oldIndex:fe,newIndex:Te}})}(this.kf,u,this.Lf.bind(this)),this.Of=u),this.Mf},c.prototype.isEqual=function(a){if(!(a instanceof c))throw tn("isEqual","QuerySnapshot",1,a);return this.yf===a.yf&&Io(this.$f,a.$f)&&this.kf.isEqual(a.kf)&&this.d_===a.d_},c.prototype.Lf=function(a,u,d){return new df(this.yf,a.key,a,u,d,this.d_)},c}(),Pc=function(c){function a(u,d,m){var E=this;if((E=c.call(this,Li(u),d,m)||this).Bf=u,u.length%2!=1)throw new Y(be.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+u.R()+" has "+u.length);return E}return te.__extends(a,c),Object.defineProperty(a.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var u=this.Ff.path.h();return u.m()?null:new Fu(new I(u),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),a.prototype.doc=function(u){K("CollectionReference.doc",arguments,0,1),0===arguments.length&&(u=dn.k()),le("CollectionReference.doc","non-empty string",1,u);var d=pt.g(u);return Fu.Rf(this.Ff.path.child(d),this.firestore,this.d_)},a.prototype.add=function(u){H("CollectionReference.add",arguments,1);var d=this.d_?this.d_.toFirestore(u):u;le("CollectionReference.add","object",1,d);var m=this.doc();return new Fu(m.f_,this.firestore,null).set(d).then(function(){return m})},a.prototype.withConverter=function(u){return new a(this.Bf,this.firestore,u)},a}(kc);function Hl(c,a){if(void 0===a)return{merge:!1};if(Rt(c,a,["merge","mergeFields"]),Ve(c,"boolean","merge",a.merge),void 0!==(E=a.mergeFields)&&function(k,j,ne,fe,Te){if(!(fe instanceof Array))throw new Y(be.INVALID_ARGUMENT,"Function "+k+"() requires its "+j+" option to be an array, but it was: "+wt(fe));for(var De=0;De<fe.length;++De)if(!Te(fe[De]))throw new Y(be.INVALID_ARGUMENT,"Function "+k+"() requires all "+j+" elements to be a string or a FieldPath, but the value at index "+De+" was: "+wt(fe[De]))}(c,"mergeFields",0,E,function(u){return"string"==typeof u||u instanceof Ui}),void 0!==a.mergeFields&&void 0!==a.merge)throw new Y(be.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');var E;return a}function Cd(c,a){return void 0===a?{}:(Rt(c,a,["serverTimestamps"]),It(c,0,"serverTimestamps",a.serverTimestamps,["estimate","previous","none"]),a)}function Ga(c,a){Tt(c,"object",1,a),a&&(Rt(c,a,["source"]),It(c,0,"source",a.source,["default","server","cache"]))}function ia(c,a,u){if(a instanceof Sa){if(a.firestore!==u)throw new Y(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}throw tn(c,"DocumentReference",1,a)}function Lp(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function _f(c,a,u){return c?u&&(u.merge||u.mergeFields)?c.toFirestore(a,u):c.toFirestore(a):a}var Vp=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}return te.__extends(a,c),a.serverTimestamp=function(){F("FieldValue.serverTimestamp",arguments);var u=new _h("serverTimestamp");return u.e_="FieldValue.serverTimestamp",new a(u)},a.delete=function(){F("FieldValue.delete",arguments);var u=new ks("deleteField");return u.e_="FieldValue.delete",new a(u)},a.arrayUnion=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];R("FieldValue.arrayUnion",arguments,1);var m=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return R("arrayUnion()",arguments,1),new Ll("arrayUnion",E)}.apply(void 0,u);return m.e_="FieldValue.arrayUnion",new a(m)},a.arrayRemove=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];R("FieldValue.arrayRemove",arguments,1);var m=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return R("arrayRemove()",arguments,1),new vh("arrayRemove",E)}.apply(void 0,u);return m.e_="FieldValue.arrayRemove",new a(m)},a.increment=function(u){le("FieldValue.increment","number",1,u),H("FieldValue.increment",arguments,1);var d=new yh("increment",u);return d.e_="FieldValue.increment",new a(d)},a.prototype.isEqual=function(u){return this.l_.isEqual(u.l_)},a}(ff),Wv={Firestore:wd,GeoPoint:Ac,Timestamp:Qn,Blob:ir,Transaction:Ii,WriteBatch:ra,DocumentReference:Fu,DocumentSnapshot:jl,Query:kc,QueryDocumentSnapshot:df,QuerySnapshot:mf,CollectionReference:Pc,FieldPath:Ui,FieldValue:Vp,setLogLevel:wd.setLogLevel,CACHE_SIZE_UNLIMITED:bd};function km(c){c.INTERNAL.registerComponent(new Tn.Component("firestore",function(d){return m=d.getProvider("app").getImmediate(),E=d.getProvider("auth-internal"),T=new ta,k=new Am(T),new wd(m,E,k,T);var m,E,T,k},"PUBLIC").setServiceProps(Object.assign({},Wv))),c.registerVersion("@firebase/firestore","1.18.0")}km(Cn.default),bt.__PRIVATE_registerFirestore=km},800:(li,bt,Ct)=>{"use strict";var te=Ct(279),Z=Ct(483),re=Ct(100);function Nt(ot){return ot&&"object"==typeof ot&&"default"in ot?ot:{default:ot}}var rt=Nt(te),Tn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lt=function(ot){function Qe(pt,A,M){var I=ot.call(this,A)||this;return Object.setPrototypeOf(I,Qe.prototype),I.code=pt,I.details=M,I}return Z.__extends(Qe,ot),Qe}(Error),Y=function(){function ot(Qe,pt){var A=this;this.auth=null,this.messaging=null,this.auth=Qe.getImmediate({optional:!0}),this.messaging=pt.getImmediate({optional:!0}),this.auth||Qe.get().then(function(M){return A.auth=M},function(){}),this.messaging||pt.get().then(function(M){return A.messaging=M},function(){})}return ot.prototype.getAuthToken=function(){return Z.__awaiter(this,void 0,void 0,function(){var Qe;return Z.__generator(this,function(A){switch(A.label){case 0:if(!this.auth)return[2,void 0];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(Qe=A.sent())?[2,Qe.accessToken]:[2,void 0];case 3:return A.sent(),[2,void 0];case 4:return[2]}})})},ot.prototype.getInstanceIdToken=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(Qe){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(pt){return[2,void 0]}return[2]})})},ot.prototype.getContext=function(){return Z.__awaiter(this,void 0,void 0,function(){var Qe,pt;return Z.__generator(this,function(A){switch(A.label){case 0:return[4,this.getAuthToken()];case 1:return Qe=A.sent(),[4,this.getInstanceIdToken()];case 2:return pt=A.sent(),[2,{authToken:Qe,instanceIdToken:pt}]}})})},ot}();function Ne(ot,Qe){var pt={};for(var A in ot)ot.hasOwnProperty(A)&&(pt[A]=Qe(ot[A]));return pt}var ot,Qe,pt,ft=function(){function ot(){}return ot.prototype.encode=function(Qe){var pt=this;if(null==Qe)return null;if(Qe instanceof Number&&(Qe=Qe.valueOf()),"number"==typeof Qe&&isFinite(Qe)||!0===Qe||!1===Qe||"[object String]"===Object.prototype.toString.call(Qe))return Qe;if(Array.isArray(Qe))return Qe.map(function(A){return pt.encode(A)});if("function"==typeof Qe||"object"==typeof Qe)return Ne(Qe,function(A){return pt.encode(A)});throw new Error("Data cannot be encoded in JSON: "+Qe)},ot.prototype.decode=function(Qe){var pt=this;if(null==Qe)return Qe;if(Qe["@type"])switch(Qe["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var A=Number(Qe.value);if(isNaN(A))throw new Error("Data cannot be decoded from JSON: "+Qe);return A;default:throw new Error("Data cannot be decoded from JSON: "+Qe)}return Array.isArray(Qe)?Qe.map(function(M){return pt.decode(M)}):"function"==typeof Qe||"object"==typeof Qe?Ne(Qe,function(M){return pt.decode(M)}):Qe},ot}(),Pt=function(){function ot(Qe,pt,A,M,I){var F=this;void 0===M&&(M="us-central1"),this.app_=Qe,this.fetchImpl=I,this.serializer=new ft,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(F.deleteService())}},this.contextProvider=new Y(pt,A),this.cancelAllRequests=new Promise(function(R){F.deleteService=function(){return R()}});try{var H=new URL(M);this.customDomain=H.origin,this.region="us-central1"}catch(R){this.customDomain=null,this.region=M}}return Object.defineProperty(ot.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),ot.prototype._url=function(Qe){var pt=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+pt+"/"+this.region+"/"+Qe:null!==this.customDomain?this.customDomain+"/"+Qe:"https://"+this.region+"-"+pt+".cloudfunctions.net/"+Qe},ot.prototype.useFunctionsEmulator=function(Qe){this.emulatorOrigin=Qe},ot.prototype.httpsCallable=function(Qe,pt){var A=this;return function(M){return A.call(Qe,M,pt||{})}},ot.prototype.postJSON=function(Qe,pt,A){return Z.__awaiter(this,void 0,void 0,function(){var M,F;return Z.__generator(this,function(R){switch(R.label){case 0:A["Content-Type"]="application/json",R.label=1;case 1:return R.trys.push([1,3,,4]),[4,this.fetchImpl(Qe,{method:"POST",body:JSON.stringify(pt),headers:A})];case 2:return M=R.sent(),[3,4];case 3:return R.sent(),[2,{status:0,json:null}];case 4:F=null,R.label=5;case 5:return R.trys.push([5,7,,8]),[4,M.json()];case 6:return F=R.sent(),[3,8];case 7:return R.sent(),[3,8];case 8:return[2,{status:M.status,json:F}]}})})},ot.prototype.call=function(Qe,pt,A){return Z.__awaiter(this,void 0,void 0,function(){var M,I,F,H,K,le,Tt,se,Ve,It;return Z.__generator(this,function(Pe){switch(Pe.label){case 0:return M=this._url(Qe),pt=this.serializer.encode(pt),I={data:pt},F={},[4,this.contextProvider.getContext()];case 1:return(H=Pe.sent()).authToken&&(F.Authorization="Bearer "+H.authToken),H.instanceIdToken&&(F["Firebase-Instance-ID-Token"]=H.instanceIdToken),K=function(ot){var Qe,pt=new Promise(function(A,M){Qe=setTimeout(function(){M(new Lt("deadline-exceeded","deadline-exceeded"))},ot)});return{timer:Qe,promise:pt}}(A.timeout||7e4),le=K.timer,Tt=K.promise,[4,Promise.race([Le(le,this.postJSON(M,I,F)),Tt,Le(le,this.cancelAllRequests)])];case 2:if(!(se=Pe.sent()))throw new Lt("cancelled","Firebase Functions instance was deleted.");if(Ve=function(ot,Qe,pt){var A=function(ot){if(ot>=200&&ot<300)return"ok";switch(ot){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(ot),M=A,I=void 0;try{var F=Qe&&Qe.error;if(F){var H=F.status;if("string"==typeof H){if(!Tn[H])return new Lt("internal","internal");A=Tn[H],M=H}var R=F.message;"string"==typeof R&&(M=R),void 0!==(I=F.details)&&(I=pt.decode(I))}}catch(K){}return"ok"===A?null:new Lt(A,M,I)}(se.status,se.json,this.serializer))throw Ve;if(!se.json)throw new Lt("internal","Response is not valid JSON object.");if(void 0===(It=se.json.data)&&(It=se.json.result),void 0===It)throw new Lt("internal","Response is missing data field.");return[2,{data:this.serializer.decode(It)}]}})})},ot}();function Le(ot,Qe){return Z.__awaiter(this,void 0,void 0,function(){var pt;return Z.__generator(this,function(A){switch(A.label){case 0:return[4,Qe];case 1:return pt=A.sent(),clearTimeout(ot),[2,pt]}})})}ot=rt.default,Qe=fetch.bind(self),pt={Functions:Pt},ot.INTERNAL.registerComponent(new re.Component("functions",function(M,I){var F=M.getProvider("app").getImmediate(),H=M.getProvider("auth-internal"),R=M.getProvider("messaging");return new Pt(F,H,R,I,Qe)},"PUBLIC").setServiceProps(pt).setMultipleInstances(!0)),rt.default.registerVersion("@firebase/functions","0.5.1")},918:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{registerInstallations:()=>ie});var te=Ct(279),Z=Ct(100),rt=function(){return(rt=Object.assign||function($){for(var ue,Ee=1,we=arguments.length;Ee<we;Ee++)for(var ze in ue=arguments[Ee])Object.prototype.hasOwnProperty.call(ue,ze)&&($[ze]=ue[ze]);return $}).apply(this,arguments)};function Y(L,$,ue,Ee){return new(ue||(ue=Promise))(function(ze,Mt){function qt(vt){try{gn(Ee.next(vt))}catch(sr){Mt(sr)}}function at(vt){try{gn(Ee.throw(vt))}catch(sr){Mt(sr)}}function gn(vt){vt.done?ze(vt.value):function(ze){return ze instanceof ue?ze:new ue(function(Mt){Mt(ze)})}(vt.value).then(qt,at)}gn((Ee=Ee.apply(L,$||[])).next())})}function et(L,$){var Ee,we,ze,Mt,ue={label:0,sent:function(){if(1&ze[0])throw ze[1];return ze[1]},trys:[],ops:[]};return Mt={next:qt(0),throw:qt(1),return:qt(2)},"function"==typeof Symbol&&(Mt[Symbol.iterator]=function(){return this}),Mt;function qt(gn){return function(vt){return function(gn){if(Ee)throw new TypeError("Generator is already executing.");for(;ue;)try{if(Ee=1,we&&(ze=2&gn[0]?we.return:gn[0]?we.throw||((ze=we.return)&&ze.call(we),0):we.next)&&!(ze=ze.call(we,gn[1])).done)return ze;switch(we=0,ze&&(gn=[2&gn[0],ze.value]),gn[0]){case 0:case 1:ze=gn;break;case 4:return ue.label++,{value:gn[1],done:!1};case 5:ue.label++,we=gn[1],gn=[0];continue;case 7:gn=ue.ops.pop(),ue.trys.pop();continue;default:if(!(ze=(ze=ue.trys).length>0&&ze[ze.length-1])&&(6===gn[0]||2===gn[0])){ue=0;continue}if(3===gn[0]&&(!ze||gn[1]>ze[0]&&gn[1]<ze[3])){ue.label=gn[1];break}if(6===gn[0]&&ue.label<ze[1]){ue.label=ze[1],ze=gn;break}if(ze&&ue.label<ze[2]){ue.label=ze[2],ue.ops.push(gn);break}ze[2]&&ue.ops.pop(),ue.trys.pop();continue}gn=$.call(L,ue)}catch(vt){gn=[6,vt],we=0}finally{Ee=ze=0}if(5&gn[0])throw gn[1];return{value:gn[0]?gn[1]:void 0,done:!0}}([gn,vt])}}}function ft(L){var $="function"==typeof Symbol&&Symbol.iterator,ue=$&&L[$],Ee=0;if(ue)return ue.call(L);if(L&&"number"==typeof L.length)return{next:function(){return L&&Ee>=L.length&&(L=void 0),{value:L&&L[Ee++],done:!L}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(L,$){var ue="function"==typeof Symbol&&L[Symbol.iterator];if(!ue)return L;var we,Mt,Ee=ue.call(L),ze=[];try{for(;(void 0===$||$-- >0)&&!(we=Ee.next()).done;)ze.push(we.value)}catch(qt){Mt={error:qt}}finally{try{we&&!we.done&&(ue=Ee.return)&&ue.call(Ee)}finally{if(Mt)throw Mt.error}}return ze}var Pe,I=Ct(704),F=Ct(676),R="0.4.17",le="w:"+R,Ge=((Pe={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Pe["not-registered"]="Firebase Installation is not registered.",Pe["installation-not-found"]="Firebase Installation not found.",Pe["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Pe["app-offline"]="Could not process request. Application offline.",Pe["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Pe),wt=new I.ErrorFactory("installations","Installations",Ge);function en(L){return L instanceof I.FirebaseError&&L.code.includes("request-failed")}function Rt(L){return"https://firebaseinstallations.googleapis.com/v1/projects/"+L.projectId+"/installations"}function tn(L){return{token:L.token,requestStatus:2,expiresIn:dn(L.expiresIn),creationTime:Date.now()}}function fn(L,$){return Y(this,void 0,void 0,function(){var ue,Ee;return et(this,function(we){switch(we.label){case 0:return[4,$.json()];case 1:return ue=we.sent(),[2,wt.create("request-failed",{requestName:L,serverCode:(Ee=ue.error).code,serverMessage:Ee.message,serverStatus:Ee.status})]}})})}function ct(L){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey})}function Bn(L,$){var ue=$.refreshToken,Ee=ct(L);return Ee.append("Authorization",function(L){return"FIS_v2 "+L}(ue)),Ee}function Ur(L){return Y(this,void 0,void 0,function(){var $;return et(this,function(ue){switch(ue.label){case 0:return[4,L()];case 1:return($=ue.sent()).status>=500&&$.status<600?[2,L()]:[2,$]}})})}function dn(L){return Number(L.replace("s","000"))}function wn(L,$){var ue=$.fid;return Y(this,void 0,void 0,function(){var Ee,we,Mt,qt,at;return et(this,function(vt){switch(vt.label){case 0:return Ee=Rt(L),we=ct(L),Mt={method:"POST",headers:we,body:JSON.stringify({fid:ue,authVersion:"FIS_v2",appId:L.appId,sdkVersion:le})},[4,Ur(function(){return fetch(Ee,Mt)})];case 1:return(qt=vt.sent()).ok?[4,qt.json()]:[3,3];case 2:return[2,{fid:(at=vt.sent()).fid||ue,registrationStatus:2,refreshToken:at.refreshToken,authToken:tn(at.authToken)}];case 3:return[4,fn("Create Installation",qt)];case 4:throw vt.sent()}})})}function rn(L){return new Promise(function($){setTimeout($,L)})}var kn=/^[cdef][\w-]{21}$/;function kr(){try{var L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;var ue=function(L){return function(L){return btoa(String.fromCharCode.apply(String,function(){for(var L=[],$=0;$<arguments.length;$++)L=L.concat(bn(arguments[$]));return L}(L))).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return kn.test(ue)?ue:""}catch(Ee){return""}}function jn(L){return L.appName+"!"+L.appId}var ii=new Map;function Ar(L,$){var ue=jn(L);ci(ue,$),function(L,$){var ue=qe();ue&&ue.postMessage({key:L,fid:$}),Ye()}(ue,$)}function ci(L,$){var ue,Ee,we=ii.get(L);if(we)try{for(var ze=ft(we),Mt=ze.next();!Mt.done;Mt=ze.next())(0,Mt.value)($)}catch(at){ue={error:at}}finally{try{Mt&&!Mt.done&&(Ee=ze.return)&&Ee.call(ze)}finally{if(ue)throw ue.error}}}var ge=null;function qe(){return!ge&&"BroadcastChannel"in self&&((ge=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(L){ci(L.data.key,L.data.fid)}),ge}function Ye(){0===ii.size&&ge&&(ge.close(),ge=null)}var zt="firebase-installations-store",pn=null;function on(){return pn||(pn=(0,F.openDb)("firebase-installations-database",1,function(L){switch(L.oldVersion){case 0:L.createObjectStore(zt)}})),pn}function Dn(L,$){return Y(this,void 0,void 0,function(){var ue,Ee,we,ze,Mt;return et(this,function(qt){switch(qt.label){case 0:return ue=jn(L),[4,on()];case 1:return Ee=qt.sent(),we=Ee.transaction(zt,"readwrite"),[4,(ze=we.objectStore(zt)).get(ue)];case 2:return Mt=qt.sent(),[4,ze.put($,ue)];case 3:return qt.sent(),[4,we.complete];case 4:return qt.sent(),(!Mt||Mt.fid!==$.fid)&&Ar(L,$.fid),[2,$]}})})}function wr(L){return Y(this,void 0,void 0,function(){var $,ue,Ee;return et(this,function(we){switch(we.label){case 0:return $=jn(L),[4,on()];case 1:return ue=we.sent(),[4,(Ee=ue.transaction(zt,"readwrite")).objectStore(zt).delete($)];case 2:return we.sent(),[4,Ee.complete];case 3:return we.sent(),[2]}})})}function Xn(L,$){return Y(this,void 0,void 0,function(){var ue,Ee,we,ze,Mt,qt;return et(this,function(at){switch(at.label){case 0:return ue=jn(L),[4,on()];case 1:return Ee=at.sent(),we=Ee.transaction(zt,"readwrite"),[4,(ze=we.objectStore(zt)).get(ue)];case 2:return Mt=at.sent(),void 0!==(qt=$(Mt))?[3,4]:[4,ze.delete(ue)];case 3:return at.sent(),[3,6];case 4:return[4,ze.put(qt,ue)];case 5:at.sent(),at.label=6;case 6:return[4,we.complete];case 7:return at.sent(),qt&&(!Mt||Mt.fid!==qt.fid)&&Ar(L,qt.fid),[2,qt]}})})}function Cr(L){return Y(this,void 0,void 0,function(){var $,ue,Ee;return et(this,function(we){switch(we.label){case 0:return[4,Xn(L,function(ze){var Mt=function(L){return Fn(L||{fid:kr(),registrationStatus:0})}(ze),qt=function(L,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(wt.create("app-offline"))};var Ee={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},we=function(L,$){return Y(this,void 0,void 0,function(){var ue,Ee;return et(this,function(we){switch(we.label){case 0:return we.trys.push([0,2,,7]),[4,wn(L,$)];case 1:return ue=we.sent(),[2,Dn(L,ue)];case 2:return en(Ee=we.sent())&&409===Ee.serverCode?[4,wr(L)]:[3,4];case 3:return we.sent(),[3,6];case 4:return[4,Dn(L,{fid:$.fid,registrationStatus:0})];case 5:we.sent(),we.label=6;case 6:throw Ee;case 7:return[2]}})})}(L,Ee);return{installationEntry:Ee,registrationPromise:we}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Sr(L)}:{installationEntry:$}}(L,Mt);return $=qt.registrationPromise,qt.installationEntry})];case 1:return""!==(ue=we.sent()).fid?[3,3]:(Ee={},[4,$]);case 2:return[2,(Ee.installationEntry=we.sent(),Ee)];case 3:return[2,{installationEntry:ue,registrationPromise:$}]}})})}function Sr(L){return Y(this,void 0,void 0,function(){var $,ue,Ee,we;return et(this,function(ze){switch(ze.label){case 0:return[4,co(L)];case 1:$=ze.sent(),ze.label=2;case 2:return 1!==$.registrationStatus?[3,5]:[4,rn(100)];case 3:return ze.sent(),[4,co(L)];case 4:return $=ze.sent(),[3,2];case 5:return 0!==$.registrationStatus?[3,7]:[4,Cr(L)];case 6:return ue=ze.sent(),Ee=ue.installationEntry,(we=ue.registrationPromise)?[2,we]:[2,Ee];case 7:return[2,$]}})})}function co(L){return Xn(L,function($){if(!$)throw wt.create("installation-not-found");return Fn($)})}function Fn(L){return function(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Gi(L,$){var ue=L.appConfig,Ee=L.platformLoggerProvider;return Y(this,void 0,void 0,function(){var we,ze,Mt,at,gn;return et(this,function(nr){switch(nr.label){case 0:return we=function(L,$){var ue=$.fid;return Rt(L)+"/"+ue+"/authTokens:generate"}(ue,$),ze=Bn(ue,$),(Mt=Ee.getImmediate({optional:!0}))&&ze.append("x-firebase-client",Mt.getPlatformInfoString()),at={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:le}})},[4,Ur(function(){return fetch(we,at)})];case 1:return(gn=nr.sent()).ok?[4,gn.json()]:[3,3];case 2:return[2,tn(nr.sent())];case 3:return[4,fn("Generate Auth Token",gn)];case 4:throw nr.sent()}})})}function Be(L,$){return void 0===$&&($=!1),Y(this,void 0,void 0,function(){var ue,Ee,ze;return et(this,function(Mt){switch(Mt.label){case 0:return[4,Xn(L.appConfig,function(qt){if(!tt(qt))throw wt.create("not-registered");var at=qt.authToken;if(!$&&function(L){return 2===L.requestStatus&&!function(L){var $=Date.now();return $<L.creationTime||L.creationTime+L.expiresIn<$+36e5}(L)}(at))return qt;if(1===at.requestStatus)return ue=function(L,$){return Y(this,void 0,void 0,function(){var ue,Ee;return et(this,function(we){switch(we.label){case 0:return[4,mt(L.appConfig)];case 1:ue=we.sent(),we.label=2;case 2:return 1!==ue.authToken.requestStatus?[3,5]:[4,rn(100)];case 3:return we.sent(),[4,mt(L.appConfig)];case 4:return ue=we.sent(),[3,2];case 5:return 0===(Ee=ue.authToken).requestStatus?[2,Be(L,$)]:[2,Ee]}})})}(L,$),qt;if(!navigator.onLine)throw wt.create("app-offline");var gn=function(L){var $={requestStatus:1,requestTime:Date.now()};return rt(rt({},L),{authToken:$})}(qt);return ue=function(L,$){return Y(this,void 0,void 0,function(){var ue,we,Ee;return et(this,function(ze){switch(ze.label){case 0:return ze.trys.push([0,3,,8]),[4,Gi(L,$)];case 1:return ue=ze.sent(),Ee=rt(rt({},$),{authToken:ue}),[4,Dn(L.appConfig,Ee)];case 2:return ze.sent(),[2,ue];case 3:return!en(we=ze.sent())||401!==we.serverCode&&404!==we.serverCode?[3,5]:[4,wr(L.appConfig)];case 4:return ze.sent(),[3,7];case 5:return Ee=rt(rt({},$),{authToken:{requestStatus:0}}),[4,Dn(L.appConfig,Ee)];case 6:ze.sent(),ze.label=7;case 7:throw we;case 8:return[2]}})})}(L,gn),gn})];case 1:return Ee=Mt.sent(),ue?[4,ue]:[3,3];case 2:return ze=Mt.sent(),[3,4];case 3:ze=Ee.authToken,Mt.label=4;case 4:return[2,ze]}})})}function mt(L){return Xn(L,function($){if(!tt($))throw wt.create("not-registered");return function(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}($.authToken)?rt(rt({},$),{authToken:{requestStatus:0}}):$})}function tt(L){return void 0!==L&&2===L.registrationStatus}function or(L){return Y(this,void 0,void 0,function(){var $;return et(this,function(ue){switch(ue.label){case 0:return[4,Cr(L)];case 1:return($=ue.sent().registrationPromise)?[4,$]:[3,3];case 2:ue.sent(),ue.label=3;case 3:return[2]}})})}function mr(L,$){return Y(this,void 0,void 0,function(){var ue,Ee,we,ze;return et(this,function(Mt){switch(Mt.label){case 0:return ue=function(L,$){var ue=$.fid;return Rt(L)+"/"+ue}(L,$),Ee=Bn(L,$),we={method:"DELETE",headers:Ee},[4,Ur(function(){return fetch(ue,we)})];case 1:return(ze=Mt.sent()).ok?[3,3]:[4,fn("Delete Installation",ze)];case 2:throw Mt.sent();case 3:return[2]}})})}function ke(L){return wt.create("missing-app-config-values",{valueName:L})}function ie(L){L.INTERNAL.registerComponent(new Z.Component("installations",function(ue){var Ee=ue.getProvider("app").getImmediate(),Mt={appConfig:function(L){var $,ue;if(!L||!L.options)throw ke("App Configuration");if(!L.name)throw ke("App Name");try{for(var we=ft(["projectId","apiKey","appId"]),ze=we.next();!ze.done;ze=we.next()){var Mt=ze.value;if(!L.options[Mt])throw ke(Mt)}}catch(qt){$={error:qt}}finally{try{ze&&!ze.done&&(ue=we.return)&&ue.call(we)}finally{if($)throw $.error}}return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(Ee),platformLoggerProvider:ue.getProvider("platform-logger")};return{app:Ee,getId:function(){return function(L){return Y(this,void 0,void 0,function(){var $,ue,Ee;return et(this,function(we){switch(we.label){case 0:return[4,Cr(L.appConfig)];case 1:return $=we.sent(),ue=$.installationEntry,(Ee=$.registrationPromise)?Ee.catch(console.error):Be(L).catch(console.error),[2,ue.fid]}})})}(Mt)},getToken:function(at){return function(L,$){return void 0===$&&($=!1),Y(this,void 0,void 0,function(){return et(this,function(Ee){switch(Ee.label){case 0:return[4,or(L.appConfig)];case 1:return Ee.sent(),[4,Be(L,$)];case 2:return[2,Ee.sent().token]}})})}(Mt,at)},delete:function(){return function(L){return Y(this,void 0,void 0,function(){var $,ue;return et(this,function(Ee){switch(Ee.label){case 0:return[4,Xn($=L.appConfig,function(we){if(!we||0!==we.registrationStatus)return we})];case 1:if(!(ue=Ee.sent()))return[3,6];if(1!==ue.registrationStatus)return[3,2];throw wt.create("delete-pending-registration");case 2:if(2!==ue.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw wt.create("app-offline");case 3:return[4,mr($,ue)];case 4:return Ee.sent(),[4,wr($)];case 5:Ee.sent(),Ee.label=6;case 6:return[2]}})})}(Mt)},onIdChange:function(at){return function(L,$){var ue=L.appConfig;return function(L,$){qe();var ue=jn(L),Ee=ii.get(ue);Ee||(Ee=new Set,ii.set(ue,Ee)),Ee.add($)}(ue,$),function(){!function(L,$){var ue=jn(L),Ee=ii.get(ue);!Ee||(Ee.delete($),0===Ee.size&&ii.delete(ue),Ye())}(ue,$)}}(Mt,at)}}},"PUBLIC")),L.registerVersion("@firebase/installations",R)}ie(te.default)},300:(li,bt,Ct)=>{"use strict";function te(){for(var it=0,Ne=0,ft=arguments.length;Ne<ft;Ne++)it+=arguments[Ne].length;var bn=Array(it),Pt=0;for(Ne=0;Ne<ft;Ne++)for(var Le=arguments[Ne],dt=0,Je=Le.length;dt<Je;dt++,Pt++)bn[Pt]=Le[dt];return bn}Ct.r(bt),Ct.d(bt,{LogLevel:()=>Nt,Logger:()=>be,setLogLevel:()=>Y,setUserLogHandler:()=>et});var Z,re=[],Nt=(()=>{return(it=Nt||(Nt={}))[it.DEBUG=0]="DEBUG",it[it.VERBOSE=1]="VERBOSE",it[it.INFO=2]="INFO",it[it.WARN=3]="WARN",it[it.ERROR=4]="ERROR",it[it.SILENT=5]="SILENT",Nt;var it})(),rt={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Tn=Nt.INFO,Lt=((Z={})[Nt.DEBUG]="log",Z[Nt.VERBOSE]="log",Z[Nt.INFO]="info",Z[Nt.WARN]="warn",Z[Nt.ERROR]="error",Z),Cn=function(it,Ne){for(var ft=[],bn=2;bn<arguments.length;bn++)ft[bn-2]=arguments[bn];if(!(Ne<it.logLevel)){var Pt=(new Date).toISOString(),Le=Lt[Ne];if(!Le)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[Le].apply(console,te(["["+Pt+"]  "+it.name+":"],ft))}},be=function(){function it(Ne){this.name=Ne,this._logLevel=Tn,this._logHandler=Cn,this._userLogHandler=null,re.push(this)}return Object.defineProperty(it.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in Nt))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),it.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?rt[Ne]:Ne},Object.defineProperty(it.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),it.prototype.debug=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.DEBUG],Ne)),this._logHandler.apply(this,te([this,Nt.DEBUG],Ne))},it.prototype.log=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.VERBOSE],Ne)),this._logHandler.apply(this,te([this,Nt.VERBOSE],Ne))},it.prototype.info=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.INFO],Ne)),this._logHandler.apply(this,te([this,Nt.INFO],Ne))},it.prototype.warn=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.WARN],Ne)),this._logHandler.apply(this,te([this,Nt.WARN],Ne))},it.prototype.error=function(){for(var Ne=[],ft=0;ft<arguments.length;ft++)Ne[ft]=arguments[ft];this._userLogHandler&&this._userLogHandler.apply(this,te([this,Nt.ERROR],Ne)),this._logHandler.apply(this,te([this,Nt.ERROR],Ne))},it}();function Y(it){re.forEach(function(Ne){Ne.setLogLevel(it)})}function et(it,Ne){for(var ft=function(dt){var Je=null;Ne&&Ne.level&&(Je=rt[Ne.level]),dt.userLogHandler=null===it?null:function(Bt,Ft){for(var ot=[],Qe=2;Qe<arguments.length;Qe++)ot[Qe-2]=arguments[Qe];var pt=ot.map(function(A){if(null==A)return null;if("string"==typeof A)return A;if("number"==typeof A||"boolean"==typeof A)return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch(M){return null}}).filter(function(A){return A}).join(" ");Ft>=(null!=Je?Je:Bt.logLevel)&&it({level:Nt[Ft].toLowerCase(),message:pt,args:ot,type:Bt.name})}},bn=0,Pt=re;bn<Pt.length;bn++)ft(Pt[bn])}},450:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct(918);var Z=Ct(100),re=Ct(704),Tn=function(){return(Tn=Object.assign||function(de){for(var Se,ke=1,ie=arguments.length;ke<ie;ke++)for(var L in Se=arguments[ke])Object.prototype.hasOwnProperty.call(Se,L)&&(de[L]=Se[L]);return de}).apply(this,arguments)};function et(ve,de,Se,ke){return new(Se||(Se=Promise))(function(L,$){function ue(ze){try{we(ke.next(ze))}catch(Mt){$(Mt)}}function Ee(ze){try{we(ke.throw(ze))}catch(Mt){$(Mt)}}function we(ze){ze.done?L(ze.value):function(L){return L instanceof Se?L:new Se(function($){$(L)})}(ze.value).then(ue,Ee)}we((ke=ke.apply(ve,de||[])).next())})}function it(ve,de){var ke,ie,L,$,Se={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return $={next:ue(0),throw:ue(1),return:ue(2)},"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function ue(we){return function(ze){return function(we){if(ke)throw new TypeError("Generator is already executing.");for(;Se;)try{if(ke=1,ie&&(L=2&we[0]?ie.return:we[0]?ie.throw||((L=ie.return)&&L.call(ie),0):ie.next)&&!(L=L.call(ie,we[1])).done)return L;switch(ie=0,L&&(we=[2&we[0],L.value]),we[0]){case 0:case 1:L=we;break;case 4:return Se.label++,{value:we[1],done:!1};case 5:Se.label++,ie=we[1],we=[0];continue;case 7:we=Se.ops.pop(),Se.trys.pop();continue;default:if(!(L=(L=Se.trys).length>0&&L[L.length-1])&&(6===we[0]||2===we[0])){Se=0;continue}if(3===we[0]&&(!L||we[1]>L[0]&&we[1]<L[3])){Se.label=we[1];break}if(6===we[0]&&Se.label<L[1]){Se.label=L[1],L=we;break}if(L&&Se.label<L[2]){Se.label=L[2],Se.ops.push(we);break}L[2]&&Se.ops.pop(),Se.trys.pop();continue}we=de.call(ve,Se)}catch(ze){we=[6,ze],ie=0}finally{ke=L=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,ze])}}}function bn(ve){var de="function"==typeof Symbol&&Symbol.iterator,Se=de&&ve[de],ke=0;if(Se)return Se.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&ke>=ve.length&&(ve=void 0),{value:ve&&ve[ke++],done:!ve}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(ve,de){var Se="function"==typeof Symbol&&ve[Symbol.iterator];if(!Se)return ve;var ie,$,ke=Se.call(ve),L=[];try{for(;(void 0===de||de-- >0)&&!(ie=ke.next()).done;)L.push(ie.value)}catch(ue){$={error:ue}}finally{try{ie&&!ie.done&&(Se=ke.return)&&Se.call(ke)}finally{if($)throw $.error}}return L}var R,F=Ct(676),H=Ct(279),K=((R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["only-available-in-window"]="This method is available in a Window context.",R["only-available-in-sw"]="This method is available in a service worker context.",R["permission-default"]="The notification permission was not granted and dismissed instead.",R["permission-blocked"]="The notification permission was not granted and blocked instead.",R["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",R["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",R["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",R["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",R["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",R["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",R["token-update-no-token"]="FCM returned no token when updating the user to push.",R["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",R["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",R["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",R["invalid-vapid-key"]="The public VAPID key must be a string.",R["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",R),le=new re.ErrorFactory("messaging","Messaging",K),Ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xe="FCM_MSG",Pe="google.c.a.c_id",tn=(()=>{return(ve=tn||(tn={})).PUSH_RECEIVED="push-received",ve.NOTIFICATION_CLICKED="notification-clicked",tn;var ve})();function fn(ve){var de=new Uint8Array(ve);return btoa(String.fromCharCode.apply(String,function(){for(var ve=[],de=0;de<arguments.length;de++)ve=ve.concat(Pt(arguments[de]));return ve}(de))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ct(ve){for(var Se=(ve+"=".repeat((4-ve.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ke=atob(Se),ie=new Uint8Array(ke.length),L=0;L<ke.length;++L)ie[L]=ke.charCodeAt(L);return ie}var Bn="fcm_token_details_db",dn="fcm_token_object_Store";function Ht(ve){return et(this,void 0,void 0,function(){var ke,L=this;return it(this,function($){switch($.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!$.sent().map(function(ue){return ue.name}).includes(Bn))return[2,null];$.label=2;case 2:return ke=null,[4,(0,F.openDb)(Bn,5,function(ue){return et(L,void 0,void 0,function(){var Ee,we,ze,Mt;return it(this,function(qt){switch(qt.label){case 0:return ue.oldVersion<2?[2]:ue.objectStoreNames.contains(dn)?[4,(Ee=ue.transaction.objectStore(dn)).index("fcmSenderId").get(ve)]:[2];case 1:return we=qt.sent(),[4,Ee.clear()];case 2:if(qt.sent(),!we)return[2];if(2===ue.oldVersion){if(!(ze=we).auth||!ze.p256dh||!ze.endpoint)return[2];ke={token:ze.fcmToken,createTime:null!==(Mt=ze.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:fn(ze.vapidKey)}}}else(3===ue.oldVersion||4===ue.oldVersion)&&(ke={token:(ze=we).fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:fn(ze.auth),p256dh:fn(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:fn(ze.vapidKey)}});return[2]}})})})];case 3:return $.sent().close(),[4,(0,F.deleteDb)(Bn)];case 4:return $.sent(),[4,(0,F.deleteDb)("fcm_vapid_details_db")];case 5:return $.sent(),[4,(0,F.deleteDb)("undefined")];case 6:return $.sent(),[2,wn(ke)?ke:null]}})})}function wn(ve){if(!ve||!ve.subscriptionOptions)return!1;var de=ve.subscriptionOptions;return"number"==typeof ve.createTime&&ve.createTime>0&&"string"==typeof ve.token&&ve.token.length>0&&"string"==typeof de.auth&&de.auth.length>0&&"string"==typeof de.p256dh&&de.p256dh.length>0&&"string"==typeof de.endpoint&&de.endpoint.length>0&&"string"==typeof de.swScope&&de.swScope.length>0&&"string"==typeof de.vapidKey&&de.vapidKey.length>0}var kn="firebase-messaging-store",tr=null;function kr(){return tr||(tr=(0,F.openDb)("firebase-messaging-database",1,function(ve){switch(ve.oldVersion){case 0:ve.createObjectStore(kn)}})),tr}function ir(ve){return et(this,void 0,void 0,function(){var de,ke,ie;return it(this,function(L){switch(L.label){case 0:return de=Ar(ve),[4,kr()];case 1:return[4,L.sent().transaction(kn).objectStore(kn).get(de)];case 2:return(ke=L.sent())?[2,ke]:[3,3];case 3:return[4,Ht(ve.appConfig.senderId)];case 4:return(ie=L.sent())?[4,jn(ve,ie)]:[3,6];case 5:return L.sent(),[2,ie];case 6:return[2]}})})}function jn(ve,de){return et(this,void 0,void 0,function(){var Se,ke,ie;return it(this,function(L){switch(L.label){case 0:return Se=Ar(ve),[4,kr()];case 1:return ke=L.sent(),[4,(ie=ke.transaction(kn,"readwrite")).objectStore(kn).put(de,Se)];case 2:return L.sent(),[4,ie.complete];case 3:return L.sent(),[2,de]}})})}function ii(ve){return et(this,void 0,void 0,function(){var de,Se,ke;return it(this,function(ie){switch(ie.label){case 0:return de=Ar(ve),[4,kr()];case 1:return Se=ie.sent(),[4,(ke=Se.transaction(kn,"readwrite")).objectStore(kn).delete(de)];case 2:return ie.sent(),[4,ke.complete];case 3:return ie.sent(),[2]}})})}function Ar(ve){return ve.appConfig.appId}function Qn(ve,de){return et(this,void 0,void 0,function(){var Se,ke,ie,L,ue;return it(this,function(we){switch(we.label){case 0:return[4,ge(ve)];case 1:Se=we.sent(),ke=qe(de),ie={method:"POST",headers:Se,body:JSON.stringify(ke)},we.label=2;case 2:return we.trys.push([2,5,,6]),[4,fetch(je(ve.appConfig),ie)];case 3:return[4,we.sent().json()];case 4:return L=we.sent(),[3,6];case 5:throw ue=we.sent(),le.create("token-subscribe-failed",{errorInfo:ue});case 6:if(L.error)throw le.create("token-subscribe-failed",{errorInfo:L.error.message});if(!L.token)throw le.create("token-subscribe-no-token");return[2,L.token]}})})}function On(ve,de){return et(this,void 0,void 0,function(){var Se,ke,ie,L,ue;return it(this,function(we){switch(we.label){case 0:return[4,ge(ve)];case 1:Se=we.sent(),ke=qe(de.subscriptionOptions),ie={method:"PATCH",headers:Se,body:JSON.stringify(ke)},we.label=2;case 2:return we.trys.push([2,5,,6]),[4,fetch(je(ve.appConfig)+"/"+de.token,ie)];case 3:return[4,we.sent().json()];case 4:return L=we.sent(),[3,6];case 5:throw ue=we.sent(),le.create("token-update-failed",{errorInfo:ue});case 6:if(L.error)throw le.create("token-update-failed",{errorInfo:L.error.message});if(!L.token)throw le.create("token-update-no-token");return[2,L.token]}})})}function ci(ve,de){return et(this,void 0,void 0,function(){var Se,ke,L,ue;return it(this,function(Ee){switch(Ee.label){case 0:return[4,ge(ve)];case 1:Se=Ee.sent(),ke={method:"DELETE",headers:Se},Ee.label=2;case 2:return Ee.trys.push([2,5,,6]),[4,fetch(je(ve.appConfig)+"/"+de,ke)];case 3:return[4,Ee.sent().json()];case 4:if((L=Ee.sent()).error)throw le.create("token-unsubscribe-failed",{errorInfo:L.error.message});return[3,6];case 5:throw ue=Ee.sent(),le.create("token-unsubscribe-failed",{errorInfo:ue});case 6:return[2]}})})}function je(ve){return"https://fcmregistrations.googleapis.com/v1/projects/"+ve.projectId+"/registrations"}function ge(ve){var de=ve.appConfig,Se=ve.installations;return et(this,void 0,void 0,function(){var ke;return it(this,function(ie){switch(ie.label){case 0:return[4,Se.getToken()];case 1:return ke=ie.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de.apiKey,"x-goog-firebase-installations-auth":"FIS "+ke})]}})})}function qe(ve){var ie=ve.vapidKey,L={web:{endpoint:ve.endpoint,auth:ve.auth,p256dh:ve.p256dh}};return ie!==Ve&&(L.web.applicationPubKey=ie),L}function Ue(ve,de,Se){return et(this,void 0,void 0,function(){var ke,ie,L,$;return it(this,function(ue){switch(ue.label){case 0:if("granted"!==Notification.permission)throw le.create("permission-blocked");return[4,on(de,Se)];case 1:return ke=ue.sent(),[4,ir(ve)];case 2:return ie=ue.sent(),L={vapidKey:Se,swScope:de.scope,endpoint:ke.endpoint,auth:fn(ke.getKey("auth")),p256dh:fn(ke.getKey("p256dh"))},ie?[3,3]:[2,pn(ve,L)];case 3:if(function(ve,de){return de.vapidKey===ve.vapidKey&&de.endpoint===ve.endpoint&&de.auth===ve.auth&&de.p256dh===ve.p256dh}(ie.subscriptionOptions,L))return[3,8];ue.label=4;case 4:return ue.trys.push([4,6,,7]),[4,ci(ve,ie.token)];case 5:return ue.sent(),[3,7];case 6:return $=ue.sent(),console.warn($),[3,7];case 7:return[2,pn(ve,L)];case 8:return Date.now()>=ie.createTime+6048e5?[2,zt({token:ie.token,createTime:Date.now(),subscriptionOptions:L},ve,de)]:[2,ie.token];case 9:return[2]}})})}function Wt(ve,de){return et(this,void 0,void 0,function(){var Se,ke;return it(this,function(ie){switch(ie.label){case 0:return[4,ir(ve)];case 1:return(Se=ie.sent())?[4,ci(ve,Se.token)]:[3,4];case 2:return ie.sent(),[4,ii(ve)];case 3:ie.sent(),ie.label=4;case 4:return[4,de.pushManager.getSubscription()];case 5:return(ke=ie.sent())?[2,ke.unsubscribe()]:[2,!0]}})})}function zt(ve,de,Se){return et(this,void 0,void 0,function(){var ke,ie,L;return it(this,function($){switch($.label){case 0:return $.trys.push([0,3,,5]),[4,On(de,ve)];case 1:return ke=$.sent(),ie=Tn(Tn({},ve),{token:ke,createTime:Date.now()}),[4,jn(de,ie)];case 2:return $.sent(),[2,ke];case 3:return L=$.sent(),[4,Wt(de,Se)];case 4:throw $.sent(),L;case 5:return[2]}})})}function pn(ve,de){return et(this,void 0,void 0,function(){var Se,ke;return it(this,function(ie){switch(ie.label){case 0:return[4,Qn(ve,de)];case 1:return Se=ie.sent(),ke={token:Se,createTime:Date.now(),subscriptionOptions:de},[4,jn(ve,ke)];case 2:return ie.sent(),[2,ke.token]}})})}function on(ve,de){return et(this,void 0,void 0,function(){var Se;return it(this,function(ke){switch(ke.label){case 0:return[4,ve.pushManager.getSubscription()];case 1:return(Se=ke.sent())?[2,Se]:[2,ve.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ct(de)})]}})})}function hi(ve){return"object"==typeof ve&&!!ve&&Pe in ve}function nn(ve){return new Promise(function(de){setTimeout(de,ve)})}var Sr=function(){function ve(de){var Se=this;this.firebaseDependencies=de,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(ke){ke.waitUntil(Se.onPush(ke))}),self.addEventListener("pushsubscriptionchange",function(ke){ke.waitUntil(Se.onSubChange(ke))}),self.addEventListener("notificationclick",function(ke){ke.waitUntil(Se.onNotificationClick(ke))})}return Object.defineProperty(ve.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ve.prototype.setBackgroundMessageHandler=function(de){if(this.isOnBackgroundMessageUsed=!1,!de||"function"!=typeof de)throw le.create("invalid-bg-handler");this.bgMessageHandler=de},ve.prototype.onBackgroundMessage=function(de){var Se=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=de,function(){Se.bgMessageHandler=null}},ve.prototype.getToken=function(){var de,Se;return et(this,void 0,void 0,function(){var ke;return it(this,function(ie){switch(ie.label){case 0:return this.vapidKey?[3,2]:[4,ir(this.firebaseDependencies)];case 1:ke=ie.sent(),this.vapidKey=null!==(Se=null===(de=null==ke?void 0:ke.subscriptionOptions)||void 0===de?void 0:de.vapidKey)&&void 0!==Se?Se:Ve,ie.label=2;case 2:return[2,Ue(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},ve.prototype.deleteToken=function(){return Wt(this.firebaseDependencies,self.registration)},ve.prototype.requestPermission=function(){throw le.create("only-available-in-window")},ve.prototype.usePublicVapidKey=function(de){if(null!==this.vapidKey)throw le.create("use-vapid-key-after-get-token");if("string"!=typeof de||0===de.length)throw le.create("invalid-vapid-key");this.vapidKey=de},ve.prototype.useServiceWorker=function(){throw le.create("only-available-in-window")},ve.prototype.onMessage=function(){throw le.create("only-available-in-window")},ve.prototype.onTokenRefresh=function(){throw le.create("only-available-in-window")},ve.prototype.onPush=function(de){return et(this,void 0,void 0,function(){var Se,ke,ie,L;return it(this,function($){switch($.label){case 0:return(Se=function(ve){var de=ve.data;if(!de)return null;try{return de.json()}catch(Se){return null}}(de))?[4,Be()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(ve){return ve.some(function(de){return"visible"===de.visibilityState&&!de.url.startsWith("chrome-extension://")})}(ke=$.sent())?[2,_e(ke,Se)]:(ie=!1,Se.notification?[4,Ke(co(Se))]:[3,3]);case 2:$.sent(),ie=!0,$.label=3;case 3:return!0===ie&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(L=function(ve){var de={from:ve.from,collapseKey:ve.collapse_key};return function(ve,de){if(de.notification){ve.notification={};var Se=de.notification.title;Se&&(ve.notification.title=Se);var ke=de.notification.body;ke&&(ve.notification.body=ke);var ie=de.notification.image;ie&&(ve.notification.image=ie)}}(de,ve),function(ve,de){!de.data||(ve.data=de.data)}(de,ve),function(ve,de){if(de.fcmOptions){ve.fcmOptions={};var Se=de.fcmOptions.link;Se&&(ve.fcmOptions.link=Se);var ke=de.fcmOptions.analytics_label;ke&&(ve.fcmOptions.analyticsLabel=ke)}}(de,ve),de}(Se),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(L):this.bgMessageHandler.next(L)),[2]}})})},ve.prototype.onSubChange=function(de){var Se,ke;return et(this,void 0,void 0,function(){var L;return it(this,function($){switch($.label){case 0:return de.newSubscription?[3,2]:[4,Wt(this.firebaseDependencies,self.registration)];case 1:return $.sent(),[2];case 2:return[4,ir(this.firebaseDependencies)];case 3:return L=$.sent(),[4,Wt(this.firebaseDependencies,self.registration)];case 4:return $.sent(),[4,Ue(this.firebaseDependencies,self.registration,null!==(ke=null===(Se=null==L?void 0:L.subscriptionOptions)||void 0===Se?void 0:Se.vapidKey)&&void 0!==ke?ke:Ve)];case 5:return $.sent(),[2]}})})},ve.prototype.onNotificationClick=function(de){var Se,ke;return et(this,void 0,void 0,function(){var ie,L,$,ue,Ee;return it(this,function(we){switch(we.label){case 0:return(ie=null===(ke=null===(Se=de.notification)||void 0===Se?void 0:Se.data)||void 0===ke?void 0:ke[xe])?de.action?[2]:(de.stopImmediatePropagation(),de.notification.close(),(L=function(ve){var de,Se,ke;return(null!==(Se=null===(de=ve.fcmOptions)||void 0===de?void 0:de.link)&&void 0!==Se?Se:null===(ke=ve.notification)||void 0===ke?void 0:ke.click_action)||(hi(ve.data)?self.location.origin:null)}(ie))?($=new URL(L,self.location.href),ue=new URL(self.location.origin),$.host!==ue.host?[2]:[4,an($)]):[2]):[2];case 1:return(Ee=we.sent())?[3,4]:[4,self.clients.openWindow(L)];case 2:return Ee=we.sent(),[4,nn(3e3)];case 3:return we.sent(),[3,6];case 4:return[4,Ee.focus()];case 5:Ee=we.sent(),we.label=6;case 6:return Ee?(ie.messageType=tn.NOTIFICATION_CLICKED,ie.isFirebaseMessaging=!0,[2,Ee.postMessage(ie)]):[2]}})})},ve}();function co(ve){var de,Se=Tn({},ve.notification);return Se.data=((de={})[xe]=ve,de),Se}function an(ve){return et(this,void 0,void 0,function(){var de,Se,ke,ie,L,$,ue;return it(this,function(Ee){switch(Ee.label){case 0:return[4,Be()];case 1:de=Ee.sent();try{for(Se=bn(de),ke=Se.next();!ke.done;ke=Se.next())if(ie=ke.value,L=new URL(ie.url,self.location.href),ve.host===L.host)return[2,ie]}catch(we){$={error:we}}finally{try{ke&&!ke.done&&(ue=Se.return)&&ue.call(Se)}finally{if($)throw $.error}}return[2,null]}})})}function _e(ve,de){var Se,ke;de.isFirebaseMessaging=!0,de.messageType=tn.PUSH_RECEIVED;try{for(var ie=bn(ve),L=ie.next();!L.done;L=ie.next())L.value.postMessage(de)}catch(ue){Se={error:ue}}finally{try{L&&!L.done&&(ke=ie.return)&&ke.call(ie)}finally{if(Se)throw Se.error}}}function Be(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ke(ve){var de,Se=ve.actions,ke=Notification.maxActions;return Se&&ke&&Se.length>ke&&console.warn("This browser only supports "+ke+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(de=ve.title)&&void 0!==de?de:"",ve)}var Fe=function(){function ve(de){var Se=this;this.firebaseDependencies=de,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(ke){return Se.messageEventListener(ke)})}return Object.defineProperty(ve.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ve.prototype.messageEventListener=function(de){return et(this,void 0,void 0,function(){var Se,ke;return it(this,function(ie){switch(ie.label){case 0:return(Se=de.data).isFirebaseMessaging?(this.onMessageCallback&&Se.messageType===tn.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(ve){return delete ve.messageType,delete ve.isFirebaseMessaging,ve}(Object.assign({},Se))):this.onMessageCallback.next(Object.assign({},Se))),hi(ke=Se.data)&&"1"===ke["google.c.a.e"]?[4,this.logEvent(Se.messageType,ke)]:[3,2]):[2];case 1:ie.sent(),ie.label=2;case 2:return[2]}})})},ve.prototype.getVapidKey=function(){return this.vapidKey},ve.prototype.getSwReg=function(){return this.swRegistration},ve.prototype.getToken=function(de){return et(this,void 0,void 0,function(){return it(this,function(Se){switch(Se.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:Se.sent(),Se.label=2;case 2:if("granted"!==Notification.permission)throw le.create("permission-blocked");return[4,this.updateVapidKey(null==de?void 0:de.vapidKey)];case 3:return Se.sent(),[4,this.updateSwReg(null==de?void 0:de.serviceWorkerRegistration)];case 4:return Se.sent(),[2,Ue(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},ve.prototype.updateVapidKey=function(de){return et(this,void 0,void 0,function(){return it(this,function(Se){return de?this.vapidKey=de:this.vapidKey||(this.vapidKey=Ve),[2]})})},ve.prototype.updateSwReg=function(de){return et(this,void 0,void 0,function(){return it(this,function(Se){switch(Se.label){case 0:return de||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:Se.sent(),Se.label=2;case 2:if(!de&&this.swRegistration)return[2];if(!(de instanceof ServiceWorkerRegistration))throw le.create("invalid-sw-registration");return this.swRegistration=de,[2]}})})},ve.prototype.registerDefaultSw=function(){return et(this,void 0,void 0,function(){var de,Se;return it(this,function(ke){switch(ke.label){case 0:return ke.trys.push([0,2,,3]),de=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return de.swRegistration=ke.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw Se=ke.sent(),le.create("failed-service-worker-registration",{browserErrorMessage:Se.message});case 3:return[2]}})})},ve.prototype.deleteToken=function(){return et(this,void 0,void 0,function(){return it(this,function(de){switch(de.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:de.sent(),de.label=2;case 2:return[2,Wt(this.firebaseDependencies,this.swRegistration)]}})})},ve.prototype.requestPermission=function(){return et(this,void 0,void 0,function(){var de;return it(this,function(Se){switch(Se.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(de=Se.sent()))return[2];throw le.create("denied"===de?"permission-blocked":"permission-default")}})})},ve.prototype.usePublicVapidKey=function(de){if(null!==this.vapidKey)throw le.create("use-vapid-key-after-get-token");if("string"!=typeof de||0===de.length)throw le.create("invalid-vapid-key");this.vapidKey=de},ve.prototype.useServiceWorker=function(de){if(!(de instanceof ServiceWorkerRegistration))throw le.create("invalid-sw-registration");if(this.swRegistration)throw le.create("use-sw-after-get-token");this.swRegistration=de},ve.prototype.onMessage=function(de){var Se=this;return this.onMessageCallback=de,function(){Se.onMessageCallback=null}},ve.prototype.setBackgroundMessageHandler=function(){throw le.create("only-available-in-sw")},ve.prototype.onBackgroundMessage=function(){throw le.create("only-available-in-sw")},ve.prototype.onTokenRefresh=function(){return function(){}},ve.prototype.logEvent=function(de,Se){return et(this,void 0,void 0,function(){var ke;return it(this,function(L){switch(L.label){case 0:return ke=function(ve){switch(ve){case tn.NOTIFICATION_CLICKED:return"notification_open";case tn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(de),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return L.sent().logEvent(ke,{message_id:Se[Pe],message_name:Se["google.c.a.c_l"],message_time:Se["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},ve}();function vn(ve){return le.create("missing-app-config-values",{valueName:ve})}var Mr={isSupported:or};function or(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}H.default.INTERNAL.registerComponent(new Z.Component("messaging",function(ve){var de=ve.getProvider("app").getImmediate(),Se=function(ve){var de,Se;if(!ve||!ve.options)throw vn("App Configuration Object");if(!ve.name)throw vn("App Name");var ie=ve.options;try{for(var L=bn(["projectId","apiKey","appId","messagingSenderId"]),$=L.next();!$.done;$=L.next()){var ue=$.value;if(!ie[ue])throw vn(ue)}}catch(Ee){de={error:Ee}}finally{try{$&&!$.done&&(Se=L.return)&&Se.call(L)}finally{if(de)throw de.error}}return{appName:ve.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(de),L={app:de,appConfig:Se,installations:ve.getProvider("installations").getImmediate(),analyticsProvider:ve.getProvider("analytics-internal")};if(!or())throw le.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Sr(L):new Fe(L)},"PUBLIC").setServiceProps(Mr))},62:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Ct(279);Ct(918);var Z=Ct(9),re=Ct(704),Nt=Ct(300),rt=Ct(100);function Tn(ie){return ie&&"object"==typeof ie&&"default"in ie?ie:{default:ie}}var ot,Lt=Tn(te),Y="0.4.2",Ne="FB-PERF-TRACE-MEASURE",dt="@firebase/performance/config",Je="@firebase/performance/configexpire",Ft="Performance",Qe=((ot={})["trace started"]="Trace {$traceName} was started before.",ot["trace stopped"]="Trace {$traceName} is not running.",ot["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",ot["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",ot["no window"]="Window is not available.",ot["no app id"]="App id is not available.",ot["no project id"]="Project id is not available.",ot["no api key"]="Api key is not available.",ot["invalid cc log"]="Attempted to queue invalid cc event",ot["FB not default"]="Performance can only start when Firebase app instance is the default one.",ot["RC response not ok"]="RC response is not ok",ot["invalid attribute name"]="Attribute name {$attributeName} is invalid.",ot["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",ot["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",ot["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",ot),pt=new re.ErrorFactory("performance",Ft,Qe),A=new Nt.Logger(Ft);A.logLevel=Nt.LogLevel.INFO;var M,I,F=function(){function ie(L){if(this.window=L,!L)throw pt.create("no window");this.performance=L.performance,this.PerformanceObserver=L.PerformanceObserver,this.windowLocation=L.location,this.navigator=L.navigator,this.document=L.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=L.localStorage),L.perfMetrics&&L.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=L.perfMetrics.onFirstInputDelay)}return ie.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ie.prototype.mark=function(L){!this.performance||!this.performance.mark||this.performance.mark(L)},ie.prototype.measure=function(L,$,ue){!this.performance||!this.performance.measure||this.performance.measure(L,$,ue)},ie.prototype.getEntriesByType=function(L){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(L):[]},ie.prototype.getEntriesByName=function(L){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(L):[]},ie.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ie.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!re.isIndexedDBAvailable()||(A.info("IndexedDB is not supported by current browswer"),!1):(A.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ie.prototype.setupObserver=function(L,$){this.PerformanceObserver&&new this.PerformanceObserver(function(Ee){for(var we=0,ze=Ee.getEntries();we<ze.length;we++)$(ze[we])}).observe({entryTypes:[L]})},ie.getInstance=function(){return void 0===M&&(M=new ie(I)),M},ie}();function R(ie,L){var $=ie.length-L.length;if($<0||$>1)throw pt.create("invalid String merger input");for(var ue=[],Ee=0;Ee<ie.length;Ee++)ue.push(ie.charAt(Ee)),L.length>Ee&&ue.push(L.charAt(Ee));return ue.join("")}var K,Tt,le=function(){function ie(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=R("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=R("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return ie.prototype.getAppId=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!L)throw pt.create("no app id");return L},ie.prototype.getProjectId=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!L)throw pt.create("no project id");return L},ie.prototype.getApiKey=function(){var L=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!L)throw pt.create("no api key");return L},ie.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ie.getInstance=function(){return void 0===K&&(K=new ie),K},ie}();function Ve(){return Tt}var xe=(()=>{return(ie=xe||(xe={}))[ie.UNKNOWN=0]="UNKNOWN",ie[ie.VISIBLE=1]="VISIBLE",ie[ie.HIDDEN=2]="HIDDEN",xe;var ie})(),Pe=["firebase_","google_","ga_"],Ge=new RegExp("^[a-zA-Z]\\w*$");function tn(){switch(F.getInstance().document.visibilityState){case"visible":return xe.VISIBLE;case"hidden":return xe.HIDDEN;default:return xe.UNKNOWN}}function fn(){var L=F.getInstance().navigator.connection;switch(L&&L.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var kn="Could not fetch config, will use default configs";function kr(ie){if(!ie)return ie;var L=le.getInstance(),$=ie.entries||{};return L.loggingEnabled=void 0===$.fpr_enabled||"true"===String($.fpr_enabled),$.fpr_log_source&&(L.logSource=Number($.fpr_log_source)),$.fpr_log_endpoint_url&&(L.logEndPointUrl=$.fpr_log_endpoint_url),$.fpr_log_transport_key&&(L.transportKey=$.fpr_log_transport_key),void 0!==$.fpr_vc_network_request_sampling_rate&&(L.networkRequestsSamplingRate=Number($.fpr_vc_network_request_sampling_rate)),void 0!==$.fpr_vc_trace_sampling_rate&&(L.tracesSamplingRate=Number($.fpr_vc_trace_sampling_rate)),L.logTraceAfterSampling=jn(L.tracesSamplingRate),L.logNetworkAfterSampling=jn(L.networkRequestsSamplingRate),ie}function jn(ie){return Math.random()<=ie}var Ar,ii=1;function Qn(){return ii=2,Ar=Ar||(ie=F.getInstance().document,new Promise(function(L){if(ie&&"complete"!==ie.readyState){var $=function(){"complete"===ie.readyState&&(ie.removeEventListener("readystatechange",$),L())};ie.addEventListener("readystatechange",$)}else L()})).then(function(){return function(){var ie=le.getInstance().installationsService.getId();return ie.then(function(L){Tt=L}),ie}()}).then(function(ie){return function(ie){var L=function(){var ie=F.getInstance().localStorage;if(ie){var L=ie.getItem(Je);if(L&&function(ie){return Number(ie)>Date.now()}(L)){var $=ie.getItem(dt);if($)try{return JSON.parse($)}catch(Ee){return}}}}();return L?(kr(L),Promise.resolve()):function(ie){return function(){var ie=le.getInstance().installationsService.getToken();return ie.then(function(L){}),ie}().then(function(L){var ue="https://firebaseremoteconfig.googleapis.com/v1/projects/"+le.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+le.getInstance().getApiKey(),Ee=new Request(ue,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+L},body:JSON.stringify({app_instance_id:ie,app_instance_id_token:L,app_id:le.getInstance().getAppId(),app_version:Y,sdk_version:"0.0.1"})});return fetch(Ee).then(function(we){if(we.ok)return we.json();throw pt.create("RC response not ok")})}).catch(function(){A.info(kn)})}(ie).then(kr).then(function($){return function(ie){var L=F.getInstance().localStorage;!ie||!L||(L.setItem(dt,JSON.stringify(ie)),L.setItem(Je,String(Date.now()+60*le.getInstance().configTimeToLive*60*1e3)))}($)},function(){})}(ie)}).then(function(){return ge()},function(){return ge()});var ie}function ge(){ii=3}var nn,Wt=3,zt=[],pn=!1;function Dn(ie){setTimeout(function(){if(0!==Wt){if(!zt.length)return Dn(1e4);!function(){var ie=Z.__spreadArrays(zt);zt=[];var L=ie.map(function(ue){return{source_extension_json_proto3:ue.message,event_time_ms:String(ue.eventTime)}});(function(ie,L){return function(ie){var L=le.getInstance().getFlTransportFullUrl();return fetch(L,{method:"POST",body:JSON.stringify(ie)})}(ie).then(function($){return $.ok||A.info("Call to Firebase backend failed."),$.json()}).then(function($){var ue=Number($.nextRequestWaitMillis),Ee=1e4;isNaN(ue)||(Ee=Math.max(ue,Ee));var we=$.logResponseDetails;Array.isArray(we)&&we.length>0&&"RETRY_REQUEST_LATER"===we[0].responseAction&&(zt=Z.__spreadArrays(L,zt),A.info("Retry transport request later.")),Wt=3,Dn(Ee)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:le.getInstance().logSource,log_event:L},ie).catch(function(){zt=Z.__spreadArrays(ie,zt),Wt--,A.info("Tries left: "+Wt+"."),Dn(1e4)})}()}},ie)}function sn(ie){if(!ie.eventTime||!ie.message)throw pt.create("invalid cc log");zt=Z.__spreadArrays(zt,[ie])}function Sr(ie,L){nn||(nn=function(ie){return function(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];sn({message:ie.apply(void 0,L),eventTime:Date.now()})}}(Gi)),nn(ie,L)}function co(ie){var L=le.getInstance();!L.instrumentationEnabled&&ie.isAuto||!L.dataCollectionEnabled&&!ie.isAuto||!F.getInstance().requiredApisAvailable()||ie.isAuto&&tn()!==xe.VISIBLE||(3===ii?Fn(ie):Qn().then(function(){return Fn(ie)},function(){return Fn(ie)}))}function Fn(ie){if(Ve()){var L=le.getInstance();!L.loggingEnabled||!L.logTraceAfterSampling||setTimeout(function(){return Sr(ie,1)},0)}}function Gi(ie,L){return 0===L?function(ie){var L={url:ie.url,http_method:ie.httpMethod||0,http_response_code:200,response_payload_bytes:ie.responsePayloadBytes,client_start_time_us:ie.startTimeUs,time_to_response_initiated_us:ie.timeToResponseInitiatedUs,time_to_response_completed_us:ie.timeToResponseCompletedUs},$={application_info:Ke(),network_request_metric:L};return JSON.stringify($)}(ie):function(ie){var L={name:ie.name,is_auto:ie.isAuto,client_start_time_us:ie.startTimeUs,duration_us:ie.durationUs};0!==Object.keys(ie.counters).length&&(L.counters=ie.counters);var $=ie.getAttributes();0!==Object.keys($).length&&(L.custom_attributes=$);var ue={application_info:Ke(),trace_metric:L};return JSON.stringify(ue)}(ie)}function Ke(){return{google_app_id:le.getInstance().getAppId(),app_instance_id:Ve(),web_app_info:{sdk_version:Y,page_url:F.getInstance().getUrl(),service_worker_status:(ie=F.getInstance().navigator,"serviceWorker"in ie?ie.serviceWorker.controller?2:3:1),visibility_state:tn(),effective_connection_type:fn()},application_process_state:0};var ie}var tt=["_fp","_fcp","_fid"],vn=function(){function ie(L,$,ue){void 0===$&&($=!1),this.name=L,this.isAuto=$,this.state=1,this.customAttributes={},this.counters={},this.api=F.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=ue||Ne+"-"+this.randomId+"-"+this.name,ue&&this.calculateTraceMetrics())}return ie.prototype.start=function(){if(1!==this.state)throw pt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},ie.prototype.stop=function(){if(2!==this.state)throw pt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),co(this)},ie.prototype.record=function(L,$,ue){if(L<=0)throw pt.create("nonpositive trace startTime",{traceName:this.name});if($<=0)throw pt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*$),this.startTimeUs=Math.floor(1e3*L),ue&&ue.attributes&&(this.customAttributes=Z.__assign({},ue.attributes)),ue&&ue.metrics)for(var Ee=0,we=Object.keys(ue.metrics);Ee<we.length;Ee++){var ze=we[Ee];isNaN(Number(ue.metrics[ze]))||(this.counters[ze]=Number(Math.floor(ue.metrics[ze])))}co(this)},ie.prototype.incrementMetric=function(L,$){void 0===$&&($=1),this.putMetric(L,void 0===this.counters[L]?$:this.counters[L]+$)},ie.prototype.putMetric=function(L,$){if(!function(ie,L){return!(0===ie.length||ie.length>100)&&(L&&L.startsWith("_wt_")&&tt.indexOf(ie)>-1||!ie.startsWith("_"))}(L,this.name))throw pt.create("invalid custom metric name",{customMetricName:L});this.counters[L]=function(ie){var L=Math.floor(ie);return L<ie&&A.info("Metric value should be an Integer, setting the value as : "+L+"."),L}($)},ie.prototype.getMetric=function(L){return this.counters[L]||0},ie.prototype.putAttribute=function(L,$){var ue=function(ie){return!(0===ie.length||ie.length>40||Pe.some(function($){return ie.startsWith($)})||!ie.match(Ge))}(L),Ee=function(ie){return 0!==ie.length&&ie.length<=100}($);if(ue&&Ee)this.customAttributes[L]=$;else{if(!ue)throw pt.create("invalid attribute name",{attributeName:L});if(!Ee)throw pt.create("invalid attribute value",{attributeValue:$})}},ie.prototype.getAttribute=function(L){return this.customAttributes[L]},ie.prototype.removeAttribute=function(L){void 0!==this.customAttributes[L]&&delete this.customAttributes[L]},ie.prototype.getAttributes=function(){return Z.__assign({},this.customAttributes)},ie.prototype.setStartTime=function(L){this.startTimeUs=L},ie.prototype.setDuration=function(L){this.durationUs=L},ie.prototype.calculateTraceMetrics=function(){var L=this.api.getEntriesByName(this.traceMeasure),$=L&&L[0];$&&(this.durationUs=Math.floor(1e3*$.duration),this.startTimeUs=Math.floor(1e3*($.startTime+this.api.getTimeOrigin())))},ie.createOobTrace=function(L,$,ue){var Ee=F.getInstance().getUrl();if(Ee){var we=new ie("_wt_"+Ee,!0),ze=Math.floor(1e3*F.getInstance().getTimeOrigin());if(we.setStartTime(ze),L&&L[0]&&(we.setDuration(Math.floor(1e3*L[0].duration)),we.putMetric("domInteractive",Math.floor(1e3*L[0].domInteractive)),we.putMetric("domContentLoadedEventEnd",Math.floor(1e3*L[0].domContentLoadedEventEnd)),we.putMetric("loadEventEnd",Math.floor(1e3*L[0].loadEventEnd))),$){var at=$.find(function(vt){return"first-paint"===vt.name});at&&at.startTime&&we.putMetric("_fp",Math.floor(1e3*at.startTime));var gn=$.find(function(vt){return"first-contentful-paint"===vt.name});gn&&gn.startTime&&we.putMetric("_fcp",Math.floor(1e3*gn.startTime)),ue&&we.putMetric("_fid",Math.floor(1e3*ue))}co(we)}},ie.createUserTimingTrace=function(L){co(new ie(L,!1,L))},ie}();function At(ie){var L=ie;if(L&&void 0!==L.responseStart){var $=F.getInstance().getTimeOrigin(),ue=Math.floor(1e3*(L.startTime+$)),Ee=L.responseStart?Math.floor(1e3*(L.responseStart-L.startTime)):void 0,we=Math.floor(1e3*(L.responseEnd-L.startTime));!function(ie){var L=le.getInstance();if(L.instrumentationEnabled){var $=ie.url,ue=L.logEndPointUrl.split("?")[0],Ee=L.flTransportEndpointUrl.split("?")[0];$===ue||$===Ee||!L.loggingEnabled||!L.logNetworkAfterSampling||setTimeout(function(){return Sr(ie,0)},0)}}({url:L.name&&L.name.split("?")[0],responsePayloadBytes:L.transferSize,startTimeUs:ue,timeToResponseInitiatedUs:Ee,timeToResponseCompletedUs:we})}}function Mr(){!Ve()||(setTimeout(function(){return function(){var ie=F.getInstance(),L=ie.getEntriesByType("navigation"),$=ie.getEntriesByType("paint");if(ie.onFirstInputDelay){var ue=setTimeout(function(){vn.createOobTrace(L,$),ue=void 0},5e3);ie.onFirstInputDelay(function(Ee){ue&&(clearTimeout(ue),vn.createOobTrace(L,$,Ee))})}else vn.createOobTrace(L,$)}()},0),setTimeout(function(){return function(){for(var ie=F.getInstance(),$=0,ue=ie.getEntriesByType("resource");$<ue.length;$++)At(ue[$]);ie.setupObserver("resource",At)}()},0),setTimeout(function(){return function(){for(var ie=F.getInstance(),$=0,ue=ie.getEntriesByType("measure");$<ue.length;$++)ve(ue[$]);ie.setupObserver("measure",ve)}()},0))}function ve(ie){var L=ie.name;L.substring(0,Ne.length)!==Ne&&vn.createUserTimingTrace(L)}var de=function(){function ie(L){this.app=L,F.getInstance().requiredApisAvailable()&&re.validateIndexedDBOpenable().then(function($){$&&(pn||(Dn(5500),pn=!0),Qn().then(Mr,Mr))}).catch(function($){A.info("Environment doesn't support IndexedDB: "+$)})}return ie.prototype.trace=function(L){return new vn(L)},Object.defineProperty(ie.prototype,"instrumentationEnabled",{get:function(){return le.getInstance().instrumentationEnabled},set:function(L){le.getInstance().instrumentationEnabled=L},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dataCollectionEnabled",{get:function(){return le.getInstance().dataCollectionEnabled},set:function(L){le.getInstance().dataCollectionEnabled=L},enumerable:!1,configurable:!0}),ie}();function ke(ie){ie.INTERNAL.registerComponent(new rt.Component("performance",function($){return function($,ue){if("[DEFAULT]"!==$.name)throw pt.create("FB not default");if("undefined"==typeof window)throw pt.create("no window");return function(ie){I=ie}(window),le.getInstance().firebaseAppInstance=$,le.getInstance().installationsService=ue,new de($)}($.getProvider("app").getImmediate(),$.getProvider("installations").getImmediate())},"PUBLIC")),ie.registerVersion("@firebase/performance","0.4.2")}ke(Lt.default),bt.registerPerformance=ke},136:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Ct(279);Ct(918);var Z=Ct(698),re=Ct(704),Nt=Ct(300),rt=Ct(100);function Tn(Pe){return Pe&&"object"==typeof Pe&&"default"in Pe?Pe:{default:Pe}}var be,Lt=Tn(te),Cn=function(){function Pe(Ge,wt,en,Rt){this.client=Ge,this.storage=wt,this.storageCache=en,this.logger=Rt}return Pe.prototype.isCachedDataFresh=function(Ge,wt){if(!wt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var en=Date.now()-wt,Rt=en<=Ge;return this.logger.debug("Config fetch cache check. Cache age millis: "+en+". Cache max age millis (minimumFetchIntervalMillis setting): "+Ge+". Is cache hit: "+Rt+"."),Rt},Pe.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,en,Rt,tn,fn;return Z.__generator(this,function(ct){switch(ct.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return wt=ct.sent(),en=wt[0],(Rt=wt[1])&&this.isCachedDataFresh(Ge.cacheMaxAgeMillis,en)?[2,Rt]:(Ge.eTag=Rt&&Rt.eTag,[4,this.client.fetch(Ge)]);case 2:return tn=ct.sent(),fn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===tn.status&&fn.push(this.storage.setLastSuccessfulFetchResponse(tn)),[4,Promise.all(fn)];case 3:return ct.sent(),[2,tn]}})})},Pe}(),Y=((be={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",be["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",be["registration-api-key"]="Undefined API key. Check Firebase app initialization.",be["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",be["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",be["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",be["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",be["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",be["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",be["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',be["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',be["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",be["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",be),et=new re.ErrorFactory("remoteconfig","Remote Config",Y);function Ne(Pe){return void 0===Pe&&(Pe=navigator),Pe.languages&&Pe.languages[0]||Pe.language}var ft=function(){function Pe(Ge,wt,en,Rt,tn,fn){this.firebaseInstallations=Ge,this.sdkVersion=wt,this.namespace=en,this.projectId=Rt,this.apiKey=tn,this.appId=fn}return Pe.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,tn,fn,ct,Bn,Ur,dn,Ht,wn,rn,Kt,kn,tr,kr,ir,jn,ii;return Z.__generator(this,function(Ar){switch(Ar.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:wt=Ar.sent(),tn=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",fn=tn+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ge.eTag||"*"},Bn={sdk_version:this.sdkVersion,app_instance_id:wt[0],app_instance_id_token:wt[1],app_id:this.appId,language_code:Ne()},Ur={method:"POST",headers:ct,body:JSON.stringify(Bn)},dn=fetch(fn,Ur),Ht=new Promise(function(Qn,On){Ge.signal.addEventListener(function(){var ci=new Error("The operation was aborted.");ci.name="AbortError",On(ci)})}),Ar.label=2;case 2:return Ar.trys.push([2,5,,6]),[4,Promise.race([dn,Ht])];case 3:return Ar.sent(),[4,dn];case 4:return wn=Ar.sent(),[3,6];case 5:throw rn=Ar.sent(),Kt="fetch-client-network","AbortError"===rn.name&&(Kt="fetch-timeout"),et.create(Kt,{originalErrorMessage:rn.message});case 6:if(kn=wn.status,tr=wn.headers.get("ETag")||void 0,200!==wn.status)return[3,11];jn=void 0,Ar.label=7;case 7:return Ar.trys.push([7,9,,10]),[4,wn.json()];case 8:return jn=Ar.sent(),[3,10];case 9:throw ii=Ar.sent(),et.create("fetch-client-parse",{originalErrorMessage:ii.message});case 10:kr=jn.entries,ir=jn.state,Ar.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===ir?kn=500:"NO_CHANGE"===ir?kn=304:("NO_TEMPLATE"===ir||"EMPTY_CONFIG"===ir)&&(kr={}),304!==kn&&200!==kn)throw et.create("fetch-status",{httpStatus:kn});return[2,{status:kn,eTag:tr,config:kr}]}})})},Pe}(),bn=function(){function Pe(){this.listeners=[]}return Pe.prototype.addEventListener=function(Ge){this.listeners.push(Ge)},Pe.prototype.abort=function(){this.listeners.forEach(function(Ge){return Ge()})},Pe}(),Je=["1","true","t","yes","y","on"],Bt=function(){function Pe(Ge,wt){void 0===wt&&(wt=""),this._source=Ge,this._value=wt}return Pe.prototype.asString=function(){return this._value},Pe.prototype.asBoolean=function(){return"static"!==this._source&&Je.indexOf(this._value.toLowerCase())>=0},Pe.prototype.asNumber=function(){if("static"===this._source)return 0;var Ge=Number(this._value);return isNaN(Ge)&&(Ge=0),Ge},Pe.prototype.getSource=function(){return this._source},Pe}(),Qe=function(){function Pe(Ge,wt,en,Rt,tn){this.app=Ge,this._client=wt,this._storageCache=en,this._storage=Rt,this._logger=tn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return Pe.prototype.setLogLevel=function(Ge){switch(Ge){case"debug":this._logger.logLevel=Nt.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Nt.LogLevel.SILENT;break;default:this._logger.logLevel=Nt.LogLevel.ERROR}},Object.defineProperty(Pe.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),Pe.prototype.activate=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,en;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return Ge=Rt.sent(),en=Ge[1],(wt=Ge[0])&&wt.config&&wt.eTag&&wt.eTag!==en?[4,Promise.all([this._storageCache.setActiveConfig(wt.config),this._storage.setActiveConfigEtag(wt.eTag)])]:[2,!1];case 2:return Rt.sent(),[2,!0]}})})},Pe.prototype.ensureInitialized=function(){var Ge=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){Ge._isInitializationComplete=!0})),this._initializePromise},Pe.prototype.fetch=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,en,Rt=this;return Z.__generator(this,function(tn){switch(tn.label){case 0:Ge=new bn,setTimeout(function(){return Z.__awaiter(Rt,void 0,void 0,function(){return Z.__generator(this,function(fn){return Ge.abort(),[2]})})},this.settings.fetchTimeoutMillis),tn.label=1;case 1:return tn.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:Ge})];case 2:return tn.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return tn.sent(),[3,6];case 4:return wt=tn.sent(),en=function(Pe,Ge){return Pe instanceof re.FirebaseError&&-1!==Pe.code.indexOf("fetch-throttle")}(wt)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(en)];case 5:throw tn.sent(),wt;case 6:return[2]}})})},Pe.prototype.fetchAndActivate=function(){return Z.__awaiter(this,void 0,void 0,function(){return Z.__generator(this,function(Ge){switch(Ge.label){case 0:return[4,this.fetch()];case 1:return Ge.sent(),[2,this.activate()]}})})},Pe.prototype.getAll=function(){var Ge=this;return function(Pe,Ge){return void 0===Pe&&(Pe={}),void 0===Ge&&(Ge={}),Object.keys(Z.__assign(Z.__assign({},Pe),Ge))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(wt,en){return wt[en]=Ge.getValue(en),wt},{})},Pe.prototype.getBoolean=function(Ge){return this.getValue(Ge).asBoolean()},Pe.prototype.getNumber=function(Ge){return this.getValue(Ge).asNumber()},Pe.prototype.getString=function(Ge){return this.getValue(Ge).asString()},Pe.prototype.getValue=function(Ge){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+Ge+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var wt=this._storageCache.getActiveConfig();return wt&&void 0!==wt[Ge]?new Bt("remote",wt[Ge]):this.defaultConfig&&void 0!==this.defaultConfig[Ge]?new Bt("default",String(this.defaultConfig[Ge])):(this._logger.debug('Returning static value for key "'+Ge+'". Define a default or remote value if this is unintentional.'),new Bt("static"))},Pe}();function A(Pe,Ge){var wt=Pe.target.error||void 0;return et.create(Ge,{originalErrorMessage:wt&&wt.message})}var M="app_namespace_store",R=function(){function Pe(Ge,wt,en,Rt){void 0===Rt&&(Rt=new Promise(function(Pe,Ge){var wt=indexedDB.open("firebase_remote_config",1);wt.onerror=function(en){Ge(A(en,"storage-open"))},wt.onsuccess=function(en){Pe(en.target.result)},wt.onupgradeneeded=function(en){var Rt=en.target.result;switch(en.oldVersion){case 0:Rt.createObjectStore(M,{keyPath:"compositeKey"})}}})),this.appId=Ge,this.appName=wt,this.namespace=en,this.openDbPromise=Rt}return Pe.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},Pe.prototype.setLastFetchStatus=function(Ge){return this.set("last_fetch_status",Ge)},Pe.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},Pe.prototype.setLastSuccessfulFetchTimestampMillis=function(Ge){return this.set("last_successful_fetch_timestamp_millis",Ge)},Pe.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},Pe.prototype.setLastSuccessfulFetchResponse=function(Ge){return this.set("last_successful_fetch_response",Ge)},Pe.prototype.getActiveConfig=function(){return this.get("active_config")},Pe.prototype.setActiveConfig=function(Ge){return this.set("active_config",Ge)},Pe.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},Pe.prototype.setActiveConfigEtag=function(Ge){return this.set("active_config_etag",Ge)},Pe.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},Pe.prototype.setThrottleMetadata=function(Ge){return this.set("throttle_metadata",Ge)},Pe.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},Pe.prototype.get=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,en=this;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,this.openDbPromise];case 1:return wt=Rt.sent(),[2,new Promise(function(tn,fn){var Bn=wt.transaction([M],"readonly").objectStore(M),Ur=en.createCompositeKey(Ge);try{var dn=Bn.get(Ur);dn.onerror=function(Ht){fn(A(Ht,"storage-get"))},dn.onsuccess=function(Ht){var wn=Ht.target.result;tn(wn?wn.value:void 0)}}catch(Ht){fn(et.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})]}})})},Pe.prototype.set=function(Ge,wt){return Z.__awaiter(this,void 0,void 0,function(){var en,Rt=this;return Z.__generator(this,function(tn){switch(tn.label){case 0:return[4,this.openDbPromise];case 1:return en=tn.sent(),[2,new Promise(function(fn,ct){var Ur=en.transaction([M],"readwrite").objectStore(M),dn=Rt.createCompositeKey(Ge);try{var Ht=Ur.put({compositeKey:dn,value:wt});Ht.onerror=function(wn){ct(A(wn,"storage-set"))},Ht.onsuccess=function(){fn()}}catch(wn){ct(et.create("storage-set",{originalErrorMessage:wn&&wn.message}))}})]}})})},Pe.prototype.delete=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt,en=this;return Z.__generator(this,function(Rt){switch(Rt.label){case 0:return[4,this.openDbPromise];case 1:return wt=Rt.sent(),[2,new Promise(function(tn,fn){var Bn=wt.transaction([M],"readwrite").objectStore(M),Ur=en.createCompositeKey(Ge);try{var dn=Bn.delete(Ur);dn.onerror=function(Ht){fn(A(Ht,"storage-delete"))},dn.onsuccess=function(){tn()}}catch(Ht){fn(et.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})]}})})},Pe.prototype.createCompositeKey=function(Ge){return[this.appId,this.appName,this.namespace,Ge].join()},Pe}(),K=function(){function Pe(Ge){this.storage=Ge}return Pe.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},Pe.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},Pe.prototype.getActiveConfig=function(){return this.activeConfig},Pe.prototype.loadFromStorage=function(){return Z.__awaiter(this,void 0,void 0,function(){var Ge,wt,en,Rt,tn,fn;return Z.__generator(this,function(ct){switch(ct.label){case 0:return Ge=this.storage.getLastFetchStatus(),wt=this.storage.getLastSuccessfulFetchTimestampMillis(),en=this.storage.getActiveConfig(),[4,Ge];case 1:return(Rt=ct.sent())&&(this.lastFetchStatus=Rt),[4,wt];case 2:return(tn=ct.sent())&&(this.lastSuccessfulFetchTimestampMillis=tn),[4,en];case 3:return(fn=ct.sent())&&(this.activeConfig=fn),[2]}})})},Pe.prototype.setLastFetchStatus=function(Ge){return this.lastFetchStatus=Ge,this.storage.setLastFetchStatus(Ge)},Pe.prototype.setLastSuccessfulFetchTimestampMillis=function(Ge){return this.lastSuccessfulFetchTimestampMillis=Ge,this.storage.setLastSuccessfulFetchTimestampMillis(Ge)},Pe.prototype.setActiveConfig=function(Ge){return this.activeConfig=Ge,this.storage.setActiveConfig(Ge)},Pe}();function le(Pe,Ge){return new Promise(function(wt,en){var Rt=Math.max(Ge-Date.now(),0),tn=setTimeout(wt,Rt);Pe.addEventListener(function(){clearTimeout(tn),en(et.create("fetch-throttle",{throttleEndTimeMillis:Ge}))})})}var se=function(){function Pe(Ge,wt){this.client=Ge,this.storage=wt}return Pe.prototype.fetch=function(Ge){return Z.__awaiter(this,void 0,void 0,function(){var wt;return Z.__generator(this,function(en){switch(en.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return wt=en.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(Ge,wt)]}})})},Pe.prototype.attemptFetch=function(Ge,wt){var en=wt.throttleEndTimeMillis,Rt=wt.backoffCount;return Z.__awaiter(this,void 0,void 0,function(){var tn,fn,ct;return Z.__generator(this,function(Bn){switch(Bn.label){case 0:return[4,le(Ge.signal,en)];case 1:Bn.sent(),Bn.label=2;case 2:return Bn.trys.push([2,5,,7]),[4,this.client.fetch(Ge)];case 3:return tn=Bn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return Bn.sent(),[2,tn];case 5:if(!function(Pe){if(!(Pe instanceof re.FirebaseError))return!1;var Ge=Number(Pe.httpStatus);return 429===Ge||500===Ge||503===Ge||504===Ge}(fn=Bn.sent()))throw fn;return ct={throttleEndTimeMillis:Date.now()+re.calculateBackoffMillis(Rt),backoffCount:Rt+1},[4,this.storage.setThrottleMetadata(ct)];case 6:return Bn.sent(),[2,this.attemptFetch(Ge,ct)];case 7:return[2]}})})},Pe}(),Ve="@firebase/remote-config";function xe(Pe){Pe.INTERNAL.registerComponent(new rt.Component("remoteConfig",function(wt,en){var Rt=wt.getProvider("app").getImmediate(),tn=wt.getProvider("installations").getImmediate();if("undefined"==typeof window)throw et.create("registration-window");var fn=Rt.options,ct=fn.projectId,Bn=fn.apiKey,Ur=fn.appId;if(!ct)throw et.create("registration-project-id");if(!Bn)throw et.create("registration-api-key");if(!Ur)throw et.create("registration-app-id");var dn=new R(Ur,Rt.name,en=en||"firebase"),Ht=new K(dn),wn=new Nt.Logger(Ve);wn.logLevel=Nt.LogLevel.ERROR;var rn=new ft(tn,Pe.SDK_VERSION,en,ct,Bn,Ur),Kt=new se(rn,dn),kn=new Cn(Kt,dn,Ht,wn),tr=new Qe(Rt,kn,Ht,dn,wn);return tr.ensureInitialized(),tr},"PUBLIC").setMultipleInstances(!0)),Pe.registerVersion(Ve,"0.1.28")}xe(Lt.default),bt.registerRemoteConfig=xe},35:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{registerStorage:()=>Yr});var te=Ct(279);function be(B,V,X,pe){return new(X||(X=Promise))(function(me,$e){function gt(Vt){try{kt(pe.next(Vt))}catch(Kn){$e(Kn)}}function yt(Vt){try{kt(pe.throw(Vt))}catch(Kn){$e(Kn)}}function kt(Vt){Vt.done?me(Vt.value):function(me){return me instanceof X?me:new X(function($e){$e(me)})}(Vt.value).then(gt,yt)}kt((pe=pe.apply(B,V||[])).next())})}function Y(B,V){var pe,Ce,me,$e,X={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return $e={next:gt(0),throw:gt(1),return:gt(2)},"function"==typeof Symbol&&($e[Symbol.iterator]=function(){return this}),$e;function gt(kt){return function(Vt){return function(kt){if(pe)throw new TypeError("Generator is already executing.");for(;X;)try{if(pe=1,Ce&&(me=2&kt[0]?Ce.return:kt[0]?Ce.throw||((me=Ce.return)&&me.call(Ce),0):Ce.next)&&!(me=me.call(Ce,kt[1])).done)return me;switch(Ce=0,me&&(kt=[2&kt[0],me.value]),kt[0]){case 0:case 1:me=kt;break;case 4:return X.label++,{value:kt[1],done:!1};case 5:X.label++,Ce=kt[1],kt=[0];continue;case 7:kt=X.ops.pop(),X.trys.pop();continue;default:if(!(me=(me=X.trys).length>0&&me[me.length-1])&&(6===kt[0]||2===kt[0])){X=0;continue}if(3===kt[0]&&(!me||kt[1]>me[0]&&kt[1]<me[3])){X.label=kt[1];break}if(6===kt[0]&&X.label<me[1]){X.label=me[1],me=kt;break}if(me&&X.label<me[2]){X.label=me[2],X.ops.push(kt);break}me[2]&&X.ops.pop(),X.trys.pop();continue}kt=V.call(B,X)}catch(Vt){kt=[6,Vt],Ce=0}finally{pe=me=0}if(5&kt[0])throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}([kt,Vt])}}}function Pt(){for(var B=0,V=0,X=arguments.length;V<X;V++)B+=arguments[V].length;var pe=Array(B),Ce=0;for(V=0;V<X;V++)for(var me=arguments[V],$e=0,gt=me.length;$e<gt;$e++,Ce++)pe[Ce]=me[$e];return pe}var M=Ct(100),I="firebasestorage.googleapis.com",K=function(){function B(V,X){this.code_=Tt(V),this.message_="Firebase Storage: "+X,this.serverResponse_=null,this.name_="FirebaseError"}return B.prototype.codeProp=function(){return this.code},B.prototype.codeEquals=function(V){return Tt(V)===this.codeProp()},B.prototype.serverResponseProp=function(){return this.serverResponse_},B.prototype.setServerResponseProp=function(V){this.serverResponse_=V},Object.defineProperty(B.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),B}();function Tt(B){return"storage/"+B}function se(){return new K("unknown","An unknown error occurred, please check the error payload for server response.")}function wt(){return new K("canceled","User canceled the upload/download.")}function tn(){return new K("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ct(){return new K("no-download-url","The given file does not have any download URLs.")}function Bn(B,V,X){return new K("invalid-argument","Invalid argument in `"+V+"` at index "+B+": "+X)}function dn(){return new K("app-deleted","The Firebase app was deleted.")}function wn(B,V){return new K("invalid-format","String does not match format '"+B+"': "+V)}function rn(B){throw new K("internal-error","Internal error: "+B)}var Kt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function kn(B){switch(B){case Kt.RAW:case Kt.BASE64:case Kt.BASE64URL:case Kt.DATA_URL:return;default:throw"Expected one of the event types: ["+Kt.RAW+", "+Kt.BASE64+", "+Kt.BASE64URL+", "+Kt.DATA_URL+"]."}}var tr=function(V,X){this.data=V,this.contentType=X||null};function kr(B,V){switch(B){case Kt.RAW:return new tr(ir(V));case Kt.BASE64:case Kt.BASE64URL:return new tr(ii(B,V));case Kt.DATA_URL:return new tr(function(B){var V=new Ar(B);return V.base64?ii(Kt.BASE64,V.rest):function(B){var V;try{V=decodeURIComponent(B)}catch(X){throw wn(Kt.DATA_URL,"Malformed data URL.")}return ir(V)}(V.rest)}(V),function(B){return new Ar(B).contentType}(V))}throw se()}function ir(B){for(var V=[],X=0;X<B.length;X++){var pe=B.charCodeAt(X);if(pe<=127)V.push(pe);else if(pe<=2047)V.push(192|pe>>6,128|63&pe);else if(55296==(64512&pe))if(X<B.length-1&&56320==(64512&B.charCodeAt(X+1))){var me=pe,$e=B.charCodeAt(++X);V.push(240|(pe=65536|(1023&me)<<10|1023&$e)>>18,128|pe>>12&63,128|pe>>6&63,128|63&pe)}else V.push(239,191,189);else 56320==(64512&pe)?V.push(239,191,189):V.push(224|pe>>12,128|pe>>6&63,128|63&pe)}return new Uint8Array(V)}function ii(B,V){switch(B){case Kt.BASE64:var X=-1!==V.indexOf("-"),pe=-1!==V.indexOf("_");if(X||pe)throw wn(B,"Invalid character '"+(X?"-":"_")+"' found: is it base64url encoded?");break;case Kt.BASE64URL:var me=-1!==V.indexOf("+"),$e=-1!==V.indexOf("/");if(me||$e)throw wn(B,"Invalid character '"+(me?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/")}var gt;try{gt=atob(V)}catch(Vt){throw wn(B,"Invalid character found")}for(var yt=new Uint8Array(gt.length),kt=0;kt<gt.length;kt++)yt[kt]=gt.charCodeAt(kt);return yt}var Ar=function(V){this.base64=!1,this.contentType=null;var X=V.match(/^data:([^,]+)?,/);if(null===X)throw wn(Kt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var pe=X[1]||null;null!=pe&&(this.base64=function(B,V){return B.length>=V.length&&B.substring(B.length-V.length)===V}(pe,";base64"),this.contentType=this.base64?pe.substring(0,pe.length-";base64".length):pe),this.rest=V.substring(V.indexOf(",")+1)},je={STATE_CHANGED:"state_changed"},qe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ye(B){switch(B){case"running":case"pausing":case"canceling":return qe.RUNNING;case"paused":return qe.PAUSED;case"success":return qe.SUCCESS;case"canceled":return qe.CANCELED;case"error":default:return qe.ERROR}}function Ue(B){return null!=B}function Wt(B){return void 0!==B}function zt(B){return"function"==typeof B}function pn(B){return"object"==typeof B}function on(B){return pn(B)&&null!==B}function wr(B){return"string"==typeof B||B instanceof String}function Xn(B){return Cr(B)&&Number.isInteger(B)}function Cr(B){return"number"==typeof B||B instanceof Number}function sn(B){return hi()&&B instanceof Blob}function hi(){return"undefined"!=typeof Blob}var nn=(()=>{return(B=nn||(nn={}))[B.NO_ERROR=0]="NO_ERROR",B[B.NETWORK_ERROR=1]="NETWORK_ERROR",B[B.ABORT=2]="ABORT",nn;var B})(),Sr=function(){function B(){var V=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=nn.NO_ERROR,this.sendPromise_=new Promise(function(X){V.xhr_.addEventListener("abort",function(){V.errorCode_=nn.ABORT,X(V)}),V.xhr_.addEventListener("error",function(){V.errorCode_=nn.NETWORK_ERROR,X(V)}),V.xhr_.addEventListener("load",function(){X(V)})})}return B.prototype.send=function(V,X,pe,Ce){if(this.sent_)throw rn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(X,V,!0),Ue(Ce))for(var me in Ce)Ce.hasOwnProperty(me)&&this.xhr_.setRequestHeader(me,Ce[me].toString());return Ue(pe)?this.xhr_.send(pe):this.xhr_.send(),this.sendPromise_},B.prototype.getErrorCode=function(){if(!this.sent_)throw rn("cannot .getErrorCode() before sending");return this.errorCode_},B.prototype.getStatus=function(){if(!this.sent_)throw rn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(V){return-1}},B.prototype.getResponseText=function(){if(!this.sent_)throw rn("cannot .getResponseText() before sending");return this.xhr_.responseText},B.prototype.abort=function(){this.xhr_.abort()},B.prototype.getResponseHeader=function(V){return this.xhr_.getResponseHeader(V)},B.prototype.addUploadProgressListener=function(V){Ue(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",V)},B.prototype.removeUploadProgressListener=function(V){Ue(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",V)},B}(),co=function(){function B(){}return B.prototype.createXhrIo=function(){return new Sr},B}();function Fn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function an(){for(var B=[],V=0;V<arguments.length;V++)B[V]=arguments[V];var X=Fn();if(void 0!==X){for(var pe=new X,Ce=0;Ce<B.length;Ce++)pe.append(B[Ce]);return pe.getBlob()}if(hi())return new Blob(B);throw Error("This browser doesn't seem to support creating Blobs")}var _e=function(){function B(V,X){var pe=0,Ce="";sn(V)?(this.data_=V,pe=V.size,Ce=V.type):V instanceof ArrayBuffer?(X?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),pe=this.data_.length):V instanceof Uint8Array&&(X?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),pe=V.length),this.size_=pe,this.type_=Ce}return B.prototype.size=function(){return this.size_},B.prototype.type=function(){return this.type_},B.prototype.slice=function(V,X){if(sn(this.data_)){var Ce=function(B,V,X){return B.webkitSlice?B.webkitSlice(V,X):B.mozSlice?B.mozSlice(V,X):B.slice?B.slice(V,X):null}(this.data_,V,X);return null===Ce?null:new B(Ce)}return new B(new Uint8Array(this.data_.buffer,V,X-V),!0)},B.getBlob=function(){for(var V=[],X=0;X<arguments.length;X++)V[X]=arguments[X];if(hi()){var pe=V.map(function(yt){return yt instanceof B?yt.data_:yt});return new B(an.apply(null,pe))}var Ce=V.map(function(yt){return wr(yt)?kr(Kt.RAW,yt).data:yt.data_}),me=0;Ce.forEach(function(yt){me+=yt.byteLength});var $e=new Uint8Array(me),gt=0;return Ce.forEach(function(yt){for(var kt=0;kt<yt.length;kt++)$e[gt++]=yt[kt]}),new B($e,!0)},B.prototype.uploadData=function(){return this.data_},B}(),Be=function(){function B(V,X){this.bucket=V,this.path_=X}return Object.defineProperty(B.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),B.prototype.fullServerUrl=function(){var V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)},B.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},B.makeFromBucketSpec=function(V){var X;try{X=B.makeFromUrl(V)}catch(pe){return new B(V,"")}if(""===X.path)return X;throw function(B){return new K("invalid-default-bucket","Invalid default bucket '"+B+"'.")}(V)},B.makeFromUrl=function(V){var X=null,pe="([A-Za-z0-9.\\-_]+)",$e=new RegExp("^gs://"+pe+"(/(.*))?$","i");function yt(hr){hr.path_=decodeURIComponent(hr.path)}for(var Vt=I.replace(/[.]/g,"\\."),ti=[{regex:$e,indices:{bucket:1,path:3},postModify:function(hr){"/"===hr.path.charAt(hr.path.length-1)&&(hr.path_=hr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+Vt+"/v[A-Za-z0-9_]+/b/"+pe+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:yt},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+pe+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:yt}],cr=0;cr<ti.length;cr++){var Qr=ti[cr],Fi=Qr.regex.exec(V);if(Fi){var Br=Fi[Qr.indices.path];Br||(Br=""),X=new B(Fi[Qr.indices.bucket],Br),Qr.postModify(X);break}}if(null==X)throw function(B){return new K("invalid-url","Invalid URL '"+B+"'.")}(V);return X},B}();function Ke(B){var V;try{V=JSON.parse(B)}catch(X){return null}return function(B){return pn(B)&&!Array.isArray(B)}(V)?V:null}function Fe(B,V){var X=V.split("/").filter(function(pe){return pe.length>0}).join("/");return 0===B.length?X:B+"/"+X}function tt(B){var V=B.lastIndexOf("/",B.length-2);return-1===V?B:B.slice(V+1)}function Ot(B){return"https://"+I+"/v0"+B}function Qt(B){var V=encodeURIComponent,X="?";for(var pe in B)B.hasOwnProperty(pe)&&(X=X+(V(pe)+"=")+V(B[pe])+"&");return X.slice(0,-1)}function vn(B,V){return V}var At=function(V,X,pe,Ce){this.server=V,this.local=X||V,this.writable=!!pe,this.xform=Ce||vn},Jt=null;function ve(B,V,X){var pe=Ke(V);return null===pe?null:function(B,V,X){for(var pe={type:"file"},Ce=X.length,me=0;me<Ce;me++){var $e=X[me];pe[$e.local]=$e.xform(pe,V[$e.server])}return function(B,V){Object.defineProperty(B,"ref",{get:function(){var me=new Be(B.bucket,B.fullPath);return V.makeStorageReference(me)}})}(pe,B),pe}(B,pe,X)}function Se(B,V){for(var X={},pe=V.length,Ce=0;Ce<pe;Ce++){var me=V[Ce];me.writable&&(X[me.server]=B[me.local])}return JSON.stringify(X)}function ke(B){if(!pn(B)||!B)throw"Expected Metadata object.";for(var V in B)if(B.hasOwnProperty(V)){var X=B[V];if("customMetadata"===V){if(!pn(X))throw"Expected object for 'customMetadata' mapping."}else if(on(X))throw"Mapping for '"+V+"' cannot be an object."}}var ie="maxResults",$="pageToken",ue="prefixes";function Mt(B){if(!pn(B)||!B)throw"Expected ListOptions object.";for(var V in B)if(V===ie){if(!Xn(B[ie])||B[ie]<=0)throw"Expected maxResults to be a positive number.";if(B[ie]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(V!==$)throw"Unknown option: "+V;if(B[$]&&!wr(B[$]))throw"Expected pageToken to be string."}}var qt=function(V,X,pe,Ce){this.url=V,this.method=X,this.handler=pe,this.timeout=Ce,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function at(B){if(!B)throw se()}function gn(B,V){return function(pe,Ce){var me=ve(B,Ce,V);return at(null!==me),me}}function nr(B){return function(X,pe){var Ce;return(Ce=401===X.getStatus()?new K("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===X.getStatus()?function(B){return new K("quota-exceeded","Quota for bucket '"+B+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(B.bucket):403===X.getStatus()?function(B){return new K("unauthorized","User does not have permission to access '"+B+"'.")}(B.path):pe).setServerResponseProp(pe.serverResponseProp()),Ce}}function Zi(B){var V=nr(B);return function(pe,Ce){var me=V(pe,Ce);return 404===pe.getStatus()&&(me=function(B){return new K("object-not-found","Object '"+B+"' does not exist.")}(B.path)),me.setServerResponseProp(Ce.serverResponseProp()),me}}function Un(B,V,X){var Ce=Ot(V.fullServerUrl()),$e=B.maxOperationRetryTime,gt=new qt(Ce,"GET",gn(B,X),$e);return gt.errorHandler=Zi(V),gt}function Bs(B,V,X,pe,Ce){var me={};me.prefix=V.isRoot?"":V.path+"/",X&&X.length>0&&(me.delimiter=X),pe&&(me.pageToken=pe),Ce&&(me.maxResults=Ce);var gt=Ot(V.bucketOnlyServerUrl()),kt=B.maxOperationRetryTime,Vt=new qt(gt,"GET",function(B,V){return function(pe,Ce){var me=function(B,V,X){var pe=Ke(X);return null===pe?null:function(B,V,X){var pe={prefixes:[],items:[],nextPageToken:X.nextPageToken};if(X[ue])for(var Ce=0,me=X[ue];Ce<me.length;Ce++){var gt=me[Ce].replace(/\/$/,""),yt=B.makeStorageReference(new Be(V,gt));pe.prefixes.push(yt)}if(X.items)for(var kt=0,Vt=X.items;kt<Vt.length;kt++)yt=B.makeStorageReference(new Be(V,Vt[kt].name)),pe.items.push(yt);return pe}(B,V,pe)}(B,V,Ce);return at(null!==me),me}}(B,V.bucket),kt);return Vt.urlParams=me,Vt.errorHandler=nr(V),Vt}function eo(B,V,X){var Ce=Ot(V.fullServerUrl()),$e=B.maxOperationRetryTime,gt=new qt(Ce,"GET",function(B,V){return function(pe,Ce){var me=ve(B,Ce,V);return at(null!==me),function(B,V){var X=Ke(V);if(null===X||!wr(X.downloadTokens))return null;var pe=X.downloadTokens;if(0===pe.length)return null;var Ce=encodeURIComponent;return pe.split(",").map(function(gt){var kt=B.fullPath;return Ot("/b/"+Ce(B.bucket)+"/o/"+Ce(kt))+Qt({alt:"media",token:gt})})[0]}(me,Ce)}}(B,X),$e);return gt.errorHandler=Zi(V),gt}function Ho(B,V,X,pe){var me=Ot(V.fullServerUrl()),gt=Se(X,pe),kt=B.maxOperationRetryTime,Vt=new qt(me,"PATCH",gn(B,pe),kt);return Vt.headers={"Content-Type":"application/json; charset=utf-8"},Vt.body=gt,Vt.errorHandler=Zi(V),Vt}function No(B,V){var pe=Ot(V.fullServerUrl()),gt=new qt(pe,"DELETE",function(yt,kt){},B.maxOperationRetryTime);return gt.successCodes=[200,204],gt.errorHandler=Zi(V),gt}function xn(B,V,X){var pe=Object.assign({},X);return pe.fullPath=B.path,pe.size=V.size(),pe.contentType||(pe.contentType=function(B,V){return V&&V.type()||"application/octet-stream"}(0,V)),pe}var es=function(V,X,pe,Ce){this.current=V,this.total=X,this.finalized=!!pe,this.metadata=Ce||null};function to(B,V){var X=null;try{X=B.getResponseHeader("X-Goog-Upload-Status")}catch(Ce){at(!1)}return at(!!X&&-1!==(V||["active"]).indexOf(X)),X}var zo=function(V,X,pe){if(zt(V)||Ue(X)||Ue(pe))this.next=V,this.error=X||null,this.complete=pe||null;else{var me=V;this.next=me.next||null,this.error=me.error||null,this.complete=me.complete||null}},Fa=function(V,X,pe,Ce,me,$e){this.bytesTransferred=V,this.totalBytes=X,this.state=pe,this.metadata=Ce,this.task=me,this.ref=$e};function rr(B,V,X){for(var pe=V.length,Ce=V.length,me=0;me<V.length;me++)if(V[me].optional){pe=me;break}if(!(pe<=X.length&&X.length<=Ce))throw function(B,V,X,pe){var Ce,me;return B===V?(Ce=B,me=1===B?"argument":"arguments"):(Ce="between "+B+" and "+V,me="arguments"),new K("invalid-argument-count","Invalid argument count in `"+X+"`: Expected "+Ce+" "+me+", received "+pe+".")}(pe,Ce,B,X.length);for(me=0;me<X.length;me++)try{V[me].validator(X[me])}catch(yt){throw yt instanceof Error?Bn(me,B,yt.message):Bn(me,B,yt)}}var no=function(V,X){var pe=this;this.validator=function(Ce){pe.optional&&!Wt(Ce)||V(Ce)},this.optional=!!X};function Wi(B,V){function X(Ce){if(!wr(Ce))throw"Expected string."}var pe;return pe=B?function(B,V){return function(X){B(X),V(X)}}(X,B):X,new no(pe,V)}function js(){return new no(function(V){if(!(V instanceof Uint8Array||V instanceof ArrayBuffer||hi()&&V instanceof Blob))throw"Expected Blob or File."})}function Sn(B){return new no(ke,B)}function qo(B){return new no(Mt,B)}function da(){return new no(function(V){if(!(Cr(V)&&V>=0))throw"Expected a number 0 or greater."})}function Hi(B,V){return new no(function(pe){if(!(null===pe||Ue(pe)&&pe instanceof Object))throw"Expected an Object.";null!=B&&B(pe)},V)}function $t(B){return new no(function(X){if(null!==X&&!zt(X))throw"Expected a Function."},B)}function qn(B){return function(){for(var V=[],X=0;X<arguments.length;X++)V[X]=arguments[X];Promise.resolve().then(function(){return B.apply(void 0,V)})}}var Hs=function(){function B(V,X,pe,Ce,me,$e){var gt=this;void 0===$e&&($e=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=V,this.service_=X,this.location_=pe,this.blob_=me,this.metadata_=$e,this.mappings_=Ce,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(yt){gt.request_=null,gt.chunkMultiplier_=1,yt.codeEquals("canceled")?(gt.needToFetchStatus_=!0,gt.completeTransitions_()):(gt.error_=yt,gt.transition_("error"))},this.metadataErrorHandler_=function(yt){gt.request_=null,yt.codeEquals("canceled")?gt.completeTransitions_():(gt.error_=yt,gt.transition_("error"))},this.promise_=new Promise(function(yt,kt){gt.resolve_=yt,gt.reject_=kt,gt.start_()}),this.promise_.then(null,function(){})}return B.prototype.makeProgressCallback_=function(){var V=this,X=this.transferred_;return function(pe){return V.updateProgress_(X+pe)}},B.prototype.shouldDoResumable_=function(V){return V.size()>262144},B.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},B.prototype.resolveToken_=function(V){var X=this;this.service_.getAuthToken().then(function(pe){switch(X.state_){case"running":V(pe);break;case"canceling":X.transition_("canceled");break;case"pausing":X.transition_("paused")}})},B.prototype.createResumable_=function(){var V=this;this.resolveToken_(function(X){var pe=function(B,V,X,pe,Ce){var me=V.bucketOnlyServerUrl(),$e=xn(V,pe,Ce),gt={name:$e.fullPath},yt=Ot(me),Vt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":pe.size(),"X-Goog-Upload-Header-Content-Type":$e.contentType,"Content-Type":"application/json; charset=utf-8"},Kn=Se($e,X),ar=new qt(yt,"POST",function(yn){var Nr;to(yn);try{Nr=yn.getResponseHeader("X-Goog-Upload-URL")}catch(Ei){at(!1)}return at(wr(Nr)),Nr},B.maxUploadRetryTime);return ar.urlParams=gt,ar.headers=Vt,ar.body=Kn,ar.errorHandler=nr(V),ar}(V.service_,V.location_,V.mappings_,V.blob_,V.metadata_),Ce=V.service_.makeRequest(pe,X);V.request_=Ce,Ce.getPromise().then(function(me){V.request_=null,V.uploadUrl_=me,V.needToFetchStatus_=!1,V.completeTransitions_()},V.errorHandler_)})},B.prototype.fetchStatus_=function(){var V=this,X=this.uploadUrl_;this.resolveToken_(function(pe){var Ce=function(B,V,X,pe){var yt=new qt(X,"POST",function(kt){var Vt=to(kt,["active","final"]),Kn=null;try{Kn=kt.getResponseHeader("X-Goog-Upload-Size-Received")}catch($r){at(!1)}Kn||at(!1);var ln=Number(Kn);return at(!isNaN(ln)),new es(ln,pe.size(),"final"===Vt)},B.maxUploadRetryTime);return yt.headers={"X-Goog-Upload-Command":"query"},yt.errorHandler=nr(V),yt}(V.service_,V.location_,X,V.blob_),me=V.service_.makeRequest(Ce,pe);V.request_=me,me.getPromise().then(function($e){$e=$e,V.request_=null,V.updateProgress_($e.current),V.needToFetchStatus_=!1,$e.finalized&&(V.needToFetchMetadata_=!0),V.completeTransitions_()},V.errorHandler_)})},B.prototype.continueUpload_=function(){var V=this,X=262144*this.chunkMultiplier_,pe=new es(this.transferred_,this.blob_.size()),Ce=this.uploadUrl_;this.resolveToken_(function(me){var $e;try{$e=function(B,V,X,pe,Ce,me,$e,gt){var yt=new es(0,0);if($e?(yt.current=$e.current,yt.total=$e.total):(yt.current=0,yt.total=pe.size()),pe.size()!==yt.total)throw new K("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var kt=yt.total-yt.current,Vt=kt;Ce>0&&(Vt=Math.min(Vt,Ce));var Kn=yt.current,ar={"X-Goog-Upload-Command":Vt===kt?"upload, finalize":"upload","X-Goog-Upload-Offset":yt.current},yn=pe.slice(Kn,Kn+Vt);if(null===yn)throw tn();var cr=new qt(X,"POST",function(Qr,Fi){var ga,po=to(Qr,["active","final"]),Br=yt.current+Vt,hr=pe.size();return ga="final"===po?gn(V,me)(Qr,Fi):null,new es(Br,hr,"final"===po,ga)},V.maxUploadRetryTime);return cr.headers=ar,cr.body=yn.uploadData(),cr.progressCallback=gt||null,cr.errorHandler=nr(B),cr}(V.location_,V.service_,Ce,V.blob_,X,V.mappings_,pe,V.makeProgressCallback_())}catch(yt){return V.error_=yt,void V.transition_("error")}var gt=V.service_.makeRequest($e,me);V.request_=gt,gt.getPromise().then(function(yt){V.increaseMultiplier_(),V.request_=null,V.updateProgress_(yt.current),yt.finalized?(V.metadata_=yt.metadata,V.transition_("success")):V.completeTransitions_()},V.errorHandler_)})},B.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},B.prototype.fetchMetadata_=function(){var V=this;this.resolveToken_(function(X){var pe=Un(V.service_,V.location_,V.mappings_),Ce=V.service_.makeRequest(pe,X);V.request_=Ce,Ce.getPromise().then(function(me){V.request_=null,V.metadata_=me,V.transition_("success")},V.metadataErrorHandler_)})},B.prototype.oneShotUpload_=function(){var V=this;this.resolveToken_(function(X){var pe=function(B,V,X,pe,Ce){var me=V.bucketOnlyServerUrl(),$e={"X-Goog-Upload-Protocol":"multipart"},yt=function(){for(var cr="",Qr=0;Qr<2;Qr++)cr+=Math.random().toString().slice(2);return cr}();$e["Content-Type"]="multipart/related; boundary="+yt;var kt=xn(V,pe,Ce),Vt=Se(kt,X),$r=_e.getBlob("--"+yt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Vt+"\r\n--"+yt+"\r\nContent-Type: "+kt.contentType+"\r\n\r\n",pe,"\r\n--"+yt+"--");if(null===$r)throw tn();var ar={name:kt.fullPath},yn=Ot(me),Ei=B.maxUploadRetryTime,ti=new qt(yn,"POST",gn(B,X),Ei);return ti.urlParams=ar,ti.headers=$e,ti.body=$r.uploadData(),ti.errorHandler=nr(V),ti}(V.service_,V.location_,V.mappings_,V.blob_,V.metadata_),Ce=V.service_.makeRequest(pe,X);V.request_=Ce,Ce.getPromise().then(function(me){V.request_=null,V.metadata_=me,V.updateProgress_(V.blob_.size()),V.transition_("success")},V.errorHandler_)})},B.prototype.updateProgress_=function(V){var X=this.transferred_;this.transferred_=V,this.transferred_!==X&&this.notifyObservers_()},B.prototype.transition_=function(V){if(this.state_!==V)switch(V){case"canceling":case"pausing":this.state_=V,null!==this.request_&&this.request_.cancel();break;case"running":var X="paused"===this.state_;this.state_=V,X&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=V,this.notifyObservers_();break;case"canceled":this.error_=wt(),this.state_=V,this.notifyObservers_();break;case"error":case"success":this.state_=V,this.notifyObservers_()}},B.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(B.prototype,"snapshot",{get:function(){var V=Ye(this.state_);return new Fa(this.transferred_,this.blob_.size(),V,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),B.prototype.on=function(V,X,pe,Ce){function me(){if(V!==je.STATE_CHANGED)throw"Expected one of the event types: ["+je.STATE_CHANGED+"]."}var $e="Expected a function or an Object with one of `next`, `error`, `complete` properties.",gt=$t(!0).validator,yt=Hi(null,!0).validator;function kt(Nr){try{return void gt(Nr)}catch(ti){}try{if(yt(Nr),!(Wt(Nr.next)||Wt(Nr.error)||Wt(Nr.complete)))throw"";return}catch(ti){throw $e}}var Vt=[Wi(me),Hi(kt,!0),$t(!0),$t(!0)];rr("on",Vt,arguments);var Kn=this;function ln(Nr){return function(ti,cr,Qr){null!==Nr&&rr("on",Nr,arguments);var Fi=new zo(ti,cr,Ce);return Kn.addObserver_(Fi),function(){Kn.removeObserver_(Fi)}}}function $r(Nr){if(null===Nr)throw $e;kt(Nr)}var ar=[Hi($r),$t(!0),$t(!0)],yn=!(Wt(X)||Wt(pe)||Wt(Ce));return yn?ln(ar):ln(null)(X,pe,Ce)},B.prototype.then=function(V,X){return this.promise_.then(V,X)},B.prototype.catch=function(V){return this.then(null,V)},B.prototype.addObserver_=function(V){this.observers_.push(V),this.notifyObserver_(V)},B.prototype.removeObserver_=function(V){var X=this.observers_.indexOf(V);-1!==X&&this.observers_.splice(X,1)},B.prototype.notifyObservers_=function(){var V=this;this.finishPromise_(),this.observers_.slice().forEach(function(pe){V.notifyObserver_(pe)})},B.prototype.finishPromise_=function(){if(null!==this.resolve_){var V=!0;switch(Ye(this.state_)){case qe.SUCCESS:qn(this.resolve_.bind(null,this.snapshot))();break;case qe.CANCELED:case qe.ERROR:qn(this.reject_.bind(null,this.error_))();break;default:V=!1}V&&(this.resolve_=null,this.reject_=null)}},B.prototype.notifyObserver_=function(V){switch(Ye(this.state_)){case qe.RUNNING:case qe.PAUSED:V.next&&qn(V.next.bind(V,this.snapshot))();break;case qe.SUCCESS:V.complete&&qn(V.complete.bind(V))();break;case qe.CANCELED:case qe.ERROR:V.error&&qn(V.error.bind(V,this.error_))();break;default:V.error&&qn(V.error.bind(V,this.error_))()}},B.prototype.resume=function(){rr("resume",[],arguments);var V="paused"===this.state_||"pausing"===this.state_;return V&&this.transition_("running"),V},B.prototype.pause=function(){rr("pause",[],arguments);var V="running"===this.state_;return V&&this.transition_("pausing"),V},B.prototype.cancel=function(){rr("cancel",[],arguments);var V="running"===this.state_||"pausing"===this.state_;return V&&this.transition_("canceling"),V},B}(),Go=function(){function B(V,X){this.service=V,this.location=X instanceof Be?X:Be.makeFromUrl(X)}return B.prototype.toString=function(){return rr("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},B.prototype.newRef=function(V,X){return new B(V,X)},B.prototype.mappings=function(){return function(){if(Jt)return Jt;var B=[];B.push(new At("bucket")),B.push(new At("generation")),B.push(new At("metageneration")),B.push(new At("name","fullPath",!0));var X=new At("name");X.xform=function(me,$e){return function(B){return!wr(B)||B.length<2?B:tt(B)}($e)},B.push(X);var Ce=new At("size");return Ce.xform=function(me,$e){return Ue($e)?Number($e):$e},B.push(Ce),B.push(new At("timeCreated")),B.push(new At("updated")),B.push(new At("md5Hash",null,!0)),B.push(new At("cacheControl",null,!0)),B.push(new At("contentDisposition",null,!0)),B.push(new At("contentEncoding",null,!0)),B.push(new At("contentLanguage",null,!0)),B.push(new At("contentType",null,!0)),B.push(new At("metadata","customMetadata",!0)),Jt=B}()},B.prototype.child=function(V){rr("child",[Wi()],arguments);var X=Fe(this.location.path,V),pe=new Be(this.location.bucket,X);return this.newRef(this.service,pe)},Object.defineProperty(B.prototype,"parent",{get:function(){var V=function(B){if(0===B.length)return null;var V=B.lastIndexOf("/");return-1===V?"":B.slice(0,V)}(this.location.path);if(null===V)return null;var X=new Be(this.location.bucket,V);return this.newRef(this.service,X)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){var V=new Be(this.location.bucket,"");return this.newRef(this.service,V)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"name",{get:function(){return tt(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),B.prototype.put=function(V,X){return void 0===X&&(X=null),rr("put",[js(),Sn(!0)],arguments),this.throwIfRoot_("put"),new Hs(this,this.service,this.location,this.mappings(),new _e(V),X)},B.prototype.putString=function(V,X,pe){void 0===X&&(X=Kt.RAW),rr("putString",[Wi(),Wi(kn,!0),Sn(!0)],arguments),this.throwIfRoot_("putString");var Ce=kr(X,V),me=Object.assign({},pe);return!Ue(me.contentType)&&Ue(Ce.contentType)&&(me.contentType=Ce.contentType),new Hs(this,this.service,this.location,this.mappings(),new _e(Ce.data,!0),me)},B.prototype.delete=function(){var V=this;return rr("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(X){var pe=No(V.service,V.location);return V.service.makeRequest(pe,X).getPromise()})},B.prototype.listAll=function(){rr("listAll",[],arguments);var V={prefixes:[],items:[]};return this.listAllHelper(V).then(function(){return V})},B.prototype.listAllHelper=function(V,X){return be(this,void 0,void 0,function(){var Ce,me,$e;return Y(this,function(gt){switch(gt.label){case 0:return[4,this.list({pageToken:X})];case 1:return Ce=gt.sent(),(me=V.prefixes).push.apply(me,Ce.prefixes),($e=V.items).push.apply($e,Ce.items),null==Ce.nextPageToken?[3,3]:[4,this.listAllHelper(V,Ce.nextPageToken)];case 2:gt.sent(),gt.label=3;case 3:return[2]}})})},B.prototype.list=function(V){rr("list",[qo(!0)],arguments);var X=this;return this.service.getAuthToken().then(function(pe){var Ce=V||{},me=Bs(X.service,X.location,"/",Ce.pageToken,Ce.maxResults);return X.service.makeRequest(me,pe).getPromise()})},B.prototype.getMetadata=function(){var V=this;return rr("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(X){var pe=Un(V.service,V.location,V.mappings());return V.service.makeRequest(pe,X).getPromise()})},B.prototype.updateMetadata=function(V){var X=this;return rr("updateMetadata",[Sn()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(pe){var Ce=Ho(X.service,X.location,V,X.mappings());return X.service.makeRequest(Ce,pe).getPromise()})},B.prototype.getDownloadURL=function(){var V=this;return rr("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(X){var pe=eo(V.service,V.location,V.mappings());return V.service.makeRequest(pe,X).getPromise().then(function(Ce){if(null===Ce)throw ct();return Ce})})},B.prototype.throwIfRoot_=function(V){if(""===this.location.path)throw function(B){return new K("invalid-root-operation","The operation '"+B+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)},B}(),Wo=function(){function B(V){this.promise_=Promise.reject(V)}return B.prototype.getPromise=function(){return this.promise_},B.prototype.cancel=function(V){},B}(),Jn=function(){function B(V,X,pe,Ce,me,$e,gt,yt,kt,Vt,Kn){var ln=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=V,this.method_=X,this.headers_=pe,this.body_=Ce,this.successCodes_=me.slice(),this.additionalRetryCodes_=$e.slice(),this.callback_=gt,this.errorCallback_=yt,this.progressCallback_=Vt,this.timeout_=kt,this.pool_=Kn,this.promise_=new Promise(function($r,ar){ln.resolve_=$r,ln.reject_=ar,ln.start_()})}return B.prototype.start_=function(){var V=this;function pe(Ce,me){var $e=V.resolve_,gt=V.reject_,yt=me.xhr;if(me.wasSuccessCode)try{var kt=V.callback_(yt,yt.getResponseText());Wt(kt)?$e(kt):$e()}catch(Kn){gt(Kn)}else if(null!==yt)(Vt=se()).setServerResponseProp(yt.getResponseText()),gt(V.errorCallback_?V.errorCallback_(yt,Vt):Vt);else if(me.canceled)gt(Vt=V.appDelete_?dn():wt());else{var Vt;gt(Vt=new K("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?pe(0,new Fo(!1,null,!0)):this.backoffId_=function(B,V,X){var pe=1,Ce=null,me=!1,$e=0;function gt(){return 2===$e}var yt=!1;function kt(){for(var ar=[],yn=0;yn<arguments.length;yn++)ar[yn]=arguments[yn];yt||(yt=!0,V.apply(null,ar))}function Vt(ar){Ce=setTimeout(function(){Ce=null,B(Kn,gt())},ar)}function Kn(ar){for(var yn=[],Nr=1;Nr<arguments.length;Nr++)yn[Nr-1]=arguments[Nr];if(!yt){if(ar)return void kt.call.apply(kt,Pt([null,ar],yn));var ti;if(gt()||me)return void kt.call.apply(kt,Pt([null,ar],yn));pe<64&&(pe*=2),1===$e?($e=2,ti=0):ti=1e3*(pe+Math.random()),Vt(ti)}}var ln=!1;function $r(ar){ln||(ln=!0,!yt&&(null!==Ce?(ar||($e=2),clearTimeout(Ce),Vt(0)):ar||($e=1)))}return Vt(0),setTimeout(function(){me=!0,$r(!0)},X),$r}(function(Ce,me){if(me)Ce(!1,new Fo(!1,null,!0));else{var $e=V.pool_.createXhrIo();V.pendingXhr_=$e,null!==V.progressCallback_&&$e.addUploadProgressListener(gt),$e.send(V.url_,V.method_,V.body_,V.headers_).then(function(yt){null!==V.progressCallback_&&yt.removeUploadProgressListener(gt),V.pendingXhr_=null;var kt=(yt=yt).getErrorCode()===nn.NO_ERROR,Vt=yt.getStatus();if(kt&&!V.isRetryStatusCode_(Vt)){var ln=-1!==V.successCodes_.indexOf(Vt);Ce(!0,new Fo(ln,yt))}else{var Kn=yt.getErrorCode()===nn.ABORT;Ce(!1,new Fo(!1,null,Kn))}})}function gt(yt){null!==V.progressCallback_&&V.progressCallback_(yt.loaded,yt.lengthComputable?yt.total:-1)}},pe,this.timeout_)},B.prototype.getPromise=function(){return this.promise_},B.prototype.cancel=function(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function(B){B(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},B.prototype.isRetryStatusCode_=function(V){var X=V>=500&&V<600,Ce=-1!==[408,429].indexOf(V),me=-1!==this.additionalRetryCodes_.indexOf(V);return X||Ce||me},B}(),Fo=function(V,X,pe){this.wasSuccessCode=V,this.xhr=X,this.canceled=!!pe};var qs=function(){function B(V,X,pe,Ce){var me;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=V,this.authProvider_=X,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=pe,this.bucket_=null!=Ce?Be.makeFromBucketSpec(Ce):B.extractBucket_(null===(me=this.app_)||void 0===me?void 0:me.options),this.internals_=new Ln(this)}return B.extractBucket_=function(V){var X=null==V?void 0:V.storageBucket;return null==X?null:Be.makeFromBucketSpec(X)},B.prototype.getAuthToken=function(){return be(this,void 0,void 0,function(){var V,X;return Y(this,function(pe){switch(pe.label){case 0:return(V=this.authProvider_.getImmediate({optional:!0}))?[4,V.getToken()]:[3,2];case 1:if(null!==(X=pe.sent()))return[2,X.accessToken];pe.label=2;case 2:return[2,null]}})})},B.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(V){return V.cancel()}),this.requests_.clear()},B.prototype.makeStorageReference=function(V){return new Go(this,V)},B.prototype.makeRequest=function(V,X){var pe=this;if(this.deleted_)return new Wo(dn());var Ce=function(B,V,X,pe){var Ce=Qt(B.urlParams),me=B.url+Ce,$e=Object.assign({},B.headers);return function(B,V){V&&(B["X-Firebase-GMPID"]=V)}($e,V),function(B,V){null!==V&&V.length>0&&(B.Authorization="Firebase "+V)}($e,X),function(B){B["X-Firebase-Storage-Version"]="webjs/"+(void 0!==te.default?te.default.SDK_VERSION:"AppManager")}($e),new Jn(me,B.method,$e,B.body,B.successCodes,B.additionalRetryCodes,B.handler,B.errorHandler,B.timeout,B.progressCallback,pe)}(V,this.appId_,X,this.pool_);return this.requests_.add(Ce),Ce.getPromise().then(function(){return pe.requests_.delete(Ce)},function(){return pe.requests_.delete(Ce)}),Ce},B.prototype.ref=function(V){function X(Ce){if("string"!=typeof Ce)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(Ce))throw"Expected child path but got a URL, use refFromURL instead."}if(rr("ref",[Wi(X,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var pe=new Go(this,this.bucket_);return null!=V?pe.child(V):pe},B.prototype.refFromURL=function(V){function X(pe){if("string"!=typeof pe)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(pe))throw"Expected full URL but got a child path, use ref instead.";try{Be.makeFromUrl(pe)}catch(Ce){throw"Expected valid full URL but got an invalid one."}}return rr("refFromURL",[Wi(X,!1)],arguments),new Go(this,V)},Object.defineProperty(B.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),B.prototype.setMaxUploadRetryTime=function(V){rr("setMaxUploadRetryTime",[da()],arguments),this.maxUploadRetryTime_=V},Object.defineProperty(B.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),B.prototype.setMaxOperationRetryTime=function(V){rr("setMaxOperationRetryTime",[da()],arguments),this.maxOperationRetryTime_=V},Object.defineProperty(B.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),B}(),Ln=function(){function B(V){this.service_=V}return B.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},B}();function Ni(B,V){var X=B.getProvider("app").getImmediate(),pe=B.getProvider("auth-internal");return new qs(X,pe,new co,V)}function Yr(B){var V={TaskState:qe,TaskEvent:je,StringFormat:Kt,Storage:qs,Reference:Go};B.INTERNAL.registerComponent(new M.Component("storage",Ni,"PUBLIC").setServiceProps(V).setMultipleInstances(!0)),B.registerVersion("@firebase/storage","0.3.43")}Yr(te.default)},704:(li,bt,Ct)=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var te=Ct(57),Z={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},re=function(je,ge){if(!je)throw Nt(ge)},Nt=function(je){return new Error("Firebase Database ("+Z.SDK_VERSION+") INTERNAL ASSERT FAILED: "+je)},rt=function(je){for(var ge=[],qe=0,Ye=0;Ye<je.length;Ye++){var Ue=je.charCodeAt(Ye);Ue<128?ge[qe++]=Ue:Ue<2048?(ge[qe++]=Ue>>6|192,ge[qe++]=63&Ue|128):55296==(64512&Ue)&&Ye+1<je.length&&56320==(64512&je.charCodeAt(Ye+1))?(Ue=65536+((1023&Ue)<<10)+(1023&je.charCodeAt(++Ye)),ge[qe++]=Ue>>18|240,ge[qe++]=Ue>>12&63|128,ge[qe++]=Ue>>6&63|128,ge[qe++]=63&Ue|128):(ge[qe++]=Ue>>12|224,ge[qe++]=Ue>>6&63|128,ge[qe++]=63&Ue|128)}return ge},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(je,ge){if(!Array.isArray(je))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var qe=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ye=[],Ue=0;Ue<je.length;Ue+=3){var Wt=je[Ue],zt=Ue+1<je.length,pn=zt?je[Ue+1]:0,on=Ue+2<je.length,Dn=on?je[Ue+2]:0,Cr=(15&pn)<<2|Dn>>6,sn=63&Dn;on||(sn=64,zt||(Cr=64)),Ye.push(qe[Wt>>2],qe[(3&Wt)<<4|pn>>4],qe[Cr],qe[sn])}return Ye.join("")},encodeString:function(je,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(je):this.encodeByteArray(rt(je),ge)},decodeString:function(je,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(je):function(je){for(var ge=[],qe=0,Ye=0;qe<je.length;){var Ue=je[qe++];if(Ue<128)ge[Ye++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){var Wt=je[qe++];ge[Ye++]=String.fromCharCode((31&Ue)<<6|63&Wt)}else if(Ue>239&&Ue<365){var on=((7&Ue)<<18|(63&(Wt=je[qe++]))<<12|(63&(zt=je[qe++]))<<6|63&je[qe++])-65536;ge[Ye++]=String.fromCharCode(55296+(on>>10)),ge[Ye++]=String.fromCharCode(56320+(1023&on))}else{Wt=je[qe++];var zt=je[qe++];ge[Ye++]=String.fromCharCode((15&Ue)<<12|(63&Wt)<<6|63&zt)}}return ge.join("")}(this.decodeStringToByteArray(je,ge))},decodeStringToByteArray:function(je,ge){this.init_();for(var qe=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Ye=[],Ue=0;Ue<je.length;){var Wt=qe[je.charAt(Ue++)],pn=Ue<je.length?qe[je.charAt(Ue)]:0,Dn=++Ue<je.length?qe[je.charAt(Ue)]:64,Xn=++Ue<je.length?qe[je.charAt(Ue)]:64;if(++Ue,null==Wt||null==pn||null==Dn||null==Xn)throw Error();Ye.push(Wt<<2|pn>>4),64!==Dn&&(Ye.push(pn<<4&240|Dn>>2),64!==Xn&&Ye.push(Dn<<6&192|Xn))}return Ye},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var je=0;je<this.ENCODED_VALS.length;je++)this.byteToCharMap_[je]=this.ENCODED_VALS.charAt(je),this.charToByteMap_[this.byteToCharMap_[je]]=je,this.byteToCharMapWebSafe_[je]=this.ENCODED_VALS_WEBSAFE.charAt(je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[je]]=je,je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(je)]=je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(je)]=je)}}},be=function(je){try{return Lt.decodeString(je,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function et(je,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===je&&(je={});break;case Array:je=[];break;default:return ge}for(var Ye in ge)!ge.hasOwnProperty(Ye)||(je[Ye]=et(je[Ye],ge[Ye]));return je}var it=function(){function je(){var ge=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(qe,Ye){ge.resolve=qe,ge.reject=Ye})}return je.prototype.wrapCallback=function(ge){var qe=this;return function(Ye,Ue){Ye?qe.reject(Ye):qe.resolve(Ue),"function"==typeof ge&&(qe.promise.catch(function(){}),1===ge.length?ge(Ye):ge(Ye,Ue))}},je}();function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(je){return!1}}var F=function(je){function ge(qe,Ye){var Ue=je.call(this,Ye)||this;return Ue.code=qe,Ue.name="FirebaseError",Object.setPrototypeOf(Ue,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ue,H.prototype.create),Ue}return te.__extends(ge,je),ge}(Error),H=function(){function je(ge,qe,Ye){this.service=ge,this.serviceName=qe,this.errors=Ye}return je.prototype.create=function(ge){for(var qe=[],Ye=1;Ye<arguments.length;Ye++)qe[Ye-1]=arguments[Ye];for(var Ue=qe[0]||{},Wt=this.service+"/"+ge,zt=this.errors[ge],pn=zt?R(zt,Ue):"Error",on=this.serviceName+": "+pn+" ("+Wt+").",Dn=new F(Wt,on),wr=0,Xn=Object.keys(Ue);wr<Xn.length;wr++){var Cr=Xn[wr];"_"!==Cr.slice(-1)&&(Cr in Dn&&console.warn('Overwriting FirebaseError base field "'+Cr+'" can cause unexpected behavior.'),Dn[Cr]=Ue[Cr])}return Dn},je}();function R(je,ge){return je.replace(K,function(qe,Ye){var Ue=ge[Ye];return null!=Ue?String(Ue):"<"+Ye+"?>"})}var K=/\{\$([^}]+)}/g;function le(je){return JSON.parse(je)}var se=function(je){var ge={},qe={},Ye={},Ue="";try{var Wt=je.split(".");ge=le(be(Wt[0])||""),qe=le(be(Wt[1])||""),Ue=Wt[2],Ye=qe.d||{},delete qe.d}catch(zt){}return{header:ge,claims:qe,data:Ye,signature:Ue}},ct=function(){function je(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ge=1;ge<this.blockSize;++ge)this.pad_[ge]=0;this.reset()}return je.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},je.prototype.compress_=function(ge,qe){qe||(qe=0);var Ye=this.W_;if("string"==typeof ge)for(var Ue=0;Ue<16;Ue++)Ye[Ue]=ge.charCodeAt(qe)<<24|ge.charCodeAt(qe+1)<<16|ge.charCodeAt(qe+2)<<8|ge.charCodeAt(qe+3),qe+=4;else for(Ue=0;Ue<16;Ue++)Ye[Ue]=ge[qe]<<24|ge[qe+1]<<16|ge[qe+2]<<8|ge[qe+3],qe+=4;for(Ue=16;Ue<80;Ue++)Ye[Ue]=4294967295&((Wt=Ye[Ue-3]^Ye[Ue-8]^Ye[Ue-14]^Ye[Ue-16])<<1|Wt>>>31);var Xn,Cr,zt=this.chain_[0],pn=this.chain_[1],on=this.chain_[2],Dn=this.chain_[3],wr=this.chain_[4];for(Ue=0;Ue<80;Ue++){Ue<40?Ue<20?(Xn=Dn^pn&(on^Dn),Cr=1518500249):(Xn=pn^on^Dn,Cr=1859775393):Ue<60?(Xn=pn&on|Dn&(pn|on),Cr=2400959708):(Xn=pn^on^Dn,Cr=3395469782);var Wt=(zt<<5|zt>>>27)+Xn+wr+Cr+Ye[Ue]&4294967295;wr=Dn,Dn=on,on=4294967295&(pn<<30|pn>>>2),pn=zt,zt=Wt}this.chain_[0]=this.chain_[0]+zt&4294967295,this.chain_[1]=this.chain_[1]+pn&4294967295,this.chain_[2]=this.chain_[2]+on&4294967295,this.chain_[3]=this.chain_[3]+Dn&4294967295,this.chain_[4]=this.chain_[4]+wr&4294967295},je.prototype.update=function(ge,qe){if(null!=ge){void 0===qe&&(qe=ge.length);for(var Ye=qe-this.blockSize,Ue=0,Wt=this.buf_,zt=this.inbuf_;Ue<qe;){if(0===zt)for(;Ue<=Ye;)this.compress_(ge,Ue),Ue+=this.blockSize;if("string"==typeof ge){for(;Ue<qe;)if(Wt[zt]=ge.charCodeAt(Ue),++Ue,++zt===this.blockSize){this.compress_(Wt),zt=0;break}}else for(;Ue<qe;)if(Wt[zt]=ge[Ue],++Ue,++zt===this.blockSize){this.compress_(Wt),zt=0;break}}this.inbuf_=zt,this.total_+=qe}},je.prototype.digest=function(){var ge=[],qe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ye=this.blockSize-1;Ye>=56;Ye--)this.buf_[Ye]=255&qe,qe/=256;this.compress_(this.buf_);var Ue=0;for(Ye=0;Ye<5;Ye++)for(var Wt=24;Wt>=0;Wt-=8)ge[Ue]=this.chain_[Ye]>>Wt&255,++Ue;return ge},je}(),Ur=function(){function je(ge,qe){var Ye=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(function(){ge(Ye)}).catch(function(Ue){Ye.error(Ue)})}return je.prototype.next=function(ge){this.forEachObserver(function(qe){qe.next(ge)})},je.prototype.error=function(ge){this.forEachObserver(function(qe){qe.error(ge)}),this.close(ge)},je.prototype.complete=function(){this.forEachObserver(function(ge){ge.complete()}),this.close()},je.prototype.subscribe=function(ge,qe,Ye){var Wt,Ue=this;if(void 0===ge&&void 0===qe&&void 0===Ye)throw new Error("Missing Observer.");void 0===(Wt=function(je,ge){if("object"!=typeof je||null===je)return!1;for(var qe=0,Ye=["next","error","complete"];qe<Ye.length;qe++){var Ue=Ye[qe];if(Ue in je&&"function"==typeof je[Ue])return!0}return!1}(ge)?ge:{next:ge,error:qe,complete:Ye}).next&&(Wt.next=wn),void 0===Wt.error&&(Wt.error=wn),void 0===Wt.complete&&(Wt.complete=wn);var zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ue.finalError?Wt.error(Ue.finalError):Wt.complete()}catch(pn){}}),this.observers.push(Wt),zt},je.prototype.unsubscribeOne=function(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},je.prototype.forEachObserver=function(ge){if(!this.finalized)for(var qe=0;qe<this.observers.length;qe++)this.sendOne(qe,ge)},je.prototype.sendOne=function(ge,qe){var Ye=this;this.task.then(function(){if(void 0!==Ye.observers&&void 0!==Ye.observers[ge])try{qe(Ye.observers[ge])}catch(Ue){"undefined"!=typeof console&&console.error&&console.error(Ue)}})},je.prototype.close=function(ge){var qe=this;this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(function(){qe.observers=void 0,qe.onNoObservers=void 0}))},je}();function wn(){}function Kt(je,ge,qe){var Ye="";switch(ge){case 1:Ye=qe?"first":"First";break;case 2:Ye=qe?"second":"Second";break;case 3:Ye=qe?"third":"Third";break;case 4:Ye=qe?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return je+" failed: "+(Ye+" argument ")}bt.CONSTANTS=Z,bt.Deferred=it,bt.ErrorFactory=H,bt.FirebaseError=F,bt.MAX_VALUE_MILLIS=144e5,bt.RANDOM_FACTOR=.5,bt.Sha1=ct,bt.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},bt.assert=re,bt.assertionError=Nt,bt.async=function(je,ge){return function(){for(var qe=[],Ye=0;Ye<arguments.length;Ye++)qe[Ye]=arguments[Ye];Promise.resolve(!0).then(function(){je.apply(void 0,qe)}).catch(function(Ue){ge&&ge(Ue)})}},bt.base64=Lt,bt.base64Decode=be,bt.base64Encode=function(je){var ge=rt(je);return Lt.encodeByteArray(ge,!0)},bt.calculateBackoffMillis=function(je,ge,qe){void 0===ge&&(ge=1e3),void 0===qe&&(qe=2);var Ye=ge*Math.pow(qe,je),Ue=Math.round(.5*Ye*(Math.random()-.5)*2);return Math.min(144e5,Ye+Ue)},bt.contains=function(je,ge){return Object.prototype.hasOwnProperty.call(je,ge)},bt.createSubscribe=function(je,ge){var qe=new Ur(je,ge);return qe.subscribe.bind(qe)},bt.decode=se,bt.deepCopy=function(je){return et(void 0,je)},bt.deepExtend=et,bt.errorPrefix=Kt,bt.getUA=Ne,bt.isAdmin=function(je){var ge=se(je).claims;return"object"==typeof ge&&!0===ge.admin},bt.isBrowser=function(){return"object"==typeof self&&self.self===self},bt.isBrowserExtension=function(){var je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof je&&void 0!==je.id},bt.isElectron=function(){return Ne().indexOf("Electron/")>=0},bt.isEmpty=function(je){for(var ge in je)if(Object.prototype.hasOwnProperty.call(je,ge))return!1;return!0},bt.isIE=function(){var je=Ne();return je.indexOf("MSIE ")>=0||je.indexOf("Trident/")>=0},bt.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},bt.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},bt.isNode=bn,bt.isNodeSdk=function(){return!0===Z.NODE_CLIENT||!0===Z.NODE_ADMIN},bt.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},bt.isSafari=function(){return!bn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},bt.isUWP=function(){return Ne().indexOf("MSAppHost/")>=0},bt.isValidFormat=function(je){var qe=se(je).claims;return!!qe&&"object"==typeof qe&&qe.hasOwnProperty("iat")},bt.isValidTimestamp=function(je){var ge=se(je).claims,qe=Math.floor((new Date).getTime()/1e3),Ye=0,Ue=0;return"object"==typeof ge&&(ge.hasOwnProperty("nbf")?Ye=ge.nbf:ge.hasOwnProperty("iat")&&(Ye=ge.iat),Ue=ge.hasOwnProperty("exp")?ge.exp:Ye+86400),!!qe&&!!Ye&&!!Ue&&qe>=Ye&&qe<=Ue},bt.issuedAtTime=function(je){var ge=se(je).claims;return"object"==typeof ge&&ge.hasOwnProperty("iat")?ge.iat:null},bt.jsonEval=le,bt.map=function(je,ge,qe){var Ye={};for(var Ue in je)Object.prototype.hasOwnProperty.call(je,Ue)&&(Ye[Ue]=ge.call(qe,je[Ue],Ue,je));return Ye},bt.querystring=function(je){for(var ge=[],qe=function(on,Dn){Array.isArray(Dn)?Dn.forEach(function(wr){ge.push(encodeURIComponent(on)+"="+encodeURIComponent(wr))}):ge.push(encodeURIComponent(on)+"="+encodeURIComponent(Dn))},Ye=0,Ue=Object.entries(je);Ye<Ue.length;Ye++){var Wt=Ue[Ye];qe(Wt[0],Wt[1])}return ge.length?"&"+ge.join("&"):""},bt.querystringDecode=function(je){var ge={};return je.replace(/^\?/,"").split("&").forEach(function(Ye){if(Ye){var Ue=Ye.split("=");ge[Ue[0]]=Ue[1]}}),ge},bt.safeGet=function(je,ge){if(Object.prototype.hasOwnProperty.call(je,ge))return je[ge]},bt.stringLength=function(je){for(var ge=0,qe=0;qe<je.length;qe++){var Ye=je.charCodeAt(qe);Ye<128?ge++:Ye<2048?ge+=2:Ye>=55296&&Ye<=56319?(ge+=4,qe++):ge+=3}return ge},bt.stringToByteArray=function(je){for(var ge=[],qe=0,Ye=0;Ye<je.length;Ye++){var Ue=je.charCodeAt(Ye);if(Ue>=55296&&Ue<=56319){var Wt=Ue-55296;Ye++,re(Ye<je.length,"Surrogate pair missing trail surrogate."),Ue=65536+(Wt<<10)+(je.charCodeAt(Ye)-56320)}Ue<128?ge[qe++]=Ue:Ue<2048?(ge[qe++]=Ue>>6|192,ge[qe++]=63&Ue|128):Ue<65536?(ge[qe++]=Ue>>12|224,ge[qe++]=Ue>>6&63|128,ge[qe++]=63&Ue|128):(ge[qe++]=Ue>>18|240,ge[qe++]=Ue>>12&63|128,ge[qe++]=Ue>>6&63|128,ge[qe++]=63&Ue|128)}return ge},bt.stringify=function(je){return JSON.stringify(je)},bt.validateArgCount=function(je,ge,qe,Ye){var Ue;if(Ye<ge?Ue="at least "+ge:Ye>qe&&(Ue=0===qe?"none":"no more than "+qe),Ue)throw new Error(je+" failed: Was called with "+Ye+(1===Ye?" argument.":" arguments.")+" Expects "+Ue+".")},bt.validateCallback=function(je,ge,qe,Ye){if((!Ye||qe)&&"function"!=typeof qe)throw new Error(Kt(je,ge,Ye)+"must be a valid function.")},bt.validateContextObject=function(je,ge,qe,Ye){if((!Ye||qe)&&("object"!=typeof qe||null===qe))throw new Error(Kt(je,ge,Ye)+"must be a valid context object.")},bt.validateIndexedDBOpenable=function(){return new Promise(function(je,ge){try{var qe=!0,Ye="validate-browser-context-for-indexeddb-analytics-module",Ue=window.indexedDB.open(Ye);Ue.onsuccess=function(){Ue.result.close(),qe||window.indexedDB.deleteDatabase(Ye),je(!0)},Ue.onupgradeneeded=function(){qe=!1},Ue.onerror=function(){var Wt;ge((null===(Wt=Ue.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(Wt){ge(Wt)}})},bt.validateNamespace=function(je,ge,qe,Ye){if((!Ye||qe)&&"string"!=typeof qe)throw new Error(Kt(je,ge,Ye)+"must be a valid firebase namespace.")}},870:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{default:()=>fi,ErrorCode:()=>_a,EventType:()=>As,WebChannel:()=>yi,XhrIo:()=>Gu,createWebChannelTransport:()=>qu});var te=function(w,P){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,oe){q.__proto__=oe}||function(q,oe){for(var Re in oe)Object.prototype.hasOwnProperty.call(oe,Re)&&(q[Re]=oe[Re])})(w,P)};function re(w){var P="function"==typeof Symbol&&Symbol.iterator,q=P&&w[P],oe=0;if(q)return q.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&oe>=w.length&&(w=void 0),{value:w&&w[oe++],done:!w}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}var rt,Nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Tn=Tn||{},Lt=Nt||self;function Cn(){}function be(w){var P=typeof w;return"object"!=P?P:w?Array.isArray(w)?"array":P:"null"}function Y(w){var P=be(w);return"array"==P||"object"==P&&"number"==typeof w.length}function et(w){var P=typeof w;return"object"==P&&null!=w||"function"==P}var Ne="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function bn(w,P,q){return w.call.apply(w.bind,arguments)}function Pt(w,P,q){if(!w)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,oe),w.apply(P,Re)}}return function(){return w.apply(P,arguments)}}function Le(w,P,q){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bn:Pt).apply(null,arguments)}function dt(w,P){var q=Array.prototype.slice.call(arguments,1);return function(){var oe=q.slice();return oe.push.apply(oe,arguments),w.apply(this,oe)}}var Je=Date.now;function Bt(w,P){function q(){}q.prototype=P.prototype,w.S=P.prototype,w.prototype=new q,w.prototype.constructor=w}function Ft(){this.j=this.j,this.i=this.i}Ft.prototype.j=!1,Ft.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(w){Object.prototype.hasOwnProperty.call(w,Ne)&&w[Ne]||(w[Ne]=++ft)}(this)},Ft.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qe=Array.prototype.indexOf?function(w,P){return Array.prototype.indexOf.call(w,P,void 0)}:function(w,P){if("string"==typeof w)return"string"!=typeof P||1!=P.length?-1:w.indexOf(P,0);for(var q=0;q<w.length;q++)if(q in w&&w[q]===P)return q;return-1},pt=Array.prototype.forEach?function(w,P,q){Array.prototype.forEach.call(w,P,q)}:function(w,P,q){for(var oe=w.length,Re="string"==typeof w?w.split(""):w,Xe=0;Xe<oe;Xe++)Xe in Re&&P.call(q,Re[Xe],Xe,w)};function M(w){return Array.prototype.concat.apply([],arguments)}function I(w){var P=w.length;if(0<P){for(var q=Array(P),oe=0;oe<P;oe++)q[oe]=w[oe];return q}return[]}function F(w){return/^[\s\xa0]*$/.test(w)}var le,H=String.prototype.trim?function(w){return w.trim()}:function(w){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(w)[1]};function R(w,P){return-1!=w.indexOf(P)}function K(w,P){return w<P?-1:w>P?1:0}e:{var Tt=Lt.navigator;if(Tt){var se=Tt.userAgent;if(se){le=se;break e}}le=""}function Ve(w,P,q){for(var oe in w)P.call(q,w[oe],oe,w)}function It(w){var P={};for(var q in w)P[q]=w[q];return P}var xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(w,P){for(var q,oe,Re=1;Re<arguments.length;Re++){for(q in oe=arguments[Re])w[q]=oe[q];for(var Xe=0;Xe<xe.length;Xe++)q=xe[Xe],Object.prototype.hasOwnProperty.call(oe,q)&&(w[q]=oe[q])}}function Ge(w){return Ge[" "](w),w}Ge[" "]=Cn;var dn,w,en=R(le,"Opera"),Rt=R(le,"Trident")||R(le,"MSIE"),tn=R(le,"Edge"),fn=tn||Rt,ct=R(le,"Gecko")&&!(R(le.toLowerCase(),"webkit")&&!R(le,"Edge"))&&!(R(le,"Trident")||R(le,"MSIE"))&&!R(le,"Edge"),Bn=R(le.toLowerCase(),"webkit")&&!R(le,"Edge");function Ur(){var w=Lt.document;return w?w.documentMode:void 0}e:{var Ht="",wn=(w=le,ct?/rv:([^\);]+)(\)|;)/.exec(w):tn?/Edge\/([\d\.]+)/.exec(w):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(w):Bn?/WebKit\/(\S+)/.exec(w):en?/(?:Version)[ \/]?(\S+)/.exec(w):void 0);if(wn&&(Ht=wn?wn[1]:""),Rt){var rn=Ur();if(null!=rn&&rn>parseFloat(Ht)){dn=String(rn);break e}}dn=Ht}var Kt={};function kn(w){return function(w,P){var q=Kt;return Object.prototype.hasOwnProperty.call(q,w)?q[w]:q[w]=P()}(w,function(){for(var P=0,q=H(String(dn)).split("."),oe=H(String(w)).split("."),Re=Math.max(q.length,oe.length),Xe=0;0==P&&Xe<Re;Xe++){var cn=q[Xe]||"",Pn=oe[Xe]||"";do{if(cn=/(\d*)(\D*)(.*)/.exec(cn)||["","","",""],Pn=/(\d*)(\D*)(.*)/.exec(Pn)||["","","",""],0==cn[0].length&&0==Pn[0].length)break;P=K(0==cn[1].length?0:parseInt(cn[1],10),0==Pn[1].length?0:parseInt(Pn[1],10))||K(0==cn[2].length,0==Pn[2].length)||K(cn[2],Pn[2]),cn=cn[3],Pn=Pn[3]}while(0==P)}return 0<=P})}var ir=Lt.document&&Rt&&(Ur()||parseInt(dn,10))||void 0,jn=!Rt||9<=Number(ir),ii=Rt&&!kn("9"),Ar=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var w=!1,P=Object.defineProperty({},"passive",{get:function(){w=!0}});try{Lt.addEventListener("test",Cn,P),Lt.removeEventListener("test",Cn,P)}catch(q){}return w}();function Qn(w,P){this.type=w,this.a=this.target=P,this.defaultPrevented=!1}function On(w,P){if(Qn.call(this,w?w.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,w){var q=this.type=w.type,oe=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.a=P,P=w.relatedTarget){if(ct){e:{try{Ge(P.nodeName);var Re=!0;break e}catch(Xe){}Re=!1}Re||(P=null)}}else"mouseover"==q?P=w.fromElement:"mouseout"==q&&(P=w.toElement);this.relatedTarget=P,oe?(this.clientX=void 0!==oe.clientX?oe.clientX:oe.pageX,this.clientY=void 0!==oe.clientY?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType="string"==typeof w.pointerType?w.pointerType:ci[w.pointerType]||"",this.c=w,w.defaultPrevented&&this.b()}}Qn.prototype.b=function(){this.defaultPrevented=!0},Bt(On,Qn);var ci={2:"touch",3:"pen",4:"mouse"};On.prototype.b=function(){On.S.b.call(this);var w=this.c;if(w.preventDefault)w.preventDefault();else if(w.returnValue=!1,ii)try{(w.ctrlKey||112<=w.keyCode&&123>=w.keyCode)&&(w.keyCode=-1)}catch(P){}};var je="closure_listenable_"+(1e6*Math.random()|0),ge=0;function qe(w,P,q,oe,Re){this.listener=w,this.proxy=null,this.src=P,this.type=q,this.capture=!!oe,this.ca=Re,this.key=++ge,this.Y=this.Z=!1}function Ye(w){w.Y=!0,w.listener=null,w.proxy=null,w.src=null,w.ca=null}function Ue(w){this.src=w,this.a={},this.b=0}function Wt(w,P){var q=P.type;if(q in w.a){var Xe,oe=w.a[q],Re=Qe(oe,P);(Xe=0<=Re)&&Array.prototype.splice.call(oe,Re,1),Xe&&(Ye(P),0==w.a[q].length&&(delete w.a[q],w.b--))}}function zt(w,P,q,oe){for(var Re=0;Re<w.length;++Re){var Xe=w[Re];if(!Xe.Y&&Xe.listener==P&&Xe.capture==!!q&&Xe.ca==oe)return Re}return-1}Ue.prototype.add=function(w,P,q,oe,Re){var Xe=w.toString();(w=this.a[Xe])||(w=this.a[Xe]=[],this.b++);var cn=zt(w,P,oe,Re);return-1<cn?(P=w[cn],q||(P.Z=!1)):((P=new qe(P,this.src,Xe,!!oe,Re)).Z=q,w.push(P)),P};var pn="closure_lm_"+(1e6*Math.random()|0),on={};function Dn(w,P,q,oe,Re){if(oe&&oe.once)return Cr(w,P,q,oe,Re);if(Array.isArray(P)){for(var Xe=0;Xe<P.length;Xe++)Dn(w,P[Xe],q,oe,Re);return null}return q=Gi(q),w&&w[je]?w.va(P,q,et(oe)?!!oe.capture:!!oe,Re):wr(w,P,q,!1,oe,Re)}function wr(w,P,q,oe,Re,Xe){if(!P)throw Error("Invalid event type");var cn=et(Re)?!!Re.capture:!!Re;if(cn&&!jn)return null;var Pn=Fn(w);if(Pn||(w[pn]=Pn=new Ue(w)),(q=Pn.add(P,q,oe,cn,Xe)).proxy)return q;if(oe=function(){var w=co,P=jn?function(q){return w.call(P.src,P.listener,q)}:function(q){if(!(q=w.call(P.src,P.listener,q)))return q};return P}(),q.proxy=oe,oe.src=w,oe.listener=q,w.addEventListener)Ar||(Re=cn),void 0===Re&&(Re=!1),w.addEventListener(P.toString(),oe,Re);else if(w.attachEvent)w.attachEvent(nn(P.toString()),oe);else{if(!w.addListener||!w.removeListener)throw Error("addEventListener and attachEvent are unavailable.");w.addListener(oe)}return q}function Cr(w,P,q,oe,Re){if(Array.isArray(P)){for(var Xe=0;Xe<P.length;Xe++)Cr(w,P[Xe],q,oe,Re);return null}return q=Gi(q),w&&w[je]?w.wa(P,q,et(oe)?!!oe.capture:!!oe,Re):wr(w,P,q,!0,oe,Re)}function sn(w,P,q,oe,Re){if(Array.isArray(P))for(var Xe=0;Xe<P.length;Xe++)sn(w,P[Xe],q,oe,Re);else oe=et(oe)?!!oe.capture:!!oe,q=Gi(q),w&&w[je]?(w=w.c,(P=String(P).toString())in w.a&&-1<(q=zt(Xe=w.a[P],q,oe,Re))&&(Ye(Xe[q]),Array.prototype.splice.call(Xe,q,1),0==Xe.length&&(delete w.a[P],w.b--))):w&&(w=Fn(w))&&(P=w.a[P.toString()],w=-1,P&&(w=zt(P,q,oe,Re)),(q=-1<w?P[w]:null)&&hi(q))}function hi(w){if("number"!=typeof w&&w&&!w.Y){var P=w.src;if(P&&P[je])Wt(P.c,w);else{var q=w.type,oe=w.proxy;P.removeEventListener?P.removeEventListener(q,oe,w.capture):P.detachEvent?P.detachEvent(nn(q),oe):P.addListener&&P.removeListener&&P.removeListener(oe),(q=Fn(P))?(Wt(q,w),0==q.b&&(q.src=null,P[pn]=null)):Ye(w)}}}function nn(w){return w in on?on[w]:on[w]="on"+w}function Sr(w,P){var q=w.listener,oe=w.ca||w.src;return w.Z&&hi(w),q.call(oe,P)}function co(w,P){if(w.Y)return!0;if(!jn){if(!P)e:{P=["window","event"];for(var q=Lt,oe=0;oe<P.length;oe++)if(null==(q=q[P[oe]])){P=null;break e}P=q}return Sr(w,P=new On(P,this))}return Sr(w,new On(P,this))}function Fn(w){return(w=w[pn])instanceof Ue?w:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(w){return"function"==be(w)?w:(w[an]||(w[an]=function(P){return w.handleEvent(P)}),w[an])}function _e(){Ft.call(this),this.c=new Ue(this),this.J=this,this.C=null}function Be(w,P,q,oe){if(!(P=w.c.a[String(P)]))return!0;P=P.concat();for(var Re=!0,Xe=0;Xe<P.length;++Xe){var cn=P[Xe];if(cn&&!cn.Y&&cn.capture==q){var Pn=cn.listener,Ir=cn.ca||cn.src;cn.Z&&Wt(w.c,cn),Re=!1!==Pn.call(Ir,oe)&&Re}}return Re&&!oe.defaultPrevented}Bt(_e,Ft),_e.prototype[je]=!0,(rt=_e.prototype).addEventListener=function(w,P,q,oe){Dn(this,w,P,q,oe)},rt.removeEventListener=function(w,P,q,oe){sn(this,w,P,q,oe)},rt.dispatchEvent=function(w){var P,q=this.C;if(q)for(P=[];q;q=q.C)P.push(q);q=this.J;var oe=w.type||w;if("string"==typeof w)w=new Qn(w,q);else if(w instanceof Qn)w.target=w.target||q;else{var Re=w;Pe(w=new Qn(oe,q),Re)}if(Re=!0,P)for(var Xe=P.length-1;0<=Xe;Xe--){var cn=w.a=P[Xe];Re=Be(cn,oe,!0,w)&&Re}if(Re=Be(cn=w.a=q,oe,!0,w)&&Re,Re=Be(cn,oe,!1,w)&&Re,P)for(Xe=0;Xe<P.length;Xe++)Re=Be(cn=w.a=P[Xe],oe,!1,w)&&Re;return Re},rt.G=function(){if(_e.S.G.call(this),this.c){var P,w=this.c;for(P in w.a){for(var q=w.a[P],oe=0;oe<q.length;oe++)Ye(q[oe]);delete w.a[P],w.b--}}this.C=null},rt.va=function(w,P,q,oe){return this.c.add(String(w),P,!1,q,oe)},rt.wa=function(w,P,q,oe){return this.c.add(String(w),P,!0,q,oe)};var Ke=Lt.JSON.stringify;function mt(){this.b=this.a=null}var At,Fe=new(function(){function w(P,q,oe){this.f=oe,this.c=P,this.g=q,this.b=0,this.a=null}return w.prototype.get=function(){var P;return 0<this.b?(this.b--,this.a=(P=this.a).next,P.next=null):P=this.c(),P},w}())(function(){return new Ot},function(w){w.reset()},100);function tt(){var w=or,P=null;return w.a&&(P=w.a,w.a=w.a.next,w.a||(w.b=null),P.next=null),P}function Ot(){this.next=this.b=this.a=null}function Qt(w){Lt.setTimeout(function(){throw w},0)}function vn(w,P){At||function(){var w=Lt.Promise.resolve(void 0);At=function(){w.then(mr)}}(),Mr||(At(),Mr=!0),or.add(w,P)}mt.prototype.add=function(w,P){var q=Fe.get();q.set(w,P),this.b?this.b.next=q:this.a=q,this.b=q},Ot.prototype.set=function(w,P){this.a=w,this.b=P,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Mr=!1,or=new mt;function mr(){for(var w;w=tt();){try{w.a.call(w.b)}catch(q){Qt(q)}var P=Fe;P.g(w),P.b<P.f&&(P.b++,w.next=P.a,P.a=w)}Mr=!1}function Wr(w,P){_e.call(this),this.b=w||1,this.a=P||Lt,this.f=Le(this.Ya,this),this.g=Je()}function ve(w){w.aa=!1,w.M&&(w.a.clearTimeout(w.M),w.M=null)}function de(w,P,q){if("function"==be(w))q&&(w=Le(w,q));else{if(!w||"function"!=typeof w.handleEvent)throw Error("Invalid listener argument");w=Le(w.handleEvent,w)}return 2147483647<Number(P)?-1:Lt.setTimeout(w,P||0)}function Se(w){w.a=de(function(){w.a=null,w.c&&(w.c=!1,Se(w))},w.h);var P=w.b;w.b=null,w.g.apply(null,P)}Bt(Wr,_e),(rt=Wr.prototype).aa=!1,rt.M=null,rt.Ya=function(){if(this.aa){var w=Je()-this.g;0<w&&w<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-w):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(ve(this),this.start()))}},rt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Je())},rt.G=function(){Wr.S.G.call(this),ve(this),delete this.a};var ke=function(w){function P(q,oe,Re){var Xe=w.call(this)||this;return Xe.g=null!=Re?q.bind(Re):q,Xe.h=oe,Xe.b=null,Xe.c=!1,Xe.a=null,Xe}return function(w,P){function q(){this.constructor=w}te(w,P),w.prototype=null===P?Object.create(P):(q.prototype=P.prototype,new q)}(P,w),P.prototype.f=function(q){this.b=arguments,this.a?this.c=!0:Se(this)},P.prototype.G=function(){w.prototype.G.call(this),this.a&&(Lt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},P}(Ft);function ie(w){Ft.call(this),this.b=w,this.a={}}Bt(ie,Ft);var L=[];function $(w,P,q,oe){Array.isArray(q)||(q&&(L[0]=q.toString()),q=L);for(var Re=0;Re<q.length;Re++){var Xe=Dn(P,q[Re],oe||w.handleEvent,!1,w.b||w);if(!Xe)break;w.a[Xe.key]=Xe}}function ue(w){Ve(w.a,function(P,q){this.a.hasOwnProperty(q)&&hi(P)},w),w.a={}}function Ee(){this.a=!0}function Mt(w,P,q,oe){w.info(function(){return"XMLHTTP TEXT ("+P+"): "+function(w,P){if(!w.a)return P;if(!P)return null;try{var q=JSON.parse(P);if(q)for(w=0;w<q.length;w++)if(Array.isArray(q[w])){var oe=q[w];if(!(2>oe.length)){var Re=oe[1];if(Array.isArray(Re)&&!(1>Re.length)){var Xe=Re[0];if("noop"!=Xe&&"stop"!=Xe&&"close"!=Xe)for(var cn=1;cn<Re.length;cn++)Re[cn]=""}}}return Ke(q)}catch(Pn){return P}}(w,q)+(oe?" "+oe:"")})}ie.prototype.G=function(){ie.S.G.call(this),ue(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ee.prototype.info=function(){};var gn=null;function vt(){return gn=gn||new _e}function sr(w){Qn.call(this,"serverreachability",w)}function nr(w){var P=vt();P.dispatchEvent(new sr(P,w))}function Zi(w){Qn.call(this,"statevent",w)}function Un(w){var P=vt();P.dispatchEvent(new Zi(P,w))}function Bs(w){Qn.call(this,"timingevent",w)}function eo(w,P){if("function"!=be(w))throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){w()},P)}Bt(sr,Qn),Bt(Zi,Qn),Bt(Bs,Qn);var Ho={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},No={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function wu(){}function ws(){}wu.prototype.a=null;var nu,es={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function to(){Qn.call(this,"d")}function ts(){Qn.call(this,"c")}function ho(){}function ki(w,P,q,oe){this.g=w,this.c=P,this.f=q,this.T=oe||1,this.J=new ie(this),this.P=zo,this.R=new Wr(w=fn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Bt(to,Qn),Bt(ts,Qn),Bt(ho,wu),nu=new ho;var zo=45e3,Fa={},rr={};function no(w,P,q){w.H=1,w.i=pa(fo(P)),w.j=q,w.I=!0,Hn(w,null)}function Hn(w,P){w.u=Je(),Sn(w),w.l=fo(w.i);var q=w.l,oe=w.T;Array.isArray(oe)||(oe=[String(oe)]),Kn(q.b,"t",oe),w.D=0,w.a=Qs(w.g,w.g.C?P:null),0<w.O&&(w.F=new ke(Le(w.Ca,w,w.a),w.O)),$(w.J,w.a,"readystatechange",w.Wa),P=w.B?It(w.B):{},w.j?(w.m||(w.m="POST"),P["Content-Type"]="application/x-www-form-urlencoded",w.a.ba(w.l,w.m,w.j,P)):(w.m="GET",w.a.ba(w.l,w.m,null,P)),nr(1),function(w,P,q,oe,Re,Xe){w.info(function(){if(w.a)if(Xe)for(var cn="",Pn=Xe.split("&"),Ir=0;Ir<Pn.length;Ir++){var oo=Pn[Ir].split("=");if(1<oo.length){var so=oo[0];oo=oo[1];var Ci=so.split("_");cn=2<=Ci.length&&"type"==Ci[1]?cn+(so+"=")+oo+"&":cn+(so+"=redacted&")}}else cn=null;else cn=Xe;return"XMLHTTP REQ ("+oe+") [attempt "+Re+"]: "+P+"\n"+q+"\n"+cn})}(w.c,w.m,w.l,w.f,w.T,w.j)}function Wi(w,P,q){for(var oe=!0;!w.A&&w.D<q.length;){var Re=js(w,q);if(Re==rr){4==P&&(w.h=4,Un(14),oe=!1),Mt(w.c,w.f,null,"[Incomplete Response]");break}if(Re==Fa){w.h=4,Un(15),Mt(w.c,w.f,q,"[Invalid Chunk]"),oe=!1;break}Mt(w.c,w.f,Re,null),qn(w,Re)}4==P&&0==q.length&&(w.h=1,Un(16),oe=!1),w.b=w.b&&oe,oe?0<q.length&&!w.W&&(w.W=!0,(P=w.g).a==w&&P.V&&!P.F&&(P.c.info("Great, no buffering proxy detected. Bytes received: "+q.length),El(P),P.F=!0)):(Mt(w.c,w.f,q,"[Invalid Chunked Response]"),$t(w),Hi(w))}function js(w,P){var q=w.D,oe=P.indexOf("\n",q);return-1==oe?rr:(q=Number(P.substring(q,oe)),isNaN(q)?Fa:(oe+=1)+q>P.length?rr:(P=P.substr(oe,q),w.D=oe+q,P))}function Sn(w){w.U=Je()+w.P,qo(w,w.P)}function qo(w,P){if(null!=w.o)throw Error("WatchDog timer not null");w.o=eo(Le(w.Ua,w),P)}function da(w){w.o&&(Lt.clearTimeout(w.o),w.o=null)}function Hi(w){0==w.g.v||w.A||Cu(w.g,w)}function $t(w){da(w);var P=w.F;P&&"function"==typeof P.ja&&P.ja(),w.F=null,ve(w.R),ue(w.J),w.a&&(P=w.a,w.a=null,P.abort(),P.ja())}function qn(w,P){try{var q=w.g;if(0!=q.v&&(q.a==w||cr(q.b,w)))if(q.I=w.N,!w.C&&cr(q.b,w)&&3==q.v){try{var oe=q.ka.a.parse(P)}catch(Iu){oe=null}if(Array.isArray(oe)&&3==oe.length){var Re=oe;if(0==Re[0])e:if(q.j)q.oa=Re[1],0<q.oa-q.P&&37500>Re[2]&&q.H&&0==q.o&&!q.m&&(q.m=eo(Le(q.Ra,q),6e3));else{if(q.a){if(!(q.a.u+3e3<w.u))break e;ou(q),Io(q)}ma(q),Un(18)}if(1>=ti(q.b)&&q.ea){try{q.ea()}catch(Iu){}q.ea=void 0}}else Ks(q,11)}else if((w.C||q.a==w)&&ou(q),!F(P))for(P=oe=q.ka.a.parse(P),oe=0;oe<P.length;oe++)if(q.P=(Re=P[oe])[0],Re=Re[1],2==q.v)if("c"==Re[0]){q.J=Re[1],q.ga=Re[2];var Xe=Re[3];null!=Xe&&(q.ha=Xe,q.c.info("VER="+q.ha));var cn=Re[4];null!=cn&&(q.pa=cn,q.c.info("SVER="+q.pa));var Pn=Re[5];if(null!=Pn&&"number"==typeof Pn&&0<Pn){var Ir=1.5*Pn;q.D=Ir,q.c.info("backChannelRequestTimeoutMs_="+Ir)}Ir=q;var oo=w.a;if(oo){var so=oo.a?oo.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var Ci=Ir.b;!Ci.a&&(R(so,"spdy")||R(so,"quic")||R(so,"h2"))&&(Ci.f=Ci.g,Ci.a=new Set,Ci.b&&(Qr(Ci,Ci.b),Ci.b=null))}if(Ir.A){var Va=oo.a?oo.a.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(Ir.na=Va,ei(Ir.B,Ir.A,Va))}}q.v=3,q.f&&q.f.ta(),q.V&&(q.N=Je()-w.u,q.c.info("Handshake RTT: "+q.N+"ms"));var Ms=w;if((Ir=q).la=mo(Ir,Ir.C?Ir.ga:null,Ir.fa),Ms.C){Fi(Ir.b,Ms);var Xr=Ms,Fr=Ir.D;Fr&&Xr.setTimeout(Fr),Xr.o&&(da(Xr),Sn(Xr)),Ir.a=Ms}else iu(Ir);0<q.g.length&&Ds(q)}else"stop"!=Re[0]&&"close"!=Re[0]||Ks(q,7);else 3==q.v&&("stop"==Re[0]||"close"==Re[0]?"stop"==Re[0]?Ks(q,7):wl(q):"noop"!=Re[0]&&q.f&&q.f.sa(Re),q.o=0);nr(4)}catch(Iu){}}function Go(w,P){if(w.forEach&&"function"==typeof w.forEach)w.forEach(P,void 0);else if(Y(w)||"string"==typeof w)pt(w,P,void 0);else{if(w.L&&"function"==typeof w.L)var q=w.L();else if(w.K&&"function"==typeof w.K)q=void 0;else if(Y(w)||"string"==typeof w){q=[];for(var oe=w.length,Re=0;Re<oe;Re++)q.push(Re)}else for(Re in q=[],oe=0,w)q[oe++]=Re;Re=(oe=function(w){if(w.K&&"function"==typeof w.K)return w.K();if("string"==typeof w)return w.split("");if(Y(w)){for(var P=[],q=w.length,oe=0;oe<q;oe++)P.push(w[oe]);return P}for(oe in P=[],q=0,w)P[q++]=w[oe];return P}(w)).length;for(var Xe=0;Xe<Re;Xe++)P.call(void 0,oe[Xe],q&&q[Xe],w)}}function Wo(w,P){this.b={},this.a=[],this.c=0;var q=arguments.length;if(1<q){if(q%2)throw Error("Uneven number of arguments");for(var oe=0;oe<q;oe+=2)this.set(arguments[oe],arguments[oe+1])}else if(w)if(w instanceof Wo)for(q=w.L(),oe=0;oe<q.length;oe++)this.set(q[oe],w.get(q[oe]));else for(oe in w)this.set(oe,w[oe])}function Eo(w){if(w.c!=w.a.length){for(var P=0,q=0;P<w.a.length;){var oe=w.a[P];Pi(w.b,oe)&&(w.a[q++]=oe),P++}w.a.length=q}if(w.c!=w.a.length){var Re={};for(q=P=0;P<w.a.length;)Pi(Re,oe=w.a[P])||(w.a[q++]=oe,Re[oe]=1),P++;w.a.length=q}}function Pi(w,P){return Object.prototype.hasOwnProperty.call(w,P)}(rt=ki.prototype).setTimeout=function(w){this.P=w},rt.Wa=function(w){w=w.target;var P=this.F;P&&3==Is(w)?P.f():this.Ca(w)},rt.Ca=function(w){try{if(w==this.a)e:{var P=Is(this.a),q=this.a.ua(),oe=this.a.X();if(!(3>P||3==P&&!fn&&!this.a.$())){this.A||4!=P||7==q||nr(8==q||0>=oe?3:2),da(this);var Re=this.a.X();this.N=Re;var Xe=this.a.$();if(this.b=200==Re,function(w,P,q,oe,Re,Xe,cn){w.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Re+"]: "+P+"\n"+q+"\n"+Xe+" "+cn})}(this.c,this.m,this.l,this.f,this.T,P,Re),this.b){if(this.V&&!this.C){t:{if(this.a){var cn,Pn=this.a;if((cn=Pn.a?Pn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(cn)){var Ir=cn;break t}}Ir=null}if(!Ir){this.b=!1,this.h=3,Un(12),$t(this),Hi(this);break e}Mt(this.c,this.f,Ir,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,qn(this,Ir)}this.I?(Wi(this,P,Xe),fn&&this.b&&3==P&&($(this.J,this.R,"tick",this.Va),this.R.start())):(Mt(this.c,this.f,Xe,null),qn(this,Xe)),4==P&&$t(this),this.b&&!this.A&&(4==P?Cu(this.g,this):(this.b=!1,Sn(this)))}else 400==Re&&0<Xe.indexOf("Unknown SID")?(this.h=3,Un(12)):(this.h=0,Un(13)),$t(this),Hi(this)}}}catch(oo){}},rt.Va=function(){if(this.a){var w=Is(this.a),P=this.a.$();this.D<P.length&&(da(this),Wi(this,w,P),this.b&&4!=w&&Sn(this))}},rt.cancel=function(){this.A=!0,$t(this)},rt.Ua=function(){this.o=null;var w=Je();0<=w-this.U?(function(w,P){w.info(function(){return"TIMEOUT: "+P})}(this.c,this.l),2!=this.H&&(nr(3),Un(17)),$t(this),this.h=2,Hi(this)):qo(this,this.U-w)},(rt=Wo.prototype).K=function(){Eo(this);for(var w=[],P=0;P<this.a.length;P++)w.push(this.b[this.a[P]]);return w},rt.L=function(){return Eo(this),this.a.concat()},rt.get=function(w,P){return Pi(this.b,w)?this.b[w]:P},rt.set=function(w,P){Pi(this.b,w)||(this.c++,this.a.push(w)),this.b[w]=P},rt.forEach=function(w,P){for(var q=this.L(),oe=0;oe<q.length;oe++){var Re=q[oe],Xe=this.get(Re);w.call(P,Xe,Re,this)}};var Jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _r(w,P){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,w instanceof _r){this.a=void 0!==P?P:w.a,zs(this,w.f),this.j=w.j,Es(this,w.c),qs(this,w.h),this.g=w.g,P=w.b;var q=new gt;q.c=P.c,P.a&&(q.a=new Wo(P.a),q.b=P.b),Ln(this,q),this.i=w.i}else w&&(q=String(w).match(Jn))?(this.a=!!P,zs(this,q[1]||"",!0),this.j=Yr(q[2]||""),Es(this,q[3]||"",!0),qs(this,q[4]),this.g=Yr(q[5]||"",!0),Ln(this,q[6]||"",!0),this.i=Yr(q[7]||"")):(this.a=!!P,this.b=new gt(null,this.a))}function fo(w){return new _r(w)}function zs(w,P,q){w.f=q?Yr(P,!0):P,w.f&&(w.f=w.f.replace(/:$/,""))}function Es(w,P,q){w.c=q?Yr(P,!0):P}function qs(w,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);w.h=P}else w.h=null}function Ln(w,P,q){P instanceof gt?(w.b=P,function(w,P){P&&!w.f&&(yt(w),w.c=null,w.a.forEach(function(q,oe){var Re=oe.toLowerCase();oe!=Re&&(kt(this,oe),Kn(this,Re,q))},w)),w.f=P}(w.b,w.a)):(q||(P=B(P,me)),w.b=new gt(P,w.a))}function ei(w,P,q){w.b.set(P,q)}function pa(w){return ei(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Je()).toString(36)),w}function Yr(w,P){return w?P?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function B(w,P,q){return"string"==typeof w?(w=encodeURI(w).replace(P,V),q&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function V(w){return"%"+((w=w.charCodeAt(0))>>4&15).toString(16)+(15&w).toString(16)}_r.prototype.toString=function(){var w=[],P=this.f;P&&w.push(B(P,X,!0),":");var q=this.c;return(q||"file"==P)&&(w.push("//"),(P=this.j)&&w.push(B(P,X,!0),"@"),w.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.h)&&w.push(":",String(q))),(q=this.g)&&(this.c&&"/"!=q.charAt(0)&&w.push("/"),w.push(B(q,"/"==q.charAt(0)?Ce:pe,!0))),(q=this.b.toString())&&w.push("?",q),(q=this.i)&&w.push("#",B(q,$e)),w.join("")};var X=/[#\/\?@]/g,pe=/[#\?:]/g,Ce=/[#\?]/g,me=/[#\?@]/g,$e=/#/g;function gt(w,P){this.b=this.a=null,this.c=w||null,this.f=!!P}function yt(w){w.a||(w.a=new Wo,w.b=0,w.c&&function(w,P){if(w){w=w.split("&");for(var q=0;q<w.length;q++){var oe=w[q].indexOf("="),Re=null;if(0<=oe){var Xe=w[q].substring(0,oe);Re=w[q].substring(oe+1)}else Xe=w[q];P(Xe,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}(w.c,function(P,q){w.add(decodeURIComponent(P.replace(/\+/g," ")),q)}))}function kt(w,P){yt(w),P=ln(w,P),Pi(w.a.b,P)&&(w.c=null,w.b-=w.a.get(P).length,Pi((w=w.a).b,P)&&(delete w.b[P],w.c--,w.a.length>2*w.c&&Eo(w)))}function Vt(w,P){return yt(w),P=ln(w,P),Pi(w.a.b,P)}function Kn(w,P,q){kt(w,P),0<q.length&&(w.c=null,w.a.set(ln(w,P),I(q)),w.b+=q.length)}function ln(w,P){return P=String(P),w.f&&(P=P.toLowerCase()),P}function ar(w,P){this.b=w,this.a=P}function yn(w){this.g=w||Nr,w=Lt.PerformanceNavigationTiming?0<(w=Lt.performance.getEntriesByType("navigation")).length&&("hq"==w[0].nextHopProtocol||"h2"==w[0].nextHopProtocol):!!(Lt.ia&&Lt.ia.ya&&Lt.ia.ya()&&Lt.ia.ya().qb),this.f=w?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(rt=gt.prototype).add=function(w,P){yt(this),this.c=null,w=ln(this,w);var q=this.a.get(w);return q||this.a.set(w,q=[]),q.push(P),this.b+=1,this},rt.forEach=function(w,P){yt(this),this.a.forEach(function(q,oe){pt(q,function(Re){w.call(P,Re,oe,this)},this)},this)},rt.L=function(){yt(this);for(var w=this.a.K(),P=this.a.L(),q=[],oe=0;oe<P.length;oe++)for(var Re=w[oe],Xe=0;Xe<Re.length;Xe++)q.push(P[oe]);return q},rt.K=function(w){yt(this);var P=[];if("string"==typeof w)Vt(this,w)&&(P=M(P,this.a.get(ln(this,w))));else{w=this.a.K();for(var q=0;q<w.length;q++)P=M(P,w[q])}return P},rt.set=function(w,P){return yt(this),this.c=null,Vt(this,w=ln(this,w))&&(this.b-=this.a.get(w).length),this.a.set(w,[P]),this.b+=1,this},rt.get=function(w,P){return w&&0<(w=this.K(w)).length?String(w[0]):P},rt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var w=[],P=this.a.L(),q=0;q<P.length;q++){var oe=P[q],Re=encodeURIComponent(String(oe));oe=this.K(oe);for(var Xe=0;Xe<oe.length;Xe++){var cn=Re;""!==oe[Xe]&&(cn+="="+encodeURIComponent(String(oe[Xe]))),w.push(cn)}}return this.c=w.join("&")};var Nr=10;function Ei(w){return!!w.b||!!w.a&&w.a.size>=w.f}function ti(w){return w.b?1:w.a?w.a.size:0}function cr(w,P){return w.b?w.b==P:!!w.a&&w.a.has(P)}function Qr(w,P){w.a?w.a.add(P):w.b=P}function Fi(w,P){w.b&&w.b==P?w.b=null:w.a&&w.a.has(P)&&w.a.delete(P)}function po(w){var P,q;if(null!=w.b)return w.c.concat(w.b.s);if(null!=w.a&&0!==w.a.size){var oe=w.c;try{for(var Re=re(w.a.values()),Xe=Re.next();!Xe.done;Xe=Re.next())oe=oe.concat(Xe.value.s)}catch(Pn){P={error:Pn}}finally{try{Xe&&!Xe.done&&(q=Re.return)&&q.call(Re)}finally{if(P)throw P.error}}return oe}return I(w.c)}function Br(){}function hr(){this.a=new Br}function ga(w,P,q){var oe=q||"";try{Go(w,function(Re,Xe){var cn=Re;et(Re)&&(cn=Ke(Re)),P.push(oe+Xe+"="+encodeURIComponent(cn))})}catch(Re){throw P.push(oe+"type="+encodeURIComponent("_badmap")),Re}}function ns(w,P,q,oe,Re){try{P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null,Re(oe)}catch(Xe){}}yn.prototype.cancel=function(){var w,P;if(this.c=po(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var q=re(this.a.values()),oe=q.next();!oe.done;oe=q.next())oe.value.cancel()}catch(Xe){w={error:Xe}}finally{try{oe&&!oe.done&&(P=q.return)&&P.call(q)}finally{if(w)throw w.error}}this.a.clear()}},Br.prototype.stringify=function(w){return Lt.JSON.stringify(w,void 0)},Br.prototype.parse=function(w){return Lt.JSON.parse(w,void 0)};var zu=Lt.JSON.parse;function oi(w){_e.call(this),this.headers=new Wo,this.H=w||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Or,this.D=this.F=!1}Bt(oi,_e);var Or="",ui=/^https?$/i,jr=["POST","PUT"];function $o(w){return"content-type"==w.toLowerCase()}function Li(w,P){w.b=!1,w.a&&(w.g=!0,w.a.abort(),w.g=!1),w.f=P,w.h=5,Ws(w),Ss(w)}function Ws(w){w.u||(w.u=!0,w.dispatchEvent("complete"),w.dispatchEvent("error"))}function Co(w){if(w.b&&void 0!==Tn&&(!w.s[1]||4!=Is(w)||2!=w.X()))if(w.l&&4==Is(w))de(w.za,0,w);else if(w.dispatchEvent("readystatechange"),4==Is(w)){w.b=!1;try{var oe,P=w.X();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}if(!(oe=q)){var Re;if(Re=0===P){var Xe=String(w.B).match(Jn)[1]||null;if(!Xe&&Lt.self&&Lt.self.location){var cn=Lt.self.location.protocol;Xe=cn.substr(0,cn.length-1)}Re=!ui.test(Xe?Xe.toLowerCase():"")}oe=Re}if(oe)w.dispatchEvent("complete"),w.dispatchEvent("success");else{w.h=6;try{var Pn=2<Is(w)?w.a.statusText:""}catch(Ir){Pn=""}w.f=Pn+" ["+w.X()+"]",Ws(w)}}finally{Ss(w)}}}function Ss(w,P){if(w.a){So(w);var q=w.a,oe=w.s[0]?Cn:null;w.a=null,w.s=null,P||w.dispatchEvent("ready");try{q.onreadystatechange=oe}catch(Re){}}}function So(w){w.a&&w.D&&(w.a.ontimeout=null),w.m&&(Lt.clearTimeout(w.m),w.m=null)}function Is(w){return w.a?w.a.readyState:0}function zi(w,P,q){e:{for(oe in q){var oe=!1;break e}oe=!0}oe||(q=function(w){var P="";return Ve(w,function(q,oe){P+=oe,P+=":",P+=q,P+="\r\n"}),P}(q),"string"==typeof w?null!=q&&encodeURIComponent(String(q)):ei(w,P,q))}function rs(w,P,q){return q&&q.internalChannelParams&&q.internalChannelParams[w]||P}function bl(w){this.pa=0,this.g=[],this.c=new Ee,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=rs("failFast",!1,w),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=rs("baseRetryDelayMs",5e3,w),this.Ma=rs("retryDelaySeedMs",1e4,w),this.Ja=rs("forwardChannelMaxRetries",2,w),this.ma=rs("forwardChannelRequestTimeoutMs",2e4,w),this.Ka=w&&w.g||void 0,this.D=void 0,this.C=w&&w.supportsCrossDomainXhr||!1,this.J="",this.b=new yn(w&&w.concurrentRequestLimit),this.ka=new hr,this.da=w&&w.fastHandshake||!1,this.Ga=w&&w.b||!1,w&&w.f&&(this.c.a=!1),w&&w.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&w&&w.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function wl(w){if(ru(w),3==w.v){var P=w.R++,q=fo(w.B);ei(q,"SID",w.J),ei(q,"RID",P),ei(q,"TYPE","terminate"),go(w,q),(P=new ki(w,w.c,P,void 0)).H=2,P.i=pa(fo(q)),q=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(q=Lt.navigator.sendBeacon(P.i.toString(),"")),!q&&Lt.Image&&((new Image).src=P.i,q=!0),q||(P.a=Qs(P.g,null),P.a.ba(P.i)),P.u=Je(),Sn(P)}Ys(w)}function Io(w){w.a&&(El(w),w.a.cancel(),w.a=null)}function ru(w){Io(w),w.j&&(Lt.clearTimeout(w.j),w.j=null),ou(w),w.b.cancel(),w.h&&("number"==typeof w.h&&Lt.clearTimeout(w.h),w.h=null)}function Ts(w,P){w.g.push(new ar(w.La++,P)),3==w.v&&Ds(w)}function Ds(w){Ei(w.b)||w.h||(w.h=!0,vn(w.Ba,w),w.u=0)}function mi(w,P){var q;q=P?P.f:w.R++;var oe=fo(w.B);ei(oe,"SID",w.J),ei(oe,"RID",q),ei(oe,"AID",w.P),go(w,oe),w.i&&w.l&&zi(oe,w.i,w.l),q=new ki(w,w.c,q,w.u+1),null===w.i&&(q.B=w.l),P&&(w.g=P.s.concat(w.g)),P=Eu(w,q,1e3),q.setTimeout(Math.round(.5*w.ma)+Math.round(.5*w.ma*Math.random())),Qr(w.b,q),no(q,oe,P)}function go(w,P){w.f&&Go({},function(q,oe){ei(P,oe,q)})}function Eu(w,P,q){q=Math.min(w.g.length,q);var oe=w.f?Le(w.f.Ha,w.f,w):null;e:for(var Re=w.g,Xe=-1;;){var cn=["count="+q];-1==Xe?0<q?cn.push("ofs="+(Xe=Re[0].b)):Xe=0:cn.push("ofs="+Xe);for(var Pn=!0,Ir=0;Ir<q;Ir++){var oo=Re[Ir].b,so=Re[Ir].a;if(0>(oo-=Xe))Xe=Math.max(0,Re[Ir].b-100),Pn=!1;else try{ga(so,cn,"req"+oo+"_")}catch(Ci){oe&&oe(so)}}if(Pn){oe=cn.join("&");break e}}return w=w.g.splice(0,q),P.s=w,oe}function iu(w){w.a||w.j||(w.U=1,vn(w.Aa,w),w.o=0)}function ma(w){return!(w.a||w.j||3<=w.o||(w.U++,w.j=eo(Le(w.Aa,w),$s(w,w.o)),w.o++,0))}function El(w){null!=w.s&&(Lt.clearTimeout(w.s),w.s=null)}function ac(w){w.a=new ki(w,w.c,"rpc",w.U),null===w.i&&(w.a.B=w.l),w.a.O=0;var P=fo(w.la);ei(P,"RID","rpc"),ei(P,"SID",w.J),ei(P,"CI",w.H?"0":"1"),ei(P,"AID",w.P),go(w,P),ei(P,"TYPE","xmlhttp"),w.i&&w.l&&zi(P,w.i,w.l),w.D&&w.a.setTimeout(w.D);var q=w.a;w=w.ga,q.H=1,q.i=pa(fo(P)),q.j=null,q.I=!0,Hn(q,w)}function ou(w){null!=w.m&&(Lt.clearTimeout(w.m),w.m=null)}function Cu(w,P){var q=null;if(w.a==P){ou(w),El(w),w.a=null;var oe=2}else{if(!cr(w.b,P))return;q=P.s,Fi(w.b,P),oe=1}if(w.I=P.N,0!=w.v)if(P.b)if(1==oe){q=P.j?P.j.length:0,P=Je()-P.u;var Re=w.u;(oe=vt()).dispatchEvent(new Bs(oe,q,P,Re)),Ds(w)}else iu(w);else if(3==(Re=P.h)||0==Re&&0<w.I||!(1==oe&&function(w,P){return!(ti(w.b)>=w.b.f-(w.h?1:0)||(w.h?(w.g=P.s.concat(w.g),0):1==w.v||2==w.v||w.u>=(w.Ia?0:w.Ja)||(w.h=eo(Le(w.Ba,w,P),$s(w,w.u)),w.u++,0)))}(w,P)||2==oe&&ma(w)))switch(q&&0<q.length&&(P=w.b,P.c=P.c.concat(q)),Re){case 1:Ks(w,5);break;case 4:Ks(w,10);break;case 3:Ks(w,6);break;default:Ks(w,2)}}function $s(w,P){var q=w.Fa+Math.floor(Math.random()*w.Ma);return w.f||(q*=2),q*P}function Ks(w,P){if(w.c.info("Error code "+P),2==P){var q=null;w.f&&(q=null);var oe=Le(w.Xa,w);q||(q=new _r("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||zs(q,"https"),pa(q)),function(w,P){var q=new Ee;if(Lt.Image){var oe=new Image;oe.onload=dt(ns,q,oe,"TestLoadImage: loaded",!0,P),oe.onerror=dt(ns,q,oe,"TestLoadImage: error",!1,P),oe.onabort=dt(ns,q,oe,"TestLoadImage: abort",!1,P),oe.ontimeout=dt(ns,q,oe,"TestLoadImage: timeout",!1,P),Lt.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=w}else P(!1)}(q.toString(),oe)}else Un(2);w.v=0,w.f&&w.f.ra(P),Ys(w),ru(w)}function Ys(w){w.v=0,w.I=-1,w.f&&((0!=po(w.b).length||0!=w.g.length)&&(w.b.c.length=0,I(w.g),w.g.length=0),w.f.qa())}function mo(w,P,q){var oe=function(w){return w instanceof _r?fo(w):new _r(w,void 0)}(q);if(""!=oe.c)P&&Es(oe,P+"."+oe.c),qs(oe,oe.h);else{var Re=Lt.location;oe=function(w,P,q,oe){var Re=new _r(null,void 0);return w&&zs(Re,w),P&&Es(Re,P),q&&qs(Re,q),oe&&(Re.g=oe),Re}(Re.protocol,P?P+"."+Re.hostname:Re.hostname,+Re.port,q)}return w.W&&Ve(w.W,function(Xe,cn){ei(oe,cn,Xe)}),q=w.na,(P=w.A)&&q&&ei(oe,P,q),ei(oe,"VER",w.ha),go(w,oe),oe}function Qs(w,P){if(P&&!w.C)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new oi(w.Ka)).F=w.C,P}function Hr(){}function La(){if(Rt&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function Kr(w,P){_e.call(this),this.a=new bl(P),this.l=w,this.b=P&&P.messageUrlParams||null,w=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.a.l=w,w=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(w?w["X-WebChannel-Content-Type"]=P.messageContentType:w={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.a&&(w?w["X-WebChannel-Client-Profile"]=P.a:w={"X-WebChannel-Client-Profile":P.a}),this.a.O=w,(w=P&&P.httpHeadersOverwriteParam)&&!F(w)&&(this.a.i=w),this.h=P&&P.supportsCrossDomainXhr||!1,this.g=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!F(P)&&(this.a.A=P,null!==(w=this.b)&&P in w&&P in(w=this.b)&&delete w[P]),this.f=new ni(this)}function Su(w){to.call(this);var P=w.__sm__;if(P){e:{for(var q in P){w=q;break e}w=void 0}(this.c=w)?(w=this.c,this.data=null!==P&&w in P?P[w]:void 0):this.data=P}else this.data=w}function jt(){ts.call(this),this.status=1}function ni(w){this.a=w}(rt=oi.prototype).ba=function(w,P,q,oe){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+w);P=P?P.toUpperCase():"GET",this.B=w,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(w){var P;return(P=w.a)||(P=w.a={}),P}(this.H?this.H:nu),this.a.onreadystatechange=Le(this.za,this);try{this.A=!0,this.a.open(P,String(w),!0),this.A=!1}catch(Xe){return void Li(this,Xe)}w=q||"";var Re=new Wo(this.headers);oe&&Go(oe,function(Xe,cn){Re.set(cn,Xe)}),oe=function(w){e:{for(var P=$o,q=w.length,oe="string"==typeof w?w.split(""):w,Re=0;Re<q;Re++)if(Re in oe&&P.call(void 0,oe[Re],Re,w)){P=Re;break e}P=-1}return 0>P?null:"string"==typeof w?w.charAt(P):w[P]}(Re.L()),q=Lt.FormData&&w instanceof Lt.FormData,!(0<=Qe(jr,P))||oe||q||Re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Re.forEach(function(Xe,cn){this.a.setRequestHeader(cn,Xe)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{So(this),0<this.o&&((this.D=function(w){return Rt&&kn(9)&&"number"==typeof w.timeout&&void 0!==w.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Le(this.xa,this)):this.m=de(this.xa,this.o,this)),this.l=!0,this.a.send(w),this.l=!1}catch(Xe){Li(this,Xe)}},rt.xa=function(){void 0!==Tn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},rt.abort=function(w){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=w||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},rt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ss(this,!0)),oi.S.G.call(this)},rt.za=function(){this.j||(this.A||this.l||this.g?Co(this):this.Ta())},rt.Ta=function(){Co(this)},rt.X=function(){try{return 2<Is(this)?this.a.status:-1}catch(w){return-1}},rt.$=function(){try{return this.a?this.a.responseText:""}catch(w){return""}},rt.Na=function(w){if(this.a){var P=this.a.responseText;return w&&0==P.indexOf(w)&&(P=P.substring(w.length)),zu(P)}},rt.ua=function(){return this.h},rt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(rt=bl.prototype).ha=8,rt.v=1,rt.Ba=function(w){if(this.h)if(this.h=null,1==this.v){if(!w){this.R=Math.floor(1e5*Math.random()),w=this.R++;var oe,P=new ki(this,this.c,w,void 0),q=this.l;if(this.O&&(q?Pe(q=It(q),this.O):q=this.O),null===this.i&&(P.B=q),this.da)e:{for(var Re=oe=0;Re<this.g.length;Re++){var Xe=this.g[Re];if(void 0===(Xe="__data__"in Xe.a&&"string"==typeof(Xe=Xe.a.__data__)?Xe.length:void 0))break;if(4096<(oe+=Xe)){oe=Re;break e}if(4096===oe||Re===this.g.length-1){oe=Re+1;break e}}oe=1e3}else oe=1e3;oe=Eu(this,P,oe),ei(Re=fo(this.B),"RID",w),ei(Re,"CVER",22),this.A&&ei(Re,"X-HTTP-Session-Id",this.A),go(this,Re),this.i&&q&&zi(Re,this.i,q),Qr(this.b,P),this.Ga&&ei(Re,"TYPE","init"),this.da?(ei(Re,"$req",oe),ei(Re,"SID","null"),P.V=!0,no(P,Re,null)):no(P,Re,oe),this.v=2}}else 3==this.v&&(w?mi(this,w):0==this.g.length||Ei(this.b)||mi(this))},rt.Aa=function(){if(this.j=null,ac(this),this.V&&!(this.F||null==this.a||0>=this.N)){var w=2*this.N;this.c.info("BP detection timer enabled: "+w),this.s=eo(Le(this.Sa,this),w)}},rt.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Io(this),ac(this))},rt.Ra=function(){null!=this.m&&(this.m=null,Io(this),ma(this),Un(19))},rt.Xa=function(w){w?(this.c.info("Successfully pinged google.com"),Un(2)):(this.c.info("Failed to ping google.com"),Un(1))},(rt=Hr.prototype).ta=function(){},rt.sa=function(){},rt.ra=function(){},rt.qa=function(){},rt.Ha=function(){},La.prototype.a=function(w,P){return new Kr(w,P)},Bt(Kr,_e),(rt=Kr.prototype).addEventListener=function(w,P,q,oe){Kr.S.addEventListener.call(this,w,P,q,oe)},rt.removeEventListener=function(w,P,q,oe){Kr.S.removeEventListener.call(this,w,P,q,oe)},rt.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var w=this.a,P=this.l,q=this.b||void 0;Un(0),w.fa=P,w.W=q||{},w.H=w.T,w.B=mo(w,null,w.fa),Ds(w)},rt.close=function(){wl(this.a)},rt.Pa=function(w){if("string"==typeof w){var P={};P.__data__=w,Ts(this.a,P)}else this.g?((P={}).__data__=Ke(w),Ts(this.a,P)):Ts(this.a,w)},rt.G=function(){this.a.f=null,delete this.f,wl(this.a),delete this.a,Kr.S.G.call(this)},Bt(Su,to),Bt(jt,ts),Bt(ni,Hr),ni.prototype.ta=function(){this.a.dispatchEvent("a")},ni.prototype.sa=function(w){this.a.dispatchEvent(new Su(w))},ni.prototype.ra=function(w){this.a.dispatchEvent(new jt(w))},ni.prototype.qa=function(){this.a.dispatchEvent("b")},La.prototype.createWebChannel=La.prototype.a,Kr.prototype.send=Kr.prototype.Pa,Kr.prototype.open=Kr.prototype.Oa,Kr.prototype.close=Kr.prototype.close,Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,No.COMPLETE="complete",ws.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",_e.prototype.listen=_e.prototype.va,oi.prototype.listenOnce=oi.prototype.wa,oi.prototype.getLastError=oi.prototype.Qa,oi.prototype.getLastErrorCode=oi.prototype.ua,oi.prototype.getStatus=oi.prototype.X,oi.prototype.getResponseJson=oi.prototype.Na,oi.prototype.getResponseText=oi.prototype.$,oi.prototype.send=oi.prototype.ba;var qu=function(){return new La},_a=Ho,As=No,yi=ws,Gu=oi;const fi={createWebChannelTransport:qu,ErrorCode:Ho,EventType:No,WebChannel:ws,XhrIo:oi}},395:(li,bt,Ct)=>{"use strict";function Z(Tn){return Tn&&"object"==typeof Tn&&"default"in Tn?Tn:{default:Tn}}var re=Z(Ct(279));re.default.registerVersion("firebase","7.24.0","app"),li.exports=re.default},117:(li,bt,Ct)=>{"use strict";var te=Ct(279);function Z(Cn){return Cn&&"object"==typeof Cn&&"default"in Cn?Cn:{default:Cn}}Ct(3),Ct(614),Ct(910),Ct(800),Ct(450),Ct(35),Ct(62),Ct(51),Ct(136);var re=Z(te);re.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),re.default.registerVersion("firebase","7.24.0"),li.exports=re.default},676:function(li,bt){!function(Ct){"use strict";function te(Le){return Array.prototype.slice.call(Le)}function Z(Le){return new Promise(function(dt,Je){Le.onsuccess=function(){dt(Le.result)},Le.onerror=function(){Je(Le.error)}})}function re(Le,dt,Je){var Bt,Ft=new Promise(function(ot,Qe){Z(Bt=Le[dt].apply(Le,Je)).then(ot,Qe)});return Ft.request=Bt,Ft}function Nt(Le,dt,Je){var Bt=re(Le,dt,Je);return Bt.then(function(Ft){if(Ft)return new Y(Ft,Bt.request)})}function rt(Le,dt,Je){Je.forEach(function(Bt){Object.defineProperty(Le.prototype,Bt,{get:function(){return this[dt][Bt]},set:function(Ft){this[dt][Bt]=Ft}})})}function Tn(Le,dt,Je,Bt){Bt.forEach(function(Ft){Ft in Je.prototype&&(Le.prototype[Ft]=function(){return re(this[dt],Ft,arguments)})})}function Lt(Le,dt,Je,Bt){Bt.forEach(function(Ft){Ft in Je.prototype&&(Le.prototype[Ft]=function(){return this[dt][Ft].apply(this[dt],arguments)})})}function Cn(Le,dt,Je,Bt){Bt.forEach(function(Ft){Ft in Je.prototype&&(Le.prototype[Ft]=function(){return Nt(this[dt],Ft,arguments)})})}function be(Le){this._index=Le}function Y(Le,dt){this._cursor=Le,this._request=dt}function et(Le){this._store=Le}function it(Le){this._tx=Le,this.complete=new Promise(function(dt,Je){Le.oncomplete=function(){dt()},Le.onerror=function(){Je(Le.error)},Le.onabort=function(){Je(Le.error)}})}function Ne(Le,dt,Je){this._db=Le,this.oldVersion=dt,this.transaction=new it(Je)}function ft(Le){this._db=Le}rt(be,"_index",["name","keyPath","multiEntry","unique"]),Tn(be,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Cn(be,"_index",IDBIndex,["openCursor","openKeyCursor"]),rt(Y,"_cursor",["direction","key","primaryKey","value"]),Tn(Y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Le){Le in IDBCursor.prototype&&(Y.prototype[Le]=function(){var dt=this,Je=arguments;return Promise.resolve().then(function(){return dt._cursor[Le].apply(dt._cursor,Je),Z(dt._request).then(function(Bt){if(Bt)return new Y(Bt,dt._request)})})})}),et.prototype.createIndex=function(){return new be(this._store.createIndex.apply(this._store,arguments))},et.prototype.index=function(){return new be(this._store.index.apply(this._store,arguments))},rt(et,"_store",["name","keyPath","indexNames","autoIncrement"]),Tn(et,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Cn(et,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Lt(et,"_store",IDBObjectStore,["deleteIndex"]),it.prototype.objectStore=function(){return new et(this._tx.objectStore.apply(this._tx,arguments))},rt(it,"_tx",["objectStoreNames","mode"]),Lt(it,"_tx",IDBTransaction,["abort"]),Ne.prototype.createObjectStore=function(){return new et(this._db.createObjectStore.apply(this._db,arguments))},rt(Ne,"_db",["name","version","objectStoreNames"]),Lt(Ne,"_db",IDBDatabase,["deleteObjectStore","close"]),ft.prototype.transaction=function(){return new it(this._db.transaction.apply(this._db,arguments))},rt(ft,"_db",["name","version","objectStoreNames"]),Lt(ft,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Le){[et,be].forEach(function(dt){Le in dt.prototype&&(dt.prototype[Le.replace("open","iterate")]=function(){var Je=te(arguments),Bt=Je[Je.length-1],Ft=this._store||this._index,ot=Ft[Le].apply(Ft,Je.slice(0,-1));ot.onsuccess=function(){Bt(ot.result)}})})}),[be,et].forEach(function(Le){Le.prototype.getAll||(Le.prototype.getAll=function(dt,Je){var Bt=this,Ft=[];return new Promise(function(ot){Bt.iterateCursor(dt,function(Qe){Qe?(Ft.push(Qe.value),void 0===Je||Ft.length!=Je?Qe.continue():ot(Ft)):ot(Ft)})})})}),Ct.openDb=function(Le,dt,Je){var Bt=re(indexedDB,"open",[Le,dt]),Ft=Bt.request;return Ft&&(Ft.onupgradeneeded=function(ot){Je&&Je(new Ne(Ft.result,ot.oldVersion,Ft.transaction))}),Bt.then(function(ot){return new ft(ot)})},Ct.deleteDb=function(Le){return re(indexedDB,"deleteDatabase",[Le])},Object.defineProperty(Ct,"__esModule",{value:!0})}(bt)},621:(li,bt,Ct)=>{"use strict";function te(n){return"function"==typeof n}let Z=!1;const re={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Z&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Z=n},get useDeprecatedSynchronousErrorHandling(){return Z}};function Nt(n){setTimeout(()=>{throw n},0)}const rt={closed:!0,next(n){},error(n){if(re.useDeprecatedSynchronousErrorHandling)throw n;Nt(n)},complete(){}},Tn=Array.isArray||(n=>n&&"number"==typeof n.length);function Lt(n){return null!==n&&"object"==typeof n}const be=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Y{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Y)e.remove(this);else if(null!==e)for(let l=0;l<e.length;++l)e[l].remove(this);if(te(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){t=l instanceof be?et(l.errors):[l]}}if(Tn(s)){let l=-1,p=s.length;for(;++l<p;){const v=s[l];if(Lt(v))try{v.unsubscribe()}catch(C){t=t||[],C instanceof be?t=t.concat(et(C.errors)):t.push(C)}}}if(t)throw new be(t)}add(t){let e=t;if(!t)return Y.EMPTY;switch(typeof t){case"function":e=new Y(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Y)){const s=e;e=new Y,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=e;if(null===r)e._parentOrParents=this;else if(r instanceof Y){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}}}var n;function et(n){return n.reduce((t,e)=>t.concat(e instanceof be?e.errors:e),[])}Y.EMPTY=((n=new Y).closed=!0,n);const it="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ft extends Y{constructor(t,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=rt;break;case 1:if(!t){this.destination=rt;break}if("object"==typeof t){t instanceof ft?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new bn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new bn(this,t,e,r)}}[it](){return this}static create(t,e,r){const i=new ft(t,e,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class bn extends ft{constructor(t,e,r,i){super(),this._parentSubscriber=t;let s,l=this;te(e)?s=e:e&&(s=e.next,r=e.error,i=e.complete,e!==rt&&(l=Object.create(e),te(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=s,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;re.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=re;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):Nt(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Nt(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);re.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),re.useDeprecatedSynchronousErrorHandling)throw r;Nt(r)}}__tryOrSetError(t,e,r){if(!re.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(i){return re.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Nt(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const dt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Je(n){return n}let ot=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const{operator:s}=this,l=function(n,t,e){if(n){if(n instanceof ft)return n;if(n[it])return n[it]()}return n||t||e?new ft(n,t,e):new ft(rt)}(e,r,i);if(l.add(s?s.call(l,this.source):this.source||re.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),re.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(e){try{return this._subscribe(e)}catch(r){re.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function(n){for(;n;){const{closed:t,destination:e,isStopped:r}=n;if(t||r)return!1;n=e&&e instanceof ft?e:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=Qe(r))((i,s)=>{let l;l=this.subscribe(p=>{try{e(p)}catch(v){s(v),l&&l.unsubscribe()}},s,i)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[dt](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Je:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=Qe(e))((r,i)=>{let s;this.subscribe(l=>s=l,l=>i(l),()=>r(s))})}}return n.create=t=>new n(t),n})();function Qe(n){if(n||(n=re.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const A=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class M extends Y{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class I extends ft{constructor(t){super(t),this.destination=t}}let F=(()=>{class n extends ot{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[it](){return new I(this)}lift(e){const r=new H(this,this);return r.operator=e,r}next(e){if(this.closed)throw new A;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let l=0;l<i;l++)s[l].next(e)}}error(e){if(this.closed)throw new A;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let l=0;l<i;l++)s[l].error(e);this.observers.length=0}complete(){if(this.closed)throw new A;this.isStopped=!0;const{observers:e}=this,r=e.length,i=e.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new A;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new A;return this.hasError?(e.error(this.thrownError),Y.EMPTY):this.isStopped?(e.complete(),Y.EMPTY):(this.observers.push(e),new M(this,e))}asObservable(){const e=new ot;return e.source=this,e}}return n.create=(t,e)=>new H(t,e),n})();class H extends F{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Y.EMPTY}}function R(n){return n&&"function"==typeof n.schedule}function K(n,t){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new le(n,t))}}class le{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Tt(t,this.project,this.thisArg))}}class Tt extends ft{constructor(t,e,r){super(t),this.project=e,this.count=0,this.thisArg=r||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const se=n=>t=>{for(let e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()},xe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",en=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Rt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const tn=n=>{if(n&&"function"==typeof n[dt])return(n=>t=>{const e=n[dt]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(en(n))return se(n);if(Rt(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Nt),t))(n);if(n&&"function"==typeof n[xe])return(n=>t=>{const e=n[xe]();for(;;){let r;try{r=e.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Lt(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Bn(n,t){return new ot(e=>{const r=new Y;let i=0;return r.add(t.schedule(function(){i!==n.length?(e.next(n[i++]),e.closed||r.add(this.schedule())):e.complete()})),r})}function rn(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[dt]}(n))return function(n,t){return new ot(e=>{const r=new Y;return r.add(t.schedule(()=>{const i=n[dt]();r.add(i.subscribe({next(s){r.add(t.schedule(()=>e.next(s)))},error(s){r.add(t.schedule(()=>e.error(s)))},complete(){r.add(t.schedule(()=>e.complete()))}}))})),r})}(n,t);if(Rt(n))return function(n,t){return new ot(e=>{const r=new Y;return r.add(t.schedule(()=>n.then(i=>{r.add(t.schedule(()=>{e.next(i),r.add(t.schedule(()=>e.complete()))}))},i=>{r.add(t.schedule(()=>e.error(i)))}))),r})}(n,t);if(en(n))return Bn(n,t);if(function(n){return n&&"function"==typeof n[xe]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new ot(e=>{const r=new Y;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=n[xe](),r.add(t.schedule(function(){if(e.closed)return;let s,l;try{const p=i.next();s=p.value,l=p.done}catch(p){return void e.error(p)}l?e.complete():(e.next(s),this.schedule())}))})),r})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof ot?n:new ot(tn(n))}class Kt extends ft{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class tr extends ft{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function ir(n,t){if(t.closed)return;if(n instanceof ot)return n.subscribe(t);let e;try{e=tn(n)(t)}catch(r){t.error(r)}return e}function jn(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(jn((i,s)=>rn(n(i,s)).pipe(K((l,p)=>t(i,l,s,p))),e)):("number"==typeof t&&(e=t),r=>r.lift(new ii(n,e)))}class ii{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Ar(t,this.project,this.concurrent))}}class Ar extends tr{constructor(t,e,r=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Kt(this),r=this.destination;r.add(e);const i=ir(t,e);i!==e&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function On(n=Number.POSITIVE_INFINITY){return jn(Je,n)}function ci(n,t){return t?Bn(n,t):new ot(se(n))}function je(...n){let t=Number.POSITIVE_INFINITY,e=null,r=n[n.length-1];return R(r)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof r&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof ot?n[0]:On(t)(ci(n,e))}function ge(){return function(t){return t.lift(new qe(t))}}class qe{constructor(t){this.connectable=t}call(t,e){const{connectable:r}=this;r._refCount++;const i=new Ye(t,r),s=e.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class Ye extends ft{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,i=t._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Ue extends ot{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Y,t.add(this.source.subscribe(new zt(this.getSubject(),this))),t.closed&&(this._connection=null,t=Y.EMPTY)),t}refCount(){return ge()(this)}}const Wt=(()=>{const n=Ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class zt extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Xn(){return new F}function Cr(){return n=>ge()(function(n,t){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,Wt);return s.source=r,s.subjectFactory=i,s}}(Xn)(n))}function sn(n){for(let t in n)if(n[t]===sn)return t;throw Error("Could not find renamed property on target object.")}function hi(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function nn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(nn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Sr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const co=sn({__forward_ref__:sn});function Fn(n){return n.__forward_ref__=Fn,n.toString=function(){return nn(this())},n}function an(n){return Gi(n)?n():n}function Gi(n){return"function"==typeof n&&n.hasOwnProperty(co)&&n.__forward_ref__===Fn}class Be extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function At(n,t){const e=t?` in ${t}`:"";throw new Be("201",`No provider for ${tt(n)} found${e}`)}function Ee(n,t){null==n&&function(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function at(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function sr(n){return nr(n,eo)||nr(n,No)}function nr(n,t){return n.hasOwnProperty(t)?n[t]:null}function Bs(n){return n&&(n.hasOwnProperty(Ho)||n.hasOwnProperty(wu))?n[Ho]:null}const eo=sn({\u0275prov:sn}),Ho=sn({\u0275inj:sn}),No=sn({ngInjectableDef:sn}),wu=sn({ngInjectorDef:sn});var xn=(()=>((xn=xn||{})[xn.Default=0]="Default",xn[xn.Host=1]="Host",xn[xn.Self=2]="Self",xn[xn.SkipSelf=4]="SkipSelf",xn[xn.Optional=8]="Optional",xn))();let ws;function to(n){const t=ws;return ws=n,t}function ts(n,t,e){const r=sr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&xn.Optional?null:void 0!==t?t:void At(nn(n),"Injector")}function ho(n){return{toString:n}.toString()}var ki=(()=>((ki=ki||{})[ki.OnPush=0]="OnPush",ki[ki.Default=1]="Default",ki))(),rr=(()=>((rr=rr||{})[rr.Emulated=0]="Emulated",rr[rr.None=2]="None",rr[rr.ShadowDom=3]="ShadowDom",rr))();const no="undefined"!=typeof globalThis&&globalThis,Hn="undefined"!=typeof window&&window,Wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sn=no||"undefined"!=typeof global&&global||Hn||Wi,Hi={},$t=[],qn=sn({\u0275cmp:sn}),Hs=sn({\u0275dir:sn}),Go=sn({\u0275pipe:sn}),Wo=sn({\u0275mod:sn}),Eo=sn({\u0275loc:sn}),Pi=sn({\u0275fac:sn}),Jn=sn({__NG_ELEMENT_ID__:sn});let Fo=0;function _r(n){return ho(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ki.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||rr.Emulated,id:"c",styles:n.styles||$t,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,l=n.pipes;return r.id+=Fo++,r.inputs=pa(n.inputs,e),r.outputs=pa(n.outputs),s&&s.forEach(p=>p(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(zs):null,r.pipeDefs=l?()=>("function"==typeof l?l():l).map(Es):null,r})}function zs(n){return Yr(n)||function(n){return n[Hs]||null}(n)}function Es(n){return function(n){return n[Go]||null}(n)}const qs={};function Ln(n){return ho(()=>{const t={type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(qs[n.id]=n.type),t})}function pa(n,t){if(null==n)return Hi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}const Dt=_r;function Ni(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yr(n){return n[qn]||null}function X(n,t){const e=n[Wo]||null;if(!e&&!0===t)throw new Error(`Type ${nn(n)} does not have '\u0275mod' property.`);return e}function $o(n){return Array.isArray(n)&&"object"==typeof n[1]}function Li(n){return Array.isArray(n)&&!0===n[1]}function Ws(n){return 0!=(8&n.flags)}function Co(n){return 2==(2&n.flags)}function Ss(n){return 1==(1&n.flags)}function So(n){return null!==n.template}function Is(n){return 0!=(512&n[2])}function mo(n,t){return n.hasOwnProperty(Pi)?n[Pi]:null}class Qs{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hr(){return La}function La(n){return n.type.prototype.ngOnChanges&&(n.setInput=Su),Kr}function Kr(){const n=ni(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Hi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Su(n,t,e,r){const i=ni(n)||function(n,t){return n[jt]=t}(n,{previous:Hi,current:null}),s=i.current||(i.current={}),l=i.previous,p=this.declaredInputs[e],v=l[p];s[p]=new Qs(v&&v.currentValue,t,l===Hi),n[r]=t}Hr.ngInherit=!0;const jt="__ngSimpleChanges__";function ni(n){return n[jt]||null}const Gu="http://www.w3.org/2000/svg";let fi;function oe(n){return!!n.listen}const Xe={createRenderer:(n,t)=>void 0!==fi?fi:"undefined"!=typeof document?document:void 0};function Pn(n){for(;Array.isArray(n);)n=n[0];return n}function so(n,t){return Pn(t[n])}function Ci(n,t){return Pn(t[n.index])}function Ms(n,t){return n.data[t]}function Xr(n,t){return n[t]}function Fr(n,t){const e=t[n];return $o(e)?e:e[0]}function Iu(n){return 4==(4&n[2])}function uc(n){return 128==(128&n[2])}function va(n,t){return null==t?null:n[t]}function Ua(n){n[18]=0}function Sl(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Gn={lFrame:cc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function y(){return Gn.bindingsEnabled}function b(){return Gn.lFrame.lView}function D(){return Gn.lFrame.tView}function x(n){return Gn.lFrame.contextLView=n,n[8]}function z(){let n=Q();for(;null!==n&&64===n.type;)n=n.parent;return n}function Q(){return Gn.lFrame.currentTNode}function ae(n,t){const e=Gn.lFrame;e.currentTNode=n,e.isParent=t}function He(){return Gn.lFrame.isParent}function nt(){Gn.lFrame.isParent=!1}function Zt(){return Gn.isInCheckNoChangesMode}function un(n){Gn.isInCheckNoChangesMode=n}function Wn(){const n=Gn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function $i(){return Gn.lFrame.bindingIndex++}function hs(n,t){const e=Gn.lFrame;e.bindingIndex=e.bindingRootIndex=n,Jh(t)}function Jh(n){Gn.lFrame.currentDirectiveIndex=n}function sh(n){const t=Gn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function ah(){return Gn.lFrame.currentQueryIndex}function lc(n){Gn.lFrame.currentQueryIndex=n}function Tu(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Du(n,t,e){if(e&xn.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&xn.Host||(i=Tu(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,n=s}const r=Gn.lFrame=Zh();return r.currentTNode=t,r.lView=n,!0}function Il(n){const t=Zh(),e=n[1];Gn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Zh(){const n=Gn.lFrame,t=null===n?null:n.child;return null===t?cc(n):t}function cc(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function nd(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ba=nd;function su(){const n=nd();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ko(){return Gn.lFrame.selectedIndex}function Ku(n){Gn.lFrame.selectedIndex=n}function ro(){const n=Gn.lFrame;return Ms(n.tView,n.selectedIndex)}function To(){Gn.lFrame.currentNamespace=Gu}function wi(){Gn.lFrame.currentNamespace=null}function Si(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:C,ngOnDestroy:O}=s;l&&(n.contentHooks||(n.contentHooks=[])).push(-e,l),p&&((n.contentHooks||(n.contentHooks=[])).push(e,p),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,p)),v&&(n.viewHooks||(n.viewHooks=[])).push(-e,v),C&&((n.viewHooks||(n.viewHooks=[])).push(e,C),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,C)),null!=O&&(n.destroyHooks||(n.destroyHooks=[])).push(e,O)}}function Os(n,t,e){xs(n,t,3,e)}function Vo(n,t,e,r){(3&n[2])===e&&xs(n,t,e,r)}function Do(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function xs(n,t,e,r){const s=null!=r?r:-1,l=t.length-1;let p=0;for(let v=void 0!==r?65535&n[18]:0;v<l;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(n[18]+=65536),(p<s||-1==s)&&(Yu(n,e,t,v),n[18]=(4294901760&n[18])+v+2),v++}function Yu(n,t,e,r){const i=e[r]<0,s=e[r+1],p=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(p)}finally{}}}else try{s.call(p)}finally{}}class Js{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ml(n,t,e){const r=oe(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const l=e[i++],p=e[i++],v=e[i++];r?n.setAttribute(t,p,v,l):t.setAttributeNS(l,p,v)}else{const l=s,p=e[++i];fs(l)?r&&n.setProperty(t,l,p):r?n.setAttribute(t,l,p):t.setAttribute(l,p),i++}}return i}function uh(n){return 3===n||4===n||6===n}function fs(n){return 64===n.charCodeAt(0)}function ja(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||lh(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function lh(n,t,e,r,i){let s=0,l=n.length;if(-1===t)l=-1;else for(;s<n.length;){const p=n[s++];if("number"==typeof p){if(p===t){l=-1;break}if(p>t){l=s-1;break}}}for(;s<n.length;){const p=n[s];if("number"==typeof p)break;if(p===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==l&&(n.splice(l,0,t),s=l+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function hc(n){return-1!==n}function Ou(n){return 32767&n}function fc(n,t){let e=function(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let dc=!0;function Xu(n){const t=dc;return dc=n,t}let Zu=0;function Ol(n,t){const e=tf(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,ch(r.data,n),ch(t,null),ch(r.blueprint,null));const i=ba(n,t),s=n.injectorIndex;if(hc(i)){const l=Ou(i),p=fc(i,t),v=p[1].data;for(let C=0;C<8;C++)t[s+C]=p[l+C]|v[l+C]}return t[s+8]=i,s}function ch(n,t){n.push(0,0,0,0,0,0,0,0,t)}function tf(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ba(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const s=i[1],l=s.type;if(r=2===l?s.declTNode:1===l?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function ds(n,t,e){!function(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Jn)&&(r=e[Jn]),null==r&&(r=e[Jn]=Zu++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function sd(n,t,e){if(e&xn.Optional)return n;At(t,"NodeInjector")}function nf(n,t,e,r){if(e&xn.Optional&&void 0===r&&(r=null),0==(e&(xn.Self|xn.Host))){const i=n[9],s=to(void 0);try{return i?i.get(t,r,e&xn.Optional):ts(t,r,e&xn.Optional)}finally{to(s)}}return sd(r,t,e)}function ad(n,t,e,r=xn.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Jn)?n[Jn]:void 0;return"number"==typeof t?t>=0?255&t:rf:t}(e);if("function"==typeof s){if(!Du(t,n,r))return r&xn.Host?sd(i,e,r):nf(t,e,r,i);try{const l=s(r);if(null!=l||r&xn.Optional)return l;At(e)}finally{Ba()}}else if("number"==typeof s){let l=null,p=tf(n,t),v=-1,C=r&xn.Host?t[16][6]:null;for((-1===p||r&xn.SkipSelf)&&(v=-1===p?ba(n,t):t[p+8],-1!==v&&of(r,!1)?(l=t[1],p=Ou(v),t=fc(v,t)):p=-1);-1!==p;){const O=t[1];if(el(s,p,O.data)){const U=gc(p,t,e,l,r,C);if(U!==ud)return U}v=t[p+8],-1!==v&&of(r,t[1].data[p+8]===C)&&el(s,p,t)?(l=O,p=Ou(v),t=fc(v,t)):p=-1}}}return nf(t,e,r,i)}const ud={};function rf(){return new uu(z(),b())}function gc(n,t,e,r,i,s){const l=t[1],p=l.data[n+8],O=xl(p,l,e,null==r?Co(p)&&dc:r!=l&&0!=(3&p.type),i&xn.Host&&s===p);return null!==O?au(t,l,O,p):ud}function xl(n,t,e,r,i){const s=n.providerIndexes,l=t.data,p=1048575&s,v=n.directiveStart,O=s>>20,W=i?p+O:n.directiveEnd;for(let J=r?p:p+O;J<W;J++){const he=l[J];if(J<v&&e===he||J>=v&&he.type===e)return J}if(i){const J=l[v];if(J&&So(J)&&J.type===e)return v}return null}function au(n,t,e,r){let i=n[e];const s=t.data;if(function(n){return n instanceof Js}(i)){const l=i;l.resolving&&function(n,t){throw new Be("200",`Circular dependency in DI detected for ${n}`)}(tt(s[e]));const p=Xu(l.canSeeViewProviders);l.resolving=!0;const v=l.injectImpl?to(l.injectImpl):null;Du(n,r,xn.Default);try{i=n[e]=l.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const l=La(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==v&&to(v),Xu(p),l.resolving=!1,Ba()}}return i}function el(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function of(n,t){return!(n&xn.Self||n&xn.Host&&t)}class uu{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return ad(this._tNode,this._lView,t,r,e)}}function Jr(n){return ho(()=>{const t=n.prototype.constructor,e=t[Pi]||_c(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Pi]||_c(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function _c(n){return Gi(n)?()=>{const t=_c(an(n));return t&&t()}:mo(n)}function wa(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(uh(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(z(),n)}const xu="__parameters__";function bo(n,t,e){return ho(()=>{const r=function(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const l=new i(...s);return p.annotation=l,p;function p(v,C,O){const U=v.hasOwnProperty(xu)?v[xu]:Object.defineProperty(v,xu,{value:[]})[xu];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(l),v}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bc=new Xt("AnalyzeForEntryComponents"),tl=Function;function ps(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),ps(r,t)):t!==n&&t.push(r)}return t}function gs(n,t){n.forEach(e=>Array.isArray(e)?gs(e,t):t(e))}function Ec(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ku(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ha(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function ms(n,t,e){let r=ea(n,t);return r>=0?n[1|r]=e:(r=~r,function(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Pu(n,t){const e=ea(n,t);if(e>=0)return n[1|e]}function ea(n,t){return function(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),l=n[s<<e];if(t===l)return s<<e;l>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const nl={},Nl="__NG_DI_FLAG__",cu="ngTempTokenPath",Rp=/\n/gm,dd="__source",pd=sn({provide:String,useValue:sn});let gh;function Fl(n){const t=gh;return gh=n,t}function kp(n,t=xn.Default){if(void 0===gh)throw new Error("inject() must be called from an injection context");return null===gh?ts(n,void 0,t):gh.get(n,t&xn.Optional?null:void 0,t)}function Me(n,t=xn.Default){return(ws||kp)(an(n),t)}const Tc=Me;function Ea(n){const t=[];for(let e=0;e<n.length;e++){const r=an(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=xn.Default;for(let l=0;l<r.length;l++){const p=r[l],v=Am(p);"number"==typeof v?-1===v?i=p.token:s|=v:i=p}t.push(Me(i,s))}else t.push(Me(r))}return t}function za(n,t){return n[Nl]=t,n.prototype[Nl]=t,n}function Am(n){return n[Nl]}function ta(n,t,e,r){const i=n[cu];throw t[dd]&&i.unshift(t[dd]),n.message=function(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=nn(t);if(Array.isArray(t))i=t.map(nn).join(" -> ");else if("object"==typeof t){let s=[];for(let l in t)if(t.hasOwnProperty(l)){let p=t[l];s.push(l+":"+("string"==typeof p?JSON.stringify(p):nn(p)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Rp,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[cu]=null,n}const Ui=za(bo("Inject",n=>({token:n})),-1),Yi=za(bo("Optional"),8),ks=za(bo("SkipSelf"),4);let Ch;function Vl(n){var t;return(null===(t=function(){if(void 0===Ch&&(Ch=null,Sn.trustedTypes))try{Ch=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ch}())||void 0===t?void 0:t.createHTML(n))||n}class Bl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rc extends Bl{getTypeName(){return"HTML"}}class il extends Bl{getTypeName(){return"Style"}}class bd extends Bl{getTypeName(){return"Script"}}class Np extends Bl{getTypeName(){return"URL"}}class wd extends Bl{getTypeName(){return"ResourceURL"}}function Ii(n){return n instanceof Bl?n.changingThisBreaksApplicationSecurity:n}function ra(n,t){const e=Fu(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Fu(n){return n instanceof Bl&&n.getTypeName()||null}class pf{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Vl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ed{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Vl(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Vl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const l=e.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&t.removeAttribute(l)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const kc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hl(n){return(n=String(n)).match(kc)||n.match(Pc)?n:"unsafe:"+n}function Cd(n){return(n=String(n)).split(",").map(t=>Hl(t.trim())).join(", ")}function Ga(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ia(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Lp=Ga("area,br,col,hr,img,wbr"),_f=Ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vp=Ga("rp,rt"),a=ia(Lp,ia(_f,Ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ia(Vp,Ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ia(Vp,_f)),u=Ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d=Ga("srcset"),T=ia(u,d,Ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k=Ga("script,style,template");class j{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!a.hasOwnProperty(e))return this.sanitizedSomething=!0,!k.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),l=s.name,p=l.toLowerCase();if(!T.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let v=s.value;u[p]&&(v=Hl(v)),d[p]&&(v=Cd(v)),this.buf.push(" ",l,'="',Te(v),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();a.hasOwnProperty(e)&&!Lp.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Te(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fe=/([^\#-~ |!])/g;function Te(n){return n.replace(/&/g,"&amp;").replace(ne,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let De;function We(n,t){let e=null;try{De=De||function(n){const t=new Ed(n);return function(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch(n){return!1}}()?new pf(t):t}(n);let r=t?String(t):"";e=De.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=De.getInertBodyElement(r)}while(r!==s);return Vl((new j).sanitizeChildren(st(e)||e))}finally{if(e){const r=st(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function st(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();const Ia="__ngContext__";function Qi(n,t){n[Ia]=t}function Pm(n){const t=function(n){return n[Ia]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Id(n){return n.ngOriginalError}function jm(n,...t){n.error(...t)}class pu{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=this._findContext(t),i=function(n){return n&&n.ngErrorLogger||jm}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Id(t)):null}_findOriginalError(t){let e=t&&Id(t);for(;e&&Id(e);)e=Id(e);return e||null}}const qm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Sn))();function yf(n){return n.ownerDocument.defaultView}function gu(n){return n instanceof Function?n():n}var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();function Wm(n,t){return undefined(n,t)}function ol(n){const t=n[3];return Li(t)?t[3]:t}function Td(n){return Lc(n[13])}function Ah(n){return Lc(n[4])}function Lc(n){for(;null!==n&&!Li(n);)n=n[4];return n}function wf(n,t,e,r,i){if(null!=r){let s,l=!1;Li(r)?s=r:$o(r)&&(l=!0,r=r[0]);const p=Pn(r);0===n&&null!==e?null==i?uy(t,e,p):Uc(t,e,p,i||null,!0):1===n&&null!==e?Uc(t,e,p,i||null,!0):2===n?function(n,t,e){const r=Kp(n,t);r&&function(n,t,e,r){oe(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,p,l):3===n&&t.destroyNode(p),null!=s&&function(n,t,e,r,i){const s=e[7];s!==Pn(e)&&wf(t,n,r,s,i);for(let p=10;p<e.length;p++){const v=e[p];Sf(v[1],v,n,t,r,s)}}(t,n,s,e,i)}}function Ym(n,t,e){return oe(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Xm(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Sl(i,-1)),e.splice(r,1)}function Jm(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&Xm(i,r),t>0&&(n[e-1][4]=r[4]);const s=ku(n,10+t);!function(n,t){Sf(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=s[19];null!==l&&l.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Zm(n,t){if(!(256&t[2])){const e=t[11];oe(e)&&e.destroyNode&&Sf(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Ad(n[1],n);for(;t;){let e=null;if($o(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)$o(t)&&Ad(t[1],t),t=t[3];null===t&&(t=n),$o(t)&&Ad(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ad(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Js)){const s=e[r+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const p=i[s[l]],v=s[l+1];try{v.call(p)}finally{}}else try{s.call(i)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const l=e[s+1],p="function"==typeof l?l(t):Pn(t[l]),v=r[i=e[s+2]],C=e[s+3];"boolean"==typeof C?p.removeEventListener(e[s],v,C):C>=0?r[i=C]():r[i=-C].unsubscribe(),s+=2}else{const l=r[i=e[s+1]];e[s].call(l)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(n,t),1===t[1].type&&oe(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Li(t[3])){e!==t[3]&&Xm(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Wp(n,t,e){return function(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===rr.None||i===rr.Emulated)return null}return Ci(r,e)}(n,t.parent,e)}function Uc(n,t,e,r,i){oe(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function uy(n,t,e){oe(n)?n.appendChild(t,e):t.appendChild(e)}function n_(n,t,e,r,i){null!==r?Uc(n,t,e,r,i):uy(n,t,e)}function Kp(n,t){return oe(n)?n.parentNode(t):t.parentNode}function ly(n,t,e){return i_(n,t,e)}let i_=function(n,t,e){return 40&n.type?Ci(n,e):null};function Yp(n,t,e,r){const i=Wp(n,r,t),s=t[11],p=ly(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let v=0;v<e.length;v++)n_(s,i,e[v],p,!1);else n_(s,i,e,p,!1)}function Ef(n,t){if(null!==t){const e=t.type;if(3&e)return Ci(t,n);if(4&e)return Od(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Ef(n,r);{const i=n[t.index];return Li(i)?Od(-1,i):Pn(i)}}if(32&e)return Wm(t,n)()||Pn(n[t.index]);{const r=hy(n,t);return null!==r?Array.isArray(r)?r[0]:Ef(ol(n[16]),r):Ef(n,t.next)}}return null}function hy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Od(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Ef(r,i)}return t[7]}function Cf(n,t,e,r,i,s,l){for(;null!=e;){const p=r[e.index],v=e.type;if(l&&0===t&&(p&&Qi(Pn(p),r),e.flags|=4),64!=(64&e.flags))if(8&v)Cf(n,t,e.child,r,i,s,!1),wf(t,n,i,p,s);else if(32&v){const C=Wm(e,r);let O;for(;O=C();)wf(t,n,i,O,s);wf(t,n,i,p,s)}else 16&v?o_(n,t,r,e,i,s):wf(t,n,i,p,s);e=l?e.projectionNext:e.next}}function Sf(n,t,e,r,i,s){Cf(e,r,n.firstChild,t,i,s,!1)}function o_(n,t,e,r,i,s){const l=e[16],v=l[6].projection[r.projection];if(Array.isArray(v))for(let C=0;C<v.length;C++)wf(t,n,i,v[C],s);else Cf(n,t,v,l[3],i,s,!0)}function gy(n,t,e){oe(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function a_(n,t,e){oe(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function u_(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}const l_="ng-template";function _y(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==u_(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Qp(n){return 4===n.type&&n.value!==l_}function vy(n,t,e){return t===(4!==n.type||e?n.value:l_)}function yy(n,t,e){let r=4;const i=n.attrs||[],s=function(n){for(let t=0;t<n.length;t++)if(uh(n[t]))return t;return n.length}(i);let l=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!l)if(4&r){if(r=2|1&r,""!==v&&!vy(n,v,e)||""===v&&1===t.length){if(Ta(r))return!1;l=!0}}else{const C=8&r?v:t[++p];if(8&r&&null!==n.attrs){if(!_y(n.attrs,C,e)){if(Ta(r))return!1;l=!0}continue}const U=by(8&r?"class":v,i,Qp(n),e);if(-1===U){if(Ta(r))return!1;l=!0;continue}if(""!==C){let W;W=U>s?"":i[U+1].toLowerCase();const J=8&r?W:null;if(J&&-1!==u_(J,C,0)||2&r&&C!==W){if(Ta(r))return!1;l=!0}}}}else{if(!l&&!Ta(r)&&!Ta(v))return!1;if(l&&Ta(v))continue;l=!1,r=v|1&r}}return Ta(r)||l}function Ta(n){return 0==(1&n)}function by(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)s=!0;else{if(1===l||2===l){let p=t[++i];for(;"string"==typeof p;)p=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=s?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function xd(n,t,e=!1){for(let r=0;r<t.length;r++)if(yy(n,t[r],e))return!0;return!1}function Mh(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Ey(n,t){return n?":not("+t.trim()+")":t}function Cy(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const p=n[++e];i+="["+l+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!Ta(l)&&(t+=Ey(s,i),i=""),r=l,s=s||!Ta(r);e++}return""!==i&&(t+=Ey(s,i)),t}const pr={};function In(n){Iy(D(),b(),Ko()+n,Zt())}function Iy(n,t,e,r){if(!r)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Os(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Vo(t,s,0,e)}Ku(e)}function If(n,t){return n<<17|t<<2}function mu(n){return n>>17&32767}function Xp(n){return 2|n}function sl(n){return(131068&n)>>2}function f_(n,t){return-131069&n|t<<2}function Rd(n){return 1|n}function Af(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];if(-1!==s){const l=n.data[s];lc(i),l.contentQueries(2,t[s],s)}}}function Mf(n,t,e,r,i,s,l,p,v,C){const O=t.blueprint.slice();return O[0]=i,O[2]=140|r,Ua(O),O[3]=O[15]=n,O[8]=e,O[10]=l||n&&n[10],O[11]=p||n&&n[11],O[12]=v||n&&n[12]||null,O[9]=C||n&&n[9]||null,O[6]=s,O[16]=2==t.type?n[16]:O,O}function Rh(n,t,e,r,i){let s=n.data[t];if(null===s)s=function(n,t,e,r,i){const s=Q(),l=He(),v=n.data[t]=function(n,t,e,r,i,s){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=v),null!==s&&(l?null==s.child&&null!==v.parent&&(s.child=v):null===s.next&&(s.next=v)),v}(n,t,e,r,i),Gn.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const l=function(){const n=Gn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===l?-1:l.injectorIndex}return ae(s,!0),s}function Of(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function xf(n,t,e){Il(t);try{const r=n.viewQuery;null!==r&&Bd(1,r,e);const i=n.template;null!==i&&Uy(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Af(n,t),n.staticViewQueries&&Bd(2,n.viewQuery,e);const s=n.components;null!==s&&function(n,t){for(let e=0;e<t.length;e++)J0(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,su()}}function Rf(n,t,e,r){const i=t[2];if(256==(256&i))return;Il(t);const s=Zt();try{Ua(t),function(n){Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Uy(n,t,e,2,r);const l=3==(3&i);if(!s)if(l){const C=n.preOrderCheckHooks;null!==C&&Os(t,C,null)}else{const C=n.preOrderHooks;null!==C&&Vo(t,C,0,null),Do(t,0)}if(function(n){for(let t=Td(n);null!==t;t=Ah(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],s=i[3];0==(1024&i[2])&&Sl(s,1),i[2]|=1024}}}(t),function(n){for(let t=Td(n);null!==t;t=Ah(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];uc(r)&&Rf(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&Af(n,t),!s)if(l){const C=n.contentCheckHooks;null!==C&&Os(t,C)}else{const C=n.contentHooks;null!==C&&Vo(t,C,1),Do(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Ku(~i);else{const s=i,l=e[++r],p=e[++r];hs(l,s),p(2,t[s])}}}finally{Ku(-1)}}(n,t);const p=n.components;null!==p&&function(n,t){for(let e=0;e<t.length;e++)S_(n,t[e])}(t,p);const v=n.viewQuery;if(null!==v&&Bd(2,v,r),!s)if(l){const C=n.viewCheckHooks;null!==C&&Os(t,C)}else{const C=n.viewHooks;null!==C&&Vo(t,C,2),Do(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Sl(t[3],-1))}finally{su()}}function $0(n,t,e,r){const i=t[10],s=!Zt(),l=Iu(t);try{s&&!l&&i.begin&&i.begin(),l&&xf(n,t,r),Rf(n,t,e,r)}finally{s&&!l&&i.end&&i.end()}}function Uy(n,t,e,r,i){const s=Ko(),l=2&r;try{Ku(-1),l&&t.length>20&&Iy(n,t,20,Zt()),e(r,i)}finally{Ku(s)}}function sg(n,t,e){if(Ws(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const l=n.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}}function ag(n,t,e){!y()||(function(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Ol(e,t),Qi(r,t);const l=e.initialInputs;for(let p=i;p<s;p++){const v=n.data[p],C=So(v);C&&Fd(t,e,v);const O=au(t,n,p,e);Qi(O,t),null!==l&&b_(0,p-i,O,v,0,l),C&&(Fr(e.index,t)[8]=O)}}(n,t,e,Ci(e,t)),128==(128&e.flags)&&function(n,t,e){const r=e.directiveStart,i=e.directiveEnd,l=e.index,p=Gn.lFrame.currentDirectiveIndex;try{Ku(l);for(let v=r;v<i;v++){const C=n.data[v],O=t[v];Jh(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&jc(C,O)}}finally{Ku(-1),Jh(p)}}(n,t,e))}function m_(n,t,e=Ci){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const l=r[s+1],p=-1===l?e(t,n):n[l];n[i++]=p}}}function ug(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=kf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function kf(n,t,e,r,i,s,l,p,v,C){const O=20+r,U=O+i,W=function(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:pr);return e}(O,U),J="function"==typeof C?C():C;return W[1]={type:n,blueprint:W,template:e,queries:null,viewQuery:p,declTNode:t,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:J,incompleteFirstPass:!1}}function __(n,t,e,r){const i=D_(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&A_(n).push(r,i.length-1))}function v_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function Da(n,t,e,r,i,s,l,p){const v=Ci(t,e);let O,C=t.inputs;!p&&null!=C&&(O=C[r])?(Uo(n,e,O,r,i),Co(t)&&function(n,t){const e=Fr(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,oe(s)?s.setProperty(v,r,i):fs(r)||(v.setProperty?v.setProperty(r,i):v[r]=i))}function y_(n,t,e,r){let i=!1;if(y()){const s=function(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const l=r[s];xd(e,l.selectors,!1)&&(i||(i=[]),ds(Ol(e,t),n,l.type),So(l)?(Pr(n,e),i.unshift(l)):i.push(l))}return i}(n,t,e),l=null===r?null:{"":-1};if(null!==s){i=!0,Gy(e,n.data.length,s.length);for(let O=0;O<s.length;O++){const U=s[O];U.providersResolver&&U.providersResolver(U)}let p=!1,v=!1,C=Of(n,t,s.length,null);for(let O=0;O<s.length;O++){const U=s[O];e.mergedAttrs=ja(e.mergedAttrs,U.hostAttrs),ao(n,e,t,C,U),Nd(C,U,l),null!==U.contentQueries&&(e.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(e.flags|=128);const W=U.type.prototype;!p&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),p=!0),!v&&(W.ngOnChanges||W.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),v=!0),C++}!function(n,t){const r=t.directiveEnd,i=n.data,s=t.attrs,l=[];let p=null,v=null;for(let C=t.directiveStart;C<r;C++){const O=i[C],U=O.inputs,W=null===s||Qp(t)?null:Wy(U,s);l.push(W),p=v_(U,C,p),v=v_(O.outputs,C,v)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=16),p.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=p,t.outputs=v}(n,e)}l&&function(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new Be("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(e,r,l)}return e.mergedAttrs=ja(e.mergedAttrs,e.attrs),i}function kh(n,t,e,r,i,s){const l=s.hostBindings;if(l){let p=n.hostBindingOpCodes;null===p&&(p=n.hostBindingOpCodes=[]);const v=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(p)!=v&&p.push(v),p.push(r,i,l)}}function jc(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Pr(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Nd(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;So(t)&&(e[""]=n)}}function Gy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ao(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=mo(i.type)),l=new Js(s,So(i),null);n.blueprint[r]=l,e[r]=l,kh(n,t,0,r,Of(n,e,i.hostVars,pr),i)}function Fd(n,t,e){const r=Ci(t,n),i=ug(e),s=n[10],l=Nf(n,Mf(n,i,null,e.onPush?64:16,r,t,s,s.createRenderer(r,e),null,null));n[t.index]=l}function aa(n,t,e,r,i,s){const l=Ci(n,t);!function(n,t,e,r,i,s,l){if(null==s)oe(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const p=null==l?Fe(s):l(s,r||"",i);oe(n)?n.setAttribute(t,i,p,e):e?t.setAttributeNS(e,i,p):t.setAttribute(i,p)}}(t[11],l,s,n.value,e,r,i)}function b_(n,t,e,r,i,s){const l=s[t];if(null!==l){const p=r.setInput;for(let v=0;v<l.length;){const C=l[v++],O=l[v++],U=l[v++];null!==p?r.setInput(e,U,C,O):e[O]=U}}}function Wy(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function fg(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function S_(n,t){const e=Fr(t,n);if(uc(e)){const r=e[1];80&e[2]?Rf(r,e,r.template,e[8]):e[5]>0&&Vd(e)}}function Vd(n){for(let r=Td(n);null!==r;r=Ah(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const l=s[1];Rf(l,s,l.template,s[8])}else s[5]>0&&Vd(s)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Fr(e[r],n);uc(i)&&i[5]>0&&Vd(i)}}function J0(n,t){const e=Fr(t,n),r=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),xf(r,e,e[8])}function Nf(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Ud(n){for(;n;){n[2]|=64;const t=ol(n);if(Is(n)&&!t)return n;n=t}return null}function pg(n,t,e){const r=t[10];r.begin&&r.begin();try{Rf(n,t,n.template,e)}catch(i){throw gg(t,i),i}finally{r.end&&r.end()}}function Ky(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=Pm(e),i=r[1];$0(i,r,i.template,e)}}(n[8])}function Bd(n,t,e){lc(0),t(n,e)}const T_=(()=>Promise.resolve(null))();function D_(n){return n[7]||(n[7]=[])}function A_(n){return n.cleanup||(n.cleanup=[])}function An(n,t,e){return(null===n||So(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function gg(n,t){const e=n[9],r=e?e.get(pu,null):null;r&&r.handleError(t)}function Uo(n,t,e,r,i){for(let s=0;s<e.length;){const l=e[s++],p=e[s++],v=t[l],C=n.data[l];null!==C.setInput?C.setInput(v,i,r,p):v[p]=i}}function Aa(n,t,e){const r=so(t,n);!function(n,t,e){oe(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function Wa(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let l=0;l<t.length;l++){const p=t[l];"number"==typeof p?s=p:1==s?i=Sr(i,p):2==s&&(r=Sr(r,p+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const $a=new Xt("INJECTOR",-1);class M_{get(t,e=nl){if(e===nl){const r=new Error(`NullInjectorError: No provider for ${nn(t)}!`);throw r.name="NullInjectorError",r}return e}}const ul=new Xt("Set Injector scope."),Ph={},Qy={};let Ff;function wo(){return void 0===Ff&&(Ff=new M_),Ff}function O_(n,t=null,e=null,r){return new Ro(n,e,t||wo(),r)}class Ro{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&gs(e,p=>this.processProvider(p,t,e)),gs([t],p=>this.processInjectorType(p,[],s)),this.records.set($a,_(void 0,this));const l=this.records.get(ul);this.scope=null!=l?l.value:null,this.source=i||("object"==typeof t?null:nn(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nl,r=xn.Default){this.assertNotDestroyed();const i=Fl(this),s=to(void 0);try{if(!(r&xn.SkipSelf)){let p=this.records.get(t);if(void 0===p){const v=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xt}(t)&&sr(t);p=v&&this.injectableDefInScope(v)?_(mg(t),Ph):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&xn.Self?wo():this.parent).get(t,e=r&xn.Optional&&e===nl?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[cu]=l[cu]||[]).unshift(nn(t)),i)throw l;return ta(l,t,"R3InjectorError",this.source)}throw l}finally{to(s),Fl(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(nn(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,r){if(!(t=an(t)))return!1;let i=Bs(t);const s=null==i&&t.ngModule||void 0,l=void 0===s?t:s,p=-1!==r.indexOf(l);if(void 0!==s&&(i=Bs(s)),null==i)return!1;if(null!=i.imports&&!p){let O;r.push(l);try{gs(i.imports,U=>{this.processInjectorType(U,e,r)&&(void 0===O&&(O=[]),O.push(U))})}finally{}if(void 0!==O)for(let U=0;U<O.length;U++){const{ngModule:W,providers:J}=O[U];gs(J,he=>this.processProvider(he,W,J||$t))}}this.injectorDefTypes.add(l);const v=mo(l)||(()=>new l);this.records.set(l,_(v,Ph));const C=i.providers;if(null!=C&&!p){const O=t;gs(C,U=>this.processProvider(U,O,C))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,r){let i=ee(t=an(t))?t:an(t&&t.provide);const s=function(n,t,e){return S(n)?_(void 0,n.useValue):_(h(n),Ph)}(t);if(ee(t)||!0!==t.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=_(void 0,Ph,!0),l.factory=()=>Ea(l.multi),this.records.set(i,l)),i=t,l.multi.push(t)}this.records.set(i,s)}hydrate(t,e){return e.value===Ph&&(e.value=Qy,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=an(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function mg(n){const t=sr(n),e=null!==t?t.factory:mo(n);if(null!==e)return e;if(n instanceof Xt)throw new Error(`Token ${nn(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const r=Ha(t,"?");throw new Error(`Can't resolve all parameters for ${nn(n)}: (${r.join(", ")}).`)}const e=function(n){const t=n&&(n[eo]||n[No]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function h(n,t,e){let r;if(ee(n)){const i=an(n);return mo(i)||mg(i)}if(S(n))r=()=>an(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ea(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Me(an(n.useExisting));else{const i=an(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return mo(i)||mg(i);r=()=>new i(...Ea(n.deps))}return r}function _(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function S(n){return null!==n&&"object"==typeof n&&pd in n}function ee(n){return"function"==typeof n}const Xo=function(n,t,e){return function(n,t=null,e=null,r){const i=O_(n,t,e,r);return i._resolveInjectorDefTypes(),i}({name:e},t,n,e)};let Tr=(()=>{class n{static create(e,r){return Array.isArray(e)?Xo(e,r,""):Xo(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=nl,n.NULL=new M_,n.\u0275prov=at({token:n,providedIn:"any",factory:()=>Me($a)}),n.__NG_ELEMENT_ID__=-1,n})();function VN(n,t){Si(Pm(n)[1],z())}function fr(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(So(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=uE(n.inputs),l.declaredInputs=uE(n.declaredInputs),l.outputs=uE(n.outputs);const p=i.hostBindings;p&&HN(n,p);const v=i.viewQuery,C=i.contentQueries;if(v&&BN(n,v),C&&jN(n,C),hi(n.inputs,i.inputs),hi(n.declaredInputs,i.declaredInputs),hi(n.outputs,i.outputs),So(i)&&i.data.animation){const O=n.data;O.animation=(O.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let l=0;l<s.length;l++){const p=s[l];p&&p.ngInherit&&p(n),p===fr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ja(i.hostAttrs,e=ja(e,i.hostAttrs))}}(r)}function uE(n){return n===Hi?{}:n===$t?[]:n}function BN(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function jN(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function HN(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Xy=null;function _g(){if(!Xy){const n=Sn.Symbol;if(n&&n.iterator)Xy=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xy=r)}}}return Xy}class $l{constructor(t){this.wrapped=t}static wrap(t){return new $l(t)}static unwrap(t){return $l.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $l}}function R_(n){return!!lE(n)&&(Array.isArray(n)||!(n instanceof Map)&&_g()in n)}function lE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Hc(n,t,e){return n[t]=e}function Ma(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function pi(n,t,e,r){const i=b();return Ma(i,$i(),t)&&(D(),aa(ro(),i,n,t,e,r)),pi}function gi(n,t,e,r,i,s,l,p){const v=b(),C=D(),O=n+20,U=C.firstCreatePass?function(n,t,e,r,i,s,l,p,v){const C=t.consts,O=Rh(t,n,4,l||null,va(C,p));y_(t,e,O,va(C,v)),Si(t,O);const U=O.tViews=kf(2,O,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,C);return null!==t.queries&&(t.queries.template(t,O),U.queries=t.queries.embeddedTView(O)),O}(O,C,v,t,e,r,i,s,l):C.data[O];ae(U,!1);const W=v[11].createComment("");Yp(C,v,W,U),Qi(W,v),Nf(v,v[O]=fg(W,v,W,U)),Ss(U)&&ag(C,v,U),null!=l&&m_(v,U,p)}function Dg(n){return Xr(Gn.lFrame.contextLView,20+n)}function ye(n,t=xn.Default){const e=b();return null===e?Me(n,t):ad(z(),e,an(n),t)}function Rn(n,t,e){const r=b();return Ma(r,$i(),t)&&Da(D(),ro(),r,n,t,r[11],e,!1),Rn}function pE(n,t,e,r,i){const l=i?"class":"style";Uo(n,e,t.inputs[l],l,r)}function ut(n,t,e,r){const i=b(),s=D(),l=20+n,p=i[11],v=i[l]=Ym(p,t,Gn.lFrame.currentNamespace),C=s.firstCreatePass?function(n,t,e,r,i,s,l){const p=t.consts,C=Rh(t,n,2,i,va(p,s));return y_(t,e,C,va(p,l)),null!==C.attrs&&Wa(C,C.attrs,!1),null!==C.mergedAttrs&&Wa(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(l,s,i,0,t,e,r):s.data[l];ae(C,!0);const O=C.mergedAttrs;null!==O&&Ml(p,v,O);const U=C.classes;null!==U&&a_(p,v,U);const W=C.styles;null!==W&&gy(p,v,W),64!=(64&C.flags)&&Yp(s,i,v,C),0===Gn.lFrame.elementDepthCount&&Qi(v,i),Gn.lFrame.elementDepthCount++,Ss(C)&&(ag(s,i,C),sg(s,C,i)),null!==r&&m_(i,C)}function lt(){let n=z();He()?nt():(n=n.parent,ae(n,!1));const t=n;Gn.lFrame.elementDepthCount--;const e=D();e.firstCreatePass&&(Si(e,n),Ws(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&pE(e,t,b(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&pE(e,t,b(),t.stylesWithoutHost,!1)}function Yn(n,t,e,r){ut(n,t,e,r),lt()}function eb(n,t,e){const r=b(),i=D(),s=n+20,l=i.firstCreatePass?function(n,t,e,r,i){const s=t.consts,l=va(s,r),p=Rh(t,n,8,"ng-container",l);return null!==l&&Wa(p,l,!0),y_(t,e,p,va(s,i)),null!==t.queries&&t.queries.elementStart(t,p),p}(s,i,r,t,e):i.data[s];ae(l,!0);const p=r[s]=r[11].createComment("");Yp(i,r,p,l),Qi(p,r),Ss(l)&&(ag(i,r,l),sg(i,l,r)),null!=e&&m_(r,l)}function tb(){let n=z();const t=D();He()?nt():(n=n.parent,ae(n,!1)),t.firstCreatePass&&(Si(t,n),Ws(n)&&t.queries.elementEnd(n))}function Fh(){return b()}function P_(n){return!!n&&"function"==typeof n.then}const nb=function(n){return!!n&&"function"==typeof n.subscribe};function Lr(n,t,e,r){const i=b(),s=D(),l=z();return tD(s,i,i[11],l,n,t,!!e,r),Lr}function gE(n,t){const e=z(),r=b(),i=D();return tD(i,r,An(sh(i.data),e,r),e,n,t,!1),gE}function tD(n,t,e,r,i,s,l,p){const v=Ss(r),O=n.firstCreatePass&&A_(n),U=t[8],W=D_(t);let J=!0;if(3&r.type||p){const Ae=Ci(r,t),ht=p?p(Ae):Ae,Ze=W.length,Yt=p?hn=>p(Pn(hn[r.index])):r.index;if(oe(e)){let hn=null;if(!p&&v&&(hn=function(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const l=i[s];if(l===e&&i[s+1]===r){const p=t[7],v=i[s+2];return p.length>v?p[v]:null}"string"==typeof l&&(s+=2)}return null}(n,t,i,r.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=s,hn.__ngLastListenerFn__=s,J=!1;else{s=mE(r,t,U,s,!1);const Er=e.listen(ht,i,s);W.push(s,Er),O&&O.push(i,Yt,Ze,Ze+1)}}else s=mE(r,t,U,s,!0),ht.addEventListener(i,s,l),W.push(s),O&&O.push(i,Yt,Ze,l)}else s=mE(r,t,U,s,!1);const he=r.outputs;let Oe;if(J&&null!==he&&(Oe=he[i])){const Ae=Oe.length;if(Ae)for(let ht=0;ht<Ae;ht+=2){const Ri=t[Oe[ht]][Oe[ht+1]].subscribe(s),qi=W.length;W.push(s,Ri),O&&O.push(i,r.index,qi,-(qi+1))}}}function nD(n,t,e,r){try{return!1!==e(r)}catch(i){return gg(n,i),!1}}function mE(n,t,e,r,i){return function s(l){if(l===Function)return r;const p=2&n.flags?Fr(n.index,t):t;0==(32&t[2])&&Ud(p);let v=nD(t,0,r,l),C=s.__ngNextListenerFn__;for(;C;)v=nD(t,0,C,l)&&v,C=C.__ngNextListenerFn__;return i&&!1===v&&(l.preventDefault(),l.returnValue=!1),v}}function si(n=1){return function(n){return(Gn.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Gn.lFrame.contextLView))[8]}(n)}function CF(n,t){let e=null;const r=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?xd(n,s,!0):Mh(r,s))return i}else e=i}return e}function Ka(n){const t=b()[16][6];if(!t.projection){const r=t.projection=Ha(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const l=n?CF(s,n):0;null!==l&&(i[l]?i[l].projectionNext=s:r[l]=s,i[l]=s),s=s.next}}}function ji(n,t=0,e){const r=b(),i=D(),s=Rh(i,20+n,16,null,e||null);null===s.projection&&(s.projection=t),nt(),64!=(64&s.flags)&&function(n,t,e){o_(t[11],0,t,e,Wp(n,e,t),ly(e.parent||t[6],e,t))}(i,r,s)}function fD(n,t,e,r,i){const s=n[e+1],l=null===t;let p=r?mu(s):sl(s),v=!1;for(;0!==p&&(!1===v||l);){const O=n[p+1];TF(n[p],t)&&(v=!0,n[p+1]=r?Rd(O):Xp(O)),p=r?mu(O):sl(O)}v&&(n[e+1]=r?Xp(s):Rd(s))}function TF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ea(n,t)>=0}function Xi(n,t){return function(n,t,e,r){const i=b(),s=D(),l=function(n){const t=Gn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[Ko()],l=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(s,r)&&null===t&&!l&&(t=!1),t=function(n,t,e,r){const i=sh(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=N_(e=vE(null,n,t,e,r),t.attrs,r),s=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=vE(i,n,t,e,r),null===s){let v=function(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==sl(r))return n[mu(r)]}(n,t,r);void 0!==v&&Array.isArray(v)&&(v=vE(null,n,t,v[1],r),v=N_(v,t.attrs,r),function(n,t,e,r){n[mu(e?t.classBindings:t.styleBindings)]=r}(n,t,r,v))}else s=function(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=N_(r,n[s].hostAttrs,e);return N_(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function(n,t,e,r,i,s){let l=s?t.classBindings:t.styleBindings,p=mu(l),v=sl(l);n[r]=e;let O,C=!1;if(Array.isArray(e)){const U=e;O=U[1],(null===O||ea(U,O)>0)&&(C=!0)}else O=e;if(i)if(0!==v){const W=mu(n[p+1]);n[r+1]=If(W,p),0!==W&&(n[W+1]=f_(n[W+1],r)),n[p+1]=function(n,t){return 131071&n|t<<17}(n[p+1],r)}else n[r+1]=If(p,0),0!==p&&(n[p+1]=f_(n[p+1],r)),p=r;else n[r+1]=If(v,0),0===p?p=r:n[v+1]=f_(n[v+1],r),v=r;C&&(n[r+1]=Xp(n[r+1])),fD(n,O,r,!0),fD(n,O,r,!1),function(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ea(s,t)>=0&&(e[r+1]=Rd(e[r+1]))}(t,O,n,r,s),l=If(p,v),s?t.classBindings=l:t.styleBindings=l}(i,s,t,e,l,r)}}(s,n,l,r),t!==pr&&Ma(i,l,t)&&function(n,t,e,r,i,s,l,p){if(!(3&t.type))return;const v=n.data,C=v[p+1];ib(function(n){return 1==(1&n)}(C)?CD(v,t,e,i,sl(C),l):void 0)||(ib(s)||function(n){return 2==(2&n)}(C)&&(s=CD(v,null,e,i,p,l)),function(n,t,e,r,i){const s=oe(n);if(t)i?s?n.addClass(e,r):e.classList.add(r):s?n.removeClass(e,r):e.classList.remove(r);else{let l=-1===r.indexOf("-")?void 0:oa.DashCase;if(null==i)s?n.removeStyle(e,r,l):e.style.removeProperty(r);else{const p="string"==typeof i&&i.endsWith("!important");p&&(i=i.slice(0,-10),l|=oa.Important),s?n.setStyle(e,r,i,l):e.style.setProperty(r,i,p?"important":"")}}}(r,l,so(Ko(),e),i,s))}(s,s.data[Ko()],i,i[11],n,i[l+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=nn(Ii(n)))),n}(t,e),r,l)}(n,t,null,!0),Xi}function vE(n,t,e,r,i){let s=null;const l=e.directiveEnd;let p=e.directiveStylingLast;for(-1===p?p=e.directiveStart:p++;p<l&&(s=t[p],r=N_(r,s.hostAttrs,i),s!==n);)p++;return null!==n&&(e.directiveStylingLast=p),r}function N_(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ms(n,l,!!e||t[++s]))}return void 0===n?null:n}function CD(n,t,e,r,i,s){const l=null===t;let p;for(;i>0;){const v=n[i],C=Array.isArray(v),O=C?v[1]:v,U=null===O;let W=e[i+1];W===pr&&(W=U?$t:void 0);let J=U?Pu(W,r):O===r?W:void 0;if(C&&!ib(J)&&(J=Pu(v,r)),ib(J)&&(p=J,l))return p;const he=n[i+1];i=l?mu(he):sl(he)}if(null!==t){let v=s?t.residualClasses:t.residualStyles;null!=v&&(p=Pu(v,r))}return p}function ib(n){return void 0!==n}function br(n,t=""){const e=b(),r=D(),i=n+20,s=r.firstCreatePass?Rh(r,i,1,t,null):r.data[i],l=e[i]=function(n,t){return oe(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Yp(r,e,l,s),ae(s,!1)}function Gc(n){return Og("",n,""),Gc}function Og(n,t,e){const r=b(),i=function(n,t,e,r){return Ma(n,$i(),e)?t+Fe(e)+r:pr}(r,n,t,e);return i!==pr&&Aa(r,Ko(),i),Og}function Lf(n,t,e){const r=b();return Ma(r,$i(),t)&&Da(D(),ro(),r,n,t,r[11],e,!0),Lf}function yE(n,t,e){const r=b();if(Ma(r,$i(),t)){const s=D(),l=ro();Da(s,l,r,n,t,An(sh(s.data),l,r),e,!0)}return yE}const zd=void 0;var sL=["en",[["a","p"],["AM","PM"],zd],[["AM","PM"],zd,zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zd,"{1} 'at' {0}",zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let xg={};function Ya(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=qD(t);if(e)return e;const r=t.split("-")[0];if(e=qD(r),e)return e;if("en"===r)return sL;throw new Error(`Missing locale data for the locale "${n}".`)}function qD(n){return n in xg||(xg[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),xg[n]}var En=(()=>((En=En||{})[En.LocaleId=0]="LocaleId",En[En.DayPeriodsFormat=1]="DayPeriodsFormat",En[En.DayPeriodsStandalone=2]="DayPeriodsStandalone",En[En.DaysFormat=3]="DaysFormat",En[En.DaysStandalone=4]="DaysStandalone",En[En.MonthsFormat=5]="MonthsFormat",En[En.MonthsStandalone=6]="MonthsStandalone",En[En.Eras=7]="Eras",En[En.FirstDayOfWeek=8]="FirstDayOfWeek",En[En.WeekendRange=9]="WeekendRange",En[En.DateFormat=10]="DateFormat",En[En.TimeFormat=11]="TimeFormat",En[En.DateTimeFormat=12]="DateTimeFormat",En[En.NumberSymbols=13]="NumberSymbols",En[En.NumberFormats=14]="NumberFormats",En[En.CurrencyCode=15]="CurrencyCode",En[En.CurrencySymbol=16]="CurrencySymbol",En[En.CurrencyName=17]="CurrencyName",En[En.Currencies=18]="Currencies",En[En.Directionality=19]="Directionality",En[En.PluralCase=20]="PluralCase",En[En.ExtraData=21]="ExtraData",En))();const ob="en-US";let GD=ob;function bE(n){Ee(n,"Expected localeId to be defined"),"string"==typeof n&&(GD=n.toLowerCase().replace(/_/g,"-"))}function CE(n,t,e,r,i){if(n=an(n),Array.isArray(n))for(let s=0;s<n.length;s++)CE(n[s],t,e,r,i);else{const s=D(),l=b();let p=ee(n)?n:an(n.provide),v=h(n);const C=z(),O=1048575&C.providerIndexes,U=C.directiveStart,W=C.providerIndexes>>20;if(ee(n)||!n.multi){const J=new Js(v,i,ye),he=IE(p,t,i?O:O+W,U);-1===he?(ds(Ol(C,l),s,p),SE(s,n,t.length),t.push(p),C.directiveStart++,C.directiveEnd++,i&&(C.providerIndexes+=1048576),e.push(J),l.push(J)):(e[he]=J,l[he]=J)}else{const J=IE(p,t,O+W,U),he=IE(p,t,O,O+W),Oe=J>=0&&e[J],Ae=he>=0&&e[he];if(i&&!Ae||!i&&!Oe){ds(Ol(C,l),s,p);const ht=function(n,t,e,r,i){const s=new Js(n,e,ye);return s.multi=[],s.index=t,s.componentProviders=0,gA(s,i,r&&!e),s}(i?rV:nV,e.length,i,r,v);!i&&Ae&&(e[he].providerFactory=ht),SE(s,n,t.length,0),t.push(p),C.directiveStart++,C.directiveEnd++,i&&(C.providerIndexes+=1048576),e.push(ht),l.push(ht)}else SE(s,n,J>-1?J:he,gA(e[i?he:J],v,!i&&r));!i&&r&&Ae&&e[he].componentProviders++}}}function SE(n,t,e,r){const i=ee(t);if(i||function(n){return!!n.useClass}(t)){const l=(t.useClass||t).prototype.ngOnDestroy;if(l){const p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const v=p.indexOf(e);-1===v?p.push(e,[r,l]):p[v+1].push(r,l)}else p.push(e,l)}}}function gA(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function IE(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function nV(n,t,e,r){return TE(this.multi,[])}function rV(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const l=this.providerFactory.componentProviders,p=au(e,e[1],this.providerFactory.index,r);s=p.slice(0,l),TE(i,s);for(let v=l;v<p.length;v++)s.push(p[v])}else s=[],TE(i,s);return s}function TE(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Vr(n,t=[]){return e=>{e.providersResolver=(r,i)=>function(n,t,e){const r=D();if(r.firstCreatePass){const i=So(n);CE(e,r.data,r.blueprint,i,!0),CE(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class mA{}const vA="ngComponent";class sV{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${nn(n)}. Did you add it to @NgModule.entryComponents?`);return t[vA]=n,t}(t)}}let Wc=(()=>{class n{}return n.NULL=new sV,n})();function cb(...n){}function kg(n,t){return new dr(Ci(n,t))}const lV=function(){return kg(z(),b())};let dr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=lV,n})();function yA(n){return n instanceof dr?n.nativeElement:n}class qd{}let Ql=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>hV(),n})();const hV=function(){const n=b(),e=Fr(z().index,n);return function(n){return n[11]}($o(e)?e:n)};let AE=(()=>{class n{}return n.\u0275prov=at({token:n,providedIn:"root",factory:()=>null}),n})();class Lh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ME=new Lh("12.2.16");class bA{constructor(){}supports(t){return R_(t)}create(t){return new gV(t)}}const pV=(n,t)=>t;class gV{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pV}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const l=!r||e&&e.currentIndex<EA(r,i,s)?e:r,p=EA(l,i,s),v=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{s||(s=[]);const C=p-i,O=v-i;if(C!=O){for(let W=0;W<C;W++){const J=W<s.length?s[W]:s[W]=0,he=J+W;O<=he&&he<C&&(s[W]=J+1)}s[l.previousIndex]=O-C}}p!==v&&t(l,p,v)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!R_(t))throw new Error(`Error trying to diff '${nn(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)s=t[p],l=this._trackByFn(p,s),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,s,l,p)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,l,p),r=!0),e=e._next}else i=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[_g()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,p=>{l=this._trackByFn(i,p),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,p,l,i)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new mV(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wA),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mV{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _V{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class wA{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new _V,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EA(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class CA{constructor(){}supports(t){return t instanceof Map||lE(t)}create(){return new vV}}class vV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||lE(t)))throw new Error(`Error trying to diff '${nn(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const s=i._prev,l=i._next;return s&&(s._next=l),l&&(l._prev=s),i._next=null,i._prev=null,i}const r=new yV(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class yV{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SA(){return new Pg([new bA])}let Pg=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||SA()),deps:[[n,new ks,new Yi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:SA}),n})();function IA(){return new Ng([new CA])}let Ng=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||IA()),deps:[[n,new ks,new Yi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:IA}),n})();function hb(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&r.push(Pn(s)),Li(s))for(let p=10;p<s.length;p++){const v=s[p],C=v[1].firstChild;null!==C&&hb(v[1],v,C,r)}const l=e.type;if(8&l)hb(n,t,e.child,r);else if(32&l){const p=Wm(e,t);let v;for(;v=p();)r.push(v)}else if(16&l){const p=hy(t,e);if(Array.isArray(p))r.push(...p);else{const v=ol(t[16]);hb(v[1],v,p,r,!0)}}e=i?e.projectionNext:e.next}return r}class B_{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hb(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Li(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Jm(t,r),ku(e,r))}this._attachedToViewContainer=!1}Zm(this._lView[1],this._lView)}onDestroy(t){__(this._lView[1],this._lView,null,t)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){un(!0);try{pg(n,t,e)}finally{un(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Sf(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class wV extends B_{constructor(t){super(t),this._view=t}detectChanges(){Ky(this._view)}checkNoChanges(){!function(n){un(!0);try{Ky(n)}finally{un(!1)}}(this._view)}get context(){return null}}const CV=function(n){return function(n,t,e){if(Co(n)&&!e){const r=Fr(n.index,t);return new B_(r,r)}return 47&n.type?new B_(t[16],t):null}(z(),b(),16==(16&n))};let cl=(()=>{class n{}return n.__NG_ELEMENT_ID__=CV,n})();const TV=[new CA],AV=new Pg([new bA]),MV=new Ng(TV),xV=function(){return fb(z(),b())};let Qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=xV,n})();const RV=Qa,kV=class extends RV{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=Mf(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(e)),xf(e,r,t),new B_(r)}};function fb(n,t){return 4&n.type?new kV(t,n,kg(n,t)):null}class $c{}class TA{}const FV=function(){return MA(z(),b())};let ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=FV,n})();const VV=ua,DA=class extends VV{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return kg(this._hostTNode,this._hostLView)}get injector(){return new uu(this._hostTNode,this._hostLView)}get parentInjector(){const t=ba(this._hostTNode,this._hostLView);if(hc(t)){const e=fc(t,this._hostLView),r=Ou(t);return new uu(e[1].data[r+8],e)}return new uu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=AA(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,s){const l=r||this.parentInjector;if(!s&&null==t.ngModule&&l){const v=l.get($c,null);v&&(s=v)}const p=t.create(l,i,void 0,s);return this.insert(p.hostView,e),p}insert(t,e){const r=t._lView,i=r[1];if(function(n){return Li(n[3])}(r)){const O=this.indexOf(t);if(-1!==O)this.detach(O);else{const U=r[3],W=new DA(U,U[6],U[3]);W.detach(W.indexOf(t))}}const s=this._adjustIndex(e),l=this._lContainer;!function(n,t,e,r){const i=10+r,s=e.length;r>0&&(e[i-1][4]=t),r<s-10?(t[4]=e[i],Ec(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const l=t[17];null!==l&&e!==l&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(l,t);const p=t[19];null!==p&&p.insertView(n),t[2]|=128}(i,r,l,s);const p=Od(s,l),v=r[11],C=Kp(v,l[7]);return null!==C&&function(n,t,e,r,i,s){r[0]=i,r[6]=t,Sf(n,r,e,1,i,s)}(i,l[6],v,r,C,p),t.attachToViewContainerRef(),Ec(OE(l),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=AA(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Jm(this._lContainer,e);r&&(ku(OE(this._lContainer),e),Zm(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Jm(this._lContainer,e);return r&&null!=ku(OE(this._lContainer),e)?new B_(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function AA(n){return n[8]}function OE(n){return n[8]||(n[8]=[])}function MA(n,t){let e;const r=t[n.index];if(Li(r))e=r;else{let i;if(8&n.type)i=Pn(r);else{const s=t[11];i=s.createComment("");const l=Ci(n,t);Uc(s,Kp(s,l),i,function(n,t){return oe(n)?n.nextSibling(t):t.nextSibling}(s,l),!1)}t[n.index]=e=fg(r,t,i,n),Nf(t,e)}return new DA(e,n,t)}const Ug={};class YA extends Wc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Yr(t);return new XA(e,this.ngModule)}}function QA(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const N2=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qm});class XA extends mA{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(Cy).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return QA(this.componentDef.inputs)}get outputs(){return QA(this.componentDef.outputs)}create(t,e,r,i){const s=(i=i||this.ngModule)?function(n,t){return{get:(e,r,i)=>{const s=n.get(e,Ug,i);return s!==Ug||r===Ug?s:t.get(e,r,i)}}}(t,i.injector):t,l=s.get(qd,Xe),p=s.get(AE,null),v=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",O=r?function(n,t,e){if(oe(n))return n.selectRootElement(t,e===rr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(v,r,this.componentDef.encapsulation):Ym(l.createRenderer(null,this.componentDef),C,function(n){const t=n.toLowerCase();return"svg"===t?Gu:"math"===t?"http://www.w3.org/1998/MathML/":null}(C)),U=this.componentDef.onPush?576:528,W=function(n,t){return{components:[],scheduler:n||qm,clean:T_,playerHandler:t||null,flags:0}}(),J=kf(0,null,null,1,0,null,null,null,null,null),he=Mf(null,J,W,U,null,null,l,v,p,s);let Oe,Ae;Il(he);try{const ht=function(n,t,e,r,i,s){const l=e[1];e[20]=n;const v=Rh(l,20,2,"#host",null),C=v.mergedAttrs=t.hostAttrs;null!==C&&(Wa(v,C,!0),null!==n&&(Ml(i,n,C),null!==v.classes&&a_(i,n,v.classes),null!==v.styles&&gy(i,n,v.styles)));const O=r.createRenderer(n,t),U=Mf(e,ug(t),null,t.onPush?64:16,e[20],v,r,O,s||null,null);return l.firstCreatePass&&(ds(Ol(v,e),l,t.type),Pr(l,v),Gy(v,e.length,1)),Nf(e,U),e[20]=U}(O,this.componentDef,he,l,v);if(O)if(r)Ml(v,O,["ng-version",ME.full]);else{const{attrs:Ze,classes:Yt}=function(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!Ta(i))break;i=s}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);Ze&&Ml(v,O,Ze),Yt&&Yt.length>0&&a_(v,O,Yt.join(" "))}if(Ae=Ms(J,20),void 0!==e){const Ze=Ae.projection=[];for(let Yt=0;Yt<this.ngContentSelectors.length;Yt++){const hn=e[Yt];Ze.push(null!=hn?Array.from(hn):null)}}Oe=function(n,t,e,r,i){const s=e[1],l=function(n,t,e){const r=z();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),ao(n,r,t,Of(n,t,1,null),e));const i=au(t,n,r.directiveStart,r);Qi(i,t);const s=Ci(r,t);return s&&Qi(s,t),i}(s,e,t);if(r.components.push(l),n[8]=l,i&&i.forEach(v=>v(l,t)),t.contentQueries){const v=z();t.contentQueries(1,l,v.directiveStart)}const p=z();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ku(p.index),kh(e[1],p,0,p.directiveStart,p.directiveEnd,t),jc(t,l)),l}(ht,this.componentDef,he,W,[VN]),xf(J,he,null)}finally{su()}return new V2(this.componentType,Oe,kg(Ae,he),he,Ae)}}class V2 extends class{}{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new wV(i),this.componentType=t}get injector(){return new uu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Bg=new Map;class j2 extends $c{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new YA(this);const r=X(t),i=function(n){return n[Eo]||null}(t);i&&bE(i),this._bootstrapComponents=gu(r.bootstrap),this._r3Injector=O_(t,e,[{provide:$c,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],nn(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Tr.THROW_IF_NOT_FOUND,r=xn.Default){return t===Tr||t===$c||t===$a?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zE extends TA{constructor(t){super(),this.moduleType=t,null!==X(t)&&function(n){const t=new Set;!function e(r){const i=X(r,!0),s=i.id;null!==s&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${nn(t)} vs ${nn(t.name)}`)}(s,Bg.get(s),r),Bg.set(s,r));const l=gu(i.imports);for(const p of l)t.has(p)||(t.add(p),e(p))}(n)}(t)}create(t){return new j2(this.moduleType,t)}}function $d(n,t,e,r){return function(n,t,e,r,i,s){const l=t+e;return Ma(n,l,i)?Hc(n,l+1,s?r.call(s,i):r(i)):K_(n,l+1)}(b(),Wn(),n,t,e,r)}function K_(n,t){const e=n[t];return e===pr?void 0:e}function tM(n,t,e,r,i,s,l){const p=t+e;return function(n,t,e,r){const i=Ma(n,t,e);return Ma(n,t+1,r)||i}(n,p,i,s)?Hc(n,p+2,l?r.call(l,i,s):r(i,s)):K_(n,p+2)}function sM(n,t,e,r){const i=n+20,s=b(),l=Xr(s,i);return function(n,t){$l.isWrapped(t)&&(t=$l.unwrap(t),n[Gn.lFrame.bindingIndex]=pr);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?tM(s,Wn(),t,l.transform,e,r,l):l.transform(e,r))}function qE(n){return t=>{setTimeout(n,void 0,t)}}const qr=class extends F{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,s,l;let p=t,v=e||(()=>null),C=r;if(t&&"object"==typeof t){const U=t;p=null===(i=U.next)||void 0===i?void 0:i.bind(U),v=null===(s=U.error)||void 0===s?void 0:s.bind(U),C=null===(l=U.complete)||void 0===l?void 0:l.bind(U)}this.__isAsync&&(v=qE(v),p&&(p=qE(p)),C&&(C=qE(C)));const O=super.subscribe({next:p,error:v,complete:C});return t instanceof Y&&t.add(O),O}};function rU(){return this._results[_g()]()}class Kd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_g(),r=Kd.prototype;r[e]||(r[e]=rU)}get changes(){return this._changes||(this._changes=new qr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=ps(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class GE{constructor(t){this.queryList=t,this.matches=null}clone(){return new GE(this.queryList)}setDirty(){this.queryList.setDirty()}}class WE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const l=e.getByIndex(s);i.push(this.queries[l.indexInDeclarationView].clone())}return new WE(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==hM(t,e).matches&&this.queries[e].setDirty()}}class aM{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class $E{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new $E(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class KE{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new KE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,sU(e,s)),this.matchTNodeWithReadOption(t,e,xl(e,t,s,!1,!1))}else r===Qa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xl(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dr||i===ua||i===Qa&&4&e.type)this.addMatch(e.index,-2);else{const s=xl(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function sU(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function uU(n,t,e,r){return-1===e?function(n,t){return 11&n.type?kg(n,t):4&n.type?fb(n,t):null}(t,n):-2===e?function(n,t,e){return e===dr?kg(t,n):e===Qa?fb(t,n):e===ua?MA(t,n):void 0}(n,t,r):au(n,n[1],e,t)}function uM(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const s=n.data,l=e.matches,p=[];for(let v=0;v<l.length;v+=2){const C=l[v];p.push(C<0?null:uU(t,s[C],l[v+1],e.metadata.read))}i.matches=p}return i.matches}function YE(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const l=uM(n,t,i,e);for(let p=0;p<s.length;p+=2){const v=s[p];if(v>0)r.push(l[p/2]);else{const C=s[p+1],O=t[-v];for(let U=10;U<O.length;U++){const W=O[U];W[17]===W[3]&&YE(W[1],W,C,r)}if(null!==O[9]){const U=O[9];for(let W=0;W<U.length;W++){const J=U[W];YE(J[1],J,C,r)}}}}}return r}function Ti(n){const t=b(),e=D(),r=ah();lc(r+1);const i=hM(e,r);if(n.dirty&&Iu(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?YE(e,t,r,[]):uM(e,t,i,r);n.reset(s,yA),n.notifyOnChanges()}return!0}return!1}function vu(n,t,e){const r=D();r.firstCreatePass&&(cM(r,new aM(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),lM(r,b(),t)}function Ns(n,t,e,r){const i=D();if(i.firstCreatePass){const s=z();cM(i,new aM(t,e,r),s.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}lM(i,b(),e)}function Di(){return function(n,t){return n[19].queries[t].queryList}(b(),ah())}function lM(n,t,e){const r=new Kd(4==(4&e));__(n,t,r,r.destroy),null===t[19]&&(t[19]=new WE),t[19].queries.push(new GE(r))}function cM(n,t,e){null===n.queries&&(n.queries=new $E),n.queries.track(new KE(t,e))}function hM(n,t){return n.queries.getByIndex(t)}const J_=new Xt("Application Initializer");let Hg=(()=>{class n{constructor(e){this.appInits=e,this.resolve=cb,this.reject=cb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(P_(s))e.push(s);else if(nb(s)){const l=new Promise((p,v)=>{s.subscribe({complete:p,error:v})});e.push(l)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Me(J_,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const Z_=new Xt("AppId"),UU={provide:Z_,useFactory:function(){return`${tC()}${tC()}${tC()}`},deps:[]};function tC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const MM=new Xt("Platform Initializer"),dl=new Xt("Platform ID"),OM=new Xt("appBootstrapListener");let yb=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const Vh=new Xt("LocaleId"),xM=new Xt("DefaultCurrencyCode");class jU{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nC=function(n){return new zE(n)},HU=nC,zU=function(n){return Promise.resolve(nC(n))},RM=function(n){const t=nC(n),r=gu(X(n).declarations).reduce((i,s)=>{const l=Yr(s);return l&&i.push(new XA(l)),i},[]);return new jU(t,r)},qU=RM,GU=function(n){return Promise.resolve(RM(n))};let Yd=(()=>{class n{constructor(){this.compileModuleSync=HU,this.compileModuleAsync=zU,this.compileModuleAndAllComponentsSync=qU,this.compileModuleAndAllComponentsAsync=GU}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const KU=(()=>Promise.resolve(0))();function rC(n){"undefined"==typeof Zone?KU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class zn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qr(!1),this.onMicrotaskEmpty=new qr(!1),this.onStable=new qr(!1),this.onError=new qr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Sn.requestAnimationFrame,t=Sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,oC(n),n.isCheckStableRunning=!0,iC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),oC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,l,p)=>{try{return kM(n),e.invokeTask(i,s,l,p)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),PM(n)}},onInvoke:(e,r,i,s,l,p,v)=>{try{return kM(n),e.invoke(i,s,l,p,v)}finally{n.shouldCoalesceRunChangeDetection&&t(),PM(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,oC(n),iC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,t,QU,cb,cb);try{return s.runTask(l,e,r)}finally{s.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const QU={};function iC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PM(n){n._nesting--,iC(n)}class ZU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qr,this.onMicrotaskEmpty=new qr,this.onStable=new qr,this.onError=new qr}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let sC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zn.assertNotInAngularZone(),rC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(Me(zn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),NM=(()=>{class n{constructor(){this._applications=new Map,aC.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return aC.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();class eB{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let aC=new eB,FM=!0,LM=!1;function uC(){return LM=!0,FM}let Zl;const VM=new Xt("AllowMultipleToken");class lC{constructor(t,e){this.name=t,this.token=e}}function UM(n,t,e=[]){const r=`Platform: ${t}`,i=new Xt(r);return(s=[])=>{let l=BM();if(!l||l.injector.get(VM,!1))if(n)n(e.concat(s).concat({provide:i,useValue:!0}));else{const p=e.concat(s).concat({provide:i,useValue:!0},{provide:ul,useValue:"platform"});!function(n){if(Zl&&!Zl.destroyed&&!Zl.injector.get(VM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zl=n.get(jM);const t=n.get(MM,null);t&&t.forEach(e=>e())}(Tr.create({providers:p,name:r}))}return function(n){const t=BM();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function BM(){return Zl&&!Zl.destroyed?Zl:null}let jM=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const p=function(n,t){let e;return e="noop"===n?new ZU:("zone.js"===n?void 0:n)||new zn({enableLongStackTrace:uC(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),v=[{provide:zn,useValue:p}];return p.run(()=>{const C=Tr.create({providers:v,parent:this.injector,name:e.moduleType.name}),O=e.create(C),U=O.injector.get(pu,null);if(!U)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return p.runOutsideAngular(()=>{const W=p.onError.subscribe({next:J=>{U.handleError(J)}});O.onDestroy(()=>{cC(this._modules,O),W.unsubscribe()})}),function(n,t,e){try{const r=e();return P_(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(U,p,()=>{const W=O.injector.get(Hg);return W.runInitializers(),W.donePromise.then(()=>(bE(O.injector.get(Vh,ob)||ob),this._moduleDoBootstrap(O),O))})})}bootstrapModule(e,r=[]){const i=HM({},r);return function(n,t,e){const r=new zE(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(Uf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${nn(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Me(Tr))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function HM(n,t){return Array.isArray(t)?t.reduce(HM,n):Object.assign(Object.assign({},n),t)}let Uf=(()=>{class n{constructor(e,r,i,s,l){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new ot(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new ot(C=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{zn.assertNotInAngularZone(),rC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{zn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=je(p,v.pipe(Cr()))}bootstrap(e,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof mA?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get($c),p=i.create(Tr.NULL,[],r||i.selector,s),v=p.location.nativeElement,C=p.injector.get(sC,null),O=C&&p.injector.get(NM);return C&&O&&O.registerApplication(v,C),p.onDestroy(()=>{this.detachView(p.hostView),cC(this.components,p),O&&O.unregisterApplication(v)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;cC(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(OM,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Me(zn),Me(Tr),Me(pu),Me(Wc),Me(Hg))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function cC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class wb{}class gB{}const mB={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _B=(()=>{class n{constructor(e,r){this._compiler=e,this._config=r||mB}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[r,i]=e.split("#");return void 0===i&&(i="default"),Ct(255)(r).then(s=>s[i]).then(s=>WM(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(e){let[r,i]=e.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),Ct(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(l=>l[i+s]).then(l=>WM(l,r,i))}}return n.\u0275fac=function(e){return new(e||n)(Me(Yd),Me(gB,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function WM(n,t,e){if(!n)throw new Error(`Cannot find '${e}' in '${t}'`);return n}const DB=UM(null,"core",[{provide:dl,useValue:"unknown"},{provide:jM,deps:[Tr]},{provide:NM,deps:[]},{provide:yb,deps:[]}]),RB=[{provide:Uf,useClass:Uf,deps:[zn,Tr,pu,Wc,Hg]},{provide:N2,deps:[zn],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Hg,useClass:Hg,deps:[[new Yi,J_]]},{provide:Yd,useClass:Yd,deps:[]},UU,{provide:Pg,useFactory:function(){return AV},deps:[]},{provide:Ng,useFactory:function(){return MV},deps:[]},{provide:Vh,useFactory:function(n){return bE(n=n||"undefined"!=typeof $localize&&$localize.locale||ob),n},deps:[[new Ui(Vh),new Yi,new ks]]},{provide:xM,useValue:"USD"}];let PB=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Me(Uf))},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:RB}),n})(),xb=null;function Kc(){return xb}const Nn=new Xt("DocumentToken");let Jd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:kj,token:n,providedIn:"platform"}),n})();function kj(){return Me(mO)}const Pj=new Xt("Location Initialized");let mO=(()=>{class n extends Jd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kc().getBaseHref(this._doc)}onPopState(e){const r=Kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){_O()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){_O()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({factory:Nj,token:n,providedIn:"platform"}),n})();function _O(){return!!window.history.pushState}function Nj(){return new mO(Me(Nn))}function IC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function vO(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Bh(n){return n&&"?"!==n[0]?"?"+n:n}let Gg=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:Fj,token:n,providedIn:"root"}),n})();function Fj(n){const t=Me(Nn).location;return new yO(Me(Jd),t&&t.origin||"")}const TC=new Xt("appBaseHref");let yO=(()=>{class n extends Gg{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return IC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Bh(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const l=this.prepareExternalUrl(i+Bh(s));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){const l=this.prepareExternalUrl(i+Bh(s));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Me(Jd),Me(TC,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),Lj=(()=>{class n extends Gg{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=IC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let l=this.prepareExternalUrl(i+Bh(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,s){let l=this.prepareExternalUrl(i+Bh(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(Me(Jd),Me(TC,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),Wg=(()=>{class n{constructor(e,r){this._subject=new qr,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=vO(bO(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Bh(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,bO(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bh(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bh(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.\u0275fac=function(e){return new(e||n)(Me(Gg),Me(Jd))},n.normalizeQueryParams=Bh,n.joinWithSlash=IC,n.stripTrailingSlash=vO,n.\u0275prov=at({factory:Vj,token:n,providedIn:"root"}),n})();function Vj(){return new Wg(Me(Gg),Me(Jd))}function bO(n){return n.replace(/\/index.html$/,"")}var as=(()=>((as=as||{})[as.Zero=0]="Zero",as[as.One=1]="One",as[as.Two=2]="Two",as[as.Few=3]="Few",as[as.Many=4]="Many",as[as.Other=5]="Other",as))(),Jo=(()=>((Jo=Jo||{})[Jo.Format=0]="Format",Jo[Jo.Standalone=1]="Standalone",Jo))(),ri=(()=>((ri=ri||{})[ri.Narrow=0]="Narrow",ri[ri.Abbreviated=1]="Abbreviated",ri[ri.Wide=2]="Wide",ri[ri.Short=3]="Short",ri))(),Po=(()=>((Po=Po||{})[Po.Short=0]="Short",Po[Po.Medium=1]="Medium",Po[Po.Long=2]="Long",Po[Po.Full=3]="Full",Po))(),lr=(()=>((lr=lr||{})[lr.Decimal=0]="Decimal",lr[lr.Group=1]="Group",lr[lr.List=2]="List",lr[lr.PercentSign=3]="PercentSign",lr[lr.PlusSign=4]="PlusSign",lr[lr.MinusSign=5]="MinusSign",lr[lr.Exponential=6]="Exponential",lr[lr.SuperscriptingExponent=7]="SuperscriptingExponent",lr[lr.PerMille=8]="PerMille",lr[lr.Infinity=9]="Infinity",lr[lr.NaN=10]="NaN",lr[lr.TimeSeparator=11]="TimeSeparator",lr[lr.CurrencyDecimal=12]="CurrencyDecimal",lr[lr.CurrencyGroup=13]="CurrencyGroup",lr))();function Rb(n,t){return gl(Ya(n)[En.DateFormat],t)}function kb(n,t){return gl(Ya(n)[En.TimeFormat],t)}function Pb(n,t){return gl(Ya(n)[En.DateTimeFormat],t)}function pl(n,t){const e=Ya(n),r=e[En.NumberSymbols][t];if(void 0===r){if(t===lr.CurrencyDecimal)return e[En.NumberSymbols][lr.Decimal];if(t===lr.CurrencyGroup)return e[En.NumberSymbols][lr.Group]}return r}const Wj=function(n){return Ya(n)[En.PluralCase]};function EO(n){if(!n[En.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[En.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function gl(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function AC(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Jj=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iv={},Zj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vs=(()=>((vs=vs||{})[vs.Short=0]="Short",vs[vs.ShortGMT=1]="ShortGMT",vs[vs.Long=2]="Long",vs[vs.Extended=3]="Extended",vs))(),gr=(()=>((gr=gr||{})[gr.FullYear=0]="FullYear",gr[gr.Month=1]="Month",gr[gr.Date=2]="Date",gr[gr.Hours=3]="Hours",gr[gr.Minutes=4]="Minutes",gr[gr.Seconds=5]="Seconds",gr[gr.FractionalSeconds=6]="FractionalSeconds",gr[gr.Day=7]="Day",gr))(),Gr=(()=>((Gr=Gr||{})[Gr.DayPeriods=0]="DayPeriods",Gr[Gr.Days=1]="Days",Gr[Gr.Months=2]="Months",Gr[Gr.Eras=3]="Eras",Gr))();function e3(n,t,e,r){let i=function(n){if(IO(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,l=1]=n.split("-").map(p=>+p);return Nb(i,s-1,l)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Jj))return function(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-e,p=Number(n[5]||0)-r,v=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,l,p,v,C),t}(r)}const t=new Date(n);if(!IO(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=jh(e,t)||t;let p,l=[];for(;t;){if(p=Zj.exec(t),!p){l.push(t);break}{l=l.concat(p.slice(1));const O=l.pop();if(!O)break;t=O}}let v=i.getTimezoneOffset();r&&(v=SO(r,v),i=function(n,t,e){const i=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(SO(t,i)-i))}(i,r));let C="";return l.forEach(O=>{const U=function(n){if(OC[n])return OC[n];let t;switch(n){case"G":case"GG":case"GGG":t=io(Gr.Eras,ri.Abbreviated);break;case"GGGG":t=io(Gr.Eras,ri.Wide);break;case"GGGGG":t=io(Gr.Eras,ri.Narrow);break;case"y":t=us(gr.FullYear,1,0,!1,!0);break;case"yy":t=us(gr.FullYear,2,0,!0,!0);break;case"yyy":t=us(gr.FullYear,3,0,!1,!0);break;case"yyyy":t=us(gr.FullYear,4,0,!1,!0);break;case"Y":t=Ub(1);break;case"YY":t=Ub(2,!0);break;case"YYY":t=Ub(3);break;case"YYYY":t=Ub(4);break;case"M":case"L":t=us(gr.Month,1,1);break;case"MM":case"LL":t=us(gr.Month,2,1);break;case"MMM":t=io(Gr.Months,ri.Abbreviated);break;case"MMMM":t=io(Gr.Months,ri.Wide);break;case"MMMMM":t=io(Gr.Months,ri.Narrow);break;case"LLL":t=io(Gr.Months,ri.Abbreviated,Jo.Standalone);break;case"LLLL":t=io(Gr.Months,ri.Wide,Jo.Standalone);break;case"LLLLL":t=io(Gr.Months,ri.Narrow,Jo.Standalone);break;case"w":t=MC(1);break;case"ww":t=MC(2);break;case"W":t=MC(1,!0);break;case"d":t=us(gr.Date,1);break;case"dd":t=us(gr.Date,2);break;case"c":case"cc":t=us(gr.Day,1);break;case"ccc":t=io(Gr.Days,ri.Abbreviated,Jo.Standalone);break;case"cccc":t=io(Gr.Days,ri.Wide,Jo.Standalone);break;case"ccccc":t=io(Gr.Days,ri.Narrow,Jo.Standalone);break;case"cccccc":t=io(Gr.Days,ri.Short,Jo.Standalone);break;case"E":case"EE":case"EEE":t=io(Gr.Days,ri.Abbreviated);break;case"EEEE":t=io(Gr.Days,ri.Wide);break;case"EEEEE":t=io(Gr.Days,ri.Narrow);break;case"EEEEEE":t=io(Gr.Days,ri.Short);break;case"a":case"aa":case"aaa":t=io(Gr.DayPeriods,ri.Abbreviated);break;case"aaaa":t=io(Gr.DayPeriods,ri.Wide);break;case"aaaaa":t=io(Gr.DayPeriods,ri.Narrow);break;case"b":case"bb":case"bbb":t=io(Gr.DayPeriods,ri.Abbreviated,Jo.Standalone,!0);break;case"bbbb":t=io(Gr.DayPeriods,ri.Wide,Jo.Standalone,!0);break;case"bbbbb":t=io(Gr.DayPeriods,ri.Narrow,Jo.Standalone,!0);break;case"B":case"BB":case"BBB":t=io(Gr.DayPeriods,ri.Abbreviated,Jo.Format,!0);break;case"BBBB":t=io(Gr.DayPeriods,ri.Wide,Jo.Format,!0);break;case"BBBBB":t=io(Gr.DayPeriods,ri.Narrow,Jo.Format,!0);break;case"h":t=us(gr.Hours,1,-12);break;case"hh":t=us(gr.Hours,2,-12);break;case"H":t=us(gr.Hours,1);break;case"HH":t=us(gr.Hours,2);break;case"m":t=us(gr.Minutes,1);break;case"mm":t=us(gr.Minutes,2);break;case"s":t=us(gr.Seconds,1);break;case"ss":t=us(gr.Seconds,2);break;case"S":t=us(gr.FractionalSeconds,1);break;case"SS":t=us(gr.FractionalSeconds,2);break;case"SSS":t=us(gr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Lb(vs.Short);break;case"ZZZZZ":t=Lb(vs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Lb(vs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Lb(vs.Long);break;default:return null}return OC[n]=t,t}(O);C+=U?U(i,e,v):"''"===O?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Nb(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function jh(n,t){const e=function(n){return Ya(n)[En.LocaleId]}(n);if(iv[e]=iv[e]||{},iv[e][t])return iv[e][t];let r="";switch(t){case"shortDate":r=Rb(n,Po.Short);break;case"mediumDate":r=Rb(n,Po.Medium);break;case"longDate":r=Rb(n,Po.Long);break;case"fullDate":r=Rb(n,Po.Full);break;case"shortTime":r=kb(n,Po.Short);break;case"mediumTime":r=kb(n,Po.Medium);break;case"longTime":r=kb(n,Po.Long);break;case"fullTime":r=kb(n,Po.Full);break;case"short":const i=jh(n,"shortTime"),s=jh(n,"shortDate");r=Fb(Pb(n,Po.Short),[i,s]);break;case"medium":const l=jh(n,"mediumTime"),p=jh(n,"mediumDate");r=Fb(Pb(n,Po.Medium),[l,p]);break;case"long":const v=jh(n,"longTime"),C=jh(n,"longDate");r=Fb(Pb(n,Po.Long),[v,C]);break;case"full":const O=jh(n,"fullTime"),U=jh(n,"fullDate");r=Fb(Pb(n,Po.Full),[O,U])}return r&&(iv[e][t]=r),r}function Fb(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function nc(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let l=String(n);for(;l.length<t;)l="0"+l;return r&&(l=l.substr(l.length-t)),s+l}function us(n,t,e=0,r=!1,i=!1){return function(s,l){let p=function(n,t){switch(n){case gr.FullYear:return t.getFullYear();case gr.Month:return t.getMonth();case gr.Date:return t.getDate();case gr.Hours:return t.getHours();case gr.Minutes:return t.getMinutes();case gr.Seconds:return t.getSeconds();case gr.FractionalSeconds:return t.getMilliseconds();case gr.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||p>-e)&&(p+=e),n===gr.Hours)0===p&&-12===e&&(p=12);else if(n===gr.FractionalSeconds)return function(n,t){return nc(n,3).substr(0,t)}(p,t);const v=pl(l,lr.MinusSign);return nc(p,t,v,r,i)}}function io(n,t,e=Jo.Format,r=!1){return function(i,s){return function(n,t,e,r,i,s){switch(e){case Gr.Months:return function(n,t,e){const r=Ya(n),s=gl([r[En.MonthsFormat],r[En.MonthsStandalone]],t);return gl(s,e)}(t,i,r)[n.getMonth()];case Gr.Days:return function(n,t,e){const r=Ya(n),s=gl([r[En.DaysFormat],r[En.DaysStandalone]],t);return gl(s,e)}(t,i,r)[n.getDay()];case Gr.DayPeriods:const l=n.getHours(),p=n.getMinutes();if(s){const C=function(n){const t=Ya(n);return EO(t),(t[En.ExtraData][2]||[]).map(r=>"string"==typeof r?AC(r):[AC(r[0]),AC(r[1])])}(t),O=function(n,t,e){const r=Ya(n);EO(r);const s=gl([r[En.ExtraData][0],r[En.ExtraData][1]],t)||[];return gl(s,e)||[]}(t,i,r),U=C.findIndex(W=>{if(Array.isArray(W)){const[J,he]=W,Oe=l>=J.hours&&p>=J.minutes,Ae=l<he.hours||l===he.hours&&p<he.minutes;if(J.hours<he.hours){if(Oe&&Ae)return!0}else if(Oe||Ae)return!0}else if(W.hours===l&&W.minutes===p)return!0;return!1});if(-1!==U)return O[U]}return function(n,t,e){const r=Ya(n),s=gl([r[En.DayPeriodsFormat],r[En.DayPeriodsStandalone]],t);return gl(s,e)}(t,i,r)[l<12?0:1];case Gr.Eras:return function(n,t){return gl(Ya(n)[En.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Lb(n){return function(t,e,r){const i=-1*r,s=pl(e,lr.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case vs.Short:return(i>=0?"+":"")+nc(l,2,s)+nc(Math.abs(i%60),2,s);case vs.ShortGMT:return"GMT"+(i>=0?"+":"")+nc(l,1,s);case vs.Long:return"GMT"+(i>=0?"+":"")+nc(l,2,s)+":"+nc(Math.abs(i%60),2,s);case vs.Extended:return 0===r?"Z":(i>=0?"+":"")+nc(l,2,s)+":"+nc(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function CO(n){return Nb(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function MC(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();i=1+Math.floor((l+s)/7)}else{const s=CO(e),l=function(n){const t=Nb(n,0,1).getDay();return Nb(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),p=s.getTime()-l.getTime();i=1+Math.round(p/6048e5)}return nc(i,n,pl(r,lr.MinusSign))}}function Ub(n,t=!1){return function(e,r){return nc(CO(e).getFullYear(),n,pl(r,lr.MinusSign),t)}}const OC={};function SO(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function IO(n){return n instanceof Date&&!isNaN(n.valueOf())}class jb{}let w3=(()=>{class n extends jb{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(Wj(r||this.locale)(e)){case as.Zero:return"zero";case as.One:return"one";case as.Two:return"two";case as.Few:return"few";case as.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(Me(Vh))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();let $g=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(R_(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${nn(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(ye(Pg),ye(Ng),ye(dr),ye(Ql))},n.\u0275dir=Dt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class C3{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hb=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((i,s,l)=>{if(null==i.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new C3(null,this._ngForOf,-1,-1),null===l?void 0:l),v=new OO(i,p);r.push(v)}else if(null==l)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const p=this._viewContainer.get(s);this._viewContainer.move(p,l);const v=new OO(i,p);r.push(v)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const l=this._viewContainer.get(i);l.context.index=i,l.context.count=s,l.context.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ye(ua),ye(Qa),ye(Pg))},n.\u0275dir=Dt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class OO{constructor(t,e){this.record=t,this.view=e}}let jf=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new I3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ye(ua),ye(Qa))},n.\u0275dir=Dt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class I3{constructor(){this.$implicit=null,this.ngIf=null}}function xO(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${nn(t)}'.`)}class NC{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let sv=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),FC=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new NC(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(ye(ua),ye(Qa),ye(sv,9))},n.\u0275dir=Dt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();let PO=(()=>{class n{constructor(e){this.locale=e}transform(e,r="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return e3(e,r,s||this.locale,i)}catch(l){throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${nn(n)}'`)}(n,l.message)}}}return n.\u0275fac=function(e){return new(e||n)(ye(Vh,16))},n.\u0275pipe=Ni({name:"date",type:n,pure:!0}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[{provide:jb,useClass:w3}]}),n})();const FO="browser";function LO(n){return"server"===n}let VO=(()=>{class n{}return n.\u0275prov=at({token:n,providedIn:"root",factory:()=>new J3(Me(Nn),window)}),n})();class J3{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=UO(this.window.history)||UO(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function UO(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class UC extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){xb||(xb=n)}(new UC)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(av=av||document.querySelector("base"),av?av.getAttribute("href"):null);return null==e?null:function(n){zb=zb||document.createElement("a"),zb.setAttribute("href",n);const t=zb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){av=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let zb,av=null;const jO=new Xt("TRANSITION_ID"),iH=[{provide:J_,useFactory:function(n,t,e){return()=>{e.get(Hg).donePromise.then(()=>{const r=Kc(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[jO,Nn,Tr],multi:!0}];class BC{static init(){!function(n){aC=n}(new BC)}addToWindow(t){Sn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Sn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Sn.getAllAngularRootElements=()=>t.getAllRootElements(),Sn.frameworkStabilizers||(Sn.frameworkStabilizers=[]),Sn.frameworkStabilizers.push(r=>{const i=Sn.getAllAngularTestabilities();let s=i.length,l=!1;const p=function(v){l=l||v,s--,0==s&&r(l)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Kc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let oH=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const uv=new Xt("EventManagerPlugins");let Gb=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Me(uv),Me(zn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();class jC{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Kc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let zO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),lv=(()=>{class n extends zO{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,i.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qO),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qO))}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function qO(n){Kc().remove(n)}const HC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zC=/%COMP%/g;function Wb(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Wb(n,i,e):(i=i.replace(zC,n),e.push(i))}return e}function $O(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $b=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qC(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case rr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new bH(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case rr.ShadowDom:return new wH(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Wb(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Me(Gb),Me(lv),Me(Z_))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();class qC{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(HC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=HC[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=HC[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(oa.DashCase|oa.Important)?t.style.setProperty(e,r,i&oa.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&oa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$O(r)):this.eventManager.addEventListener(t,e,$O(r))}}class bH extends qC{constructor(t,e,r,i){super(t),this.component=r;const s=Wb(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(zC,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(zC,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class wH extends qC{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Wb(i.id,i.styles,[]);for(let l=0;l<s.length;l++){const p=document.createElement("style");p.textContent=s[l],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let EH=(()=>{class n extends jC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const QO=["alt","control","meta","shift"],MH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},OH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xH=(()=>{class n extends jC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kc().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="";if(QO.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),l+=v+".")}),l+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static getEventFullKey(e){let r="",i=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&XO.hasOwnProperty(t)&&(t=XO[t]))}return MH[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QO.forEach(s=>{s!=i&&OH[s](e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),Yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:function(){return Me(WC)},token:n,providedIn:"root"}),n})(),WC=(()=>{class n extends Yg{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Gt.NONE:return r;case Gt.HTML:return ra(r,"HTML")?Ii(r):We(this._doc,String(r)).toString();case Gt.STYLE:return ra(r,"Style")?Ii(r):r;case Gt.SCRIPT:if(ra(r,"Script"))return Ii(r);throw new Error("unsafe value used in a script context");case Gt.URL:return Fu(r),ra(r,"URL")?Ii(r):Hl(String(r));case Gt.RESOURCE_URL:if(ra(r,"ResourceURL"))return Ii(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new Rc(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new il(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new bd(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new Np(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new wd(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({factory:function(){return function(n){return new WC(n.get(Nn))}(Me($a))},token:n,providedIn:"root"}),n})();const UH=UM(DB,"browser",[{provide:dl,useValue:FO},{provide:MM,useValue:function(){UC.makeCurrent(),BC.init()},multi:!0},{provide:Nn,useFactory:function(){return function(n){fi=n}(document),document},deps:[]}]),BH=[[],{provide:ul,useValue:"root"},{provide:pu,useFactory:function(){return new pu},deps:[]},{provide:uv,useClass:EH,multi:!0,deps:[Nn,zn,dl]},{provide:uv,useClass:xH,multi:!0,deps:[Nn]},[],{provide:$b,useClass:$b,deps:[Gb,lv,Z_]},{provide:qd,useExisting:$b},{provide:zO,useExisting:lv},{provide:lv,useClass:lv,deps:[Nn]},{provide:sC,useClass:sC,deps:[zn]},{provide:Gb,useClass:Gb,deps:[uv,zn]},{provide:class{},useClass:oH,deps:[]},[]];let $C=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Z_,useValue:e.appId},{provide:jO,useExisting:Z_},iH]}}}return n.\u0275fac=function(e){return new(e||n)(Me(n,12))},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:BH,imports:[Kg,PB]}),n})();function Vn(...n){let t=n[n.length-1];return R(t)?(n.pop(),Bn(n,t)):ci(n)}"undefined"!=typeof window&&window;class Ra extends F{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A;return this._value}next(t){super.next(this._value=t)}}class KH extends ft{notifyNext(t,e,r,i,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class YH extends ft{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function QH(n,t,e,r,i=new YH(n,e,r)){if(!i.closed)return t instanceof ot?t.subscribe(i):tn(t)(i)}const ZO={};class JH{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ZH(t,this.resultSelector))}}class ZH extends KH{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ZO),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(QH(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,l=this.toRespond?i[r]===ZO?--this.toRespond:this.toRespond:0;i[r]=e,0===l&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Kb=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function YC(...n){return On(1)(Vn(...n))}const Zd=new ot(n=>n.complete());function Yb(n){return n?function(n){return new ot(t=>n.schedule(()=>t.complete()))}(n):Zd}function Qb(n){return new ot(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?rn(e):Yb()).subscribe(t)})}function Za(n,t){return"function"==typeof t?e=>e.pipe(Za((r,i)=>rn(n(r,i)).pipe(K((s,l)=>t(r,s,i,l))))):e=>e.lift(new n4(n))}class n4{constructor(t){this.project=t}call(t,e){return e.subscribe(new r4(t,this.project))}}class r4 extends tr{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Kt(this),i=this.destination;i.add(r),this.innerSubscription=ir(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ex=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ka(n){return t=>0===n?Yb():t.lift(new i4(n))}class i4{constructor(t){if(this.total=t,this.total<0)throw new ex}call(t,e){return e.subscribe(new o4(t,this.total))}}class o4 extends ft{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function ml(...n){const t=n[n.length-1];return R(t)?(n.pop(),e=>YC(n,e,t)):e=>YC(n,e)}function cv(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new s4(n,t,e))}}class s4{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new a4(t,this.accumulator,this.seed,this.hasSeed))}}class a4 extends ft{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Zo(n,t){return function(r){return r.lift(new u4(n,t))}}class u4{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new l4(t,this.predicate,this.thisArg))}}class l4 extends ft{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function zf(n){return function(e){const r=new c4(n),i=e.lift(r);return r.caught=i}}class c4{constructor(t){this.selector=t}call(t,e){return e.subscribe(new h4(t,this.selector,this.caught))}}class h4 extends tr{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Kt(this);this.add(r);const i=ir(e,r);i!==r&&this.add(i)}}}function Qg(n,t){return jn(n,t,1)}function QC(n){return function(e){return 0===n?Yb():e.lift(new f4(n))}}class f4{constructor(t){if(this.total=t,this.total<0)throw new ex}call(t,e){return e.subscribe(new d4(t,this.total))}}class d4 extends ft{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const l=e++%r;t.next(i[l])}}t.complete()}}function tx(n=m4){return t=>t.lift(new p4(n))}class p4{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new g4(t,this.errorFactory))}}class g4 extends ft{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function m4(){return new Kb}function nx(n=null){return t=>t.lift(new _4(n))}class _4{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new v4(t,this.defaultValue))}}class v4 extends ft{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Xg(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Zo((i,s)=>n(i,s,r)):Je,ka(1),e?nx(t):tx(()=>new Kb))}function qf(){}function Vs(n,t,e){return function(i){return i.lift(new b4(n,t,e))}}class b4{constructor(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}call(t,e){return e.subscribe(new w4(t,this.nextOrObserver,this.error,this.complete))}}class w4 extends ft{constructor(t,e,r,i){super(t),this._tapNext=qf,this._tapError=qf,this._tapComplete=qf,this._tapError=r||qf,this._tapComplete=i||qf,te(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||qf,this._tapError=e.error||qf,this._tapComplete=e.complete||qf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function rx(n){return t=>t.lift(new E4(n))}class E4{constructor(t){this.callback=t}call(t,e){return e.subscribe(new C4(t,this.callback))}}class C4 extends ft{constructor(t,e){super(t),this.add(new Y(e))}}class Hh{constructor(t,e){this.id=t,this.url=e}}class XC extends Hh{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hv extends Hh{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ix extends Hh{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class S4 extends Hh{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I4 extends Hh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T4 extends Hh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D4 extends Hh{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class A4 extends Hh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M4 extends Hh{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ox{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sx{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class O4{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x4{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R4{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k4{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ax{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zr="primary";class P4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jg(n){return new P4(n)}const ux="ngNavigationCancelingError";function JC(n){const t=Error("NavigationCancelingError: "+n);return t[ux]=!0,t}function F4(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],p=n[s];if(l.startsWith(":"))i[l.substring(1)]=p;else if(l!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yc(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!lx(n[i],t[i]))return!1;return!0}function lx(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function cx(n){return Array.prototype.concat.apply([],n)}function hx(n){return n.length>0?n[n.length-1]:null}function la(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qc(n){return nb(n)?n:P_(n)?rn(Promise.resolve(n)):Vn(n)}const U4={exact:function px(n,t,e){if(!tp(n.segments,t.segments)||!Xb(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!px(n.children[r],t.children[r],e))return!1;return!0},subset:gx},fx={exact:function(n,t){return Yc(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>lx(n[e],t[e]))},ignored:()=>!0};function dx(n,t,e){return U4[e.paths](n.root,t.root,e.matrixParams)&&fx[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gx(n,t,e){return mx(n,t,t.segments,e)}function mx(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!tp(i,e)||t.hasChildren()||!Xb(i,e,r))}if(n.segments.length===e.length){if(!tp(n.segments,e)||!Xb(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!gx(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(tp(n.segments,i)&&Xb(n.segments,i,r)&&n.children[Zr])&&mx(n.children[Zr],t,s,r)}}function Xb(n,t,e){return t.every((r,i)=>fx[e](n[i].parameters,r.parameters))}class ep{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jg(this.queryParams)),this._queryParamMap}toString(){return q4.serialize(this)}}class ai{constructor(t,e){this.segments=t,this.children=e,this.parent=null,la(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jb(this)}}class fv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jg(this.parameters)),this._parameterMap}toString(){return bx(this)}}function tp(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class ZC{}class _x{parse(t){const e=new Z4(t);return new ep(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${dv(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Zb(e)}=${Zb(i)}`).join("&"):`${Zb(e)}=${Zb(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const q4=new _x;function Jb(n){return n.segments.map(t=>bx(t)).join("/")}function dv(n,t){if(!n.hasChildren())return Jb(n);if(t){const e=n.children[Zr]?dv(n.children[Zr],!1):"",r=[];return la(n.children,(i,s)=>{s!==Zr&&r.push(`${s}:${dv(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return la(n.children,(r,i)=>{i===Zr&&(e=e.concat(t(r,i)))}),la(n.children,(r,i)=>{i!==Zr&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Zr?[dv(n.children[Zr],!1)]:[`${i}:${dv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zr]?`${Jb(n)}/${e[0]}`:`${Jb(n)}/(${e.join("//")})`}}function vx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zb(n){return vx(n).replace(/%3B/gi,";")}function eS(n){return vx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ew(n){return decodeURIComponent(n)}function yx(n){return ew(n.replace(/\+/g,"%20"))}function bx(n){return`${eS(n.path)}${function(n){return Object.keys(n).map(t=>`;${eS(t)}=${eS(n[t])}`).join("")}(n.parameters)}`}const K4=/^[^\/()?;=#]+/;function tw(n){const t=n.match(K4);return t?t[0]:""}const Y4=/^[^=?&#]+/,X4=/^[^?&#]+/;class Z4{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ai([],{}):new ai([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Zr]=new ai(t,e)),r}parseSegment(){const t=tw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new fv(ew(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=tw(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=tw(this.remaining);i&&(r=i,this.capture(r))}t[ew(e)]=ew(r)}parseQueryParam(t){const e=function(n){const t=n.match(Y4);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function(n){const t=n.match(X4);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=yx(e),s=yx(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=tw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Zr);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Zr]:new ai([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tS(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=tS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=nS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return nS(t,this._root).map(e=>e.value)}}function tS(n,t){if(n===t.value)return t;for(const e of t.children){const r=tS(n,e);if(r)return r}return null}function nS(n,t){if(n===t.value)return[t];for(const e of t.children){const r=nS(n,e);if(r.length)return r.unshift(t),r}return[]}class zh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pv(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ex extends wx{constructor(t,e){super(t),this.snapshot=e,rS(this,t)}toString(){return this.snapshot.toString()}}function Cx(n,t){const e=function(n,t){const l=new nw([],{},{},"",{},Zr,t,null,n.root,-1,{});return new Ix("",new zh(l,[]))}(n,t),r=new Ra([new fv("",{})]),i=new Ra({}),s=new Ra({}),l=new Ra({}),p=new Ra(""),v=new Zg(r,i,l,p,s,Zr,t,e.root);return v.snapshot=e.root,new Ex(new zh(v,[]),e)}class Zg{constructor(t,e,r,i,s,l,p,v){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(t=>Jg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(t=>Jg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sx(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class nw{constructor(t,e,r,i,s,l,p,v,C,O,U){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=p,this.routeConfig=v,this._urlSegment=C,this._lastPathIndex=O,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ix extends wx{constructor(t,e){super(e),this.url=t,rS(this,e)}toString(){return Tx(this._root)}}function rS(n,t){t.value._routerState=n,t.children.forEach(e=>rS(n,e))}function Tx(n){const t=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${t}`}function iS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yc(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yc(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yc(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function oS(n,t){return Yc(n.params,t.params)&&function(n,t){return tp(n,t)&&n.every((e,r)=>Yc(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||oS(n.parent,t.parent))}function rw(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rw(n,r,i);return rw(n,r)})}(n,t,e);return new zh(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return Dx(t,l),l}}const r=function(n){return new Zg(new Ra(n.url),new Ra(n.params),new Ra(n.queryParams),new Ra(n.fragment),new Ra(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>rw(n,s));return new zh(r,i)}}function Dx(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Dx(n.children[e],t.children[e])}function iw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gv(n){return"object"==typeof n&&null!=n&&n.outlets}function sS(n,t,e,r,i){let s={};return r&&la(r,(l,p)=>{s[p]=Array.isArray(l)?l.map(v=>`${v}`):`${l}`}),new ep(e.root===n?t:Ax(e.root,n,t),s,i)}function Ax(n,t,e){const r={};return la(n.children,(i,s)=>{r[s]=i===t?e:Ax(i,t,e)}),new ai(n.segments,r)}class Mx{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&iw(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(gv);if(i&&i!==hx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aS{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Ox(n,t,e){if(n||(n=new ai([],{})),0===n.segments.length&&n.hasChildren())return ow(n,t,e);const r=function(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const l=n.segments[i],p=e[r];if(gv(p))break;const v=`${p}`,C=r<e.length-1?e[r+1]:null;if(i>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Rx(v,C,l))return s;r+=2}else{if(!Rx(v,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ai(n.segments.slice(0,r.pathIndex),{});return s.children[Zr]=new ai(n.segments.slice(r.pathIndex),n.children),ow(s,0,i)}return r.match&&0===i.length?new ai(n.segments,{}):r.match&&!n.hasChildren()?uS(n,t,e):r.match?ow(n,0,i):uS(n,t,e)}function ow(n,t,e){if(0===e.length)return new ai(n.segments,{});{const r=function(n){return gv(n[0])?n[0].outlets:{[Zr]:n}}(e),i={};return la(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=Ox(n.children[l],t,s))}),la(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new ai(n.segments,i)}}function uS(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(gv(s)){const v=hz(s.outlets);return new ai(r,v)}if(0===i&&iw(e[0])){r.push(new fv(n.segments[t].path,xx(e[0]))),i++;continue}const l=gv(s)?s.outlets[Zr]:`${s}`,p=i<e.length-1?e[i+1]:null;l&&p&&iw(p)?(r.push(new fv(l,xx(p))),i+=2):(r.push(new fv(l,{})),i++)}return new ai(r,{})}function hz(n){const t={};return la(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=uS(new ai([],{}),0,e))}),t}function xx(n){const t={};return la(n,(e,r)=>t[r]=`${e}`),t}function Rx(n,t,e){return n==e.path&&Yc(t,e.parameters)}class dz{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),iS(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=pv(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),la(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=pv(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=pv(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new k4(s.value.snapshot))}),t.children.length&&this.forwardEvent(new x4(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(iS(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(p.contexts),l.attachRef=p.componentRef,l.route=p.route.value,l.outlet&&l.outlet.attach(p.componentRef,p.route.value),kx(p.route)}else{const p=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),v=p?p.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=v,l.outlet&&l.outlet.activateWith(i,v),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}function kx(n){iS(n.value),n.children.forEach(kx)}class lS{constructor(t,e){this.routes=t,this.module=e}}function Gf(n){return"function"==typeof n}function np(n){return n instanceof ep}const mv=Symbol("INITIAL_VALUE");function _v(){return Za(n=>function(...n){let t,e;return R(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Tn(n[0])&&(n=n[0]),ci(n,e).lift(new JH(t))}(n.map(t=>t.pipe(ka(1),ml(mv)))).pipe(cv((t,e)=>{let r=!1;return e.reduce((i,s,l)=>i!==mv?i:(s===mv&&(r=!0),r||!1!==s&&l!==e.length-1&&!np(s)?i:s),t)},mv),Zo(t=>t!==mv),K(t=>np(t)?t:!0===t),ka(1)))}let Px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_r({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Yn(0,"router-outlet")},directives:function(){return[mS]},encapsulation:2}),n})();function Nx(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];bz(r,wz(t,r))}}function bz(n,t){n.children&&Nx(n.children,t)}function wz(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function cS(n){const t=n.children&&n.children.map(cS),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Zr&&(e.component=Px),e}function _l(n){return n.outlet||Zr}function Fx(n,t){const e=n.filter(r=>_l(r)===t);return e.push(...n.filter(r=>_l(r)!==t)),e}const Lx={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sw(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Lx):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||F4)(e,n,t);if(!s)return Object.assign({},Lx);const l={};la(s.posParams,(v,C)=>{l[C]=v.path});const p=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:p,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function aw(n,t,e,r,i="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>uw(n,t,r)&&_l(r)!==Zr)}(n,e,r)){const l=new ai(t,function(n,t,e,r){const i={};i[Zr]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&_l(s)!==Zr){const l=new ai([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,i[_l(s)]=l}return i}(n,t,r,new ai(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>uw(n,t,r))}(n,e,r)){const l=new ai(n.segments,function(n,t,e,r,i,s){const l={};for(const p of r)if(uw(n,e,p)&&!i[_l(p)]){const v=new ai([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[_l(p)]=v}return Object.assign(Object.assign({},i),l)}(n,t,e,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new ai(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function uw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vx(n,t,e,r){return!!(_l(n)===r||r!==Zr&&uw(t,e,n))&&("**"===n.path||sw(t,n,e).matched)}function Ux(n,t,e){return 0===t.length&&!n.children[e]}class vv{constructor(t){this.segmentGroup=t||null}}class Bx{constructor(t){this.urlTree=t}}function lw(n){return new ot(t=>t.error(new vv(n)))}function jx(n){return new ot(t=>t.error(new Bx(n)))}function Tz(n){return new ot(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Mz{constructor(t,e,r,i,s){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get($c)}apply(){const t=aw(this.urlTree.root,[],[],this.config).segmentGroup,e=new ai(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Zr).pipe(K(s=>this.createUrlTree(hS(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zf(s=>{if(s instanceof Bx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vv?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Zr).pipe(K(i=>this.createUrlTree(hS(i),t.queryParams,t.fragment))).pipe(zf(i=>{throw i instanceof vv?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new ai([],{[Zr]:t}):t;return new ep(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(K(s=>new ai([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return rn(i).pipe(Qg(s=>{const l=r.children[s],p=Fx(e,s);return this.expandSegmentGroup(t,p,l,s).pipe(K(v=>({segment:v,outlet:s})))}),cv((s,l)=>(s[l.outlet]=l.segment,s),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Zo((i,s)=>n(i,s,r)):Je,QC(1),e?nx(t):tx(()=>new Kb))}())}expandSegment(t,e,r,i,s,l){return rn(r).pipe(Qg(p=>this.expandSegmentAgainstRoute(t,e,r,p,i,s,l).pipe(zf(C=>{if(C instanceof vv)return Vn(null);throw C}))),Xg(p=>!!p),zf((p,v)=>{if(p instanceof Kb||"EmptyError"===p.name){if(Ux(e,i,s))return Vn(new ai([],{}));throw new vv(e)}throw p}))}expandSegmentAgainstRoute(t,e,r,i,s,l,p){return Vx(i,e,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,l):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l):lw(e):lw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jx(s):this.lineralizeSegments(r,s).pipe(jn(l=>{const p=new ai(l,{});return this.expandSegment(t,p,e,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,l){const{matched:p,consumedSegments:v,lastChild:C,positionalParamSegments:O}=sw(e,i,s);if(!p)return lw(e);const U=this.applyRedirectCommands(v,i.redirectTo,O);return i.redirectTo.startsWith("/")?jx(U):this.lineralizeSegments(i,U).pipe(jn(W=>this.expandSegment(t,e,r,W.concat(s.slice(C)),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Vn(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(K(W=>(r._loadedConfig=W,new ai(i,{})))):Vn(new ai(i,{}));const{matched:l,consumedSegments:p,lastChild:v}=sw(e,r,i);if(!l)return lw(e);const C=i.slice(v);return this.getChildConfig(t,r,i).pipe(jn(U=>{const W=U.module,J=U.routes,{segmentGroup:he,slicedSegments:Oe}=aw(e,p,C,J),Ae=new ai(he.segments,he.children);if(0===Oe.length&&Ae.hasChildren())return this.expandChildren(W,J,Ae).pipe(K(hn=>new ai(p,hn)));if(0===J.length&&0===Oe.length)return Vn(new ai(p,{}));const ht=_l(r)===s;return this.expandSegment(W,Ae,J,Oe,ht?Zr:s,!0).pipe(K(Yt=>new ai(p.concat(Yt.segments),Yt.children)))}))}getChildConfig(t,e,r){return e.children?Vn(new lS(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Vn(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(jn(i=>i?this.configLoader.load(t.injector,e).pipe(K(s=>(e._loadedConfig=s,s))):function(n){return new ot(t=>t.error(JC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Vn(new lS([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?Vn(i.map(l=>{const p=t.get(l);let v;if(function(n){return n&&Gf(n.canLoad)}(p))v=p.canLoad(e,r);else{if(!Gf(p))throw new Error("Invalid CanLoad guard");v=p(e,r)}return Qc(v)})).pipe(_v(),Vs(l=>{if(!np(l))return;const p=JC(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw p.url=l,p}),K(l=>!0===l)):Vn(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Vn(r);if(i.numberOfChildren>1||!i.children[Zr])return Tz(t.redirectTo);i=i.children[Zr]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new ep(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return la(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[s]=e[p]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let l={};return la(e.children,(p,v)=>{l[v]=this.createSegmentGroup(t,p,r,i)}),new ai(s,l)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function hS(n){const t={};for(const r of Object.keys(n.children)){const s=hS(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Zr]){const t=n.children[Zr];return new ai(n.segments.concat(t.segments),t.children)}return n}(new ai(n.segments,t))}class Hx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class cw{constructor(t,e){this.component=t,this.route=e}}function Rz(n,t,e){const r=n._root;return yv(r,t?t._root:null,e,[r.value])}function hw(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function yv(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pv(t);return n.children.forEach(l=>{(function(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const v=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!tp(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tp(n.url,t.url)||!Yc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oS(n,t)||!Yc(n.queryParams,t.queryParams);case"paramsChange":default:return!oS(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Hx(r)):(s.data=l.data,s._resolvedData=l._resolvedData),yv(n,t,s.component?p?p.children:null:e,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new cw(p.outlet.component,l))}else l&&bv(t,p,i),i.canActivateChecks.push(new Hx(r)),yv(n,null,s.component?p?p.children:null:e,r,i)})(l,s[l.value.outlet],e,r.concat([l.value]),i),delete s[l.value.outlet]}),la(s,(l,p)=>bv(l,e.getContext(p),i)),i}function bv(n,t,e){const r=pv(n),i=n.value;la(r,(s,l)=>{bv(s,i.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new cw(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Gz{}function zx(n){return new ot(t=>t.error(n))}class $z{constructor(t,e,r,i,s,l){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const t=aw(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Zr);if(null===e)return null;const r=new nw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zr,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zh(r,e),s=new Ix(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,r=Sx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const s of Object.keys(e.children)){const l=e.children[s],p=Fx(t,s),v=this.processSegmentGroup(p,l,s);if(null===v)return null;r.push(...v)}const i=qx(r);return function(n){n.sort((t,e)=>t.value.outlet===Zr?-1:e.value.outlet===Zr?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const s of t){const l=this.processSegmentAgainstRoute(s,e,r,i);if(null!==l)return l}return Ux(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!Vx(t,e,r,i))return null;let s,l=[],p=[];if("**"===t.path){const J=r.length>0?hx(r).parameters:{};s=new nw(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(t),_l(t),t.component,t,Gx(e),Wx(e)+r.length,Kx(t))}else{const J=sw(e,t,r);if(!J.matched)return null;l=J.consumedSegments,p=r.slice(J.lastChild),s=new nw(l,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(t),_l(t),t.component,t,Gx(e),Wx(e)+l.length,Kx(t))}const v=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:C,slicedSegments:O}=aw(e,l,p,v.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===O.length&&C.hasChildren()){const J=this.processChildren(v,C);return null===J?null:[new zh(s,J)]}if(0===v.length&&0===O.length)return[new zh(s,[])];const U=_l(t)===i,W=this.processSegment(v,C,O,U?Zr:i);return null===W?null:[new zh(s,W)]}}function Qz(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function qx(n){const t=[],e=new Set;for(const r of n){if(!Qz(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=qx(r.children);t.push(new zh(r.value,i))}return t.filter(r=>!e.has(r))}function Gx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Wx(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function $x(n){return n.data||{}}function Kx(n){return n.resolve||{}}function fS(n){return Za(t=>{const e=n(t);return e?rn(e).pipe(K(()=>t)):Vn(t)})}class iq extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dS=new Xt("ROUTES");class Yx{constructor(t,e,r,i){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(K(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=s.create(t);return new lS(cx(l.injector.get(dS,void 0,xn.Self|xn.Optional)).map(cS),l)}),zf(s=>{throw e._loader$=void 0,s}));return e._loader$=new Ue(i,()=>new F).pipe(ge()),e._loader$}loadModuleFactory(t){return"string"==typeof t?rn(this.loader.load(t)):Qc(t()).pipe(jn(e=>e instanceof TA?Vn(e):rn(this.compiler.compileModuleAsync(e))))}}class oq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new em,this.attachRef=null}}class em{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oq,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class aq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function uq(n){throw n}function lq(n,t,e){return t.parse("/")}function Qx(n,t){return Vn(null)}const cq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ys=(()=>{class n{constructor(e,r,i,s,l,p,v,C){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=uq,this.malformedUriErrorHandler=lq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qx,afterPreactivation:Qx},this.urlHandlingStrategy=new aq,this.routeReuseStrategy=new iq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get($c),this.console=l.get(yb);const W=l.get(zn);this.isNgZoneEnabled=W instanceof zn&&zn.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new ep(new ai([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yx(p,v,J=>this.triggerEvent(new ox(J)),J=>this.triggerEvent(new sx(J))),this.routerState=Cx(this.currentUrlTree,this.rootComponentType),this.transitions=new Ra({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Zo(i=>0!==i.id),K(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Za(i=>{let s=!1,l=!1;return Vn(i).pipe(Vs(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Za(p=>{const v=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return fw(p.source)&&(this.browserUrlTree=p.extractedUrl),Vn(p).pipe(Za(U=>{const W=this.transitions.getValue();return r.next(new XC(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),W!==this.transitions.getValue()?Zd:Promise.resolve(U)}),function(n,t,e,r){return Za(i=>function(n,t,e,r,i){return new Mz(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(K(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vs(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function(n,t,e,r,i){return jn(s=>function(n,t,e,r,i="emptyOnly",s="legacy"){try{const l=new $z(n,t,e,r,i,s).recognize();return null===l?zx(new Gz):Vn(l)}catch(l){return zx(l)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),r,i).pipe(K(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vs(U=>{"eager"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(U.urlAfterRedirects,U),this.browserUrlTree=U.urlAfterRedirects);const W=new I4(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(W)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:J,source:he,restoredState:Oe,extras:Ae}=p,ht=new XC(W,this.serializeUrl(J),he,Oe);r.next(ht);const Ze=Cx(J,this.rootComponentType).snapshot;return Vn(Object.assign(Object.assign({},p),{targetSnapshot:Ze,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Zd}),fS(p=>{const{targetSnapshot:v,id:C,extractedUrl:O,rawUrl:U,extras:{skipLocationChange:W,replaceUrl:J}}=p;return this.hooks.beforePreactivation(v,{navigationId:C,appliedUrlTree:O,rawUrlTree:U,skipLocationChange:!!W,replaceUrl:!!J})}),Vs(p=>{const v=new T4(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),K(p=>Object.assign(Object.assign({},p),{guards:Rz(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,t){return jn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?Vn(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return rn(n).pipe(jn(i=>function(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Vn(s.map(p=>{const v=hw(p,t,i);let C;if(function(n){return n&&Gf(n.canDeactivate)}(v))C=Qc(v.canDeactivate(n,t,e,r));else{if(!Gf(v))throw new Error("Invalid CanDeactivate guard");C=Qc(v(n,t,e,r))}return C.pipe(Xg())})).pipe(_v()):Vn(!0)}(i.component,i.route,e,t,r)),Xg(i=>!0!==i,!0))}(l,r,i,n).pipe(jn(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,t,e,r){return rn(t).pipe(Qg(i=>YC(function(n,t){return null!==n&&t&&t(new O4(n)),Vn(!0)}(i.route.parent,r),function(n,t){return null!==n&&t&&t(new R4(n)),Vn(!0)}(i.route,r),function(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Qb(()=>Vn(l.guards.map(v=>{const C=hw(v,l.node,e);let O;if(function(n){return n&&Gf(n.canActivateChild)}(C))O=Qc(C.canActivateChild(r,n));else{if(!Gf(C))throw new Error("Invalid CanActivateChild guard");O=Qc(C(r,n))}return O.pipe(Xg())})).pipe(_v())));return Vn(s).pipe(_v())}(n,i.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Vn(r.map(s=>Qb(()=>{const l=hw(s,t,e);let p;if(function(n){return n&&Gf(n.canActivate)}(l))p=Qc(l.canActivate(t,n));else{if(!Gf(l))throw new Error("Invalid CanActivate guard");p=Qc(l(t,n))}return p.pipe(Xg())}))).pipe(_v()):Vn(!0)}(n,i.route,e))),Xg(i=>!0!==i,!0))}(r,s,n,t):Vn(p)),K(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),Vs(p=>{if(np(p.guardsResult)){const C=JC(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw C.url=p.guardsResult,C}const v=new D4(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Zo(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),fS(p=>{if(p.guards.canActivateChecks.length)return Vn(p).pipe(Vs(v=>{const C=new A4(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),Za(v=>{let C=!1;return Vn(v).pipe(function(n,t){return jn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Vn(e);let s=0;return rn(i).pipe(Qg(l=>function(n,t,e,r){return function(n,t,e,r){const i=Object.keys(n);if(0===i.length)return Vn({});const s={};return rn(i).pipe(jn(l=>function(n,t,e,r){const i=hw(n,t,r);return Qc(i.resolve?i.resolve(t,e):i(t,e))}(n[l],t,e,r).pipe(Vs(p=>{s[l]=p}))),QC(1),jn(()=>Object.keys(s).length===i.length?Vn(s):Zd))}(n._resolve,n,t,r).pipe(K(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Sx(n,e).resolve),null)))}(l.route,r,n,t)),Vs(()=>s++),QC(1),jn(l=>s===i.length?Vn(e):Zd))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vs({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),Vs(v=>{const C=new M4(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}))}),fS(p=>{const{targetSnapshot:v,id:C,extractedUrl:O,rawUrl:U,extras:{skipLocationChange:W,replaceUrl:J}}=p;return this.hooks.afterPreactivation(v,{navigationId:C,appliedUrlTree:O,rawUrlTree:U,skipLocationChange:!!W,replaceUrl:!!J})}),K(p=>{const v=function(n,t,e){const r=rw(n,t._root,e?e._root:void 0);return new Ex(r,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),Vs(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>K(r=>(new dz(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),Vs({next(){s=!0},complete(){s=!0}}),rx(()=>{var p;if(!s&&!l){const v=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,v)):this.cancelNavigationTransition(i,v)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),zf(p=>{if(l=!0,function(n){return n&&n[ux]}(p)){const v=np(p.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const C=new ix(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(C),v?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),U={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fw(i.source)};this.scheduleNavigation(O,"imperative",null,U,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new S4(i.id,this.serializeUrl(i.extractedUrl),p);r.next(v);try{i.resolve(this.errorHandler(p))}catch(C){i.reject(C)}}return Zd}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:l}=r,p={replaceUrl:!0};if(s){const v=Object.assign({},s);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(p.state=v)}this.scheduleNavigation(l,i,s,p)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const i=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!i||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nx(e),this.config=e.map(cS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:p,preserveFragment:v}=r,C=i||this.routerState.root,O=v?this.currentUrlTree.fragment:l;let U=null;switch(p){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=s||null}return null!==U&&(U=this.removeEmptyProps(U)),function(n,t,e,r,i){if(0===e.length)return sS(t.root,t.root,t,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Mx(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return la(s.outlets,(v,C)=>{p[C]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&i.push(p))}),i):[...i,s]},[]);return new Mx(e,t,r)}(e);if(s.toRoot())return sS(t.root,new ai([],{}),t,r,i);const l=function(n,t,e){if(n.isAbsolute)return new aS(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new aS(s,s===t.root,0)}const r=iw(n.commands[0])?0:1;return function(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new aS(r,!1,i-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,t,n),p=l.processChildren?ow(l.segmentGroup,l.index,s.commands):Ox(l.segmentGroup,l.index,s.commands);return sS(l.segmentGroup,p,t,r,i)}(C,this.currentUrlTree,e,U,null!=O?O:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=np(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},cq):!1===r?Object.assign({},hq):r,np(e))return dx(this.currentUrlTree,e,i);const s=this.parseUrl(e);return dx(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new hv(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,l){var p,v;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),O=fw(r)&&C&&!fw(C.source),J=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===e.toString();if(O&&J)return Promise.resolve(!0);let he,Oe,Ae;l?(he=l.resolve,Oe=l.reject,Ae=l.promise):Ae=new Promise((Yt,hn)=>{he=Yt,Oe=hn});const ht=++this.navigationId;let Ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ze=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):Ze=0,this.setTransition({id:ht,targetPageId:Ze,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:he,reject:Oe,promise:Ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ae.catch(Yt=>Promise.reject(Yt))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new ix(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(Me(tl),Me(ZC),Me(em),Me(Wg),Me(Tr),Me(wb),Me(Yd),Me(void 0))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function fw(n){return"imperative"!==n}let mS=(()=>{class n{constructor(e,r,i,s,l){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new qr,this.deactivateEvents=new qr,this.name=s||Zr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const l=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new gq(e,p,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(ye(em),ye(ua),ye(Wc),wa("name"),ye(cl))},n.\u0275dir=Dt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class gq{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Zg?this.route:t===em?this.childContexts:this.parent.get(t,e)}}class Xx{}class Jx{preload(t,e){return Vn(null)}}let Zx=(()=>{class n{constructor(e,r,i,s,l){this.router=e,this.injector=s,this.preloadingStrategy=l,this.loader=new Yx(r,i,C=>e.triggerEvent(new ox(C)),C=>e.triggerEvent(new sx(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zo(e=>e instanceof hv),Qg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get($c);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children));return rn(i).pipe(On(),K(s=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Vn(r._loadedConfig):this.loader.load(e.injector,r)).pipe(jn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Me(ys),Me(wb),Me(Yd),Me(Tr),Me(Xx))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),_S=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof XC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hv&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ax&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ax(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Me(ys),Me(VO),Me(void 0))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const rp=new Xt("ROUTER_CONFIGURATION"),eR=new Xt("ROUTER_FORROOT_GUARD"),_q=[Wg,{provide:ZC,useClass:_x},{provide:ys,useFactory:function(n,t,e,r,i,s,l,p={},v,C){const O=new ys(null,n,t,e,r,i,s,cx(l));return v&&(O.urlHandlingStrategy=v),C&&(O.routeReuseStrategy=C),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(p,O),p.enableTracing&&O.events.subscribe(U=>{var W,J;null===(W=console.group)||void 0===W||W.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(J=console.groupEnd)||void 0===J||J.call(console)}),O},deps:[ZC,em,Wg,Tr,wb,Yd,dS,rp,[class{},new Yi],[class{},new Yi]]},em,{provide:Zg,useFactory:function(n){return n.routerState.root},deps:[ys]},{provide:wb,useClass:_B},Zx,Jx,class{preload(t,e){return e().pipe(zf(()=>Vn(null)))}},{provide:rp,useValue:{enableTracing:!1}}];function vq(){return new lC("Router",ys)}let tR=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[_q,nR(e),{provide:eR,useFactory:wq,deps:[[ys,new Yi,new ks]]},{provide:rp,useValue:r||{}},{provide:Gg,useFactory:bq,deps:[Jd,[new Ui(TC),new Yi],rp]},{provide:_S,useFactory:yq,deps:[ys,VO,rp]},{provide:Xx,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Jx},{provide:lC,multi:!0,useFactory:vq},[vS,{provide:J_,multi:!0,useFactory:Iq,deps:[vS]},{provide:rR,useFactory:Tq,deps:[vS]},{provide:OM,multi:!0,useExisting:rR}]]}}static forChild(e){return{ngModule:n,providers:[nR(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Me(eR,8),Me(ys,8))},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})();function yq(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new _S(n,t,e)}function bq(n,t,e={}){return e.useHash?new Lj(n,t):new yO(n,t)}function wq(n){return"guarded"}function nR(n){return[{provide:bc,multi:!0,useValue:n},{provide:dS,multi:!0,useValue:n}]}let vS=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new F}appInitializer(){return this.injector.get(Pj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),s=this.injector.get(ys),l=this.injector.get(rp);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Vn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(rp),i=this.injector.get(Zx),s=this.injector.get(_S),l=this.injector.get(ys),p=this.injector.get(Uf);e===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),s.init(),l.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Me(Tr))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();function Iq(n){return n.appInitializer.bind(n)}function Tq(n){return n.bootstrapListener.bind(n)}const rR=new Xt("Router Initializer");function xi(n){return null!=n&&"false"!=`${n}`}function iR(n){return Array.isArray(n)?n:[n]}function ls(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Gh(n){return n instanceof dr?n.nativeElement:n}function wv(n,t,e,r){return te(e)&&(r=e,e=void 0),r?wv(n,t,e).pipe(K(i=>Tn(i)?r(...i):r(i))):new ot(i=>{oR(n,t,function(l){i.next(arguments.length>1?Array.prototype.slice.call(arguments):l)},i,e)})}function oR(n,t,e,r,i){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const l=n;n.addEventListener(t,e,i),s=()=>l.removeEventListener(t,e,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const l=n;n.on(t,e),s=()=>l.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const l=n;n.addListener(t,e),s=()=>l.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let l=0,p=n.length;l<p;l++)oR(n[l],t,e,r,i)}r.add(s)}class Rq extends Y{constructor(t,e){super()}schedule(t,e=0){return this}}class dw extends Rq{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let sR=(()=>{class n{constructor(e,r=n.now){this.SchedulerAction=e,this.now=r}schedule(e,r=0,i){return new this.SchedulerAction(this,e).schedule(i,r)}}return n.now=()=>Date.now(),n})();class ic extends sR{constructor(t,e=sR.now){super(t,()=>ic.delegate&&ic.delegate!==this?ic.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,r){return ic.delegate&&ic.delegate!==this?ic.delegate.schedule(t,e,r):super.schedule(t,e,r)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}new class extends ic{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,s=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,r){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends dw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Fq=1;const Lq=Promise.resolve(),pw={};function aR(n){return n in pw&&(delete pw[n],!0)}const uR={setImmediate(n){const t=Fq++;return pw[t]=!0,Lq.then(()=>aR(t)&&n()),t},clearImmediate(n){aR(n)}},gw=new class extends ic{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,s=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,r){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends dw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=uR.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(uR.clearImmediate(e),t.scheduled=void 0)}}),yS=gw;class Bq{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jq(t,this.compare,this.keySelector))}}class jq extends ft{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}const wS=new ic(dw),mw=wS;class zq{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qq(t,this.durationSelector))}}class qq extends tr{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:i}=this;e=i(t)}catch(i){return this.destination.error(i)}const r=ir(e,new Kt(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ES(n){return!Tn(n)&&n-parseFloat(n)+1>=0}function Wq(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function _w(n,t=mw){return function(n){return function(e){return e.lift(new zq(n))}}(()=>function(n=0,t,e){let r=-1;return ES(t)?r=Number(t)<1?1:Number(t):R(t)&&(e=t),R(e)||(e=mw),new ot(i=>{const s=ES(n)?n:+n-e.now();return e.schedule(Wq,s,{index:0,period:r,subscriber:i})})}(n,t))}function bs(n){return t=>t.lift(new $q(n))}class $q{constructor(t){this.notifier=t}call(t,e){const r=new Kq(t),i=ir(this.notifier,new Kt(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r}}class Kq extends tr{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const cR=new class extends ic{}(class extends dw{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,e,r):t.flush(this)}});function hR(n,t){return new ot(t?e=>t.schedule(tG,0,{error:n,subscriber:e}):e=>e.error(n))}function tG({error:n,subscriber:t}){t.error(n)}class bu{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return Vn(this.value);case"E":return hR(this.error);case"C":return Yb()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new bu("N",t):bu.undefinedValueNotification}static createError(t){return new bu("E",void 0,t)}static createComplete(){return bu.completeNotification}}function vw(n,t=0){return function(r){return r.lift(new nG(n,t))}}bu.completeNotification=new bu("C"),bu.undefinedValueNotification=new bu("N",void 0);class nG{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new yw(t,this.scheduler,this.delay))}}class yw extends ft{constructor(t,e,r=0){super(t),this.scheduler=e,this.delay=r}static dispatch(t){const{notification:e,destination:r}=t;e.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(yw.dispatch,this.delay,new rG(t,this.destination)))}_next(t){this.scheduleMessage(bu.createNext(t))}_error(t){this.scheduleMessage(bu.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(bu.createComplete()),this.unsubscribe()}}class rG{constructor(t,e){this.notification=t,this.destination=e}}let CS;try{CS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){CS=!1}let nm,lo=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===FO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Me(dl))},n.\u0275prov=at({factory:function(){return new n(Me(dl))},token:n,providedIn:"root"}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})();const fR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dR(){if(nm)return nm;if("object"!=typeof document||!document)return nm=new Set(fR),nm;let n=document.createElement("input");return nm=new Set(fR.filter(t=>(n.setAttribute("type",t),n.type===t))),nm}let Cv,ip,SS;function Sv(n){return function(){if(null==Cv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cv=!0}))}finally{Cv=Cv||!1}return Cv}()?n:!!n.capture}function pR(){if(null==ip){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ip=!1,ip;if("scrollBehavior"in document.documentElement.style)ip=!0;else{const n=Element.prototype.scrollTo;ip=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ip}function ww(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function op(n){return n.composedPath?n.composedPath()[0]:n.target}function IS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const gR=new Xt("cdk-dir-doc",{providedIn:"root",factory:function(){return Tc(Nn)}});let Xc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new qr,e){const i=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Me(gR,8))},n.\u0275prov=at({factory:function(){return new n(Me(gR,8))},token:n,providedIn:"root"}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})(),Ew=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new F,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ot(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(_w(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Vn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Zo(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Gh(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Me(zn),Me(lo),Me(Nn,8))},n.\u0275prov=at({factory:function(){return new n(Me(zn),Me(lo),Me(Nn,8))},token:n,providedIn:"root"}),n})(),rm=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new F,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(_w(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Me(lo),Me(zn),Me(Nn,8))},n.\u0275prov=at({factory:function(){return new n(Me(lo),Me(zn),Me(Nn,8))},token:n,providedIn:"root"}),n})(),Cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Tv,Ev,Cw],Tv,Cw]}),n})();class TS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class DS extends TS{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class im extends TS{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class TG extends TS{constructor(t){super(),this.element=t instanceof dr?t.nativeElement:t}}class AS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof DS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof im?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof TG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wR extends AS{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const p=l.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Sw=(()=>{class n extends AS{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new qr,this.attachDomPortal=s=>{const l=s.element,p=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(p,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(l,p)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(ye(Wc),ye(ua),ye(Nn))},n.\u0275dir=Dt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fr]}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})();function sp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const IR=pR();class jG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ls(-this._previousScrollPosition.left),t.style.top=ls(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),IR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IR&&(r.scrollBehavior=s,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class HG{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TR{enable(){}disable(){}attach(){}}function OS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function DR(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class zG{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();OS(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qG=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new TR,this.close=l=>new HG(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new jG(this._viewportRuler,this._document),this.reposition=l=>new zG(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(Me(Ew),Me(rm),Me(zn),Me(Nn))},n.\u0275prov=at({factory:function(){return new n(Me(Ew),Me(rm),Me(zn),Me(Nn))},token:n,providedIn:"root"}),n})();class xw{constructor(t){if(this.scrollStrategy=new TR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class GG{constructor(t,e,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class WG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let AR=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({factory:function(){return new n(Me(Nn))},token:n,providedIn:"root"}),n})(),$G=(()=>{class n extends AR{constructor(e){super(e),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn))},n.\u0275prov=at({factory:function(){return new n(Me(Nn))},token:n,providedIn:"root"}),n})(),KG=(()=>{class n extends AR{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=op(i)},this._clickListener=i=>{const s=op(i),l="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const C=p[v];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(s)||C.overlayElement.contains(l))break;C._outsidePointerEvents.next(i)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn),Me(lo))},n.\u0275prov=at({factory:function(){return new n(Me(Nn),Me(lo))},token:n,providedIn:"root"}),n})(),Dv=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||IS()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s])}const r=this._document.createElement("div");r.classList.add(e),IS()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn),Me(lo))},n.\u0275prov=at({factory:function(){return new n(Me(Nn),Me(lo))},token:n,providedIn:"root"}),n})();class YG{constructor(t,e,r,i,s,l,p,v,C){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=p,this._location=v,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new F,this._attachments=new F,this._detachments=new F,this._locationChanges=Y.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._keydownEvents=new F,this._outsidePointerEvents=new F,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ka(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ls(this._config.width),t.height=ls(this._config.height),t.minWidth=ls(this._config.minWidth),t.minHeight=ls(this._config.minHeight),t.maxWidth=ls(this._config.maxWidth),t.maxHeight=ls(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const i=t.classList;iR(e).forEach(s=>{s&&(r?i.add(s):i.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bs(je(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const MR="cdk-overlay-connected-position-bounding-box",QG=/([A-Za-z%]+)$/;class OR{constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F,this._resizeSubscription=Y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(MR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=[];let s;for(let l of this._preferredPositions){let p=this._getOriginPoint(t,l),v=this._getOverlayPoint(p,e,l),C=this._getOverlayFit(v,e,r,l);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,p);this._canFitWithFlexibleDimensions(C,v,r)?i.push({position:l,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,l)}):(!s||s.overlayFit.visibleArea<C.visibleArea)&&(s={overlayFit:C,overlayPoint:v,originPoint:p,position:l,overlayRect:e})}if(i.length){let l=null,p=-1;for(const v of i){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>p&&(p=C,l=v)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ap(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,i;if("center"==e.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==e.originX?s:l}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:i}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=RR(e);let{x:l,y:p}=t,v=this._getOffset(i,"x"),C=this._getOffset(i,"y");v&&(l+=v),C&&(p+=C);let W=0-p,J=p+s.height-r.height,he=this._subtractOverflows(s.width,0-l,l+s.width-r.width),Oe=this._subtractOverflows(s.height,W,J),Ae=he*Oe;return{visibleArea:Ae,isCompletelyWithinViewport:s.width*s.height===Ae,fitsInViewportVertically:Oe===s.height,fitsInViewportHorizontally:he==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,l=xR(this._overlayRef.getConfig().minHeight),p=xR(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=p&&p<=s;return(t.fitsInViewportVertically||null!=l&&l<=i)&&C}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=RR(e),s=this._viewportRect,l=Math.max(t.x+i.width-s.width,0),p=Math.max(t.y+i.height-s.height,0),v=Math.max(s.top-r.top-t.y,0),C=Math.max(s.left-r.left-t.x,0);let O=0,U=0;return O=i.width<=s.width?C||-l:t.x<this._viewportMargin?s.left-r.left-t.x:0,U=i.height<=s.height?v||-p:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:O,y:U},{x:t.x+O,y:t.y+U}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new WG(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,l,p,O,U,W;if("top"===e.overlayY)l=t.y,s=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)p=r.height-t.y+2*this._viewportMargin,s=r.height-p+this._viewportMargin;else{const J=Math.min(r.bottom-t.y+r.top,t.y),he=this._lastBoundingBoxSize.height;s=2*J,l=t.y-J,s>he&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-he/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)W=r.width-t.x+this._viewportMargin,O=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)U=t.x,O=r.right-t.x;else{const J=Math.min(r.right-t.x+r.left,t.x),he=this._lastBoundingBoxSize.width;O=2*J,U=t.x-J,O>he&&!this._isInitialRender&&!this._growAfterOpen&&(U=t.x-he/2)}return{top:l,left:U,bottom:p,right:W,width:O,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=ls(r.height),i.top=ls(r.top),i.bottom=ls(r.bottom),i.width=ls(r.width),i.left=ls(r.left),i.right=ls(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=ls(s)),l&&(i.maxWidth=ls(l))}this._lastBoundingBoxSize=r,ap(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ap(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ap(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const O=this._viewportRuler.getViewportScrollPosition();ap(r,this._getExactOverlayY(e,t,O)),ap(r,this._getExactOverlayX(e,t,O))}else r.position="static";let p="",v=this._getOffset(e,"x"),C=this._getOffset(e,"y");v&&(p+=`translateX(${v}px) `),C&&(p+=`translateY(${C}px)`),r.transform=p.trim(),l.maxHeight&&(i?r.maxHeight=ls(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=ls(l.maxWidth):s&&(r.maxWidth="")),ap(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let l=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=l,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=ls(s.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ls(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DR(t,r),isOriginOutsideView:OS(t,r),isOverlayClipped:DR(e,r),isOverlayOutsideView:OS(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&iR(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof dr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function ap(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function xR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(QG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function RR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class XG{constructor(t,e,r,i,s,l,p){this._preferredPositions=[],this._positionStrategy=new OR(r,i,s,l,p).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,i){const s=new GG(t,e,r,i);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const kR="cdk-global-overlay-wrapper";class JG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:p}=r,v=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),C=!("100%"!==s&&"100vh"!==s||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(kR),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZG=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new JG}connectedTo(e,r,i){return new XG(r,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new OR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Me(rm),Me(Nn),Me(lo),Me(Dv))},n.\u0275prov=at({factory:function(){return new n(Me(rm),Me(Nn),Me(lo),Me(Dv))},token:n,providedIn:"root"}),n})(),eW=0,Wh=(()=>{class n{constructor(e,r,i,s,l,p,v,C,O,U,W){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=p,this._ngZone=v,this._document=C,this._directionality=O,this._location=U,this._outsideClickDispatcher=W}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),l=new xw(e);return l.direction=l.direction||this._directionality.value,new YG(s,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+eW++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Uf)),new wR(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Me(qG),Me(Dv),Me(Wc),Me(ZG),Me($G),Me(Tr),Me(zn),Me(Nn),Me(Xc),Me(Wg),Me(KG))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const iW={provide:new Xt("cdk-connected-overlay-scroll-strategy"),deps:[Wh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let xS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[Wh,iW],imports:[[Tv,CR,bR],bR]}),n})();function FR(n,t=mw){return e=>e.lift(new oW(n,t))}class oW{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new sW(t,this.dueTime,this.scheduler))}}class sW extends ft{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(aW,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function aW(n){n.debouncedNext()}class lW{constructor(t){this.total=t}call(t,e){return e.subscribe(new cW(t,this.total))}}class cW extends ft{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let RS=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:function(){return new n},token:n,providedIn:"root"}),n})(),LR=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Gh(e);return new ot(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new F,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(Me(RS))},n.\u0275prov=at({factory:function(){return new n(Me(RS))},token:n,providedIn:"root"}),n})(),VR=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new qr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=xi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(FR(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(ye(LR),ye(dr),ye(zn))},n.\u0275dir=Dt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),kS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[RS]}),n})();class mW extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new F,this._typeaheadSubscription=Y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new F,this.change=new F,t instanceof Kd&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Vs(e=>this._pressedLetters.push(e)),FR(t),Zo(()=>this._pressedLetters.length>0),K(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,l=r[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||sp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),i=e[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Kd?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let qR=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===WR(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=WR(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||GR(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(Me(lo))},n.\u0275prov=at({factory:function(){return new n(Me(lo))},token:n,providedIn:"root"}),n})();function GR(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function WR(n){if(!GR(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class DW{constructor(t,e,r,i,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ka(1)).subscribe(t)}}let $R=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new DW(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(Me(qR),Me(zn),Me(Nn))},n.\u0275prov=at({factory:function(){return new n(Me(qR),Me(zn),Me(Nn))},token:n,providedIn:"root"}),n})();function NS(n){return 0===n.offsetX&&0===n.offsetY}function FS(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const KR=new Xt("cdk-input-modality-detector-options"),RW={ignoreKeys:[18,17,224,91,16]},om=Sv({passive:!0,capture:!0});let QR=(()=>{class n{constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ra(null),this._lastTouchMs=0,this._onKeydown=l=>{var p,v;(null===(v=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===v?void 0:v.some(C=>C===l.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=op(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NS(l)?"keyboard":"mouse"),this._mostRecentTarget=op(l))},this._onTouchstart=l=>{FS(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=op(l))},this._options=Object.assign(Object.assign({},RW),s),this.modalityDetected=this._modality.pipe(t=>t.lift(new lW(1))),this.modalityChanged=this.modalityDetected.pipe(function(n,t){return e=>e.lift(new Bq(n,t))}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,om),i.addEventListener("mousedown",this._onMousedown,om),i.addEventListener("touchstart",this._onTouchstart,om)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,om),document.removeEventListener("mousedown",this._onMousedown,om),document.removeEventListener("touchstart",this._onTouchstart,om))}}return n.\u0275fac=function(e){return new(e||n)(Me(lo),Me(zn),Me(Nn),Me(KR,8))},n.\u0275prov=at({factory:function(){return new n(Me(lo),Me(zn),Me(Nn),Me(KR,8))},token:n,providedIn:"root"}),n})();const e1=new Xt("cdk-focus-monitor-default-options"),Pw=Sv({passive:!0,capture:!0});let up=(()=>{class n{constructor(e,r,i,s,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new F,this._rootNodeFocusAndBlurListener=p=>{const v=op(p),C="focus"===p.type?this._onFocus:this._onBlur;for(let O=v;O;O=O.parentElement)C.call(this,p,O)},this._document=s,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(e,r=!1){const i=Gh(e);if(!this._platform.isBrowser||1!==i.nodeType)return Vn(null);const s=function(n){if(function(){if(null==SS){const n="undefined"!=typeof document?document.head:null;SS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SS}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const p={checkChildren:r,subject:new F,rootNode:s};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const r=Gh(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=Gh(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([p,v])=>this._originChanged(p,r,v)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,i){i?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=op(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pw),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pw)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bs(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pw),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pw),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}}return n.\u0275fac=function(e){return new(e||n)(Me(zn),Me(lo),Me(QR),Me(Nn,8),Me(e1,8))},n.\u0275prov=at({factory:function(){return new n(Me(zn),Me(lo),Me(QR),Me(Nn,8),Me(e1,8))},token:n,providedIn:"root"}),n})();const t1="cdk-high-contrast-black-on-white",n1="cdk-high-contrast-white-on-black",LS="cdk-high-contrast-active";let r1=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(LS),e.remove(t1),e.remove(n1),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(LS),e.add(t1)):2===r&&(e.add(LS),e.add(n1))}}}return n.\u0275fac=function(e){return new(e||n)(Me(lo),Me(Nn))},n.\u0275prov=at({factory:function(){return new n(Me(lo),Me(Nn))},token:n,providedIn:"root"}),n})(),PW=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Me(r1))},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ev,kS]]}),n})();const i1=new Lh("12.2.13");class o1{}const $h="*";function sm(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wf(n,t=null){return{type:4,styles:t,timings:n}}function s1(n,t=null){return{type:2,steps:n,options:t}}function ha(n){return{type:6,styles:n,offset:null}}function $f(n,t,e){return{type:0,name:n,styles:t,options:e}}function Kh(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function a1(n){Promise.resolve(null).then(n)}class am{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){a1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class u1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?a1(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function l1(){return"undefined"!=typeof window&&void 0!==window.document}function US(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kf(n){switch(n.length){case 0:return new am;case 1:return n[0];default:return new u1(n)}}function c1(n,t,e,r,i={},s={}){const l=[],p=[];let v=-1,C=null;if(r.forEach(O=>{const U=O.offset,W=U==v,J=W&&C||{};Object.keys(O).forEach(he=>{let Oe=he,Ae=O[he];if("offset"!==he)switch(Oe=t.normalizePropertyName(Oe,l),Ae){case"!":Ae=i[he];break;case $h:Ae=s[he];break;default:Ae=t.normalizeStyleValue(he,Oe,Ae,l)}J[Oe]=Ae}),W||p.push(J),C=J,v=U}),l.length){const O="\n - ";throw new Error(`Unable to animate due to the following errors:${O}${l.join(O)}`)}return p}function BS(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&jS(e,"start",n)));break;case"done":n.onDone(()=>r(e&&jS(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&jS(e,"destroy",n)))}}function jS(n,t,e){const r=e.totalTime,s=HS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function HS(n,t,e,r,i="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function Uu(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function h1(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let zS=(n,t)=>!1,qS=(n,t)=>!1,f1=(n,t,e)=>[];const d1=US();(d1||"undefined"!=typeof Element)&&(zS=l1()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),qS=(()=>{if(d1||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):qS}})(),f1=(n,t,e)=>{let r=[];if(e){const i=n.querySelectorAll(t);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(t);i&&r.push(i)}return r});let lp=null,p1=!1;function GS(n){lp||(lp=("undefined"!=typeof document?document.body:null)||{},p1=!!lp.style&&"WebkitAppearance"in lp.style);let t=!0;return lp.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lp.style,!t&&p1&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lp.style)),t}const WS=qS,$S=zS,KS=f1;function g1(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let m1=(()=>{class n{validateStyleProperty(e){return GS(e)}matchesElement(e,r){return WS(e,r)}containsElement(e,r){return $S(e,r)}query(e,r,i){return KS(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,l,p=[],v){return new am(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),YS=(()=>{class n{}return n.NOOP=new m1,n})();const QS="ng-enter",Nw="ng-leave",Fw="ng-trigger",Lw=".ng-trigger",v1="ng-animating",XS=".ng-animating";function cp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:JS(parseFloat(t[1]),t[2])}function JS(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Vw(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let i,s=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=JS(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(s=JS(parseFloat(v),p[4]));const C=p[5];C&&(l=C)}else i=n;if(!e){let p=!1,v=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),p=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&t.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:l}}(n,t,e)}function um(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Yf(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else um(n,e);return e}function b1(n,t,e){return e?t+":"+e+";":""}function w1(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=b1(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=b1(0,GW(e),n.style[e]));n.setAttribute("style",t)}function Zc(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=eI(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),US()&&w1(n))}function hp(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=eI(e);n.style[r]=""}),US()&&w1(n))}function Av(n){return Array.isArray(n)?1==n.length?n[0]:s1(n):n}const ZS=new RegExp("{{\\s*(.+?)\\s*}}","g");function E1(n){let t=[];if("string"==typeof n){let e;for(;e=ZS.exec(n);)t.push(e[1]);ZS.lastIndex=0}return t}function Uw(n,t,e){const r=n.toString(),i=r.replace(ZS,(s,l)=>{let p=t[l];return t.hasOwnProperty(l)||(e.push(`Please provide a value for the animation param ${l}`),p=""),p.toString()});return i==r?n:i}function Bw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const qW=/-+([a-z0-9])/g;function eI(n){return n.replace(qW,(...t)=>t[1].toUpperCase())}function GW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function C1(n,t){return 0===n||0===t}function S1(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let s=t[0],l=[];if(r.forEach(p=>{s.hasOwnProperty(p)||l.push(p),s[p]=e[p]}),l.length)for(var i=1;i<t.length;i++){let p=t[i];l.forEach(function(v){p[v]=tI(n,v)})}}return t}function Bu(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function tI(n,t){return window.getComputedStyle(n)[t]}function WW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const v=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const i=r[1],s=r[2],l=r[3];t.push(I1(i,l));"<"==s[0]&&!("*"==i&&"*"==l)&&t.push(I1(l,i))}(r,e,t)):e.push(n),e}const Hw=new Set(["true","1"]),zw=new Set(["false","0"]);function I1(n,t){const e=Hw.has(n)||zw.has(n),r=Hw.has(t)||zw.has(t);return(i,s)=>{let l="*"==n||n==i,p="*"==t||t==s;return!l&&e&&"boolean"==typeof i&&(l=i?Hw.has(n):zw.has(n)),!p&&r&&"boolean"==typeof s&&(p=s?Hw.has(t):zw.has(t)),l&&p}}const YW=new RegExp("s*:selfs*,?","g");function nI(n,t,e){return new QW(n).build(t,e)}class QW{constructor(t){this._driver=t}build(t,e){const r=new ZW(e);return this._resetContextStyleTimingState(r),Bu(this,Av(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const v=p,C=v.name;C.toString().split(/\s*,\s*/).forEach(O=>{v.name=O,s.push(this.visitState(v,e))}),v.name=C}else if(1==p.type){const v=this.visitTransition(p,e);r+=v.queryCount,i+=v.depCount,l.push(v)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};if(r.styles.forEach(p=>{if(qw(p)){const v=p;Object.keys(v).forEach(C=>{E1(v[C]).forEach(O=>{l.hasOwnProperty(O)||s.add(O)})})}}),s.size){const p=Bw(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Bu(this,Av(t.animation),e);return{type:1,matchers:WW(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:fp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Bu(this,r,e)),options:fp(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(l=>{e.currentTime=r;const p=Bu(this,l,e);return i=Math.max(i,e.currentTime),p});return e.currentTime=i,{type:3,steps:s,options:fp(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return rI(Vw(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=rI(0,0,"");return s.dynamic=!0,s.strValue=r,s}return e=e||Vw(r,t),rI(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:ha({});if(5==s.type)i=this.visitKeyframes(s,e);else{let l=t.styles,p=!1;if(!l){p=!0;const C={};r.easing&&(C.easing=r.easing),l=ha(C)}e.currentTime+=r.duration+r.delay;const v=this.visitStyle(l,e);v.isEmptyStep=p,i=v}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(l=>{"string"==typeof l?l==$h?r.push(l):e.errors.push(`The provided style string value ${l} is not allowed.`):r.push(l)}):r.push(t.styles);let i=!1,s=null;return r.forEach(l=>{if(qw(l)){const p=l,v=p.easing;if(v&&(s=v,delete p.easing),!i)for(let C in p)if(p[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void e.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const v=e.collectedStyles[e.currentQuerySelector],C=v[p];let O=!0;C&&(s!=i&&s>=C.startTime&&i<=C.endTime&&(e.errors.push(`The CSS property "${p}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),O=!1),s=C.startTime),O&&(v[p]={startTime:s,endTime:i}),e.options&&function(n,t,e){const r=t.params||{},i=E1(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(l[p],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const l=[];let p=!1,v=!1,C=0;const O=t.steps.map(ht=>{const Ze=this._makeStyleAst(ht,e);let Yt=null!=Ze.offset?Ze.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(qw(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(qw(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ze.styles),hn=0;return null!=Yt&&(s++,hn=Ze.offset=Yt),v=v||hn<0||hn>1,p=p||hn<C,C=hn,l.push(hn),Ze});v&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&e.errors.push("Please ensure that all keyframe offsets are in order");const U=t.steps.length;let W=0;s>0&&s<U?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(W=1/(U-1));const J=U-1,he=e.currentTime,Oe=e.currentAnimateTimings,Ae=Oe.duration;return O.forEach((ht,Ze)=>{const Yt=W>0?Ze==J?1:W*Ze:l[Ze],hn=Yt*Ae;e.currentTime=he+Oe.delay+hn,Oe.duration=hn,this._validateStyleAst(ht,e),ht.offset=Yt,r.styles.push(ht)}),r}visitReference(t,e){return{type:8,animation:Bu(this,Av(t.animation),e),options:fp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fp(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(YW,"")),[n=n.replace(/@\*/g,Lw).replace(/@\w+/g,e=>Lw+"-"+e.substr(1)).replace(/:animating/g,XS),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,Uu(e.collectedStyles,e.currentQuerySelector,{});const p=Bu(this,Av(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:t.selector,options:fp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vw(t.timings,e.errors,!0);return{type:12,animation:Bu(this,Av(t.animation),e),timings:r,options:null}}}class ZW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qw(n){return!Array.isArray(n)&&"object"==typeof n}function fp(n){return n?(n=um(n)).params&&(n.params=function(n){return n?um(n):null}(n.params)):n={},n}function rI(n,t,e){return{duration:n,delay:t,easing:e}}function iI(n,t,e,r,i,s,l=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:p}}class Gw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const i$=new RegExp(":enter","g"),s$=new RegExp(":leave","g");function oI(n,t,e,r,i,s={},l={},p,v,C=[]){return(new a$).buildKeyframes(n,t,e,r,i,s,l,p,v,C)}class a${buildKeyframes(t,e,r,i,s,l,p,v,C,O=[]){C=C||new Gw;const U=new sI(t,e,C,i,s,O,[]);U.options=v,U.currentTimeline.setStyles([l],null,U.errors,v),Bu(this,r,U);const W=U.timelines.filter(J=>J.containsAnimation());if(W.length&&Object.keys(p).length){const J=W[W.length-1];J.allowOnlyTimelineStyles()||J.setStyles([p],null,U.errors,v)}return W.length?W.map(J=>J.buildKeyframes()):[iI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const l=null!=r.duration?cp(r.duration):null,p=null!=r.delay?cp(r.delay):null;return 0!==l&&t.forEach(v=>{const C=e.appendInstructionToTimeline(v,l,p);s=Math.max(s,C.duration+C.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Bu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ww);const l=cp(s.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Bu(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?cp(t.options.delay):0;t.steps.forEach(l=>{const p=e.createSubContext(t.options);s&&p.delayNextStep(s),Bu(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Vw(e.params?Uw(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,p=e.createSubContext().currentTimeline;p.easing=r.easing,t.styles.forEach(v=>{p.forwardTime((v.offset||0)*s),p.setStyles(v.styles,v.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?cp(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ww);let l=r;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=p.length;let v=null;p.forEach((C,O)=>{e.currentQueryIndex=O;const U=e.createSubContext(t.options,C);s&&U.delayNextStep(s),C===e.element&&(v=U.currentTimeline),Bu(this,t.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),p=l*(e.currentQueryTotal-1);let v=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const O=e.currentTimeline;v&&O.delayNextStep(v);const U=O.currentTime;Bu(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-U+(i.startTime-r.currentTimeline.startTime)}}const Ww={};class sI{constructor(t,e,r,i,s,l,p,v){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ww,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new $w(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=cp(r.duration)),null!=r.delay&&(i.delay=cp(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(p=>{(!e||!l.hasOwnProperty(p))&&(l[p]=Uw(s[p],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new sI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ww,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},s=new u$(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,l){let p=[];if(i&&p.push(this.element),t.length>0){t=(t=t.replace(i$,"."+this._enterClassName)).replace(s$,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!s&&0==p.length&&l.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),p}}class $w{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $w(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||$h,this._currentKeyframe[e]=$h}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},l=function(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(s=>{e[s]=$h})):Yf(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(l).forEach(p=>{const v=Uw(l[p],s,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:$h),this._updateStyle(p,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,v)=>{const C=Yf(p,!0);Object.keys(C).forEach(O=>{const U=C[O];"!"==U?t.add(O):U==$h&&e.add(O)}),r||(C.offset=v/this.duration),i.push(C)});const s=t.size?Bw(t.values()):[],l=e.size?Bw(e.values()):[];if(r){const p=i[0],v=um(p);p.offset=0,v.offset=1,i=[p,v]}return iI(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class u$ extends $w{constructor(t,e,r,i,s,l,p=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=r+e,p=e/l,v=Yf(t[0],!1);v.offset=0,s.push(v);const C=Yf(t[0],!1);C.offset=A1(p),s.push(C);const O=t.length-1;for(let U=1;U<=O;U++){let W=Yf(t[U],!1);W.offset=A1((e+W.offset*r)/l),s.push(W)}r=l,e=0,i="",t=s}return iI(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function A1(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class aI{}class c$ extends aI{normalizePropertyName(t,e){return eI(t)}normalizeStyleValue(t,e,r,i){let s="";const l=r.toString().trim();if(h$[e]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(`Please provide a CSS unit value for ${t}:${r}`)}return l+s}}const h$=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function M1(n,t,e,r,i,s,l,p,v,C,O,U,W){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:l,timelines:p,queriedElements:v,preStyleProps:C,postStyleProps:O,totalTime:U,errors:W}}const uI={};class O1{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],s=this._stateStyles[t],l=i?i.buildStyles(e,r):{};return s?s.buildStyles(e,r):l}build(t,e,r,i,s,l,p,v,C,O){const U=[],W=this.ast.options&&this.ast.options.params||uI,he=this.buildStyles(r,p&&p.params||uI,U),Oe=v&&v.params||uI,Ae=this.buildStyles(i,Oe,U),ht=new Set,Ze=new Map,Yt=new Map,hn="void"===i,Er={params:Object.assign(Object.assign({},W),Oe)},Ri=O?[]:oI(t,e,this.ast.animation,s,l,he,Ae,Er,C,U);let qi=0;if(Ri.forEach(Pa=>{qi=Math.max(Pa.duration+Pa.delay,qi)}),U.length)return M1(e,this._triggerName,r,i,hn,he,Ae,[],[],Ze,Yt,qi,U);Ri.forEach(Pa=>{const Na=Pa.element,Qh=Uu(Ze,Na,{});Pa.preStyleProps.forEach(sc=>Qh[sc]=!0);const Xh=Uu(Yt,Na,{});Pa.postStyleProps.forEach(sc=>Xh[sc]=!0),Na!==e&&ht.add(Na)});const tu=Bw(ht.values());return M1(e,this._triggerName,r,i,hn,he,Ae,Ri,tu,Ze,Yt,qi)}}class p${constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=um(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!=l&&(i[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(p=>{let v=l[p];v.length>1&&(v=Uw(v,i,e));const C=this.normalizer.normalizePropertyName(p,e);v=this.normalizer.normalizeStyleValue(p,C,v,e),r[C]=v})}}),r}}class m${constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new p$(i.style,i.options&&i.options.params||{},r)}),x1(this.states,"true","1"),x1(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new O1(t,i,this.states))}),this.fallbackTransition=function(n,t,e){return new O1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function x1(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const v$=new Gw;class y${constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],i=nI(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,r){const i=t.element,s=c1(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations[t];let l;const p=new Map;if(s?(l=oI(this._driver,e,s,QS,Nw,{},{},r,v$,i),l.forEach(O=>{const U=Uu(p,O.element,{});O.postStyleProps.forEach(W=>U[W]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);p.forEach((O,U)=>{Object.keys(O).forEach(W=>{O[W]=this._driver.computeStyle(U,W,$h)})});const C=Kf(l.map(O=>{const U=p.get(O.element);return this._buildPlayer(O,{},U)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,i){const s=HS(e,"","","");return BS(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const R1="ng-animate-queued",k1="ng-animate-disabled",P1=".ng-animate-disabled",C$=[],N1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vl="__ng_removed";class lI{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const s=um(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Mv="void",cI=new lI(Mv);class I${constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yl(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const s=Uu(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};s.push(l);const p=Uu(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(yl(t,Fw),yl(t,Fw+"-"+e),p[e]=cI),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(l);v>=0&&s.splice(v,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),l=new hI(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(yl(t,Fw),yl(t,Fw+"-"+e),this._engine.statesByElement.set(t,p={}));let v=p[e];const C=new lI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),p[e]=C,v||(v=cI),C.value!==Mv&&v.value===C.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(v.params,C.params)){const Oe=[],Ae=s.matchStyles(v.value,v.params,Oe),ht=s.matchStyles(C.value,C.params,Oe);Oe.length?this._engine.reportError(Oe):this._engine.afterFlush(()=>{hp(t,Ae),Zc(t,ht)})}return}const W=Uu(this._engine.playersByElement,t,[]);W.forEach(Oe=>{Oe.namespaceId==this.id&&Oe.triggerName==e&&Oe.queued&&Oe.destroy()});let J=s.matchTransition(v.value,C.value,t,C.params),he=!1;if(!J){if(!i)return;J=s.fallbackTransition,he=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:J,fromState:v,toState:C,player:l,isFallbackTransition:he}),he||(yl(t,R1),l.onStart(()=>{lm(t,R1)})),l.onDone(()=>{let Oe=this.players.indexOf(l);Oe>=0&&this.players.splice(Oe,1);const Ae=this._engine.playersByElement.get(t);if(Ae){let ht=Ae.indexOf(l);ht>=0&&Ae.splice(ht,1)}}),this.players.push(l),W.push(l),l}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Lw,!0);r.forEach(i=>{if(i[vl])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t);if(s){const l=[];if(Object.keys(s).forEach(p=>{if(this._triggers[p]){const v=this.trigger(t,p,Mv,i);v&&l.push(v)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Kf(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const v=this._triggers[l].fallbackTransition,C=r[l]||cI,O=new lI(Mv),U=new hI(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:v,fromState:C,toState:O,player:U,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[vl];(!s||s===N1)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){yl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(p=>{if(p.name==r.triggerName){const v=HS(s,r.triggerName,r.fromState.value,r.toState.value);v._data=t,BS(r.player,p.phase,v,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class T${constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new I$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=r[i[s]].namespaceId;if(l){const p=this._fetchNamespace(l);p&&e.add(p)}}}return e}trigger(t,e,r,i){if(Kw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Kw(e))return;const s=e[vl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yl(t,k1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lm(t,k1))}removeNode(t,e,r,i){if(Kw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i){this.collectedLeaveElements.push(e),e[vl]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,i,s){return Kw(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Lw,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,XS,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[vl];if(e&&e.setForRemoval){if(t[vl]=N1,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,P1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,P1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Kf(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Gw,i=[],s=new Map,l=[],p=new Map,v=new Map,C=new Map,O=new Set;this.disabledNodes.forEach(Mn=>{O.add(Mn);const er=this.driver.query(Mn,".ng-animate-queued",!0);for(let Rr=0;Rr<er.length;Rr++)O.add(er[Rr])});const U=this.bodyNode,W=Array.from(this.statesByElement.keys()),J=V1(W,this.collectedEnterElements),he=new Map;let Oe=0;J.forEach((Mn,er)=>{const Rr=QS+Oe++;he.set(er,Rr),Mn.forEach(vi=>yl(vi,Rr))});const Ae=[],ht=new Set,Ze=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const er=this.collectedLeaveElements[Mn],Rr=er[vl];Rr&&Rr.setForRemoval&&(Ae.push(er),ht.add(er),Rr.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(vi=>ht.add(vi)):Ze.add(er))}const Yt=new Map,hn=V1(W,Array.from(ht));hn.forEach((Mn,er)=>{const Rr=Nw+Oe++;Yt.set(er,Rr),Mn.forEach(vi=>yl(vi,Rr))}),t.push(()=>{J.forEach((Mn,er)=>{const Rr=he.get(er);Mn.forEach(vi=>lm(vi,Rr))}),hn.forEach((Mn,er)=>{const Rr=Yt.get(er);Mn.forEach(vi=>lm(vi,Rr))}),Ae.forEach(Mn=>{this.processLeaveNode(Mn)})});const Er=[],Ri=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(e).forEach(Rr=>{const vi=Rr.player,Us=Rr.element;if(Er.push(vi),this.collectedEnterElements.length){const ih=Us[vl];if(ih&&ih.setForMove)return void vi.destroy()}const rh=!U||!this.driver.containsElement(U,Us),Hu=Yt.get(Us),td=he.get(Us),jo=this._buildInstruction(Rr,r,td,Hu,rh);if(jo.errors&&jo.errors.length)Ri.push(jo);else{if(rh)return vi.onStart(()=>hp(Us,jo.fromStyles)),vi.onDestroy(()=>Zc(Us,jo.toStyles)),void i.push(vi);if(Rr.isFallbackTransition)return vi.onStart(()=>hp(Us,jo.fromStyles)),vi.onDestroy(()=>Zc(Us,jo.toStyles)),void i.push(vi);jo.timelines.forEach(ih=>ih.stretchStartingKeyframe=!0),r.append(Us,jo.timelines),l.push({instruction:jo,player:vi,element:Us}),jo.queriedElements.forEach(ih=>Uu(p,ih,[]).push(vi)),jo.preStyleProps.forEach((ih,zv)=>{const T0=Object.keys(ih);if(T0.length){let wp=v.get(zv);wp||v.set(zv,wp=new Set),T0.forEach(aT=>wp.add(aT))}}),jo.postStyleProps.forEach((ih,zv)=>{const T0=Object.keys(ih);let wp=C.get(zv);wp||C.set(zv,wp=new Set),T0.forEach(aT=>wp.add(aT))})}});if(Ri.length){const Mn=[];Ri.forEach(er=>{Mn.push(`@${er.triggerName} has failed due to:\n`),er.errors.forEach(Rr=>Mn.push(`- ${Rr}\n`))}),Er.forEach(er=>er.destroy()),this.reportError(Mn)}const qi=new Map,tu=new Map;l.forEach(Mn=>{const er=Mn.element;r.has(er)&&(tu.set(er,er),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,qi))}),i.forEach(Mn=>{const er=Mn.element;this._getPreviousPlayers(er,!1,Mn.namespaceId,Mn.triggerName,null).forEach(vi=>{Uu(qi,er,[]).push(vi),vi.destroy()})});const Pa=Ae.filter(Mn=>B1(Mn,v,C)),Na=new Map;L1(Na,this.driver,Ze,C,$h).forEach(Mn=>{B1(Mn,v,C)&&Pa.push(Mn)});const Xh=new Map;J.forEach((Mn,er)=>{L1(Xh,this.driver,new Set(Mn),v,"!")}),Pa.forEach(Mn=>{const er=Na.get(Mn),Rr=Xh.get(Mn);Na.set(Mn,Object.assign(Object.assign({},er),Rr))});const sc=[],ym=[],bm={};l.forEach(Mn=>{const{element:er,player:Rr,instruction:vi}=Mn;if(r.has(er)){if(O.has(er))return Rr.onDestroy(()=>Zc(er,vi.toStyles)),Rr.disabled=!0,Rr.overrideTotalTime(vi.totalTime),void i.push(Rr);let Us=bm;if(tu.size>1){let Hu=er;const td=[];for(;Hu=Hu.parentNode;){const jo=tu.get(Hu);if(jo){Us=jo;break}td.push(Hu)}td.forEach(jo=>tu.set(jo,Us))}const rh=this._buildAnimation(Rr.namespaceId,vi,qi,s,Xh,Na);if(Rr.setRealPlayer(rh),Us===bm)sc.push(Rr);else{const Hu=this.playersByElement.get(Us);Hu&&Hu.length&&(Rr.parentPlayer=Kf(Hu)),i.push(Rr)}}else hp(er,vi.fromStyles),Rr.onDestroy(()=>Zc(er,vi.toStyles)),ym.push(Rr),O.has(er)&&i.push(Rr)}),ym.forEach(Mn=>{const er=s.get(Mn.element);if(er&&er.length){const Rr=Kf(er);Mn.setRealPlayer(Rr)}}),i.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<Ae.length;Mn++){const er=Ae[Mn],Rr=er[vl];if(lm(er,Nw),Rr&&Rr.hasAnimation)continue;let vi=[];if(p.size){let rh=p.get(er);rh&&rh.length&&vi.push(...rh);let Hu=this.driver.query(er,XS,!0);for(let td=0;td<Hu.length;td++){let jo=p.get(Hu[td]);jo&&jo.length&&vi.push(...jo)}}const Us=vi.filter(rh=>!rh.destroyed);Us.length?O$(this,er,Us):this.processLeaveNode(er)}return Ae.length=0,sc.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const er=this.players.indexOf(Mn);this.players.splice(er,1)}),Mn.play()}),sc}elementContainsData(t,e){let r=!1;const i=e[vl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let l=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(l=p)}else{const p=this.playersByElement.get(t);if(p){const v=!s||s==Mv;p.forEach(C=>{C.queued||!v&&C.triggerName!=i||l.push(C)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(t,e,r){const s=e.element,l=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const C=v.element,O=C!==s,U=Uu(r,C,[]);this._getPreviousPlayers(C,O,l,p,e.toState).forEach(J=>{const he=J.getRealPlayer();he.beforeDestroy&&he.beforeDestroy(),J.destroy(),U.push(J)})}hp(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,l){const p=e.triggerName,v=e.element,C=[],O=new Set,U=new Set,W=e.timelines.map(he=>{const Oe=he.element;O.add(Oe);const Ae=Oe[vl];if(Ae&&Ae.removedBeforeQueried)return new am(he.duration,he.delay);const ht=Oe!==v,Ze=function(n){const t=[];return U1(n,t),t}((r.get(Oe)||C$).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===Oe),Yt=s.get(Oe),hn=l.get(Oe),Er=c1(0,this._normalizer,0,he.keyframes,Yt,hn),Ri=this._buildPlayer(he,Er,Ze);if(he.subTimeline&&i&&U.add(Oe),ht){const qi=new hI(t,p,Oe);qi.setRealPlayer(Ri),C.push(qi)}return Ri});C.forEach(he=>{Uu(this.playersByQueriedElement,he.element,[]).push(he),he.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,he.element,he))}),O.forEach(he=>yl(he,v1));const J=Kf(W);return J.onDestroy(()=>{O.forEach(he=>lm(he,v1)),Zc(v,e.toStyles)}),U.forEach(he=>{Uu(i,he,[]).push(J)}),J}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new am(t.duration,t.delay)}}class hI{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new am,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>BS(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Uu(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Kw(n){return n&&1===n.nodeType}function F1(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function L1(n,t,e,r,i){const s=[];e.forEach(v=>s.push(F1(v)));const l=[];r.forEach((v,C)=>{const O={};v.forEach(U=>{const W=O[U]=t.computeStyle(C,U,i);(!W||0==W.length)&&(C[vl]=S$,l.push(C))}),n.set(C,O)});let p=0;return e.forEach(v=>F1(v,s[p++])),l}function V1(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const i=new Set(t),s=new Map;function l(p){if(!p)return 1;let v=s.get(p);if(v)return v;const C=p.parentNode;return v=e.has(C)?C:i.has(C)?1:l(C),s.set(p,v),v}return t.forEach(p=>{const v=l(p);1!==v&&e.get(v).push(p)}),e}const Yw="$$classes";function yl(n,t){if(n.classList)n.classList.add(t);else{let e=n[Yw];e||(e=n[Yw]={}),e[t]=!0}}function lm(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Yw];e&&delete e[t]}}function O$(n,t,e){Kf(e).onDone(()=>n.processLeaveNode(t))}function U1(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof u1?U1(r.players,t):t.push(r)}}function B1(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class Qw{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new T$(t,e,r),this._timelineEngine=new y$(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const l=t+"-"+i;let p=this._triggerCache[l];if(!p){const v=[],C=nI(this._driver,s,v);if(v.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);p=function(n,t,e){return new m$(n,t,e)}(i,C,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(e,i,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,l]=h1(r);this._timelineEngine.command(s,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[l,p]=h1(r);return this._timelineEngine.listen(l,e,p,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function j1(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=fI(t[0]),t.length>1&&(r=fI(t[t.length-1]))):t&&(e=fI(t)),e||r?new k$(n,e,r):null}let k$=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hp(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fI(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];P$(i)&&(t=t||{},t[i]=n[i])}return t}function P$(n){return"display"===n||"position"===n}const H1="animation",z1="animationend";class L${constructor(t,e,r,i,s,l,p){this._element=t,this._name=e,this._duration=r,this._delay=i,this._easing=s,this._fillMode=l,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,t){const e=pI(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),Xw(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),W1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){q1(this._element,this._name,"paused")}resume(){q1(this._element,this._name,"running")}setPosition(t){const e=G1(this._element,this._name);this._position=t*this._duration,Xw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),W1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=pI(n,"").split(","),i=dI(r,t);i>=0&&(r.splice(i,1),Xw(n,"",r.join(",")))}(this._element,this._name))}}function q1(n,t,e){Xw(n,"PlayState",e,G1(n,t))}function G1(n,t){const e=pI(n,"");return e.indexOf(",")>0?dI(e.split(","),t):dI([e],t)}function dI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function W1(n,t,e){e?n.removeEventListener(z1,t):n.addEventListener(z1,t)}function Xw(n,t,e,r){const i=H1+t;if(null!=r){const s=n.style[i];if(s.length){const l=s.split(",");l[r]=e,e=l.join(",")}}n.style[i]=e}function pI(n,t){return n.style[H1+t]||""}class $1{constructor(t,e,r,i,s,l,p,v){this.element=t,this.keyframes=e,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=p,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=i+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new L$(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:tI(this.element,r))})}this.currentSnapshot=t}}class z$ extends am{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=g1(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Y1{constructor(){this._count=0}validateStyleProperty(t){return GS(t)}matchesElement(t,e){return WS(t,e)}containsElement(t,e){return $S(t,e)}query(t,e,r){return KS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(p=>g1(p));let i=`@keyframes ${e} {\n`,s="";r.forEach(p=>{s=" ";const v=parseFloat(p.offset);i+=`${s}${100*v}% {\n`,s+=" ",Object.keys(p).forEach(C=>{const O=p[C];switch(C){case"offset":return;case"easing":return void(O&&(i+=`${s}animation-timing-function: ${O};\n`));default:return void(i+=`${s}${C}: ${O};\n`)}}),i+=`${s}}\n`}),i+="}\n";const l=document.createElement("style");return l.textContent=i,l}animate(t,e,r,i,s,l=[],p){const v=l.filter(Ae=>Ae instanceof $1),C={};C1(r,i)&&v.forEach(Ae=>{let ht=Ae.currentSnapshot;Object.keys(ht).forEach(Ze=>C[Ze]=ht[Ze])});const O=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(t[i]=r[i])})}),t}(e=S1(t,e,C));if(0==r)return new z$(t,O);const U="gen_css_kf_"+this._count++,W=this.buildKeyframeElement(t,U,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(W);const he=j1(t,e),Oe=new $1(t,e,U,r,i,s,O,he);return Oe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(W)),Oe}}class X1{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class K${constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(J1().toString()),this._cssKeyframesDriver=new Y1}validateStyleProperty(t){return GS(t)}matchesElement(t,e){return WS(t,e)}containsElement(t,e){return $S(t,e)}query(t,e,r){return KS(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,i,s,l=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,i,s,l);const O={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(O.easing=s);const U={},W=l.filter(he=>he instanceof X1);C1(r,i)&&W.forEach(he=>{let Oe=he.currentSnapshot;Object.keys(Oe).forEach(Ae=>U[Ae]=Oe[Ae])});const J=j1(t,e=S1(t,e=e.map(he=>Yf(he,!1)),U));return new X1(t,e,O,J)}}function J1(){return l1()&&Element.prototype.animate||{}}let Q$=(()=>{class n extends o1{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:rr.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?s1(e):e;return Z1(this._renderer,null,r,"register",[i]),new X$(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Me(qd),Me(Nn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();class X$ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new J$(this._id,t,e||{},this._renderer)}}class J${constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Z1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Z1(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const ek="@.disabled";let Z$=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{l&&l.parentNode(s)&&l.removeChild(s.parentNode,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let O=this._rendererCache.get(s);return O||(O=new tk("",s,this.engine),this._rendererCache.set(s,O)),O}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const v=O=>{Array.isArray(O)?O.forEach(v):this.engine.registerTrigger(l,p,e,O.name,O)};return r.data.animation.forEach(v),new e8(this,p,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,p]=s;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Me(qd),Me(Qw),Me(zn))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();class tk{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==ek?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class e8 extends tk{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ek?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(t,e,r)}}let r8=(()=>{class n extends Qw{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Me(Nn),Me(YS),Me(aI))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const eh=new Xt("AnimationModuleType"),nk=[{provide:o1,useClass:Q$},{provide:aI,useFactory:function(){return new c$}},{provide:Qw,useClass:r8},{provide:qd,useFactory:function(n,t,e){return new Z$(n,t,e)},deps:[$b,Qw,zn]}],rk=[{provide:YS,useFactory:function(){return"function"==typeof J1()?new K$:new Y1}},{provide:eh,useValue:"BrowserAnimations"},...nk],ik=[{provide:YS,useClass:m1},{provide:eh,useValue:"NoopAnimations"},...nk];let a8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ik:rk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:rk,imports:[$C]}),n})();const ok=new Lh("12.2.13"),p8=new Xt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dp,Ji=(()=>{class n{constructor(e,r,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!uC()||IS())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&ok.full!==i1.full&&console.warn("The Angular Material version ("+ok.full+") does not match the Angular CDK version ("+i1.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(Me(r1),Me(p8,8),Me(Nn))},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Tv],Tv]}),n})();function cm(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=xi(t)}}}function Zw(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function e0(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=xi(t)}}}function ak(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new F,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}try{dp="undefined"!=typeof Intl}catch(n){dp=!1}let gI=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:function(){return new n},token:n,providedIn:"root"}),n})();class T8{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lk={enterDuration:225,exitDuration:150},mI=Sv({passive:!0}),ck=["mousedown","touchstart"],hk=["mouseup","mouseleave","touchend","touchcancel"];class A8{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gh(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},lk),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),p=t-i.left,v=e-i.top,C=s.enterDuration,O=document.createElement("div");O.classList.add("mat-ripple-element"),O.style.left=p-l+"px",O.style.top=v-l+"px",O.style.height=2*l+"px",O.style.width=2*l+"px",null!=r.color&&(O.style.backgroundColor=r.color),O.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(O),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(O),O.style.transform="scale(1)";const U=new T8(this,O,r);return U.state=0,this._activeRipples.add(U),r.persistent||(this._mostRecentTransientRipple=U),this._runTimeoutOutsideZone(()=>{const W=U===this._mostRecentTransientRipple;U.state=1,!r.persistent&&(!W||!this._isPointerDown)&&U.fadeOut()},C),U}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,i=Object.assign(Object.assign({},lk),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gh(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ck))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hk),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=NS(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!FS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,mI)})})}_removeTriggerEvents(){this._triggerElement&&(ck.forEach(t=>{this._triggerElement.removeEventListener(t,this,mI)}),this._pointerUpEventsRegistered&&hk.forEach(t=>{this._triggerElement.removeEventListener(t,this,mI)}))}}const x8=new Xt("mat-ripple-global-options");let pp=(()=>{class n{constructor(e,r,i,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new A8(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(zn),ye(lo),ye(x8,8),ye(eh,8))},n.\u0275dir=Dt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Xi("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ji,Ev],Ji]}),n})(),k8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ji]]}),n})(),pk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[n0,Kg,Ji,k8]]}),n})();function j8(n,t){}class yI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const H8={dialogContainer:sm("dialogContainer",[$f("void, exit",ha({opacity:0,transform:"scale(0.7)"})),$f("enter",ha({transform:"none"})),Kh("* => enter",Wf("150ms cubic-bezier(0, 0, 0.2, 1)",ha({transform:"none",opacity:1}))),Kh("* => void, * => exit",Wf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ha({opacity:0})))])};let z8=(()=>{class n extends AS{constructor(e,r,i,s,l,p){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=l,this._focusMonitor=p,this._animationStateChanged=new qr,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(v)),this._ariaLabelledBy=l.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=ww(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=ww())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=ww();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye($R),ye(cl),ye(Nn,8),ye(yI),ye(up))},n.\u0275dir=Dt({type:n,viewQuery:function(e,r){if(1&e&&vu(Sw,7),2&e){let i;Ti(i=Di())&&(r._portalOutlet=i.first)}},features:[fr]}),n})(),q8=(()=>{class n extends z8{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jr(n)))(r||n)}}(),n.\u0275cmp=_r({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&gE("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&e&&(Lf("id",r._id),pi("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),yE("@dialogContainer",r._state))},features:[fr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&gi(0,j8,0,0,"ng-template",0)},directives:[Sw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[H8.dialogContainer]}}),n})(),G8=0;class bI{constructor(t,e,r="mat-dialog-"+G8++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new F,this._afterClosed=new F,this._beforeClosed=new F,this._state=0,e._id=r,e._animationStateChanged.pipe(Zo(i=>"opened"===i.state),ka(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Zo(i=>"closed"===i.state),ka(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Zo(i=>27===i.keyCode&&!this.disableClose&&!sp(i))).subscribe(i=>{i.preventDefault(),wI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():wI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Zo(e=>"closing"===e.state),ka(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function wI(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const W8=new Xt("MatDialogData"),$8=new Xt("mat-dialog-default-options"),gk=new Xt("mat-dialog-scroll-strategy"),Y8={provide:gk,deps:[Wh],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Q8=(()=>{class n{constructor(e,r,i,s,l,p,v,C,O){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=l,this._dialogRefConstructor=v,this._dialogContainerType=C,this._dialogDataToken=O,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new F,this._afterOpenedAtThisLevel=new F,this._ariaHiddenElements=new Map,this.afterAllClosed=Qb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ml(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new yI)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),l=this._attachDialogContent(e,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.afterClosed().subscribe(()=>this._removeOpenDialog(l)),this.afterOpened.next(l),s._initializeWithAttachedContent(),l}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new xw({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const s=Tr.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:yI,useValue:r}]}),l=new DS(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,r,i,s){const l=new this._dialogRefConstructor(i,r,s.id);if(e instanceof Qa)r.attachTemplatePortal(new im(e,null,{$implicit:s.data,dialogRef:l}));else{const p=this._createInjector(s,l,r),v=r.attachComponentPortal(new DS(e,s.viewContainerRef,p));l.componentInstance=v.instance}return l.updateSize(s.width,s.height).updatePosition(s.position),l}_createInjector(e,r,i){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!s||!s.get(Xc,null,xn.Optional))&&l.push({provide:Xc,useValue:{value:e.direction,change:Vn()}}),Tr.create({parent:s||this._injector,providers:l})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(ye(Wh),ye(Tr),ye(void 0),ye(void 0),ye(Dv),ye(void 0),ye(tl),ye(tl),ye(Xt))},n.\u0275dir=Dt({type:n}),n})(),gp=(()=>{class n extends Q8{constructor(e,r,i,s,l,p,v){super(e,r,s,p,v,l,bI,q8,W8)}}return n.\u0275fac=function(e){return new(e||n)(Me(Wh),Me(Tr),Me(Wg,8),Me($8,8),Me(gk),Me(n,12),Me(Dv))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[gp,Y8],imports:[[xS,CR,Ji],Ji]}),n})();var _k=Ct(117);Ct(3);class r0 extends ot{constructor(t,e=0,r=yS){super(),this.source=t,this.delayTime=e,this.scheduler=r,(!ES(e)||e<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=yS)}static create(t,e=0,r=yS){return new r0(t,e,r)}static dispatch(t){const{source:e,subscriber:r}=t;return this.add(e.subscribe(r))}_subscribe(t){return this.scheduler.schedule(r0.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class t6{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new r0(e,this.delay,this.scheduler).subscribe(t)}}function EI(){}class vk{constructor(t,e=cR){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{t.apply(this,[l])})},e,r)}}class n6{constructor(t){this.zone=t,this.task=null}call(t,e){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",EI,{},EI,EI)),e.pipe(Vs(r,r,r)).subscribe(t).add(r)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class yk{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vk(Zone.current)),this.insideAngular=t.run(()=>new vk(Zone.current,wS))}}function bk(n,t){return function(r){return LO(t)&&(r=r.lift(new n6(n.ngZone))),r.pipe(function(n,t=0){return function(r){return r.lift(new t6(n,t))}}(n.outsideAngular),vw(n.insideAngular))}}var CI,o6=Ct(395),mp=Ct.n(o6);const hm=new Xt("angularfire2.app.options"),fm=new Xt("angularfire2.app.nameOrConfig"),f6=new Lh("5.4.2");function SI(n,t,e){const i="object"==typeof e&&e||{};return i.name=i.name||"string"==typeof e&&e||"[DEFAULT]",mp().apps.filter(l=>l&&l.name===i.name)[0]||t.runOutsideAngular(()=>mp().initializeApp(n,i))}const d6={provide:class{},useFactory:SI,deps:[hm,zn,[new Yi,fm]]};let Qf=CI=class{constructor(t){mp().registerVersion&&(mp().registerVersion("angularfire",f6.full,t.toString()),mp().registerVersion("angular",ME.full))}static initializeApp(t,e){return{ngModule:CI,providers:[{provide:hm,useValue:t},{provide:fm,useValue:e}]}}};var t;Qf.\u0275fac=function(t){return new(t||Qf)(Me(dl))},Qf.\u0275mod=Ln({type:Qf}),Qf.\u0275inj=vt({providers:[d6]}),Qf=CI=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([(t=Ui(dl),function(e,r){t(e,r,0)}),function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],Qf);var g6=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},o0=function(n,t){return function(e,r){t(e,r,n)}};let II=(()=>{let n=class{constructor(e,r,i,s){const l=bk(new yk(s),i);this.auth=s.runOutsideAngular(()=>SI(e,s,r).auth()),this.authState=new ot(p=>s.runOutsideAngular(()=>this.auth.onAuthStateChanged(p))).pipe(l),this.user=new ot(p=>s.runOutsideAngular(()=>this.auth.onIdTokenChanged(p))).pipe(l),this.idToken=this.user.pipe(Za(p=>p?rn(p.getIdToken()):Vn(null))),this.idTokenResult=this.user.pipe(Za(p=>p?rn(p.getIdTokenResult()):Vn(null)))}};return n.\u0275fac=function(e){return new(e||n)(Me(hm),Me(fm,8),Me(dl),Me(zn))},n.\u0275prov=at({token:n,factory:function(t){return n.\u0275fac(t)}}),n=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([o0(0,Ui(hm)),o0(1,Yi()),o0(1,Ui(fm)),o0(2,Ui(dl)),g6("design:paramtypes",[Object,Object,Object,zn])],n),n})();function wk(n,t){return function(n,t=wS){return new ot(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot(e)}):r=n.onSnapshot(e),function(){null!=r&&r()}})}(n,t)}function s0(n,t){return wk(n,t).pipe(K(e=>({payload:e,type:"query"})))}function a0(n,t){return s0(n,t).pipe(K(e=>e.payload.docChanges().map(r=>({type:r.type,payload:r}))))}function Ek(n,t,e){return s0(n,e).pipe(K(r=>r.payload.docChanges()),cv((r,i)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":n[t.newIndex]&&n[t.newIndex].doc.ref.isEqual(t.doc.ref)||n.splice(t.newIndex,0,t);break;case"modified":(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t)):n.splice(t.newIndex,1,t));break;case"removed":n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&n.splice(t.oldIndex,1)}return n}(n,r))}),n}(r,i,t),[]),K(r=>r.map(i=>({type:i.type,payload:i}))))}function Ck(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}Ct(910);class Sk{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){return t&&0!==t.length?a0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.filter(r=>t.indexOf(r.type)>-1)),Zo(e=>e.length>0)):a0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(cv((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=Ck(t);return Ek(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return s0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.payload.docs.map(r=>t.idField?Object.assign({},r.data(),{[t.idField]:r.id}):r.data())))}get(t){return rn(this.query.get(t)).pipe(vw(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ik(this.ref.doc(t),this.afs)}}class Ik{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:s}=xk(r,e);return new Sk(i,s,this.afs)}snapshotChanges(){return function(n,t){return wk(n,t).pipe(K(e=>({payload:e,type:"value"})))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(K(t=>t.payload.data()))}get(t){return rn(this.ref.get(t)).pipe(vw(this.afs.schedulers.insideAngular))}}class b6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?a0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.filter(r=>t.indexOf(r.type)>-1)),Zo(e=>e.length>0)):a0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(cv((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=Ck(t);return Ek(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return s0(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,K(e=>e.payload.docs.map(r=>r.data())))}get(t){return rn(this.query.get(t)).pipe(vw(this.afs.schedulers.insideAngular))}}var E6=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},th=function(n,t){return function(e,r){t(e,r,n)}};const Tk=new Xt("angularfire2.enableFirestorePersistence"),Dk=new Xt("angularfire2.firestore.persistenceSettings"),Ak=Tk,Mk=Dk,Ok=new Xt("angularfire2.firestore.settings"),TI=parseInt(mp().SDK_VERSION.split(".")[0]),S6=parseInt(mp().SDK_VERSION.split(".")[1]),I6=TI<5||5==TI&&S6<8?{timestampsInSnapshots:!0}:{};function xk(n,t=(e=>e)){return{query:t(n),ref:n}}let DI=(()=>{let n=class{constructor(e,r,i,s,l,p,v){this.schedulers=new yk(p),this.keepUnstableUntilFirst=bk(this.schedulers,l),this.firestore=p.runOutsideAngular(()=>{const O=SI(e,p,r).firestore();return O.settings(s||I6),O}),this.persistenceEnabled$=i&&!LO(l)?p.runOutsideAngular(()=>{try{return rn(this.firestore.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(O){return Vn(!1)}}):Vn(!1)}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=xk(i,r);return new Sk(s,l,this)}collectionGroup(e,r){if(TI<6)throw"collection group queries require Firebase JS SDK >= 6.0";const i=r||(p=>p),l=this.firestore.collectionGroup(e);return new b6(i(l),this)}doc(e){let r;return r="string"==typeof e?this.firestore.doc(e):e,new Ik(r,this)}createId(){return this.firestore.collection("_").doc().id}};return n.\u0275fac=function(e){return new(e||n)(Me(hm),Me(fm,8),Me(Ak,8),Me(Ok,8),Me(dl),Me(zn),Me(Mk,8))},n.\u0275prov=at({token:n,factory:function(t){return n.\u0275fac(t)}}),n=function(n,t,e,r){var l,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,r);else for(var p=n.length-1;p>=0;p--)(l=n[p])&&(s=(i<3?l(s):i>3?l(t,e,s):l(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}([th(0,Ui(hm)),th(1,Yi()),th(1,Ui(fm)),th(2,Yi()),th(2,Ui(Ak)),th(3,Yi()),th(3,Ui(Ok)),th(4,Ui(dl)),th(6,Yi()),th(6,Ui(Mk)),E6("design:paramtypes",[Object,Object,Object,Object,Object,zn,Object])],n),n})(),dm=(()=>{class n{constructor(e,r,i,s){this.fireAuth=e,this.router=r,this.dialog=i,this.firestore=s,this.id=localStorage.getItem("auth_token")}createUser(e,r){return console.log(e),this.firestore.collection("users").doc(r).set(e,{merge:!0})}updateUserById(e,r){return this.firestore.collection("users").doc(e).set(r,{merge:!0})}getUsers(){return this.firestore.collection("users",e=>e.where("id","!=",this.id)).snapshotChanges()}getUserById(e){return this.firestore.collection("users").doc(e).get()}addUserToMyContact(e,r,i){return this.firestore.collection("users").doc(e).collection("contacts").doc(r).set(i).then(s=>this.firestore.collection("users").doc(r).collection("contacts").doc(e).set(i))}getMyContacts(e){return this.firestore.collection("users").doc(e).collection("contacts").snapshotChanges()}getMyContactById(e){return this.firestore.collection("users").doc(this.id).collection("contacts").doc(e).get()}sendMessage(e,r){return this.firestore.collection("chats").doc(e).collection("messages").add(r)}getMessages(e){return this.firestore.collection("chats").doc(e).collection("messages",r=>r.orderBy("createdAt","asc")).snapshotChanges()}userOnline(e,r){return this.firestore.collection("users").doc(e).set({online:r},{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(Me(II),Me(ys),Me(gp),Me(DI))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xv=(()=>{class n{constructor(e,r,i){this.fireAuth=e,this.router=r,this.service=i}signup(e,r,i,s){return new Promise((l,p)=>{_k.auth().createUserWithEmailAndPassword(e,r).then(v=>{var C;console.log(v),null===(C=v.user)||void 0===C||C.updateProfile({displayName:s}).then(()=>{var O,U;l(v.user),console.log(v.user);var W=(null===(O=null==v?void 0:v.user)||void 0===O?void 0:O.uid)?null===(U=null==v?void 0:v.user)||void 0===U?void 0:U.uid:"";localStorage.setItem("auth_token",W)})},v=>{p(v),console.log(v)})})}login(e,r){return new Promise((i,s)=>{_k.auth().signInWithEmailAndPassword(e,r).then(l=>{var p,v,C;console.log(null===(p=null==l?void 0:l.user)||void 0===p?void 0:p.uid);var O=(null===(v=null==l?void 0:l.user)||void 0===v?void 0:v.uid)?null===(C=null==l?void 0:l.user)||void 0===C?void 0:C.uid:"";localStorage.setItem("auth_token",O),i(l.user),this.service.userOnline(O,!0).then(U=>{console.log("user online")})},l=>{s(l),console.log(l)})})}signOut(){this.fireAuth.auth.signOut().then(e=>this.fireAuth.auth.signOut().then(()=>{let r=localStorage.getItem("auth_token");null!=r&&this.service.userOnline(r,!1).then(i=>{console.log("user offline"),localStorage.removeItem("auth_token"),this.router.navigate(["/login"])})}))}}return n.\u0275fac=function(e){return new(e||n)(Me(II),Me(ys),Me(dm))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AI=(()=>{class n{constructor(){this.currentChatUserId=new Ra(""),this.createdBy=new Ra(""),this.currentChatUserName=new Ra(""),this.currentChatUserOnlineStatus=new Ra(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rk(...n){if(1===n.length){const t=n[0];if(Tn(t))return u0(t,null);if(Lt(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u0(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return u0(n=1===n.length&&Tn(n[0])?n[0]:n,null).pipe(K(e=>t(...e)))}return u0(n,null)}function u0(n,t){return new ot(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let s=0,l=0;for(let p=0;p<r;p++){const v=rn(n[p]);let C=!1;e.add(v.subscribe({next:O=>{C||(C=!0,l++),i[p]=O},error:O=>e.error(O),complete:()=>{s++,(s===r||!C)&&(l===r&&e.next(t?t.reduce((O,U,W)=>(O[U]=i[W],O),{}):i),e.complete())}}))}})}class kk{}class Yh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(p=>-1===s.indexOf(p)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T6{encodeKey(t){return Nk(t)}encodeValue(t){return Nk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const A6=/%(\d[a-f0-9])/gi,M6={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Nk(n){return encodeURIComponent(n).replace(A6,(t,e)=>{var r;return null!==(r=M6[e])&&void 0!==r?r:t})}function Fk(n){return`${n}`}class Xf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T6,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,p]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],v=e.get(l)||[];v.push(p),e.set(l,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Fk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Fk(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class O6{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Lk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Vk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Uk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Rv{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yh),this.context||(this.context=new O6),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+l}}else this.params=new Xf,this.urlWithParams=e}serializeBody(){return null===this.body?null:Lk(this.body)||Vk(this.body)||Uk(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uk(this.body)?null:Vk(this.body)?this.body.type||null:Lk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,O=t.params||this.params;const U=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((W,J)=>W.set(J,t.setHeaders[J]),C)),t.setParams&&(O=Object.keys(t.setParams).reduce((W,J)=>W.set(J,t.setParams[J]),O)),new Rv(r,i,l,{params:O,headers:C,context:U,reportProgress:v,responseType:s,withCredentials:p})}}var cs=(()=>((cs=cs||{})[cs.Sent=0]="Sent",cs[cs.UploadProgress=1]="UploadProgress",cs[cs.ResponseHeader=2]="ResponseHeader",cs[cs.DownloadProgress=3]="DownloadProgress",cs[cs.Response=4]="Response",cs[cs.User=5]="User",cs))();class l0 extends class{constructor(t,e=200,r="OK"){this.headers=t.headers||new Yh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=cs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new l0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function xI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let c0=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Rv)s=e;else{let v,C;v=i.headers instanceof Yh?i.headers:new Yh(i.headers),i.params&&(C=i.params instanceof Xf?i.params:new Xf({fromObject:i.params})),s=new Rv(e,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=Vn(s).pipe(Qg(v=>this.handler.handle(v)));if(e instanceof Rv||"events"===i.observe)return l;const p=l.pipe(Zo(v=>v instanceof l0));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe(K(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe(K(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe(K(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return p.pipe(K(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Xf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,xI(i,r))}post(e,r,i={}){return this.request("POST",e,xI(i,r))}put(e,r,i={}){return this.request("PUT",e,xI(i,r))}}return n.\u0275fac=function(e){return new(e||n)(Me(kk))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})();const U6=["*"];function Gk(n){return Error(`Unable to find icon with the name "${n}"`)}function Wk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $k(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _p{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let h0=(()=>{class n{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new _p(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const l=this._sanitizer.sanitize(Gt.HTML,i);if(!l)throw $k(i);return this._addSvgIconConfig(e,r,new _p("",l,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new _p(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(Gt.HTML,r);if(!s)throw $k(r);return this._addSvgIconSetConfig(e,new _p("",s,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Gt.RESOURCE_URL,e);if(!r)throw Wk(e);const i=this._cachedIconsByUrl.get(r);return i?Vn(f0(i)):this._loadSvgIconFromConfig(new _p(e,null)).pipe(Vs(s=>this._cachedIconsByUrl.set(r,s)),K(s=>f0(s)))}getNamedSvgIcon(e,r=""){const i=Kk(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):hR(Gk(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Vn(f0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(K(r=>f0(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Vn(i):Rk(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(zf(p=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(Gt.RESOURCE_URL,l.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(C)),Vn(null)})))).pipe(K(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw Gk(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.indexOf(e)>-1){const l=this._svgElementFromConfig(s),p=this._extractSvgIconFromSet(l,e,s.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Vs(r=>e.svgText=r),K(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Vn(null):this._fetchIcon(e).pipe(Vs(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(l),this._setSvgAttributes(p,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let s=0;s<i.length;s++){const{name:l,value:p}=i[s];"id"!==l&&r.setAttribute(l,p)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:i,options:s}=e,l=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const p=this._sanitizer.sanitize(Gt.RESOURCE_URL,i);if(!p)throw Wk(i);const v=this._inProgressUrlFetches.get(p);if(v)return v;const C=this._httpClient.get(p,{responseType:"text",withCredentials:l}).pipe(rx(()=>this._inProgressUrlFetches.delete(p)),Cr());return this._inProgressUrlFetches.set(p,C),C}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(Kk(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return H6(s)?new _p(s.url,null,s.options):new _p(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(Me(c0,8),Me(Yg),Me(Nn,8),Me(pu))},n.\u0275prov=at({factory:function(){return new n(Me(c0,8),Me(Yg),Me(Nn,8),Me(pu))},token:n,providedIn:"root"}),n})();function f0(n){return n.cloneNode(!0)}function Kk(n,t){return n+":"+t}function H6(n){return!(!n.url||!n.options)}const z6=Zw(class{constructor(n){this._elementRef=n}}),q6=new Xt("mat-icon-location",{providedIn:"root",factory:function(){const n=Tc(Nn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Yk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$6=Yk.map(n=>`[${n}]`).join(", "),K6=/^url\(['"]?#(.*?)['"]?\)$/;let NI=(()=>{class n extends z6{constructor(e,r,i,s,l){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=l,this._inline=!1,this._currentIconFetch=Y.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=xi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll($6),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Yk.forEach(l=>{const p=r[s],v=p.getAttribute(l),C=v?v.match(K6):null;if(C){let O=i.get(p);O||(O=[],i.set(p,O)),O.push({name:l,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ka(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(h0),wa("aria-hidden"),ye(q6),ye(pu))},n.\u0275cmp=_r({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(pi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Xi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fr],ngContentSelectors:U6,decls:1,vars:0,template:function(e,r){1&e&&(Ka(),ji(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})(),Qk=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(ye(Ql),ye(dr))},n.\u0275dir=Dt({type:n}),n})(),vp=(()=>{class n extends Qk{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jr(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,features:[fr]}),n})();const oc=new Xt("NgValueAccessor"),X6={provide:oc,useExisting:Fn(()=>yp),multi:!0},Z6=new Xt("CompositionEventMode");let yp=(()=>{class n extends Qk{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Kc()?Kc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(ye(Ql),ye(dr),ye(Z6,8))},n.\u0275dir=Dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Lr("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Vr([X6]),fr]}),n})();function Jf(n){return null==n||0===n.length}function Jk(n){return null!=n&&"number"==typeof n.length}const fa=new Xt("NgValidators"),Zf=new Xt("NgAsyncValidators"),e5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ju{static min(t){return function(n){return t=>{if(Jf(t.value)||Jf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Jf(t.value)||Jf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return tP(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Jf(n.value)||e5.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Jf(t.value)||!Jk(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>Jk(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return ed;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Jf(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return fP(t)}static composeAsync(t){return dP(t)}}function tP(n){return Jf(n.value)?{required:!0}:null}function ed(n){return null}function aP(n){return null!=n}function uP(n){const t=P_(n)?rn(n):n;return nb(t),t}function lP(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function cP(n,t){return t.map(e=>e(n))}function hP(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function fP(n){if(!n)return null;const t=n.filter(aP);return 0==t.length?null:function(e){return lP(cP(e,t))}}function FI(n){return null!=n?fP(hP(n)):null}function dP(n){if(!n)return null;const t=n.filter(aP);return 0==t.length?null:function(e){return Rk(cP(e,t).map(uP)).pipe(K(lP))}}function LI(n){return null!=n?dP(hP(n)):null}function pP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function gP(n){return n._rawValidators}function mP(n){return n._rawAsyncValidators}function VI(n){return n?Array.isArray(n)?n:[n]:[]}function d0(n,t){return Array.isArray(n)?n.includes(t):n===t}function _P(n,t){const e=VI(t);return VI(n).forEach(i=>{d0(e,i)||e.push(i)}),e}function vP(n,t){return VI(t).filter(e=>!d0(n,e))}let yP=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n}),n})(),eu=(()=>{class n extends yP{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jr(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,features:[fr]}),n})();class nh extends yP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bP{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let kv=(()=>{class n extends bP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(ye(nh,2))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Xi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[fr]}),n})(),wP=(()=>{class n extends bP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(ye(eu,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Xi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[fr]}),n})();function g0(n,t){return[...t.path,n]}function Pv(n,t){jI(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&EP(n,t)})}(n,t),function(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&EP(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function m0(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),v0(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function jI(n,t){const e=gP(n);null!==t.validator?n.setValidators(pP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=mP(n);null!==t.asyncValidator?n.setAsyncValidators(pP(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();_0(t._rawValidators,i),_0(t._rawAsyncValidators,i)}function v0(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=gP(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=mP(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(l=>l!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return _0(t._rawValidators,r),_0(t._rawAsyncValidators,r),e}function EP(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CP(n,t){jI(n,t)}function HI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function SP(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zI(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===yp?e=s:function(n){return Object.getPrototypeOf(n.constructor)===vp}(s)?r=s:i=s}),i||r||e||null}function y0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Nv="VALID",b0="INVALID",pm="PENDING",Fv="DISABLED";function qI(n){return(WI(n)?n.validators:n)||null}function IP(n){return Array.isArray(n)?FI(n):n||null}function GI(n,t){return(WI(t)?t.asyncValidators:n)||null}function TP(n){return Array.isArray(n)?LI(n):n||null}function WI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $I{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=IP(this._rawValidators),this._composedAsyncValidatorFn=TP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nv}get invalid(){return this.status===b0}get pending(){return this.status==pm}get disabled(){return this.status===Fv}get enabled(){return this.status!==Fv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=IP(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=TP(t)}addValidators(t){this.setValidators(_P(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_P(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vP(t,this._rawAsyncValidators))}hasValidator(t){return d0(this._rawValidators,t)}hasAsyncValidator(t){return d0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fv,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nv,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nv||this.status===pm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fv:Nv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pm,this._hasOwnPendingAsyncValidator=!0;const e=uP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=r instanceof bp?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof KI&&r.at(i)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qr,this.statusChanges=new qr}_calculateStatus(){return this._allControlsDisabled()?Fv:this.errors?b0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pm)?pm:this._anyControlsHaveStatus(b0)?b0:Nv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){WI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gm extends $I{constructor(t=null,e,r){super(qI(e),GI(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){y0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){y0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bp extends $I{constructor(t,e,r){super(qI(e),GI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof gm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class KI extends $I{constructor(t,e,r){super(qI(e),GI(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof gm?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const d5={provide:eu,useExisting:Fn(()=>Vv)},Lv=(()=>Promise.resolve(null))();let Vv=(()=>{class n extends eu{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new qr,this.form=new bp({},FI(e),LI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lv.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Pv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lv.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),y0(this._directives,e)})}addFormGroup(e){Lv.then(()=>{const r=this._findContainer(e.path),i=new bp({});CP(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lv.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Lv.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,SP(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(ye(fa,10),ye(Zf,10))},n.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Lr("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vr([d5]),fr]}),n})();const g5={provide:nh,useExisting:Fn(()=>Uv)},MP=(()=>Promise.resolve(null))();let Uv=(()=>{class n extends nh{constructor(e,r,i,s){super(),this.control=new gm,this._registered=!1,this.update=new qr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zI(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),HI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?g0(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){MP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;MP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(ye(eu,9),ye(fa,10),ye(Zf,10),ye(oc,10))},n.\u0275dir=Dt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vr([g5]),fr,Hr]}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),RP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})();const YI=new Xt("NgModelWithFormControlWarning"),w5={provide:eu,useExisting:Fn(()=>mm)};let mm=(()=>{class n extends eu{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(v0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Pv(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){m0(e.control||null,e,!1),y0(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,SP(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(m0(r||null,e),i instanceof gm&&(Pv(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);CP(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return v0(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jI(this.form,this),this._oldForm&&v0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(ye(fa,10),ye(Zf,10))},n.\u0275dir=Dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Lr("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vr([w5]),fr,Hr]}),n})();const S5={provide:nh,useExisting:Fn(()=>JI)};let JI=(()=>{class n extends nh{constructor(e,r,i,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new qr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zI(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),HI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return g0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(ye(eu,13),ye(fa,10),ye(Zf,10),ye(oc,10),ye(YI,8))},n.\u0275dir=Dt({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vr([S5]),fr,Hr]}),n._ngModelWarningSentOnce=!1,n})();const k5={provide:fa,useExisting:Fn(()=>w0),multi:!0};let w0=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?tP(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&pi("required",r.required?"":null)},inputs:{required:"required"},features:[Vr([k5])]}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[RP]]}),n})(),U5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[$P]}),n})(),KP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:YI,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[$P]}),n})(),j5=(()=>{class n{group(e,r=null){const i=this._reduceControls(e);let p,s=null,l=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(s=null!=r.validators?r.validators:null,l=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,l=null!=r.asyncValidator?r.asyncValidator:null)),new bp(i,{asyncValidators:l,updateOn:p,validators:s})}control(e,r,i){return new gm(e,r,i)}array(e,r,i){const s=e.map(l=>this._createControl(l));return new KI(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof gm||e instanceof bp||e instanceof KI?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=at({factory:function(){return new n},token:n,providedIn:KP}),n})(),nT=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=xi(e)}get inset(){return this._inset}set inset(e){this._inset=xi(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_r({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(pi("aria-orientation",r.vertical?"vertical":"horizontal"),Xi("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),H5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})();function z5(n,t){1&n&&Yn(0,"img",14)}function q5(n,t){1&n&&Yn(0,"img",15)}const G5=function(n){return{activeChat:n}},W5=function(n){return{online:n}};function $5(n,t){if(1&n){const e=Fh();ut(0,"div",16),Lr("click",function(){const s=x(e).$implicit;return si().setCurrentChat(s)}),ut(1,"div",17),Yn(2,"img",18),lt(),ut(3,"div",12),ut(4,"h6"),br(5),lt(),ut(6,"span"),br(7,"lorem lorem loremlorem lorem ..."),lt(),lt(),lt()}if(2&n){const e=t.$implicit,r=si();Rn("ngClass",$d(3,G5,(null==e?null:e.id)==r.currentChatUserId)),In(1),Rn("ngClass",$d(5,W5,null==e?null:e.online)),In(4),Gc(null==e?null:e.name)}}let K5=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this.service=r,this.authService=i,this.sharedService=s,this.allUsers=[],this.currentChatUserId="",this.searchByName="",this.searching=!0,this.sharedService.currentChatUserId.subscribe(l=>{this.currentChatUserId=l}),this.getAllUsers()}ngOnInit(){}getAllUsers(){this.service.getUsers().subscribe(e=>{console.log(e),this.allUsers=e.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),console.log("allUsers-------------",this.allUsers)})}setCurrentChat(e){var r;console.log(e),this.sharedService.currentChatUserId.next(null==e?void 0:e.id),this.sharedService.createdBy.next((null==e?void 0:e.createdBy)?null==e?void 0:e.createdBy:""),this.sharedService.currentChatUserName.next(null==e?void 0:e.name),null===(r=this.sharedService)||void 0===r||r.currentChatUserOnlineStatus.next(null==e?void 0:e.online),this.dialog.closeAll()}onFocusCountry(){this.searching=!1}onBlurCountry(){this.searching=!0}}return n.\u0275fac=function(e){return new(e||n)(ye(gp),ye(dm),ye(xv),ye(AI))},n.\u0275cmp=_r({type:n,selectors:[["app-list-of-users"]],decls:22,vars:4,consts:[[1,"listOfUser"],[1,"header"],[3,"click"],[1,"searchBox"],[1,"input_group"],["src","../../../assets/images/search.png","alt","","class","form_icon ",4,"ngIf"],["src","../../../assets/images/left-arrow.png","alt","","class","form_icon ",4,"ngIf"],["type","text","id","input","placeholder","Type here...",1,"l_form_control",3,"ngModel","focus","blur","ngModelChange"],["userName",""],[1,"users"],[1,"group"],[1,"avatar"],[1,"media_body","ml_12"],["class","user",3,"ngClass","click",4,"ngFor","ngForOf"],["src","../../../assets/images/search.png","alt","",1,"form_icon"],["src","../../../assets/images/left-arrow.png","alt","",1,"form_icon"],[1,"user",3,"ngClass","click"],[1,"avatar",3,"ngClass"],["src","https://lh3.googleusercontent.com/a/AATXAJyvJ2ZtNRR1Ulu427EN_mB_vd8yjwkxR16VKuuH=s96-c","alt","",1,""]],template:function(e,r){1&e&&(ut(0,"div",0),ut(1,"div",1),ut(2,"mat-icon",2),Lr("click",function(){return r.dialog.closeAll()}),br(3,"keyboard_backspace"),lt(),ut(4,"h2"),br(5,"New Chat"),lt(),lt(),ut(6,"div",3),ut(7,"div",4),gi(8,z5,1,0,"img",5),gi(9,q5,1,0,"img",6),ut(10,"input",7,8),Lr("focus",function(){return r.onFocusCountry()})("blur",function(){return r.onBlurCountry()})("ngModelChange",function(s){return r.searchByName=s}),lt(),lt(),lt(),Yn(12,"mat-divider"),ut(13,"div",9),ut(14,"div",10),ut(15,"div",11),ut(16,"mat-icon"),br(17,"group"),lt(),lt(),ut(18,"div",12),ut(19,"h6"),br(20,"New Group"),lt(),lt(),lt(),gi(21,$5,8,7,"div",13),lt(),lt()),2&e&&(In(8),Rn("ngIf",r.searching),In(1),Rn("ngIf",!r.searching),In(1),Rn("ngModel",r.searchByName),In(11),Rn("ngForOf",r.allUsers))},directives:[NI,jf,yp,kv,Uv,nT,Hb,$g],styles:['.listOfUser[_ngcontent-%COMP%]{overflow:hidden;height:100%}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#008069;display:flex;color:#fff;padding:40px 10px 0 20px}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:5px;padding-right:10px;pointer-events:auto;cursor:pointer}.listOfUser[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{padding:10px 15px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{position:relative}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .form_icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:10px}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:86%}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.listOfUser[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .l_form_control[_ngcontent-%COMP%]{background-color:#f0f2f5;border:none;opacity:1;letter-spacing:.32px;color:#000;font-size:14px;line-height:18px;padding:8px 3% 8px 12%;border-radius:5px;left:50px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 142px);display:flex;flex-direction:column;overflow-y:scroll}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%;background:#00A884;color:#fff;padding:8px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px;margin-top:12px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;right:-5px;width:10px;height:10px;border-radius:100%;border:2px solid #FFFFFF;background-color:#42cb6b}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{letter-spacing:.24px;color:#738499;font-size:12px;line-height:20px;margin-bottom:2px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time_class[_ngcontent-%COMP%]{background-color:#fe5b63;text-align:center;color:#fff;font-size:12px;border-radius:100%;width:20px;height:20px;display:block;margin:auto;line-height:20px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover, .listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:focus{background-color:#f2f3f8ce}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .activeChat[_ngcontent-%COMP%]{background-color:#f0f2f5}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.listOfUser[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}  .mat-dialog-container{padding:0;border-radius:0;box-shadow:0 11px 15px -7pxrgba 0,0,0,.2,0 24px 38px 3pxrgba 0,0,0,.14,0 9px 46px 8pxrgba 0,0,0,.12;border:none;outline:none;box-shadow:none}  .cdk-overlay-backdrop{pointer-events:none}  .cdk-overlay-dark-backdrop{background:initial}']}),n})();function YP(n,t=mw){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return i=>i.lift(new Q5(r,t))}class Q5{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new rT(t,this.delay,this.scheduler))}}class rT extends ft{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,i=t.scheduler,s=t.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const l=Math.max(0,r[0].time-i.now());this.schedule(t,l)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(rT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new X5(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(bu.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(bu.createComplete()),this.unsubscribe()}}class X5{constructor(t,e){this.time=t,this.notification=e}}const J5=["mat-menu-item",""];function Z5(n,t){1&n&&(To(),ut(0,"svg",2),Yn(1,"polygon",3),lt())}const QP=["*"];function eK(n,t){if(1&n){const e=Fh();ut(0,"div",0),Lr("keydown",function(i){return x(e),si()._handleKeydown(i)})("click",function(){return x(e),si().closed.emit("click")})("@transformMenu.start",function(i){return x(e),si()._onAnimationStart(i)})("@transformMenu.done",function(i){return x(e),si()._onAnimationDone(i)}),ut(1,"div",1),ji(2),lt(),lt()}if(2&n){const e=si();Rn("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),pi("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const E0={transformMenu:sm("transformMenu",[$f("void",ha({opacity:0,transform:"scale(0.8)"})),Kh("void => enter",Wf("120ms cubic-bezier(0, 0, 0.2, 1)",ha({opacity:1,transform:"scale(1)"}))),Kh("* => void",Wf("100ms 25ms linear",ha({opacity:0})))]),fadeInItems:sm("fadeInItems",[$f("showing",ha({opacity:1})),Kh("void => *",[ha({opacity:0}),Wf("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},XP=new Xt("MatMenuContent"),iT=new Xt("MAT_MENU_PANEL"),nK=e0(cm(class{}));let Bv=(()=>{class n extends nK{constructor(e,r,i,s,l){super(),this._elementRef=e,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new F,this._focused=new F,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,r;const i=this._elementRef.nativeElement.cloneNode(!0),s=i.querySelectorAll("mat-icon, .material-icons");for(let l=0;l<s.length;l++){const p=s[l];null===(e=p.parentNode)||void 0===e||e.removeChild(p)}return(null===(r=i.textContent)||void 0===r?void 0:r.trim())||""}_setHighlighted(e){var r;this._highlighted=e,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(Nn),ye(up),ye(iT,8),ye(cl))},n.\u0275cmp=_r({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,r){1&e&&Lr("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(pi("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Xi("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[fr],attrs:J5,ngContentSelectors:QP,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Ka(),ji(0),Yn(1,"div",0),gi(2,Z5,2,0,"svg",1)),2&e&&(In(1),Rn("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),In(1),Rn("ngIf",r._triggersSubmenu))},directives:[pp,jf],encapsulation:2,changeDetection:0}),n})();const JP=new Xt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let iK=0,jv=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Kd,this._tabSubscription=Y.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new F,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new qr,this.close=this.closed,this.panelId="mat-menu-panel-"+iK++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=xi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=xi(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new mW(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ml(this._directDescendantItems),Za(e=>je(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ml(this._directDescendantItems),Za(r=>je(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:sp(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(ka(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const r=this._keyManager;if(r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ml(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(zn),ye(JP))},n.\u0275dir=Dt({type:n,contentQueries:function(e,r,i){if(1&e&&(Ns(i,XP,5),Ns(i,Bv,5),Ns(i,Bv,4)),2&e){let s;Ti(s=Di())&&(r.lazyContent=s.first),Ti(s=Di())&&(r._allItems=s),Ti(s=Di())&&(r.items=s)}},viewQuery:function(e,r){if(1&e&&vu(Qa,5),2&e){let i;Ti(i=Di())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),n})(),ZP=(()=>{class n extends jv{constructor(e,r,i){super(e,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(zn),ye(JP))},n.\u0275cmp=_r({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&pi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Vr([{provide:iT,useExisting:n}]),fr],ngContentSelectors:QP,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,r){1&e&&(Ka(),gi(0,eK,3,6,"ng-template"))},directives:[$g],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[E0.transformMenu,E0.fadeInItems]},changeDetection:0}),n})();const eN=new Xt("mat-menu-scroll-strategy"),sK={provide:eN,deps:[Wh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},nN=Sv({passive:!0});let aK=(()=>{class n{constructor(e,r,i,s,l,p,v,C){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=p,this._dir=v,this._focusMonitor=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Y.EMPTY,this._hoverSubscription=Y.EMPTY,this._menuCloseSubscription=Y.EMPTY,this._handleTouchStart=O=>{FS(O)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new qr,this.onMenuOpen=this.menuOpened,this.menuClosed=new qr,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof jv?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,nN),p&&(p._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,nN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),r=e.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof jv&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof jv?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Zo(i=>"void"===i.toState),ka(1),bs(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,r=this.menu.parentMenu;for(;r;)e++,r=r.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new xw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,l]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[p,v]=[s,l],[C,O]=[r,i],U=0;this.triggersSubmenu()?(O=r="before"===this.menu.xPosition?"start":"end",i=C="end"===r?"start":"end",U="bottom"===s?8:-8):this.menu.overlapTrigger||(p="top"===s?"bottom":"top",v="top"===l?"bottom":"top"),e.withPositions([{originX:r,originY:p,overlayX:C,overlayY:s,offsetY:U},{originX:i,originY:p,overlayX:O,overlayY:s,offsetY:U},{originX:r,originY:v,overlayX:C,overlayY:l,offsetY:-U},{originX:i,originY:v,overlayX:O,overlayY:l,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return je(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Vn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Zo(l=>l!==this._menuItemInstance),Zo(()=>this._menuOpen)):Vn(),r)}_handleMousedown(e){NS(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Zo(e=>e===this._menuItemInstance&&!e.disabled),YP(0,gw)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof jv&&this.menu._isAnimating?this.menu._animationDone.pipe(ka(1),YP(0,gw),bs(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new im(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(ye(Wh),ye(dr),ye(ua),ye(eN),ye(iT,8),ye(Bv,10),ye(Xc,8),ye(up))},n.\u0275dir=Dt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&Lr("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(s){return r._handleClick(s)}),2&e&&pi("aria-haspopup",r._ariaHaspopup)("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),rN=(()=>{class n extends aK{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Jr(n)))(r||n)}}(),n.\u0275dir=Dt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[fr]}),n})(),uK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[sK],imports:[[Kg,Ji,n0,xS],Cw,Ji]}),n})();function lK(n,t){1&n&&Yn(0,"img",19)}function cK(n,t){1&n&&Yn(0,"img",20)}const hK=function(n){return{activeChat:n}},fK=function(n){return{online:n}};function dK(n,t){if(1&n){const e=Fh();ut(0,"div",21),Lr("click",function(){const s=x(e).$implicit;return si().setCurrentChat(s)}),ut(1,"div",22),Yn(2,"img",23),lt(),ut(3,"div",24),ut(4,"h6"),br(5),lt(),ut(6,"span"),br(7," lorem lorem lorem ..."),lt(),lt(),ut(8,"div",25),ut(9,"p",26),br(10,"12:32"),lt(),ut(11,"span",27),br(12,"2"),lt(),lt(),lt()}if(2&n){const e=t.$implicit,r=si();Rn("ngClass",$d(3,hK,(null==e?null:e.id)==r.currentChatUserId)),In(1),Rn("ngClass",$d(5,fK,null==e?null:e.online)),In(4),Gc(null==e?null:e.name)}}let pK=(()=>{class n{constructor(e,r,i,s,l,p){this.dialog=e,this.service=r,this.authService=i,this.sharedService=s,this.renderer=l,this.firestore=p,this.myContacts=[],this.currentChatUserId="",this.user=[],this.searchByName="",this.searching=!0,this.id=localStorage.getItem("auth_token"),this.sharedService.currentChatUserId.subscribe(v=>{this.currentChatUserId=v})}ngOnInit(){this.getUser(),this.getMyContact(),this.service.userOnline(this.id,!0).then(e=>{console.log("user online")})}getUser(){this.service.getUserById(this.id).subscribe(e=>{console.log(e),this.user=e.data(),console.log("login user---",this.user)})}getMyContact(){let e=[];this.service.getMyContacts(this.id).subscribe(r=>{var i,s,l,p,v;e=r.map(C=>Object.assign({id:C.payload.doc.id},C.payload.doc.data())),console.log("my temp Contacts list...",e),this.myContacts=[],e.forEach(C=>{this.service.getUserById(null==C?void 0:C.id).subscribe(O=>{console.log(O.data());let U=O.data();U.createdBy=null==C?void 0:C.createdBy,U.createdAt=null==C?void 0:C.createdAt,U.updatedAt=null==C?void 0:C.updatedAt,this.myContacts.push(U),console.log(this.myContacts)}),console.log("myContact list-------------",this.myContacts)}),console.log("myContact list-------------",this.myContacts),(null===(i=this.myContacts)||void 0===i?void 0:i.length)>0&&(this.currentChat=this.myContacts[0],this.sharedService.currentChatUserId.next(null===(s=this.myContacts[0])||void 0===s?void 0:s.id),this.sharedService.createdBy.next(null===(l=this.myContacts[0])||void 0===l?void 0:l.createdBy),this.sharedService.currentChatUserName.next(null===(p=this.myContacts[0])||void 0===p?void 0:p.name),this.sharedService.currentChatUserOnlineStatus.next(null===(v=this.myContacts[0])||void 0===v?void 0:v.online))})}setCurrentChat(e){var r;console.log(e),this.sharedService.currentChatUserId.next(null==e?void 0:e.id),this.sharedService.createdBy.next((null==e?void 0:e.createdBy)?null==e?void 0:e.createdBy:""),this.sharedService.currentChatUserName.next(null==e?void 0:e.name),null===(r=this.sharedService)||void 0===r||r.currentChatUserOnlineStatus.next(null==e?void 0:e.online)}onFocusCountry(){this.searching=!1}onBlurCountry(){this.searching=!0}ngAfterViewInit(){this.onResize("event?: any")}onResize(e){var r;let i=null===(r=document.getElementById("sidebar"))||void 0===r?void 0:r.clientWidth;console.log(i);let s=window.innerWidth;console.log(s),this.sidebarSize=s<=1200?{left:"0%",height:"100%",width:(null==i?void 0:i.toString())+"px"}:{left:"2%",height:"94%",width:(null==i?void 0:i.toString())+"px"},console.log(this.sidebarSize)}openListOfUsersDialog(e){var r,i,s;this.dialog.open(K5,{width:null===(r=this.sidebarSize)||void 0===r?void 0:r.width,height:null===(i=this.sidebarSize)||void 0===i?void 0:i.height,position:{left:null===(s=this.sidebarSize)||void 0===s?void 0:s.left},data:e}).afterClosed().subscribe(p=>{console.log(`Dialog result: ${p}`)})}}return n.\u0275fac=function(e){return new(e||n)(ye(gp),ye(dm),ye(xv),ye(AI),ye(Ql),ye(DI))},n.\u0275cmp=_r({type:n,selectors:[["app-sidebar"]],hostBindings:function(e,r){1&e&&Lr("resize",function(s){return r.onResize(s)},!1,yf)},decls:24,vars:5,consts:[["id","sidebar","onbeforeunload","ConfirmClose()","onunload","HandleOnClose()",1,"sidebar"],[1,"header"],[1,"profile"],["src","https://pbs.twimg.com/profile_images/1237763030420611072/5xfI2ghQ_400x400.jpg","alt",""],[1,"icon"],[3,"click"],[3,"matMenuTriggerFor"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"searchBox"],[1,"input_group"],["src","../../../assets/images/search.png","alt","","class","form_icon ",4,"ngIf"],["src","../../../assets/images/left-arrow.png","alt","","class","form_icon ",4,"ngIf"],["type","text","id","input","placeholder","Type here...",1,"l_form_control",3,"ngModel","focus","blur","ngModelChange"],["userName",""],[1,"users"],["class","user",3,"ngClass","click",4,"ngFor","ngForOf"],["src","../../../assets/images/search.png","alt","",1,"form_icon"],["src","../../../assets/images/left-arrow.png","alt","",1,"form_icon"],[1,"user",3,"ngClass","click"],[1,"avatar",3,"ngClass"],["src","https://lh3.googleusercontent.com/a/AATXAJyvJ2ZtNRR1Ulu427EN_mB_vd8yjwkxR16VKuuH=s96-c","alt","",1,""],[1,"media_body","ml_12"],[1,"media_status"],[1,"time"],[1,"time_class"]],template:function(e,r){if(1&e&&(ut(0,"div",0),ut(1,"div",1),ut(2,"div",2),Yn(3,"img",3),lt(),ut(4,"div",4),ut(5,"mat-icon",5),Lr("click",function(){return r.openListOfUsersDialog("")}),br(6," chat"),lt(),ut(7,"mat-icon",6),br(8,"more_vert"),lt(),ut(9,"mat-menu",7,8),ut(11,"button",9),br(12,"Profile"),lt(),ut(13,"button",10),Lr("click",function(){return null==r.authService?null:r.authService.signOut()}),br(14,"Logout"),lt(),lt(),lt(),lt(),ut(15,"div",11),ut(16,"div",12),gi(17,lK,1,0,"img",13),gi(18,cK,1,0,"img",14),ut(19,"input",15,16),Lr("focus",function(){return r.onFocusCountry()})("blur",function(){return r.onBlurCountry()})("ngModelChange",function(s){return r.searchByName=s}),lt(),lt(),lt(),Yn(21,"mat-divider"),ut(22,"div",17),gi(23,dK,13,7,"div",18),lt(),lt()),2&e){const i=Dg(10);In(7),Rn("matMenuTriggerFor",i),In(10),Rn("ngIf",r.searching),In(1),Rn("ngIf",!r.searching),In(1),Rn("ngModel",r.searchByName),In(4),Rn("ngForOf",r.myContacts)}},directives:[NI,rN,ZP,Bv,jf,yp,kv,Uv,nT,Hb,$g],styles:['.sidebar[_ngcontent-%COMP%]{height:100%}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px 12px;display:flex;justify-content:space-between;flex-wrap:wrap;height:50px;background:#F0F2F5}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{align-content:center;height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;height:50px;width:50px;box-shadow:2px 2px 10px #00000019}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;align-content:center;height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 15px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]{padding:10px 15px}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .form_icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:10px}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:86%}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.sidebar[_ngcontent-%COMP%]   .searchBox[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   .l_form_control[_ngcontent-%COMP%]{background-color:#f0f2f5;border:none;opacity:1;letter-spacing:.32px;color:#000;font-size:14px;line-height:18px;padding:8px 3% 8px 12%;border-radius:5px;left:50px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{height:calc(100% - 124px);display:flex;flex-direction:column;overflow-y:scroll}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;padding:12px;cursor:pointer;border-bottom:1px solid #e0e0e06b}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;right:-5px;width:10px;height:10px;border-radius:100%;border:2px solid #FFFFFF;background-color:#42cb6b}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]{flex:1;margin-left:12px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{letter-spacing:.24px;color:#738499;font-size:12px;line-height:20px;margin-bottom:2px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .media_status[_ngcontent-%COMP%]   .time_class[_ngcontent-%COMP%]{background-color:#fe5b63;text-align:center;color:#fff;font-size:12px;border-radius:100%;width:20px;height:20px;display:block;margin:auto;line-height:20px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:focus{background-color:#f2f3f8ce}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]   .activeChat[_ngcontent-%COMP%]{background-color:#f0f2f5}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.sidebar[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}']}),n})();function gK(n,t){1&n&&Yn(0,"div",2)}function mK(n,t){1&n&&(ut(0,"span"),br(1,"Online"),lt())}const _K=function(n){return{displayRight:n}};function vK(n,t){if(1&n&&(ut(0,"div",36),ut(1,"div",37),ut(2,"div",38),br(3),lt(),ut(4,"div",39),ut(5,"h5"),br(6),function(n,t){const e=D();let r;const i=n+20;e.firstCreatePass?(r=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}throw new Be("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=mo(r.type)),l=to(ye);try{const p=Xu(!1),v=s();Xu(p),function(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,b(),i,v)}finally{to(l)}}(7,"date"),lt(),lt(),lt(),Yn(8,"br"),lt()),2&n){const e=t.$implicit,r=si(2);In(1),Rn("ngClass",$d(6,_K,(null==e?null:e.senderId)==r.id)),In(2),Og(" ",null==e?null:e.message," "),In(3),Gc(sM(7,3,null==e||null==e.createdAt?null:e.createdAt.toDate(),"hh:mm a"))}}function yK(n,t){if(1&n){const e=Fh();ut(0,"div",3),ut(1,"div",4),ut(2,"div",5),Yn(3,"img",6),ut(4,"div",7),ut(5,"div"),ut(6,"h6"),br(7),lt(),gi(8,mK,2,0,"span",8),lt(),lt(),lt(),ut(9,"div",9),ut(10,"mat-icon"),br(11," search"),lt(),ut(12,"mat-icon",10),br(13,"more_vert"),lt(),ut(14,"mat-menu",11,12),ut(16,"button",13),br(17,"Profile"),lt(),ut(18,"button",13),br(19,"Clear chat"),lt(),lt(),lt(),lt(),ut(20,"div",14),ut(21,"div",15),ut(22,"div",16),ut(23,"div",17,18),gi(25,vK,9,8,"div",19),lt(),lt(),lt(),lt(),ut(26,"div",20),ut(27,"input",21),Lr("ngModelChange",function(i){return x(e),si().message=i})("keyup.enter",function(i){return x(e),si().sendMessage(i)}),lt(),ut(28,"div",22),ut(29,"a",23),To(),ut(30,"svg",24),Yn(31,"circle",25),Yn(32,"line",26),Yn(33,"line",27),lt(),lt(),wi(),ut(34,"a",28),To(),ut(35,"svg",24),Yn(36,"path",29),Yn(37,"path",30),lt(),lt(),wi(),ut(38,"a",31),Lr("click",function(i){return x(e),si().sendMessage(i)}),br(39,"Send "),To(),ut(40,"svg",32),ut(41,"g",33),Yn(42,"rect",34),Yn(43,"path",35),lt(),lt(),lt(),lt(),lt(),lt()}if(2&n){const e=Dg(15),r=si();In(7),Gc(r.currentChatUserName),In(1),Rn("ngIf",r.currentChatUserOnlineStatus),In(4),Rn("matMenuTriggerFor",e),In(13),Rn("ngForOf",r.messageList),In(2),Rn("ngModel",r.message)}}let bK=(()=>{class n{constructor(e,r){this.service=e,this.sharedService=r,this.currentChatUserId="",this.createdBy="",this.currentChatUserName="",this.currentChatUserOnlineStatus=!1,this.message="",this.messageList=[],this.filteredCurrentChat=[{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0},{},{right:!0}],this.id=localStorage.getItem("auth_token"),this.sharedService.currentChatUserName.subscribe(i=>{this.currentChatUserName=i}),this.sharedService.currentChatUserOnlineStatus.subscribe(i=>{this.currentChatUserOnlineStatus=i}),this.sharedService.currentChatUserId.subscribe(i=>{console.log(i),this.messageList=[],this.currentChatUserId=i,""!=this.currentChatUserId&&this.getCurrentChatUser(),this.sharedService.createdBy.subscribe(s=>{this.createdBy=s,""!=this.currentChatUserId&&""!=this.createdBy&&this.getmessages()})})}ngOnInit(){}getCurrentChatUser(){this.service.getUserById(this.currentChatUserId).subscribe(e=>{this.currentChatUser=e.data(),console.log("currentChatUser---",this.currentChatUser)})}sendMessage(e){if(console.log("message : ",this.message),""==this.message)return;if(0==this.messageList.length){let s={createdBy:this.id,createdAt:new Date,updatedAt:new Date};this.sharedService.createdBy.next(this.id),this.service.addUserToMyContact(this.id,this.currentChatUserId,s).then(l=>{console.log("user added to my contact ")})}let r={message:this.message,senderId:this.id,createdAt:new Date,updatedAt:new Date};console.log("send messages ",this.id,this.currentChatUserId,this.createdBy),console.log(this.id==this.createdBy);let i=this.id==this.createdBy?this.id+"_"+this.currentChatUserId:this.currentChatUserId+"_"+this.id;console.log(i),this.service.sendMessage(i,r).then(s=>{console.log("message sent ..."),this.message=""})}getmessages(){console.log("get messages ",this.id,this.currentChatUserId);let e=this.id==this.createdBy?this.id+"_"+this.currentChatUserId:this.currentChatUserId+"_"+this.id;console.log(e),this.service.getMessages(e).subscribe(r=>{this.messageList=r.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),console.log("messageList----",this.messageList)})}}return n.\u0275fac=function(e){return new(e||n)(ye(dm),ye(AI))},n.\u0275cmp=_r({type:n,selectors:[["app-chat-area"]],decls:2,vars:2,consts:[["class","background",4,"ngIf"],["class","chat-area","id","chatArea",4,"ngIf"],[1,"background"],["id","chatArea",1,"chat-area"],[1,"header"],[1,"profile"],["src","https://pbs.twimg.com/profile_images/1237763030420611072/5xfI2ghQ_400x400.jpg","alt",""],[1,"name"],[4,"ngIf"],[1,"icon"],[3,"matMenuTriggerFor"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item",""],[1,"chat_content_inner_body"],[1,"chat_content_group"],[1,"message-chat"],[1,"chat-body"],["scrollMe",""],["class","message info",4,"ngFor","ngForOf"],[1,"send_content_footer"],["type","text","placeholder","Type a Messege...",1,"send_footer_form_control",3,"ngModel","ngModelChange","keyup.enter"],[1,"L_con_footer"],[1,"btn","L_Plus_btn"],["viewBox","0 0 24 24","width","24","height","24","stroke","currentColor","stroke-width","2","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"css-i6dzq1"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],[1,"btn","L_Link_btn"],["d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"],["d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"],[1,"btn","L_send_btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20.215","height","20.215","viewBox","0 0 20.215 20.215"],["id","Group_2631","data-name","Group 2631","transform","translate(0 0)"],["id","Rectangle_290","data-name","Rectangle 290","width","20.215","height","20.215","fill","rgba(254,91,99,0)"],["id","Path_263","data-name","Path 263","d","M.35,15.164a.554.554,0,0,1-.319-.73Q.42,12.7.814,10.959c.15-.668.3-1.335.446-2.005A.165.165,0,0,1,1.42,8.8q1.559-.267,3.117-.538l3.5-.6L8.39,7.6c-.054-.075-.14-.059-.209-.071Q5.72,7.1,3.258,6.673c-.6-.1-1.2-.208-1.807-.308a.2.2,0,0,1-.2-.184Q.65,3.455.032.731A1.548,1.548,0,0,1,0,.57.482.482,0,0,1,.649.027a3.555,3.555,0,0,1,.585.281Q7.8,3.675,14.37,7.045l.132.067a.524.524,0,0,1,0,.939L12.2,9.233.838,15.057c-.073.037-.148.072-.222.108Z","transform","translate(2.345 2.159)","fill","#fff"],[1,"message","info"],[1,"message-body",3,"ngClass"],[1,"message-text"],[1,"message-info"]],template:function(e,r){1&e&&(gi(0,gK,1,0,"div",0),gi(1,yK,44,5,"div",1)),2&e&&(Rn("ngIf",!r.currentChatUser),In(1),Rn("ngIf",r.currentChatUser))},directives:[jf,NI,rN,ZP,Bv,Hb,yp,kv,Uv,$g],pipes:[PO],styles:[".background[_ngcontent-%COMP%]{height:100%;width:100%;background-image:url(https://img.icons8.com/color/200/undefined/whatsapp--v4.png);background-repeat:no-repeat;background-position:center}.chat-area[_ngcontent-%COMP%]{overflow:hidden;height:100%;width:100%}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px 12px;display:flex;justify-content:space-between;flex-wrap:wrap;height:50px;background:#F0F2F5}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{height:50px;display:flex}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;height:50px;width:50px;margin-right:15px;box-shadow:2px 2px 10px #00000019}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{height:50px;position:relative}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:max-content;position:absolute;top:50%;transform:translateY(-50%)}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:.32px;color:#1b304a;font-size:16px;line-height:18px;font-weight:500;margin-bottom:2px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.28px;color:#444e61;font-size:12px;line-height:15px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;align-content:center;height:50px}.chat-area[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0 15px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]{height:600px;height:calc(100% - 130px);overflow-y:scroll}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]{padding:10px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]{width:100%;overflow:hidden}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:100%}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{float:left;width:auto;max-width:60%;min-width:100px;background-color:#f2f3f8;border-radius:4px;border:1px solid #F2F3F8;margin:0 5px 10px;color:#1b304a}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{text-align:left;padding:10px 20px 0 10px;font-size:14px;letter-spacing:.28px;line-height:23px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%]{width:100%}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#738499;font-size:12px;line-height:18px;letter-spacing:.24px;float:right;padding-right:10px;margin-top:5px;margin-bottom:5px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .displayRight[_ngcontent-%COMP%]{float:right}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]   .chat_content_group[_ngcontent-%COMP%]   .message-chat[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{clear:both}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-area[_ngcontent-%COMP%]   .chat_content_inner_body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ced0d1}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]{background-color:#f0f2f5;background-color:#1153b7;bottom:0;height:60px;width:94%;display:flex;justify-content:space-between;overflow:hidden;padding:0 3%}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background:#ffffff;margin:10px 0;width:96%;padding:0 2%;border-radius:6px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .send_footer_form_control[_ngcontent-%COMP%]{font-size:inherit;border:0;box-shadow:none!important;background-color:transparent;letter-spacing:.28px;color:#444e61;font-size:14px;line-height:20px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]:focus{color:#738499;padding:0 8px;border:0;box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Plus_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px;height:25px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]:focus{color:#738499;padding:0 8px 0 0;border:0;box-shadow:none;outline:none}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_Link_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px;height:23px}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%], .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]:hover, .chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]:focus{display:flex;background-color:#fe5b63;padding:8px 16px;letter-spacing:.32px;color:#fff;font-size:16px;font-weight:400;display:inherit}.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]   .L_send_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:8px;margin-top:2px}@media only screen and (max-width: 1000px){.chat-area[_ngcontent-%COMP%]   .send_content_footer[_ngcontent-%COMP%]   .L_con_footer[_ngcontent-%COMP%]{display:none}}"]}),n})(),wK=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this.authService=r,this.service=i,this.router=s}ngOnInit(){let e=localStorage.getItem("auth_token");null==e?(console.log(e),this.router.navigate(["/login"])):console.log("login...............")}}return n.\u0275fac=function(e){return new(e||n)(ye(gp),ye(xv),ye(dm),ye(ys))},n.\u0275cmp=_r({type:n,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"whatsappBox"],[1,"sidebar"],[3,"vertical"],[1,"chatArea"]],template:function(e,r){1&e&&(ut(0,"div",0),ut(1,"div",1),Yn(2,"app-sidebar"),lt(),Yn(3,"mat-divider",2),ut(4,"div",3),Yn(5,"app-chat-area"),lt(),lt()),2&e&&(In(3),Rn("vertical",!0))},directives:[pK,nT,bK],styles:[".whatsappBox[_ngcontent-%COMP%]{height:100%;width:100%;background:#EFEAE2;display:flex;overflow:hidden}.whatsappBox[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:30%;min-width:300px;height:100%;background:#ffffff}.whatsappBox[_ngcontent-%COMP%]   .chatArea[_ngcontent-%COMP%]{width:70%;min-width:300px;height:100%}"]}),n})();const EK=["underline"],CK=["connectionContainer"],SK=["inputContainer"],IK=["label"];function TK(n,t){1&n&&(eb(0),ut(1,"div",14),Yn(2,"div",15),Yn(3,"div",16),Yn(4,"div",17),lt(),ut(5,"div",18),Yn(6,"div",15),Yn(7,"div",16),Yn(8,"div",17),lt(),tb())}function DK(n,t){1&n&&(ut(0,"div",19),ji(1,1),lt())}function AK(n,t){if(1&n&&(eb(0),ji(1,2),ut(2,"span"),br(3),lt(),tb()),2&n){const e=si(2);In(3),Gc(e._control.placeholder)}}function MK(n,t){1&n&&ji(0,3,["*ngSwitchCase","true"])}function OK(n,t){1&n&&(ut(0,"span",23),br(1," *"),lt())}function xK(n,t){if(1&n){const e=Fh();ut(0,"label",20,21),Lr("cdkObserveContent",function(){return x(e),si().updateOutlineGap()}),gi(2,AK,4,1,"ng-container",12),gi(3,MK,1,0,"ng-content",12),gi(4,OK,2,0,"span",22),lt()}if(2&n){const e=si();Xi("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Rn("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),pi("for",e._control.id)("aria-owns",e._control.id),In(2),Rn("ngSwitchCase",!1),In(1),Rn("ngSwitchCase",!0),In(1),Rn("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function RK(n,t){1&n&&(ut(0,"div",24),ji(1,4),lt())}function kK(n,t){if(1&n&&(ut(0,"div",25,26),Yn(2,"span",27),lt()),2&n){const e=si();In(2),Xi("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function PK(n,t){1&n&&(ut(0,"div"),ji(1,5),lt()),2&n&&Rn("@transitionMessages",si()._subscriptAnimationState)}function NK(n,t){if(1&n&&(ut(0,"div",31),br(1),lt()),2&n){const e=si(2);Rn("id",e._hintLabelId),In(1),Gc(e.hintLabel)}}function FK(n,t){if(1&n&&(ut(0,"div",28),gi(1,NK,2,2,"div",29),ji(2,6),Yn(3,"div",30),ji(4,7),lt()),2&n){const e=si();Rn("@transitionMessages",e._subscriptAnimationState),In(1),Rn("ngIf",e.hintLabel)}}const LK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],VK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],iN=new Xt("MatError"),BK={transitionMessages:sm("transitionMessages",[$f("enter",ha({opacity:1,transform:"translateY(0%)"})),Kh("void => enter",[ha({opacity:0,transform:"translateY(-5px)"}),Wf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let C0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n}),n})();const oN=new Xt("MatHint");let oT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["mat-label"]]}),n})(),HK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Dt({type:n,selectors:[["mat-placeholder"]]}),n})();const sN=new Xt("MatPrefix"),aN=new Xt("MatSuffix");let uN=0;const qK=Zw(class{constructor(n){this._elementRef=n}},"primary"),GK=new Xt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sT=new Xt("MatFormField");let WK=(()=>{class n extends qK{constructor(e,r,i,s,l,p,v,C){super(e),this._changeDetectorRef=r,this._dir=s,this._defaults=l,this._platform=p,this._ngZone=v,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new F,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uN++,this._labelId="mat-form-field-label-"+uN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=xi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ml(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bs(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),je(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ml(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ml(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bs(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,wv(this._label.nativeElement,"transitionend").pipe(ka(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const s=this._connectionContainerRef.nativeElement,l=s.querySelectorAll(".mat-form-field-outline-start"),p=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const v=s.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(v),O=e.children,U=this._getStartEnd(O[0].getBoundingClientRect());let W=0;for(let J=0;J<O.length;J++)W+=O[J].offsetWidth;r=Math.abs(U-C)-5,i=W>0?.75*W+10:0}for(let v=0;v<l.length;v++)l[v].style.width=`${r}px`;for(let v=0;v<p.length;v++)p[v].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(cl),ye(dr),ye(Xc,8),ye(GK,8),ye(lo),ye(zn),ye(eh,8))},n.\u0275cmp=_r({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(Ns(i,C0,5),Ns(i,C0,7),Ns(i,oT,5),Ns(i,oT,7),Ns(i,HK,5),Ns(i,iN,5),Ns(i,oN,5),Ns(i,sN,5),Ns(i,aN,5)),2&e){let s;Ti(s=Di())&&(r._controlNonStatic=s.first),Ti(s=Di())&&(r._controlStatic=s.first),Ti(s=Di())&&(r._labelChildNonStatic=s.first),Ti(s=Di())&&(r._labelChildStatic=s.first),Ti(s=Di())&&(r._placeholderChild=s.first),Ti(s=Di())&&(r._errorChildren=s),Ti(s=Di())&&(r._hintChildren=s),Ti(s=Di())&&(r._prefixChildren=s),Ti(s=Di())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(vu(EK,5),vu(CK,7),vu(SK,5),vu(IK,5)),2&e){let i;Ti(i=Di())&&(r.underlineRef=i.first),Ti(i=Di())&&(r._connectionContainerRef=i.first),Ti(i=Di())&&(r._inputContainerRef=i.first),Ti(i=Di())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&Xi("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Vr([{provide:sT,useExisting:n}]),fr],ngContentSelectors:VK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(Ka(LK),ut(0,"div",0),ut(1,"div",1,2),Lr("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),gi(3,TK,9,0,"ng-container",3),gi(4,DK,2,0,"div",4),ut(5,"div",5,6),ji(7),ut(8,"span",7),gi(9,xK,5,16,"label",8),lt(),lt(),gi(10,RK,2,0,"div",9),lt(),gi(11,kK,3,4,"div",10),ut(12,"div",11),gi(13,PK,2,1,"div",12),gi(14,FK,5,2,"div",13),lt(),lt()),2&e&&(In(3),Rn("ngIf","outline"==r.appearance),In(1),Rn("ngIf",r._prefixChildren.length),In(5),Rn("ngIf",r._hasFloatingLabel()),In(1),Rn("ngIf",r._suffixChildren.length),In(1),Rn("ngIf","outline"!=r.appearance),In(1),Rn("ngSwitch",r._getDisplayedMessages()),In(1),Rn("ngSwitchCase","error"),In(1),Rn("ngSwitchCase","hint"))},directives:[jf,sv,FC,VR],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[BK.transitionMessages]},changeDetection:0}),n})(),S0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Kg,Ji,kS],Ji]}),n})();const cN=Sv({passive:!0});let hN=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zd;const r=Gh(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new F,l="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===v.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,cN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",p,cN)}}),s}stopMonitoring(e){const r=Gh(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(Me(lo),Me(zn))},n.\u0275prov=at({factory:function(){return new n(Me(lo),Me(zn))},token:n,providedIn:"root"}),n})(),fN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ev]]}),n})();const KK=new Xt("MAT_INPUT_VALUE_ACCESSOR"),YK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let QK=0;const XK=ak(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let JK=(()=>{class n extends XK{constructor(e,r,i,s,l,p,v,C,O,U){super(p,s,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=C,this._formField=U,this._uid="mat-input-"+QK++,this.focused=!1,this.stateChanges=new F,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(he=>dR().has(he));const W=this._elementRef.nativeElement,J=W.nodeName.toLowerCase();this._inputValueAccessor=v||W,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&O.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",he=>{const Oe=he.target;!Oe.value&&0===Oe.selectionStart&&0===Oe.selectionEnd&&(Oe.setSelectionRange(1,1),Oe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===J,this._isTextarea="textarea"===J,this._isInFormField=!!U,this._isNativeSelect&&(this.controlType=W.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=xi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=xi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=xi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const i=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){YK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(lo),ye(nh,10),ye(Vv,8),ye(mm,8),ye(gI),ye(KK,10),ye(hN),ye(zn),ye(sT,8))},n.\u0275dir=Dt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&Lr("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(Lf("disabled",r.disabled)("required",r.required),pi("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Xi("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Vr([{provide:C0,useExisting:n}]),fr,Hr]}),n})(),ZK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[gI],imports:[[fN,S0,Ji],fN,S0]}),n})();const dN=["mat-button",""],pN=["*"],t7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],n7=Zw(cm(e0(class{constructor(n){this._elementRef=n}})));let mN=(()=>{class n extends n7{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of t7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(ye(dr),ye(up),ye(eh,8))},n.\u0275cmp=_r({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&vu(pp,5),2&e){let i;Ti(i=Di())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(pi("disabled",r.disabled||null),Xi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fr],attrs:dN,ngContentSelectors:pN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Ka(),ut(0,"span",0),ji(1),lt(),Yn(2,"span",1),Yn(3,"span",2)),2&e&&(In(2),Xi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Rn("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[pp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[n0,Ji],Ji]}),n})();function i7(n,t){if(1&n){const e=Fh();ut(0,"div",2),ut(1,"header"),ut(2,"h2"),br(3,"SignUp"),lt(),Yn(4,"hr"),lt(),ut(5,"form",3),ut(6,"mat-form-field",4),ut(7,"mat-label"),br(8,"Name"),lt(),Yn(9,"input",5),lt(),ut(10,"mat-form-field",4),ut(11,"mat-label"),br(12,"Email"),lt(),Yn(13,"input",6),lt(),ut(14,"mat-form-field",4),ut(15,"mat-label"),br(16,"Phone number"),lt(),Yn(17,"input",7),lt(),ut(18,"mat-form-field",4),ut(19,"mat-label"),br(20,"Password"),lt(),Yn(21,"input",8),lt(),ut(22,"div",9),ut(23,"button",10),br(24,"Cancel"),lt(),ut(25,"button",11),Lr("click",function(){x(e);const i=si();return i.signup(null==i.signupForm?null:i.signupForm.value)}),br(26,"Signup"),lt(),lt(),lt(),ut(27,"div",12),br(28," You an have account "),ut(29,"span",13),Lr("click",function(){return x(e),si().dontHaveAccount()}),br(30,"Login here"),lt(),lt(),lt()}if(2&n){const e=si();In(5),Rn("formGroup",e.signupForm),In(20),Rn("disabled",!(null!=e.signupForm&&e.signupForm.valid))}}function o7(n,t){if(1&n){const e=Fh();ut(0,"div",2),ut(1,"header"),ut(2,"h2"),br(3,"Login"),lt(),lt(),ut(4,"form",3),ut(5,"mat-form-field",4),ut(6,"mat-label"),br(7,"Email"),lt(),Yn(8,"input",6),lt(),ut(9,"mat-form-field",4),ut(10,"mat-label"),br(11,"Password"),lt(),Yn(12,"input",8),lt(),ut(13,"div",9),ut(14,"button",10),br(15,"Cancel"),lt(),ut(16,"button",11),Lr("click",function(){x(e);const i=si();return i.login(null==i.loginForm?null:i.loginForm.value)}),br(17,"Login"),lt(),lt(),lt(),ut(18,"div",12),br(19," You don't have an account "),ut(20,"span",13),Lr("click",function(){return x(e),si().dontHaveAccount()}),br(21,"Signup here"),lt(),lt(),lt()}if(2&n){const e=si();In(4),Rn("formGroup",e.loginForm),In(12),Rn("disabled",!(null!=e.loginForm&&e.loginForm.valid))}}const s7=[{path:"",component:wK},{path:"login",component:(()=>{class n{constructor(e,r,i,s){this.formBuilder=e,this.authService=r,this.service=i,this.router=s,this.signupForm=new bp({}),this.loginForm=new bp({}),this.isLogin=!1,this.haveAnAccount=!0,null==localStorage.getItem("auth_token")?this.isLogin=!1:(this.isLogin=!0,this.router.navigate(["/"]))}ngOnInit(){this.createSignupForm(),this.createLoginForm()}dontHaveAccount(){this.haveAnAccount=!this.haveAnAccount}createSignupForm(){this.signupForm=this.formBuilder.group({name:["",[ju.required,ju.minLength(5)]],email:["",[ju.required,ju.email]],phone:["",[ju.required,ju.minLength(10),ju.maxLength(10)]],password:["",[ju.required,ju.minLength(8)]]})}signup(e){console.log(e),this.authService.signup(e.email,e.password,e.phone,e.name).then(r=>{console.log(r);let i={name:null==e?void 0:e.name,email:null==e?void 0:e.email,phone:e.phone,photoURL:"https://i.pravatar.cc/300",interests:"",bio:"",id:null==r?void 0:r.uid,online:!0,createdAt:new Date,updatedAt:new Date};this.service.createUser(i,null==r?void 0:r.uid).then(s=>{this.router.navigate(["/"])}).catch(s=>{console.log(s)})}).catch(r=>{console.log(r)})}createLoginForm(){this.loginForm=this.formBuilder.group({email:["",[ju.required,ju.email]],password:["",[ju.required,ju.minLength(8)]]})}login(e){console.log(e),this.authService.login(null==e?void 0:e.email,null==e?void 0:e.password).then(r=>{this.isLogin=!0,this.router.navigate(["/"])}).catch(r=>{console.log(r)})}ngOnDestroy(){console.log("ondestroy")}}return n.\u0275fac=function(e){return new(e||n)(ye(j5),ye(xv),ye(dm),ye(ys))},n.\u0275cmp=_r({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"loginComponent"],["class","login",4,"ngIf"],[1,"login"],["action","",3,"formGroup"],[1,"formInput"],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","email","formControlName","email","required",""],["type","text","matInput","","formControlName","phone","required",""],["matInput","","type","password","formControlName","password","required",""],[1,"submit_button"],["mat-raised-button","","color","warn"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"dontHaveAccount"],[2,"color","blue","cursor","pointer",3,"click"]],template:function(e,r){1&e&&(ut(0,"div",0),gi(1,i7,31,2,"div",1),gi(2,o7,22,2,"div",1),lt()),2&e&&(In(1),Rn("ngIf",!r.haveAnAccount),In(1),Rn("ngIf",r.haveAnAccount))},directives:[jf,OP,wP,mm,WK,oT,JK,yp,kv,JI,w0,mN],styles:[".loginComponent[_ngcontent-%COMP%]{height:100%;width:100%;background:#EFEAE2;justify-content:center;display:flex;flex-wrap:wrap;align-content:center;background-image:url(https://cdn.wallpapersafari.com/68/67/U1SFl7.jpg);background-repeat:no-repeat;background-size:cover}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{height:max-content;width:320px;background:#ffffff;padding:30px;border-radius:2px;box-shadow:2px 2px 20px #00000067}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:bolder;text-transform:capitalize}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .formInput[_ngcontent-%COMP%]{width:100%}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .submit_button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .submit_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .dontHaveAccount[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.loginComponent[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .dontHaveAccount[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()},{path:"**",redirectTo:""}];let a7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[tR.forRoot(s7)],tR]}),n})(),u7=(()=>{class n{constructor(e,r){this.authService=e,this.router=r,this.title="whatsapp"}}return n.\u0275fac=function(e){return new(e||n)(ye(xv),ye(ys))},n.\u0275cmp=_r({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"background"],[1,"background1"],[1,"whatsappBox"]],template:function(e,r){1&e&&(ut(0,"div",0),Yn(1,"div",1),Yn(2,"div",1),ut(3,"div",2),Yn(4,"router-outlet"),lt(),lt())},directives:[mS],styles:[".background[_ngcontent-%COMP%]{height:100vh;width:100vw;background:#E1E0DD;position:relative}.background[_ngcontent-%COMP%]   .background1[_ngcontent-%COMP%]{height:10vh;background:#00A884}.whatsappBox[_ngcontent-%COMP%]{height:94vh;width:96vw;top:3%;left:2%;position:absolute}@media only screen and (max-width: 1200px){.whatsappBox[_ngcontent-%COMP%]{height:100vh;width:100vw;top:0%;left:0%}}"]}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[PW,Ji],Ji]}),n})(),v7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[Ji],Ji]}),n})(),yN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({}),n})(),O7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[[n0,Ji,kS,yN],Ji,yN]}),n})();const q7={provide:new Xt("mat-select-scroll-strategy"),deps:[Wh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let K7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[q7],imports:[[Kg,xS,pk,Ji],Cw,S0,pk,Ji]}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({imports:[Kg,r7,ZK,v7,Z8,Y6,h7,uK,K7,U5,S0,KP,O7,H5]}),n})();const IN_firebaseConfig={apiKey:"AIzaSyA0q9bok4lV8Dec99-SjfadLUtkwfEAUr4",authDomain:"chatting-app4.firebaseapp.com",projectId:"chatting-app4",storageBucket:"chatting-app4.appspot.com",messagingSenderId:"1075811704236",appId:"1:1075811704236:web:f25cfa25e475135a2aee09",measurementId:"G-V9W1DQD79Z"};var TN;let vm=TN=class{static enablePersistence(t){return{ngModule:TN,providers:[{provide:Tk,useValue:!0},{provide:Dk,useValue:t}]}}};vm.\u0275fac=function(t){return new(t||vm)},vm.\u0275mod=Ln({type:vm}),vm.\u0275inj=vt({providers:[DI]});let Q7=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n}),n.\u0275inj=vt({providers:[II]}),n})(),X7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ln({type:n,bootstrap:[u7]}),n.\u0275inj=vt({providers:[],imports:[[$C,a7,a8,Y7,Qf.initializeApp(IN_firebaseConfig),vm,Q7]]}),n})();(function(){if(LM)throw new Error("Cannot enable prod mode after platform setup.");FM=!1})(),UH().bootstrapModule(X7).catch(n=>console.error(n))},796:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},385:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},209:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},812:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},483:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},9:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},698:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}},57:(li,bt,Ct)=>{"use strict";Ct.r(bt),Ct.d(bt,{__extends:()=>Z,__assign:()=>re,__rest:()=>Nt,__decorate:()=>rt,__param:()=>Tn,__metadata:()=>Lt,__awaiter:()=>Cn,__generator:()=>be,__createBinding:()=>Y,__exportStar:()=>et,__values:()=>it,__read:()=>Ne,__spread:()=>ft,__spreadArrays:()=>bn,__await:()=>Pt,__asyncGenerator:()=>Le,__asyncDelegator:()=>dt,__asyncValues:()=>Je,__makeTemplateObject:()=>Bt,__importStar:()=>Ft,__importDefault:()=>ot,__classPrivateFieldGet:()=>Qe,__classPrivateFieldSet:()=>pt});var te=function(A,M){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var H in F)F.hasOwnProperty(H)&&(I[H]=F[H])})(A,M)};function Z(A,M){function I(){this.constructor=A}te(A,M),A.prototype=null===M?Object.create(M):(I.prototype=M.prototype,new I)}var re=function(){return(re=Object.assign||function(M){for(var I,F=1,H=arguments.length;F<H;F++)for(var R in I=arguments[F])Object.prototype.hasOwnProperty.call(I,R)&&(M[R]=I[R]);return M}).apply(this,arguments)};function Nt(A,M){var I={};for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.indexOf(F)<0&&(I[F]=A[F]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(F=Object.getOwnPropertySymbols(A);H<F.length;H++)M.indexOf(F[H])<0&&Object.prototype.propertyIsEnumerable.call(A,F[H])&&(I[F[H]]=A[F[H]])}return I}function rt(A,M,I,F){var K,H=arguments.length,R=H<3?M:null===F?F=Object.getOwnPropertyDescriptor(M,I):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(A,M,I,F);else for(var le=A.length-1;le>=0;le--)(K=A[le])&&(R=(H<3?K(R):H>3?K(M,I,R):K(M,I))||R);return H>3&&R&&Object.defineProperty(M,I,R),R}function Tn(A,M){return function(I,F){M(I,F,A)}}function Lt(A,M){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(A,M)}function Cn(A,M,I,F){return new(I||(I=Promise))(function(R,K){function le(Ve){try{se(F.next(Ve))}catch(It){K(It)}}function Tt(Ve){try{se(F.throw(Ve))}catch(It){K(It)}}function se(Ve){Ve.done?R(Ve.value):function(R){return R instanceof I?R:new I(function(K){K(R)})}(Ve.value).then(le,Tt)}se((F=F.apply(A,M||[])).next())})}function be(A,M){var F,H,R,K,I={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(se){return function(Ve){return function(se){if(F)throw new TypeError("Generator is already executing.");for(;I;)try{if(F=1,H&&(R=2&se[0]?H.return:se[0]?H.throw||((R=H.return)&&R.call(H),0):H.next)&&!(R=R.call(H,se[1])).done)return R;switch(H=0,R&&(se=[2&se[0],R.value]),se[0]){case 0:case 1:R=se;break;case 4:return I.label++,{value:se[1],done:!1};case 5:I.label++,H=se[1],se=[0];continue;case 7:se=I.ops.pop(),I.trys.pop();continue;default:if(!(R=(R=I.trys).length>0&&R[R.length-1])&&(6===se[0]||2===se[0])){I=0;continue}if(3===se[0]&&(!R||se[1]>R[0]&&se[1]<R[3])){I.label=se[1];break}if(6===se[0]&&I.label<R[1]){I.label=R[1],R=se;break}if(R&&I.label<R[2]){I.label=R[2],I.ops.push(se);break}R[2]&&I.ops.pop(),I.trys.pop();continue}se=M.call(A,I)}catch(Ve){se=[6,Ve],H=0}finally{F=R=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,Ve])}}}function Y(A,M,I,F){void 0===F&&(F=I),A[F]=M[I]}function et(A,M){for(var I in A)"default"!==I&&!M.hasOwnProperty(I)&&(M[I]=A[I])}function it(A){var M="function"==typeof Symbol&&Symbol.iterator,I=M&&A[M],F=0;if(I)return I.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&F>=A.length&&(A=void 0),{value:A&&A[F++],done:!A}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(A,M){var I="function"==typeof Symbol&&A[Symbol.iterator];if(!I)return A;var H,K,F=I.call(A),R=[];try{for(;(void 0===M||M-- >0)&&!(H=F.next()).done;)R.push(H.value)}catch(le){K={error:le}}finally{try{H&&!H.done&&(I=F.return)&&I.call(F)}finally{if(K)throw K.error}}return R}function ft(){for(var A=[],M=0;M<arguments.length;M++)A=A.concat(Ne(arguments[M]));return A}function bn(){for(var A=0,M=0,I=arguments.length;M<I;M++)A+=arguments[M].length;var F=Array(A),H=0;for(M=0;M<I;M++)for(var R=arguments[M],K=0,le=R.length;K<le;K++,H++)F[H]=R[K];return F}function Pt(A){return this instanceof Pt?(this.v=A,this):new Pt(A)}function Le(A,M,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,F=I.apply(A,M||[]),R=[];return H={},K("next"),K("throw"),K("return"),H[Symbol.asyncIterator]=function(){return this},H;function K(xe){F[xe]&&(H[xe]=function(Pe){return new Promise(function(Ge,wt){R.push([xe,Pe,Ge,wt])>1||le(xe,Pe)})})}function le(xe,Pe){try{!function(xe){xe.value instanceof Pt?Promise.resolve(xe.value.v).then(se,Ve):It(R[0][2],xe)}(F[xe](Pe))}catch(Ge){It(R[0][3],Ge)}}function se(xe){le("next",xe)}function Ve(xe){le("throw",xe)}function It(xe,Pe){xe(Pe),R.shift(),R.length&&le(R[0][0],R[0][1])}}function dt(A){var M,I;return M={},F("next"),F("throw",function(H){throw H}),F("return"),M[Symbol.iterator]=function(){return this},M;function F(H,R){M[H]=A[H]?function(K){return(I=!I)?{value:Pt(A[H](K)),done:"return"===H}:R?R(K):K}:R}}function Je(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I,M=A[Symbol.asyncIterator];return M?M.call(A):(A=it(A),I={},F("next"),F("throw"),F("return"),I[Symbol.asyncIterator]=function(){return this},I);function F(R){I[R]=A[R]&&function(K){return new Promise(function(le,Tt){!function(R,K,le,Tt){Promise.resolve(Tt).then(function(se){R({value:se,done:le})},K)}(le,Tt,(K=A[R](K)).done,K.value)})}}}function Bt(A,M){return Object.defineProperty?Object.defineProperty(A,"raw",{value:M}):A.raw=M,A}function Ft(A){if(A&&A.__esModule)return A;var M={};if(null!=A)for(var I in A)Object.hasOwnProperty.call(A,I)&&(M[I]=A[I]);return M.default=A,M}function ot(A){return A&&A.__esModule?A:{default:A}}function Qe(A,M){if(!M.has(A))throw new TypeError("attempted to get private field on non-instance");return M.get(A)}function pt(A,M,I){if(!M.has(A))throw new TypeError("attempted to set private field on non-instance");return M.set(A,I),I}}},li=>{li(li.s=621)}]);